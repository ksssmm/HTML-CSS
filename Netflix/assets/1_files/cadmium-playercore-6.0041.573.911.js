R7xOY[639148]=(function(){var a7v=2;for(;a7v !== 9;){switch(a7v){case 1:return globalThis;break;case 2:a7v=typeof globalThis === '\u006f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 5:var C$3;try{var S73=2;for(;S73 !== 6;){switch(S73){case 2:Object['\u0064\u0065\x66\u0069\u006e\u0065\x50\x72\u006f\x70\u0065\u0072\u0074\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\x79\x70\x65'],'\x52\u0055\u0046\u0057\u0035',{'\x67\x65\x74':function(){var c_G=2;for(;c_G !== 1;){switch(c_G){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});C$3=RUFW5;C$3['\x69\x4a\x24\x61\x56']=C$3;S73=4;break;case 4:S73=typeof iJ$aV === '\u0075\x6e\u0064\x65\x66\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";S73=9;break;case 9:delete C$3['\x69\x4a\x24\x61\x56'];var g9_=Object['\x70\x72\x6f\u0074\x6f\u0074\x79\u0070\u0065'];delete g9_['\u0052\x55\u0046\x57\x35'];S73=6;break;}}}catch(N24){C$3=window;}return C$3;break;}}})();function R7xOY(){}R7xOY[1649]=(function(Y3N){return {L$q3dyn:function(){var l21,V5J=arguments;switch(Y3N){case 23:l21=V5J[1] / V5J[2] | V5J[0];break;case 14:l21=V5J[1] - V5J[2] + V5J[0];break;case 8:l21=(V5J[0] + V5J[2]) * V5J[1] - V5J[3];break;case 22:l21=V5J[3] + V5J[2] / V5J[1] * V5J[0];break;case 16:l21=-V5J[0] + V5J[2] + V5J[1];break;case 25:l21=V5J[3] + V5J[1] - V5J[0] + V5J[2] - V5J[4];break;case 10:l21=V5J[0] === V5J[1];break;case 13:l21=-V5J[1] - V5J[2] + V5J[0];break;case 12:l21=V5J[2] * V5J[3] * V5J[1] - V5J[0];break;case 4:l21=V5J[0] * V5J[1] / V5J[2];break;case 20:l21=(V5J[4] / V5J[3] - V5J[0]) * V5J[2] + V5J[1];break;case 2:l21=V5J[1] + V5J[2] + V5J[0];break;case 11:l21=(V5J[1] - V5J[0]) * V5J[2];break;case 19:l21=(V5J[3] - V5J[1]) * V5J[0] + V5J[2];break;case 7:l21=V5J[2] - V5J[1] - V5J[0] + V5J[3] - V5J[4];break;case 9:l21=V5J[0] == V5J[1];break;case 5:l21=V5J[0] - V5J[1];break;case 24:l21=(V5J[1] / V5J[0] | V5J[2]) * V5J[3];break;case 1:l21=V5J[1] + V5J[0] + V5J[3] + V5J[2] + V5J[4];break;case 0:l21=V5J[1] + V5J[0];break;case 17:l21=V5J[1] < V5J[0];break;case 6:l21=(V5J[2] + V5J[0] + V5J[4]) * V5J[3] - V5J[1];break;case 18:l21=(V5J[3] - V5J[4]) / V5J[2] + V5J[0] + V5J[1];break;case 26:l21=V5J[0] * V5J[2] / V5J[1] - V5J[3];break;case 21:l21=V5J[3] - V5J[2] - V5J[1] + V5J[0];break;case 3:l21=V5J[0] / V5J[1];break;case 15:l21=V5J[0] * V5J[1];break;}return l21;},j0d3p1f:function(E2y){Y3N=E2y;}};})();R7xOY[354392]=false;R7xOY.C8s=function(){return typeof R7xOY[1649].j0d3p1f === 'function'?R7xOY[1649].j0d3p1f.apply(R7xOY[1649],arguments):R7xOY[1649].j0d3p1f;};R7xOY[203077]=false;R7xOY[639148].h0kk=R7xOY;R7xOY[311651]="tFp";R7xOY[119375]=false;R7xOY[443633]="GfJ";R7xOY[11434]=false;R7xOY.m_t=function(){return typeof R7xOY[1649].j0d3p1f === 'function'?R7xOY[1649].j0d3p1f.apply(R7xOY[1649],arguments):R7xOY[1649].j0d3p1f;};R7xOY.N0G=function(){return typeof R7xOY[1649].L$q3dyn === 'function'?R7xOY[1649].L$q3dyn.apply(R7xOY[1649],arguments):R7xOY[1649].L$q3dyn;};R7xOY.A_X=function(){return typeof R7xOY[1649].L$q3dyn === 'function'?R7xOY[1649].L$q3dyn.apply(R7xOY[1649],arguments):R7xOY[1649].L$q3dyn;};R7xOY[396576]=798;R7xOY[102330]=806;(function(){(function(qb,Eb){var qc,Bc,Vb,kd,Jb,Mb,ac,ke,le,Tb,Sb,Kc,me,ld,ne,oe,Ed,Ga,Gb,Zc,pe,Fd,fb,xb,Hb,rc,jc,Yb,yb,bc,Ub,ad,Nb,Cc,Rb,dc,md,sc,oc,pc,nd,Gd,qe,Dc,Ec,Mc,Hd,bd,tc,od,Jc,Id,re,Sc,Jd,Kd,Ld,Md,uc,Nd,Od,Pd,Uc,vc,wc,Vc,pd,qd,rd,lc,rf,Wb,Lc,se,sd,xc,te,sf,yc,ue,tf,td,ve,uf,Yc,we,qf,vf,Qd,ud,wf,xf,he,yf,ie,xe,kc,cd,ye,dd,ze,mc,Ae,Be,Ce,De,Af,je,Ee,Dd,Fe,zf,Ge,Rd,He,Ie,Je,Sd,Ic,Le,Ke,Bf,fd,Me,Ud,gd,Ne,Td,Oe,Pe,Vd,Re,Se,yd,Nc,Wc,Oc,Te,Ue,Ve,We,Xe,Ye,zd,Cf,Ze,$e,Xd,af,ic,ed,Tc,vd,Fc,zc,wd,Gc,$c,Qe,bf,hd,cf,Df,id,df,Ef,Ff,ef,Wd,xd,ff,Hf,Gf,Xc,jd,If,ge,Jf,Kf;function ec(hb,gb){if(!gb || "utf-8" === gb)return Ad(hb);throw Error("unsupported encoding");}function fc(hb,gb){if(!gb || "utf-8" === gb)return Bd(hb);throw Error("unsupported encoding");}function Ad(hb){for(var gb=0,eb,ab=hb.length,lb="";gb < ab;){eb=hb[gb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (hb[gb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((hb[gb++] & 63) << 6) + (hb[gb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(eb);}return lb;}function Bd(hb){var gb,eb,ab,lb,wb;gb=hb.length;eb=0;lb=0;for(ab=gb;ab--;){wb=hb.charCodeAt(ab);128 > wb?eb++:eb=2048 > wb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for(ab=0;ab < gb;ab++){wb=hb.charCodeAt(ab);128 > wb?eb[lb++]=wb:(2048 > wb?eb[lb++]=192 | wb >>> 6:(eb[lb++]=224 | wb >>> 12,eb[lb++]=128 | wb >>> 6 & 63),eb[lb++]=128 | wb & 63);}return eb;}function gc(hb,gb){if(hb === gb)return !0;if(!hb || !gb || hb.length != gb.length)return !1;for(var eb=0;eb < hb.length;++eb){if(hb[eb] != gb[eb])return !1;}return !0;}function hc(hb){var ab;if(!(hb && hb.constructor == Uint8Array || Array.isArray(hb)))throw new TypeError("Cannot compute the hash code of " + hb);for(var gb=1,eb=0;eb < hb.length;++eb){ab=hb[eb];if("number" !== typeof ab)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + ab);gb=31 * gb + ab & 4294967295;}return gb;}function be(hb,gb){var jb;if(hb === gb)return !0;if(!hb || !gb)return !1;gb instanceof Array || (gb=[gb]);for(var eb=0;eb < gb.length;++eb){for(var ab=gb[eb],lb=!1,wb=0;wb < hb.length;++wb){jb=hb[wb];if(ab.equals && "function" === typeof ab.equals && ab.equals(jb) || ab == jb){lb=!0;break;}}if(!lb)return !1;}return !0;}function ce(hb,gb){return be(hb,gb) && (hb.length == gb.length || be(gb,hb));}function Na(hb,gb,eb){var ab,lb;eb && (ab=eb);if("object" !== typeof hb || "function" !== typeof hb.result || "function" !== typeof hb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=gb.call(ab,hb);lb !== Eb && hb.result(lb);}catch(wb){try{hb.error(wb);}catch(jb){}}}function cb(hb,gb,eb){if("object" !== typeof hb || "function" !== typeof hb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Na(hb,gb,eb);}function S(hb,gb,eb){1E5 > hb && (hb=1E5 + hb);Object.defineProperties(this,{internalCode:{value:hb,writable:!1,configurable:!1},responseCode:{value:gb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Cd(hb){switch(hb){case Wb.PSK:case Wb.MGK:return !0;default:return !1;}}function de(hb){switch(hb){case Wb.PSK:case Wb.MGK:case Wb.X509:case Wb.RSA:case Wb.NPTICKET:case Wb.ECC:return !0;default:return !1;}}function mf(hb){return hb.toJSON();}function ee(hb,gb){jd?gb.result(jd):Promise.resolve().then(function(){return Rb.getKeyByName(hb);}).catch(function(){return Rb.generateKey({name:hb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){jd=eb;gb.result(jd);}).catch(function(eb){gb.error(new fb(S.INTERNAL_EXCEPTION,"Unable to get system key"));});}function fe(hb,gb){var eb,ab;eb=gb.masterToken;ab=gb.userIdToken;gb=gb.serviceTokens;return {NccpMethod:hb.method,UserId:hb.userId,UT:ab && ab.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:gb && gb.length};}function nf(hb){return hb.uniqueKey();}function of(hb,gb,eb,ab,lb){var Pa;function wb(va,na){va.errorCode === Ga.ENTITY_REAUTH || va.errorCode === Ga.ENTITYDATA_REAUTH?(ab.clearCryptoContexts(),La()):va.errorCode !== Ga.USER_REAUTH && va.errorCode !== Ga.USERDATA_REAUTH || jb(na);}function jb(va){if(va=ab.getUserIdToken(va))(ab.removeUserIdToken(va),La());}function Aa(va,na,da){var X;X=[];(function U(){va.read(-1,na,{result:function(ba){Na(da,function(){var V,fa,wa,ua,ka;if(ba)(X.push(ba),U());else switch(X.length){case 0:return new Uint8Array(0);case 1:return X[0];default:(wa=X.length,ua=0);for(fa=V=0;fa < wa;fa++){V+=X[fa].length;}V=new Uint8Array(V);for(fa=0;fa < wa;fa++){ka=X[fa];V.set(ka,ua);ua+=ka.length;}return V;}});},timeout:function(){da.timeout();},error:function(ba){da.error(ba);}});})();}function La(){ab.getStoreState({result:function(va){for(var na=Pa.slice(),da=0;da < na.length;da++){na[da]({storeState:va});}},timeout:function(){hb.error("Timeout getting store state","" + e);},error:function(va){hb.error("Error getting store state","" + va);}});}Pa=[];this.addEventHandler=function(va,na){switch(va){case "shouldpersist":Pa.push(na);}};this.send=function(va){return new Promise(function(na,da){var X,T,U;X=va.timeout;T=new ge(hb,eb,va,ab.getKeyRequestData());U=new he(va.url);hb.trace("Sending MSL request");gb.request(eb,T,U,X,{result:function(ba){var V;hb.trace("Received MSL response",{Method:va.method});if(ba){va.allowTokenRefresh && La();V=ba.getErrorHeader();V?(wb(V,va.profileGuid || va.userId),da({success:!1,error:V})):Aa(ba,X,{result:function(fa){na({success:!0,body:ec(fa)});},timeout:function(){da({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(fa){da({success:!1,error:fa});}});}else da({success:!1,error:new fb(S.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){da({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(ba){da({success:!1,error:ba});}});});};this.hasUserIdToken=function(va){return !!ab.getUserIdToken(va);};this.getUserIdTokenKeys=function(){return ab.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){ab.clearUserIdTokens();La();};this.isErrorReauth=function(va){return va && va.errorCode == Ga.USERDATA_REAUTH;};this.isErrorHeader=function(va){return va instanceof Ic;};this.getErrorCode=function(va){return va && va.errorCode;};this.getStateForMdx=function(va){var na,da;na=ab.getMasterToken();va=ab.getUserIdToken(va);da=ab.getCryptoContext(na);return {masterToken:na,userIdToken:va,cryptoContext:da};};this.buildPlayDataRequest=function(va,na){var da;da=new ie();gb.request(eb,new ge(hb,eb,va),da,va.timeout,{result:function(){na.result(da.getRequest());},error:function(){na.result(da.getRequest());},timeout:function(){na.timeout();}});};this.rekeyUserIdToken=function(va,na){ab.rekeyUserIdToken(va,na);La();};this.getServiceTokens=function(va){var na;na=ab.getMasterToken();(va=ab.getUserIdToken(va)) && !va.isBoundTo(na) && (va=Eb);return ab.getServiceTokens(na,va);};this.removeServiceToken=function(va){var na;na=ab.getMasterToken();ab.getServiceTokens(na).find(function(da){return da.name === va;}) && (ab.removeServiceTokens(va,na),La());};}function pf(hb,gb,eb){var wb;function ab(){return Promise.resolve().then(function(){return Rb.generateKey(gb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return lb(jb.publicKey,jb.privateKey);});}function lb(jb,Aa){return Promise.all([new Promise(function(La,Pa){Jc(jb,{result:La,error:function(va){Pa(new fb(S.INTERNAL_EXCEPTION,"Unable to create keyx public key",va));}});}),new Promise(function(La,Pa){Sc(Aa,{result:La,error:function(va){Pa(new fb(S.INTERNAL_EXCEPTION,"Unable to create keyx private key",va));}});})]).then(function(La){La=new Dd("rsaKeypairId",eb,La[0],La[1]);wb && (La.storeData={keyxPublicKey:jb,keyxPrivateKey:Aa});return La;});}wb=!hb.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Aa;jb=hb.storeState;Aa=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return wb && Aa && jb?lb(Aa,jb):ab();}).then(function(jb){var Aa,La,Pa;Aa={};Aa[Wb.NONE]=new qf();La=new Yc(hb.esn);Pa=[new je()];return {entityAuthFactories:Aa,entityAuthData:La,keyExchangeFactories:Pa,keyRequestData:jb,createKeyRequestData:wb?ab:Eb};});}Bc=qb.nfCrypto || qb.msCrypto || qb.webkitCrypto || qb.crypto;Vb=Bc && (Bc.webkitSubtle || Bc.subtle);kd=qb.nfCryptokeys || qb.msCryptokeys || qb.webkitCryptokeys || qb.cryptokeys;(function(hb){var gb,eb;gb=(function(){function ab(lb,wb){lb instanceof gb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=wb || 0);}ab.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,wb,jb){var Aa;Aa=new Uint8Array(this.abv.buffer,this.position,jb);lb=new Uint8Array(lb.buffer,wb,jb);Aa.set(lb);this.position+=jb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return ab;})();eb={};(function(){var ba,V,fa,wa,ua,ka,sa,za,la;function ab(aa,ca){var ea;ca.writeByte(aa.tagClass << 6 | aa.constructed << 5 | aa.tag);ea=aa.payloadLen;if(128 > ea)ca.writeByte(ea);else {for(var xa=ea,Ra=0;xa;){++Ra;xa>>=8;}ca.writeByte(128 | Ra);for(xa=0;xa < Ra;++xa){ca.writeByte(ea >> 8 * (Ra - xa - 1) & 255);}}if(aa.child)for((aa.tag == ba.BIT_STRING && ca.writeByte(0),aa=aa._child);aa;){if(!ab(aa,ca))return !1;aa=aa.next;}else switch(aa.tag){case ba.INTEGER:aa.backingStore[aa.dataIdx] >> 7 && ca.writeByte(0);ca.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);break;case ba.BIT_STRING:ca.writeByte(0);ca.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);break;case ba.OCTET_STRING:ca.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);break;case ba.OBJECT_IDENTIFIER:ca.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);}return !0;}function lb(aa){var ca,ea;ca=aa.readByte();ea=ca & 127;if(ea == ca)return ea;if(3 < ea || 0 === ea)return -1;for(var xa=ca=0;xa < ea;++xa){ca=ca << 8 | aa.readByte();}return ca;}function wb(aa,ca,ea){var xa,Ra,Ma,Qa,Ua,pa,ya;xa=aa.backingStore;Ra=new gb(xa,ca);ca+=ea;ea=aa;if(8 < ua++)return Eb;for(;Ra.getPosition() < ca;){Ra.getPosition();Qa=Ra.readByte();if(31 == (Qa & 31)){for(Ma=0;Qa & 128;){Ma<<=8;Ma|=Qa & 127;}Qa=Ma;}Ua=Qa;Ma=Ua & 31;if(0 > Ma || 30 < Ma)return Eb;Qa=lb(Ra);if(0 > Qa || Qa > Ra.getRemaining())return Eb;ea.constructed=Ua & 32;ea.tagClass=(Ua & 192) >> 6;ea.tag=Ma;ea.dataLen=Qa;ea.dataIdx=Ra.getPosition();Ma=Ra;pa=Ua;Ua=Qa;if(pa & 32)Ma=!0;else if(pa < ba.BIT_STRING || pa > ba.OCTET_STRING)Ma=!1;else {ya=new gb(Ma);pa == ba.BIT_STRING && ya.skip(1);ya.readByte() >> 6 & 1?Ma=!1:(pa=lb(ya),Ma=ya.getPosition() - Ma.getPosition() + pa == Ua);}Ma && (Ma=Ra.getPosition(),Ua=Qa,ea.tag == ba.BIT_STRING && (ea.dataIdx++,ea.dataLen--,Ma++,Ua--),ea.child=new V(xa,ea),wb(ea.child,Ma,Ua));ea.tag == ba.INTEGER && (Ma=Ra.getPosition(),0 == Ra.peekByte(Ma) && Ra.peekByte(Ma + 1) >> 7 && (ea.dataIdx++,ea.dataLen--));Ra.skip(Qa);Ra.getPosition() < ca && (ea.next=new V(xa,ea.parent),ea=ea.next);}ua--;return aa;}function jb(aa,ca,ea){if(9 != ea)return !1;for(ea=0;9 > ea;++ea){if(aa[ca++] != ka[ea])return !1;}return !0;}function Aa(aa){var ca;if(!(aa && aa.child && aa.child.next && aa.child.child && aa.child.next.child))return !1;ca=aa.child.child;return jb(ca.backingStore,ca.dataIdx,ca.dataLen) && 2 == aa.nChildren && 2 == aa.child.nChildren && 2 == aa.child.next.child.nChildren?!0:!1;}function La(aa){var ca;if(!(aa && aa.child && aa.child.next && aa.child.next.child && aa.child.next.next && aa.child.next.next.child))return !1;ca=aa.child.next.child;return jb(ca.backingStore,ca.dataIdx,ca.dataLen) && 3 == aa.nChildren && 2 == aa.child.next.nChildren && 9 == aa.child.next.next.child.nChildren?!0:!1;}function Pa(aa){var ca,ea;ca=fa.createSequenceNode();ea=new wa(ca);ea.addChild(fa.createSequenceNode());ea.addChild(fa.createOidNode(ka));ea.addSibling(fa.createNullNode());ea.addToParent(ca,fa.createBitStringNode(null));ea.addChild(fa.createSequenceNode());ea.addChild(fa.createIntegerNode(aa.n));ea.addSibling(fa.createIntegerNode(aa.e));return ca;}function va(aa){var ca;aa=aa.child.next.child.child;ca=aa.data;aa=aa.next;return new sa(ca,aa.data,null,null);}function na(aa){var ca,ea;ca=fa.createSequenceNode();ea=new wa(ca);ea.addChild(fa.createIntegerNode(new Uint8Array([0])));ea.addSibling(fa.createSequenceNode());ea.addChild(fa.createOidNode(ka));ea.addSibling(fa.createNullNode());ea.addToParent(ca,fa.createOctetStringNode(null));ea.addChild(fa.createSequenceNode());ea.addChild(fa.createIntegerNode(new Uint8Array([0])));ea.addSibling(fa.createIntegerNode(aa.n));ea.addSibling(fa.createIntegerNode(aa.e));ea.addSibling(fa.createIntegerNode(aa.d));ea.addSibling(fa.createIntegerNode(aa.p));ea.addSibling(fa.createIntegerNode(aa.q));ea.addSibling(fa.createIntegerNode(aa.dp));ea.addSibling(fa.createIntegerNode(aa.dq));ea.addSibling(fa.createIntegerNode(aa.qi));return ca;}function da(aa){var ca;ca=[];aa=aa.child.next.next.child.child.next;for(var ea=0;8 > ea;ea++){ca.push(aa.data);aa=aa.next;}return new za(ca[0],ca[1],ca[2],ca[3],ca[4],ca[5],ca[6],ca[7]);}function X(aa,ca,ea,xa){if(!(aa instanceof sa || aa instanceof za))return Eb;if(ea)for(var Ra=0;Ra < ea.length;++Ra){if(-1 == la.indexOf(ea[Ra]))return Eb;}ca={kty:"RSA",alg:ca,key_ops:ea || [],ext:xa == Eb?!1:xa,n:Jb(aa.n,!0),e:Jb(aa.e,!0)};aa instanceof za && (ca.d=Jb(aa.d,!0),ca.p=Jb(aa.p,!0),ca.q=Jb(aa.q,!0),ca.dp=Jb(aa.dp,!0),ca.dq=Jb(aa.dq,!0),ca.qi=Jb(aa.qi,!0));return ca;}function T(aa){var ca,ea,xa,Ra,Ma,Qa,Ua,pa,ya,Ea;if(!aa.kty || "RSA" != aa.kty || !aa.n || !aa.e)return Eb;ca=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(aa.alg && -1 == ca.indexOf(aa.alg))return Eb;ca=[];aa.use?"enc" == aa.use?ca=["encrypt","decrypt","wrap","unwrap"]:"sig" == aa.use && (ca=["sign","verify"]):ca=aa.key_ops;ea=aa.ext;xa=Mb(aa.n,!0);Ra=Mb(aa.e,!0);if(aa.d){Ma=Mb(aa.d,!0);Qa=Mb(aa.p,!0);Ua=Mb(aa.q,!0);pa=Mb(aa.dp,!0);ya=Mb(aa.dq,!0);Ea=Mb(aa.qi,!0);return new za(xa,Ra,Ma,Qa,Ua,pa,ya,Ea,aa.alg,ca,ea);}return new sa(xa,Ra,ea,ca);}function U(aa,ca,ea,xa){this.der=aa;this.type=ca;this.keyOps=ea;this.extractable=xa;}ba={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};V=function(aa,ca,ea,xa,Ra,Ma){this._data=aa;this._parent=ca || Eb;this._constructed=ea || !1;this._tagClass=0;this._tag=xa || 0;this._dataIdx=Ra || 0;this._dataLen=Ma || 0;};V.prototype={_child:Eb,_next:Eb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(aa) {this._constructed=0 != aa?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(aa) {this._tagClass=aa;},get tag() {return this._tag;},set tag(aa) {this._tag=aa;},get dataIdx() {return this._dataIdx;},set dataIdx(aa) {this._dataIdx=aa;},get dataLen() {return this._dataLen;},set dataLen(aa) {this._dataLen=aa;},get child() {return this._child;},set child(aa) {this._child=aa;this._child.parent=this;},get next() {return this._next;},set next(aa) {this._next=aa;},get parent() {return this._parent;},set parent(aa) {this._parent=aa;},get payloadLen() {var aa;aa=0;if(this._child){for(var ca=this._child;ca;){aa+=ca.length;ca=ca.next;}this._tag == ba.BIT_STRING && aa++;}else switch(this._tag){case ba.INTEGER:aa=this._dataLen;this._data[this._dataIdx] >> 7 && aa++;break;case ba.BIT_STRING:aa=this._dataLen + 1;break;case ba.OCTET_STRING:aa=this._dataLen;break;case ba.NULL:aa=0;break;case ba.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (aa=9);}return aa;},get length() {var aa,ca;aa=this.payloadLen;if(127 < aa)for(ca=aa;ca;){ca>>=8;++aa;}return aa + 2;},get der() {var aa,ca;aa=this.length;if(!aa)return Eb;aa=new Uint8Array(aa);ca=new gb(aa);return ab(this,ca)?aa:Eb;},get nChildren() {for(var aa=0,ca=this._child;ca;){aa++;ca=ca.next;}return aa;}};fa={createSequenceNode:function(){return new V(null,null,!0,ba.SEQUENCE,null,null);},createOidNode:function(aa){return new V(aa,null,!1,ba.OBJECT_IDENTIFIER,0,aa?aa.length:0);},createNullNode:function(){return new V(null,null,!1,ba.NULL,null,null);},createBitStringNode:function(aa){return new V(aa,null,!1,ba.BIT_STRING,0,aa?aa.length:0);},createIntegerNode:function(aa){return new V(aa,null,!1,ba.INTEGER,0,aa?aa.length:0);},createOctetStringNode:function(aa){return new V(aa,null,!1,ba.OCTET_STRING,0,aa?aa.length:0);}};wa=function(aa){this._currentNode=this._rootNode=aa;};wa.prototype={addChild:function(aa){this.addTo(this._currentNode,aa);},addSibling:function(aa){this.addTo(this._currentNode.parent,aa);},addTo:function(aa,ca){this._currentNode=ca;this._currentNode.parent=aa;if(aa.child){for(aa=aa.child;aa.next;){aa=aa.next;}aa.next=ca;}else aa.child=ca;},addToParent:function(aa,ca){this.findNode(aa) && this.addTo(aa,ca);},findNode:function(aa){for(var ca=this._currentNode;ca;){if(aa == ca)return !0;ca=ca.parent;}return !1;}};ua=0;ka=new Uint8Array([42,134,72,134,247,13,1,1,1]);sa=function(aa,ca,ea,xa){this.n=aa;this.e=ca;this.ext=ea;this.keyOps=xa;};za=function(aa,ca,ea,xa,Ra,Ma,Qa,Ua,pa,ya,Ea){this.n=aa;this.e=ca;this.d=ea;this.p=xa;this.q=Ra;this.dp=Ma;this.dq=Qa;this.qi=Ua;this.alg=pa;this.keyOps=ya;this.ext=Ea;};la=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");U.prototype.getDer=function(){return this.der;};U.prototype.getType=function(){return this.type;};U.prototype.getKeyOps=function(){return this.keyOps;};U.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(aa){ua=0;return wb(new V(aa),0,aa.length);};eb.show=function(aa,ca){};eb.isRsaSpki=Aa;eb.isRsaPkcs8=La;eb.NodeFactory=fa;eb.Builder=wa;eb.tagVal=ba;eb.RsaPublicKey=sa;eb.RsaPrivateKey=za;eb.buildRsaSpki=Pa;eb.parseRsaSpki=function(aa){aa=eb.parse(aa);return Aa?va(aa):Eb;};eb.buildRsaPkcs8=na;eb.parseRsaPkcs8=function(aa){aa=eb.parse(aa);return La(aa)?da(aa):Eb;};eb.buildRsaJwk=X;eb.parseRsaJwk=T;eb.RsaDer=U;eb.rsaDerToJwk=function(aa,ca,ea,xa){aa=eb.parse(aa);if(!aa)return Eb;if(Aa(aa))aa=va(aa);else if(La(aa))aa=da(aa);else return Eb;return X(aa,ca,ea,xa);};eb.jwkToRsaDer=function(aa){var ca,ea;aa=T(aa);if(!aa)return Eb;if(aa instanceof sa){ca="spki";ea=Pa(aa).der;}else if(aa instanceof za)(ca="pkcs8",ea=na(aa).der);else return Eb;return new U(ea,ca,aa.keyOps,aa.ext);};eb.webCryptoAlgorithmToJwkAlg=function(aa){return "RSAES-PKCS1-v1_5" == aa.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == aa.name?"SHA-256" == aa.hash.name?"RS256":"SHA-384" == aa.hash.name?"RS384":"SHA-512" == aa.hash.name?"RS512":Eb:Eb;};eb.webCryptoUsageToJwkKeyOps=function(aa){return aa.map(function(ca){return "wrapKey" == ca?"wrap":"unwrapKey" == ca?"unwrap":ca;});};})();hb.ASN1=eb;})(qb);(function(){for(var hb={},gb={},eb={"=":0,".":0},ab={"=":0,".":0},lb=/\s+/g,wb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Jb=function(Aa,La){for(var Pa="",va=0,na=Aa.length,da=na - 2,X=La?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=La?"":"=";va < da;){La=65536 * Aa[va++] + 256 * Aa[va++] + Aa[va++];Pa+=X[La >>> 18] + X[La >>> 12 & 63] + X[La >>> 6 & 63] + X[La & 63];}va == da?(La=65536 * Aa[va++] + 256 * Aa[va++],Pa+=X[La >>> 18] + X[La >>> 12 & 63] + X[La >>> 6 & 63] + T):va == na - 1 && (La=65536 * Aa[va++],Pa+=X[La >>> 18] + X[La >>> 12 & 63] + T + T);return Pa;};Mb=function(Aa,La){Aa=Aa.replace(lb,"");if(La && (La=Aa.length % 4)){La=4 - La;for(var Pa=0;Pa < La;++Pa){Aa+="=";}}La=Aa.length;if(0 != La % 4 || !wb.test(Aa))throw Error("bad base64: " + Aa);for(var va=La / 4 * 3 - ("=" == Aa[La - 1]?1:0) - ("=" == Aa[La - 2]?1:0),na=new Uint8Array(va),da=0,X=0;da < La;){Pa=hb[Aa[da++]] + gb[Aa[da++]] + eb[Aa[da++]] + ab[Aa[da++]];na[X++]=Pa >>> 16;X < va && (na[X++]=Pa >>> 8 & 255,X < va && (na[X++]=Pa & 255));}return na;};})();ac={};(function(){var wb,jb,Aa,Pa;function hb(va){if(!(this instanceof hb))return new hb(va);for(var na=0,da=jb.length;na < da;na++){this[jb[na]]="";}this.bufferCheckPosition=ac.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=va || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Aa.BEGIN;this.stack=new wb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;gb(this,"onready");}function gb(va,na,da){if(va[na])va[na](da);}function eb(va,na){var da,X;da=va.opt;X=va.textNode;da.trim && (X=X.trim());da.normalize && (X=X.replace(/\s+/g," "));va.textNode=X;va.textNode && gb(va,na?na:"onvalue",va.textNode);va.textNode="";}function ab(va,na){eb(va);na+="\nLine: " + va.line + "\nColumn: " + va.column + "\nChar: " + va.c;na=Error(na);va.error=na;gb(va,"onerror",na);return va;}function lb(va){va.state !== Aa.VALUE && ab(va,"Unexpected end");eb(va);va.c="";va.closed=!0;gb(va,"onend");hb.call(va,va.opt);return va;}wb=Array;ac.parser=function(va){return new hb(va);};ac.CParser=hb;ac.MAX_BUFFER_LENGTH=65536;ac.DEBUG=!1;ac.INFO=!1;ac.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];ac.EVENTS.filter(function(va){return "error" !== va && "end" !== va;});Aa=0;ac.STATE={BEGIN:Aa++,VALUE:Aa++,OPEN_OBJECT:Aa++,CLOSE_OBJECT:Aa++,OPEN_ARRAY:Aa++,CLOSE_ARRAY:Aa++,TEXT_ESCAPE:Aa++,STRING:Aa++,BACKSLASH:Aa++,END:Aa++,OPEN_KEY:Aa++,CLOSE_KEY:Aa++,TRUE:Aa++,TRUE2:Aa++,TRUE3:Aa++,FALSE:Aa++,FALSE2:Aa++,FALSE3:Aa++,FALSE4:Aa++,NULL:Aa++,NULL2:Aa++,NULL3:Aa++,NUMBER_DECIMAL_POINT:Aa++,NUMBER_DIGIT:Aa++};for(var La in ac.STATE){ac.STATE[ac.STATE[La]]=La;}Aa=ac.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(va){return va.__proto__;});Pa=/[\\"\n]/g;hb.prototype={end:function(){lb(this);},write:function(va){var X,T,U;if(this.error)throw this.error;if(this.closed)return ab(this,"Cannot write after close. Assign an onready handler.");if(null === va)return lb(this);for(var na=va[0],da;na;){da=na;this.c=na=va.charAt(this.index++);da !== na?this.p=da:da=this.p;if(!na)break;this.position++;"\n" === na?(this.line++,this.column=0):this.column++;switch(this.state){case Aa.BEGIN:"{" === na?this.state=Aa.OPEN_OBJECT:"[" === na?this.state=Aa.OPEN_ARRAY:"\r" !== na && "\n" !== na && " " !== na && "\t" !== na && ab(this,"Non-whitespace before {[.");continue;case Aa.OPEN_KEY:case Aa.OPEN_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Aa.OPEN_KEY)this.stack.push(Aa.CLOSE_KEY);else if("}" === na){gb(this,"onopenobject");gb(this,"oncloseobject");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_OBJECT);'"' === na?this.state=Aa.STRING:ab(this,'Malformed object key should start with "');continue;case Aa.CLOSE_KEY:case Aa.CLOSE_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;":" === na?(this.state === Aa.CLOSE_OBJECT?(this.stack.push(Aa.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Aa.VALUE):"}" === na?(eb(this),gb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Aa.VALUE):"," === na?(this.state === Aa.CLOSE_OBJECT && this.stack.push(Aa.CLOSE_OBJECT),eb(this),this.state=Aa.OPEN_KEY):ab(this,"Bad object");continue;case Aa.OPEN_ARRAY:case Aa.VALUE:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Aa.OPEN_ARRAY)if((gb(this,"onopenarray"),this.state=Aa.VALUE,"]" === na)){gb(this,"onclosearray");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_ARRAY);'"' === na?this.state=Aa.STRING:"{" === na?this.state=Aa.OPEN_OBJECT:"[" === na?this.state=Aa.OPEN_ARRAY:"t" === na?this.state=Aa.TRUE:"f" === na?this.state=Aa.FALSE:"n" === na?this.state=Aa.NULL:"-" === na?this.numberNode+=na:"0" === na?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(na)?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):ab(this,"Bad value");continue;case Aa.CLOSE_ARRAY:if("," === na)(this.stack.push(Aa.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Aa.VALUE);else if("]" === na)(eb(this),gb(this,"onclosearray",void 0),this.state=this.stack.pop() || Aa.VALUE);else if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;else ab(this,"Bad array");continue;case Aa.STRING:da=this.index - 1;(X=this.slashed,T=this.unicodeI);a:for(;;){if(ac.DEBUG)for(;0 < T;){if((this.unicodeS+=na,na=va.charAt(this.index++),4 === T?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),T=0,da=this.index - 1):T++,!na))break a;}if('"' === na && !X){this.state=this.stack.pop() || Aa.VALUE;(this.textNode+=va.substring(da,this.index - 1)) || gb(this,"onvalue","");break;}if("\\" === na && !X && (X=!0,this.textNode+=va.substring(da,this.index - 1),na=va.charAt(this.index++),!na))break;if(X)if((X=!1,"n" === na?this.textNode+="\n":"r" === na?this.textNode+="\r":"t" === na?this.textNode+="\t":"f" === na?this.textNode+="\f":"b" === na?this.textNode+="\b":"u" === na?(T=1,this.unicodeS=""):this.textNode+=na,na=va.charAt(this.index++),da=this.index - 1,na))continue;else break;Pa.lastIndex=this.index;U=Pa.exec(va);if(null === U){this.index=va.length + 1;this.textNode+=va.substring(da,this.index - 1);break;}this.index=U.index + 1;na=va.charAt(U.index);if(!na){this.textNode+=va.substring(da,this.index - 1);break;}}this.slashed=X;this.unicodeI=T;continue;case Aa.TRUE:if("" === na)continue;"r" === na?this.state=Aa.TRUE2:ab(this,"Invalid true started with t" + na);continue;case Aa.TRUE2:if("" === na)continue;"u" === na?this.state=Aa.TRUE3:ab(this,"Invalid true started with tr" + na);continue;case Aa.TRUE3:if("" === na)continue;"e" === na?(gb(this,"onvalue",!0),this.state=this.stack.pop() || Aa.VALUE):ab(this,"Invalid true started with tru" + na);continue;case Aa.FALSE:if("" === na)continue;"a" === na?this.state=Aa.FALSE2:ab(this,"Invalid false started with f" + na);continue;case Aa.FALSE2:if("" === na)continue;"l" === na?this.state=Aa.FALSE3:ab(this,"Invalid false started with fa" + na);continue;case Aa.FALSE3:if("" === na)continue;"s" === na?this.state=Aa.FALSE4:ab(this,"Invalid false started with fal" + na);continue;case Aa.FALSE4:if("" === na)continue;"e" === na?(gb(this,"onvalue",!1),this.state=this.stack.pop() || Aa.VALUE):ab(this,"Invalid false started with fals" + na);continue;case Aa.NULL:if("" === na)continue;"u" === na?this.state=Aa.NULL2:ab(this,"Invalid null started with n" + na);continue;case Aa.NULL2:if("" === na)continue;"l" === na?this.state=Aa.NULL3:ab(this,"Invalid null started with nu" + na);continue;case Aa.NULL3:if("" === na)continue;"l" === na?(gb(this,"onvalue",null),this.state=this.stack.pop() || Aa.VALUE):ab(this,"Invalid null started with nul" + na);continue;case Aa.NUMBER_DECIMAL_POINT:"." === na?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):ab(this,"Leading zero not followed by .");continue;case Aa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(na)?this.numberNode+=na:"." === na?(-1 !== this.numberNode.indexOf(".") && ab(this,"Invalid number has two dots"),this.numberNode+=na):"e" === na || "E" === na?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || ab(this,"Invalid number has two exponential"),this.numberNode+=na):"+" === na || "-" === na?("e" !== da && "E" !== da && ab(this,"Invalid symbol in number"),this.numberNode+=na):(this.numberNode && gb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Aa.VALUE);continue;default:ab(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){va=Math.max(ac.MAX_BUFFER_LENGTH,10);da=na=0;for(X=jb.length;da < X;da++){T=this[jb[da]].length;if(T > va)switch(jb[da]){case "text":break;default:ab(this,"Max buffer length exceeded: " + jb[da]);}na=Math.max(na,T);}this.bufferCheckPosition=ac.MAX_BUFFER_LENGTH - na + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var ab,lb,wb;function hb(jb,Aa){Aa || (Aa=jb.length);return jb.reduce(function(La,Pa,va){return va < Aa?La + String.fromCharCode(Pa):La;},"");}for(var gb={},eb=0;256 > eb;++eb){ab=hb([eb]);gb[ab]=eb;}lb=Object.keys(gb).length;wb=[];for(eb=0;256 > eb;++eb){wb[eb]=[eb];}ke=function(jb,Aa){var V,fa;function La(wa,ua){var ka;for(;0 < ua;){if(T >= X.length)return !1;if(ua > U){ka=wa;ka>>>=ua - U;X[T]|=ka & 255;ua-=U;U=8;++T;}else ua <= U && (ka=wa,ka<<=U - ua,ka&=255,ka>>>=8 - U,X[T]|=ka & 255,U-=ua,ua=0,0 == U && (U=8,++T));}return !0;}for(var Pa in gb){Aa[Pa]=gb[Pa];}for(var va=lb,na=[],da=8,X=new Uint8Array(jb.length),T=0,U=8,ba=0;ba < jb.length;++ba){V=jb[ba];na.push(V);Pa=hb(na);fa=Aa[Pa];if(!fa){na=hb(na,na.length - 1);if(!La(Aa[na],da))return null;0 != va >> da && ++da;Aa[Pa]=va++;na=[V];}}return 0 < na.length && (Pa=hb(na),fa=Aa[Pa],!La(fa,da))?null:X.subarray(0,8 > U?T + 1:T);};le=function(jb){var ba,V;for(var Aa=wb.slice(),La=0,Pa=0,va=8,na=new Uint8Array(Math.ceil(1.5 * jb.length)),da=0,X,T=[];La < jb.length && !(8 * (jb.length - La) - Pa < va);){for(var U=X=0;U < va;){ba=Math.min(va - U,8 - Pa);V=jb[La];V<<=Pa;V&=255;V>>>=8 - ba;U+=ba;Pa+=ba;8 == Pa && (Pa=0,++La);X|=(V & 255) << va - U;}U=Aa[X];0 == T.length?++va:(U?T.push(U[0]):T.push(T[0]),Aa[Aa.length]=T,T=[],Aa.length == 1 << va && ++va,U || (U=Aa[X]));X=da + U.length;X >= na.length && (ba=new Uint8Array(Math.ceil(1.5 * X)),ba.set(na),na=ba);na.set(U,da);da=X;T=T.concat(U);}return na.subarray(0,da);};})();(function(){var hb,gb,eb;Tb="utf-8";Sb=9007199254740992;hb=Kc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Kc);me=function(ab){for(var lb=[hb.GZIP,hb.LZW],wb=0;wb < lb.length && 0 < ab.length;++wb){for(var jb=lb[wb],Aa=0;Aa < ab.length;++Aa){if(ab[Aa] == jb)return jb;}}return null;};gb=ld={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(ld);ne=function(ab){return gb.AES_CBC_PKCS5Padding == ab?gb.AES_CBC_PKCS5Padding:gb.RSA_ECB_PKCS1Padding == ab?gb.RSA_ECB_PKCS1Padding:gb[ab];};eb=oe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(oe);Ed=function(ab){return eb[ab];};Ga={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ga);})();Gb={isObjectLiteral:function(hb){return null !== hb && "object" === typeof hb && hb.constructor === Object;},extendDeep:function(){var hb,gb,eb,ab,lb,wb,jb,Aa;hb=arguments[0];gb=1;eb=arguments.length;ab=!1;"boolean" === typeof hb && (ab=hb,hb=arguments[1],gb=2);for(;gb < eb;gb++){if(null != (lb=arguments[gb]))for(wb in lb){if(!(ab && (wb in hb))){jb=lb[wb];if(hb !== jb && jb !== Eb){Aa=hb[wb];hb[wb]=null !== Aa && null !== jb && "object" === typeof Aa && "object" === typeof jb?Gb.extendDeep(ab,{},Aa,jb):jb;}}}}return hb;}};(function(){var jb,Aa;function hb(La,Pa){return function(){var va,na;va=La.base;La.base=Pa;na=La.apply(this,arguments);La.base=va;return na;};}function gb(La,Pa,va){var na,da,X,T;va=va || Aa;da=!!va.extendAll;for(na in Pa){X=Pa.__lookupGetter__(na);T=Pa.__lookupSetter__(na);X || T?(X && La.__defineGetter__(na,X),T && La.__defineSetter__(na,T)):(X=Pa[na],T=La[na],"function" === typeof X && "function" === typeof T && X !== T?(X.base !== Function.prototype.base && (X=hb(X,T)),X.base=T):(da || va[na]) && Gb.isObjectLiteral(X) && Gb.isObjectLiteral(T) && (X=Gb.extendDeep({},T,X)),La[na]=X);}}function eb(){var La,Pa;La=Array.prototype.slice;Pa=La.call(arguments,1);return this.extend({init:function na(){var da;da=La.call(arguments,0);na.base.apply(this,Pa.concat(da));}});}function ab(La,Pa){var va;va=new this(jb);gb(va,La,Pa);return wb(va);}function lb(La,Pa){gb(this.prototype,La,Pa);return this;}function wb(La){var Pa;Pa=function(){var va;va=this.init;va && arguments[0] !== jb && va.apply(this,arguments);};La && (Pa.prototype=La);Pa.prototype.constructor=Pa;Pa.extend=ab;Pa.bind=eb;Pa.mixin=lb;return Pa;}jb={};Aa={actions:!0};Function.prototype.base=function(){};Gb.Class={create:wb,mixin:gb,extend:function(La,Pa){var va;va=wb();va.prototype=new La();return va.extend(Pa);}};Gb.mixin=function(){Gb.log && Gb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){var jb,Aa,La;function hb(Pa,va){return function(){var na,da;na=Pa.base;Pa.base=va;da=Pa.apply(this,arguments);Pa.base=na;return da;};}function gb(Pa,va,na){var da,X,T,U;na=na || Aa;X=!!na.extendAll;for(da in va){T=va.__lookupGetter__(da);U=va.__lookupSetter__(da);T || U?(T && Pa.__defineGetter__(da,T),U && Pa.__defineSetter__(da,U)):(T=va[da],U=Pa[da],"function" === typeof T && "function" === typeof U && T !== U?(T.base !== La && (T=hb(T,U)),T.base=U):(X || na[da]) && Gb.isObjectLiteral(T) && Gb.isObjectLiteral(U) && (T=Gb.extendDeep({},U,T)),Pa[da]=T);}}function eb(){var Pa,va;Pa=Array.prototype.slice;va=Pa.call(arguments,1);return this.extend({init:function da(){var X;X=Pa.call(arguments,0);da.base.apply(this,va.concat(X));}});}function ab(Pa,va){var na;na=new this(jb);gb(na,Pa,va);return wb(na);}function lb(Pa,va){gb(this.prototype,Pa,va);return this;}function wb(Pa){var va;va=function(){var na;na=this.init;na && arguments[0] !== jb && na.apply(this,arguments);};Pa && (va.prototype=Pa);va.prototype.constructor=va;va.extend=ab;va.bind=eb;va.mixin=lb;return va;}jb={};Aa={actions:!0};La=function(){};Function.prototype.base=La;Gb.Class={create:wb,mixin:gb,extend:function(Pa,va){var na;na=wb();na.prototype=new Pa();return na.extend(va);}};Gb.mixin=function(){Gb.log && Gb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){function hb(eb){return eb == Sb?1:eb + 1;}function gb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var ab=hb(eb._nextWaiter);!eb._waiters[ab];){ab=hb(ab);}return ab;}Zc=Gb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var ab;if(this._waiters[eb]){ab=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=gb(this));ab.call(this,Eb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,ab){var lb,wb;lb=this;wb=hb(this._lastWaiter);this._lastWaiter=wb;cb(ab,function(){var jb,Aa;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){ab.result(jb);},0);}else {-1 != eb && (Aa=setTimeout(function(){delete lb._waiters[wb];wb == lb._nextWaiter && (lb._nextWaiter=gb(lb));ab.timeout();},eb));this._waiters[wb]=function(La){clearTimeout(Aa);setTimeout(function(){ab.result(La);},0);};this._nextWaiter || (this._nextWaiter=wb);}},lb);return wb;},add:function(eb){var ab;if(this._nextWaiter){ab=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=gb(this);ab.call(this,eb);}else this._queue.push(eb);}});})();(function(){var hb;hb=0 - Sb;pe=Gb.Class.create({nextBoolean:function(){var gb;gb=new Uint8Array(1);Bc.getRandomValues(gb);return gb[0] & 1?!0:!1;},nextInt:function(gb){var eb;if(null !== gb && gb !== Eb){if("number" !== typeof gb)throw new TypeError("n must be of type number");if(1 > gb)throw new RangeError("n must be greater than zero");--gb;eb=new Uint8Array(4);Bc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (gb - 0 + 1));}gb=new Uint8Array(4);Bc.getRandomValues(gb);eb=(gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0];return gb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var gb=hb;gb == hb;){gb=new Uint8Array(7);Bc.getRandomValues(gb);eb=16777216 * ((gb[6] & 31) << 24 | gb[5] << 16 | gb[4] << 8 | gb[3]) + (gb[2] << 16 | gb[1] << 8 | gb[0]);gb=gb[6] & 128?-eb - 1:eb;}return gb;},nextBytes:function(gb){Bc.getRandomValues(gb);}});})();(function(){function hb(ab){return ab == Sb?1:ab + 1;}function gb(ab){if(0 === Object.keys(ab._waitingReaders).length)return 0;for(var lb=hb(ab._nextReader);!ab._waitingReaders[lb];){lb=hb(lb);}return lb;}function eb(ab){if(0 === Object.keys(ab._waitingWriters).length)return 0;for(var lb=hb(ab._nextWriter);!ab._waitingWriters[lb];){lb=hb(lb);}return lb;}Fd=Gb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(ab){var lb;if(this._waitingReaders[ab]){lb=this._waitingReaders[ab];delete this._waitingReaders[ab];ab == this._nextReader && (this._nextReader=gb(this));lb.call(this,!0);}this._waitingWriters[ab] && (lb=this._waitingWriters[ab],delete this._waitingWriters[ab],ab == this._nextWriter && (this._nextWriter=eb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(ab,lb){var wb,jb;wb=this;jb=hb(this._lastNumber);this._lastNumber=jb;cb(lb,function(){var Aa;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != ab && (Aa=setTimeout(function(){delete wb._waitingReaders[jb];jb == wb._nextReader && (wb._nextReader=gb(wb));lb.timeout();},ab));this._waitingReaders[jb]=function(La){clearTimeout(Aa);La?setTimeout(function(){lb.result(Eb);},0):(wb._readers[jb]=!0,setTimeout(function(){lb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},wb);return jb;},writeLock:function(ab,lb){var wb,jb;wb=this;jb=hb(this._lastNumber);this._lastNumber=jb;cb(lb,function(){var Aa;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != ab && (Aa=setTimeout(function(){delete wb._waitingWriters[jb];jb == wb._nextWriter && (wb._nextWriter=eb(wb));lb.timeout();},ab));this._waitingWriters[jb]=function(La){clearTimeout(Aa);La?setTimeout(function(){lb.result(Eb);},0):(wb._writer=jb,setTimeout(function(){lb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},wb);return jb;},unlock:function(ab){if(ab == this._writer)this._writer=null;else {if(!this._readers[ab])throw new yb("There is no reader or writer with ticket number " + ab + ".");delete this._readers[ab];}if(this._nextWriter)0 < Object.keys(this._readers).length || (ab=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),ab.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=hb(lb)){this._waitingReaders[lb] && (ab=this._waitingReaders[lb],delete this._waitingReaders[lb],ab.call(this,!1));}this._nextReader=0;}}});})();Gb.Class.mixin(S,{JSON_PARSE_ERROR:new S(0,Ga.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new S(1,Ga.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new S(2,Ga.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new S(3,Ga.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new S(4,Ga.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new S(5,Ga.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new S(6,Ga.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new S(7,Ga.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new S(8,Ga.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new S(9,Ga.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new S(10,Ga.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new S(11,Ga.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new S(12,Ga.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new S(13,Ga.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new S(14,Ga.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new S(15,Ga.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new S(16,Ga.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new S(17,Ga.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new S(18,Ga.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new S(19,Ga.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new S(20,Ga.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new S(21,Ga.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new S(22,Ga.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new S(23,Ga.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new S(24,Ga.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new S(25,Ga.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new S(26,Ga.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new S(27,Ga.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new S(28,Ga.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new S(29,Ga.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new S(30,Ga.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new S(31,Ga.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new S(32,Ga.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new S(33,Ga.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new S(34,Ga.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new S(35,Ga.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new S(36,Ga.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new S(37,Ga.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new S(38,Ga.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new S(39,Ga.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new S(40,Ga.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new S(41,Ga.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new S(42,Ga.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new S(43,Ga.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new S(44,Ga.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new S(45,Ga.FAIL,"Error exporting key."),DIGEST_ERROR:new S(46,Ga.FAIL,"Error in digest."),UNSUPPORTED_KEY:new S(47,Ga.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new S(48,Ga.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new S(49,Ga.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new S(50,Ga.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new S(51,Ga.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new S(52,Ga.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new S(53,Ga.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new S(54,Ga.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new S(55,Ga.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new S(56,Ga.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new S(57,Ga.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new S(58,Ga.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new S(59,Ga.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new S(60,Ga.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new S(61,Ga.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new S(62,Ga.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new S(1E3,Ga.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new S(1001,Ga.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new S(1002,Ga.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new S(1003,Ga.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(1004,Ga.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(1005,Ga.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new S(1006,Ga.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new S(1007,Ga.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new S(1008,Ga.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new S(1009,Ga.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new S(1010,Ga.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new S(1011,Ga.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new S(1012,Ga.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new S(1013,Ga.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new S(1014,Ga.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new S(2E3,Ga.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new S(2001,Ga.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new S(2002,Ga.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new S(2003,Ga.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new S(2004,Ga.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new S(2005,Ga.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2006,Ga.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2007,Ga.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new S(2008,Ga.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new S(2009,Ga.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new S(2010,Ga.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new S(2011,Ga.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new S(2012,Ga.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new S(2013,Ga.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new S(2014,Ga.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new S(2015,Ga.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new S(2016,Ga.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new S(2017,Ga.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new S(2018,Ga.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new S(2019,Ga.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new S(2020,Ga.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new S(3E3,Ga.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new S(3001,Ga.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new S(3002,Ga.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new S(3003,Ga.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new S(3004,Ga.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3005,Ga.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3006,Ga.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new S(3007,Ga.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new S(3008,Ga.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new S(3009,Ga.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new S(4E3,Ga.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new S(4001,Ga.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new S(4002,Ga.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new S(4003,Ga.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new S(4004,Ga.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new S(4005,Ga.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new S(4006,Ga.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new S(4007,Ga.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new S(4008,Ga.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new S(4009,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new S(4010,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new S(4011,Ga.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new S(4012,Ga.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new S(4013,Ga.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new S(4014,Ga.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new S(4015,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new S(4016,Ga.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new S(4017,Ga.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new S(4018,Ga.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new S(4019,Ga.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new S(4020,Ga.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new S(4021,Ga.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new S(4022,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new S(4023,Ga.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new S(4024,Ga.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new S(4025,Ga.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new S(4026,Ga.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new S(5E3,Ga.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new S(5001,Ga.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new S(5002,Ga.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new S(5003,Ga.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new S(5004,Ga.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new S(5005,Ga.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new S(5006,Ga.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new S(5007,Ga.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new S(5008,Ga.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new S(5009,Ga.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new S(5010,Ga.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new S(5011,Ga.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new S(5012,Ga.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new S(5013,Ga.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new S(5014,Ga.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new S(5015,Ga.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new S(5016,Ga.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new S(5017,Ga.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new S(5018,Ga.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new S(5019,Ga.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new S(5020,Ga.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new S(5021,Ga.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new S(5022,Ga.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new S(5023,Ga.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new S(5024,Ga.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new S(5025,Ga.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new S(5026,Ga.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new S(5027,Ga.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new S(5028,Ga.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new S(5029,Ga.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new S(5030,Ga.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new S(5031,Ga.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new S(5032,Ga.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new S(5033,Ga.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new S(5034,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new S(5035,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new S(5036,Ga.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new S(5037,Ga.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new S(5038,Ga.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new S(5039,Ga.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new S(5040,Ga.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new S(6E3,Ga.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new S(6001,Ga.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new S(6002,Ga.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new S(6003,Ga.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new S(6004,Ga.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new S(6005,Ga.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new S(6006,Ga.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new S(6007,Ga.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new S(6008,Ga.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new S(6009,Ga.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new S(6010,Ga.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new S(6011,Ga.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new S(6012,Ga.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new S(6013,Ga.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new S(6014,Ga.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new S(6015,Ga.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new S(6016,Ga.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new S(6017,Ga.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new S(6018,Ga.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(6019,Ga.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new S(6020,Ga.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new S(6021,Ga.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new S(6022,Ga.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new S(6023,Ga.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new S(6024,Ga.FAIL,"Invalid header data."),PAYLOAD_INVALID:new S(6025,Ga.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new S(6026,Ga.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new S(6027,Ga.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new S(6028,Ga.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new S(6029,Ga.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new S(6030,Ga.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new S(6031,Ga.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new S(6032,Ga.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new S(6033,Ga.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new S(6034,Ga.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new S(6035,Ga.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new S(6036,Ga.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new S(6037,Ga.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new S(7E3,Ga.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new S(7001,Ga.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new S(7002,Ga.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new S(7003,Ga.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new S(7004,Ga.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new S(7005,Ga.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new S(7006,Ga.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new S(7007,Ga.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new S(7008,Ga.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new S(7009,Ga.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new S(7010,Ga.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new S(7011,Ga.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new S(7012,Ga.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new S(7013,Ga.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new S(7014,Ga.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new S(7015,Ga.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new S(7016,Ga.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new S(8E3,Ga.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new S(8001,Ga.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new S(8002,Ga.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new S(8003,Ga.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new S(8004,Ga.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new S(8005,Ga.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new S(8006,Ga.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new S(8007,Ga.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new S(8008,Ga.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new S(8009,Ga.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new S(8010,Ga.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new S(8011,Ga.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new S(8012,Ga.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new S(9E3,Ga.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new S(9001,Ga.FAIL,"Error communicating with MSL entity."),NONE:new S(9999,Ga.FAIL,"Special unit test error.")});Object.freeze(S);(function(){fb=Gb.Class.create(Error());fb.mixin({init:function(hb,gb,eb){var lb,wb,jb;function ab(){return wb?wb:this.cause && this.cause instanceof fb?this.cause.messageId:Eb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=hb.message;gb && (lb+=" [" + gb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:hb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:ab,set:function(Aa){if(0 > Aa || Aa > Sb)throw new RangeError("Message ID " + Aa + " is outside the valid range.");ab() || (wb=Aa);},configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();jb && (Aa+="\n" + jb);eb && eb.stack && (Aa+="\nCaused by " + eb.stack);return Aa;},configurable:!0}});},setEntity:function(hb){!hb || this.masterToken || this.entityAuthenticationData || (hb instanceof ic?this.masterToken=hb:hb instanceof Lc && (this.entityAuthenticationData=hb));return this;},setUser:function(hb){!hb || this.userIdToken || this.userAuthenticationData || (hb instanceof Tc?this.userIdToken=hb:hb instanceof $c && (this.userAuthenticationData=hb));return this;},setMessageId:function(hb){this.messageId=hb;return this;},toString:function(){return this.name + ": " + this.message;}});})();xb=fb.extend({init:function lb(gb,eb,ab){lb.base.call(this,gb,eb,ab);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Hb=fb.extend({init:function wb(eb,ab,lb){wb.base.call(this,eb,ab,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rc=fb.extend({init:function jb(ab,lb,wb){jb.base.call(this,ab,lb,wb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jc=Gb.Class.create(Error());jc.mixin({init:function(ab,lb,wb){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:wb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();jb && (Aa+="\n" + jb);lb && lb.stack && (Aa+="\nCaused by " + lb.stack);return Aa;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Yb=Gb.Class.create(Error());Yb.mixin({init:function(ab,lb){var wb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);wb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();wb && (jb+="\n" + wb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){yb=Gb.Class.create(Error());yb.mixin({init:function(ab,lb){var wb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);wb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();wb && (jb+="\n" + wb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){bc=Gb.Class.create(Error());bc.mixin({init:function(ab,lb){var wb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);wb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();wb && (jb+="\n" + wb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ub=fb.extend({init:function Aa(lb,wb,jb){Aa.base.call(this,lb,wb,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});ad=fb.extend({init:function Aa(wb,jb){Aa.base.call(this,wb);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Nb=fb.extend({init:function Pa(jb,Aa,La){Pa.base.call(this,jb,Aa,La);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Cc=fb.extend({init:function va(Aa,La,Pa){va.base.call(this,Aa,La,Pa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var na;function Aa(da){return "undefined" === typeof da?!1:da;}function La(da){return da && da.length?(dc === na.V2014_02 && (da=da.map(function(X){return "wrap" == X?"wrapKey":"unwrap" == X?"unwrapKey":X;})),da):dc === na.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Pa(da,X,T,U,ba){return Promise.resolve().then(function(){return Vb.importKey(da,X,T,U,ba);}).catch(function(V){var fa;if("spki" !== da && "pkcs8" !== da)throw V;V=ASN1.webCryptoAlgorithmToJwkAlg(T);fa=ASN1.webCryptoUsageToJwkKeyOps(ba);V=ASN1.rsaDerToJwk(X,V,fa,U);if(!V)throw Error("Could not make valid JWK from DER input");V=JSON.stringify(V);return Vb.importKey("jwk",Bd(V),T,U,ba);});}function va(da,X){return Promise.resolve().then(function(){return Vb.exportKey(da,X);}).catch(function(T){if("spki" !== da && "pkcs8" !== da)throw T;return Vb.exportKey("jwk",X).then(function(U){U=JSON.parse(Ad(new Uint8Array(U)));U=ASN1.jwkToRsaDer(U);if(!U)throw Error("Could not make valid DER from JWK input");return U.getDer().buffer;});});}na=md={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(md);dc=na.LATEST;Rb={encrypt:function(da,X,T){switch(dc){case na.LEGACY:return new Promise(function(U,ba){var V;V=Vb.encrypt(da,X,T);V.oncomplete=function(fa){U(fa.target.result);};V.onerror=function(fa){ba(fa);};});case na.V2014_01:case na.V2014_02:return Vb.encrypt(da,X,T).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(da,X,T){switch(dc){case na.LEGACY:return new Promise(function(U,ba){var V;V=Vb.decrypt(da,X,T);V.oncomplete=function(fa){U(fa.target.result);};V.onerror=function(fa){ba(fa);};});case na.V2014_01:case na.V2014_02:return Vb.decrypt(da,X,T).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(da,X,T){switch(dc){case na.LEGACY:return new Promise(function(U,ba){var V;V=Vb.sign(da,X,T);V.oncomplete=function(fa){U(fa.target.result);};V.onerror=function(fa){ba(fa);};});case na.V2014_01:case na.V2014_02:return Vb.sign(da,X,T).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(da,X,T,U){switch(dc){case na.LEGACY:return new Promise(function(ba,V){var fa;fa=Vb.verify(da,X,T,U);fa.oncomplete=function(wa){ba(wa.target.result);};fa.onerror=function(wa){V(wa);};});case na.V2014_01:case na.V2014_02:return Vb.verify(da,X,T,U);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(da,X){switch(dc){case na.LEGACY:return new Promise(function(T,U){var ba;ba=Vb.digest(da,X);ba.oncomplete=function(V){T(V.target.result);};ba.onerror=function(V){U(V);};});case na.V2014_01:case na.V2014_02:return Vb.digest(da,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(da,X,T){var U,ba;U=Aa(X);ba=La(T);switch(dc){case na.LEGACY:return new Promise(function(V,fa){var wa;wa=Vb.generateKey(da,U,ba);wa.oncomplete=function(ua){V(ua.target.result);};wa.onerror=function(ua){fa(ua);};});case na.V2014_01:case na.V2014_02:return Vb.generateKey(da,U,ba);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(da,X,T,U,ba){var V,fa;V=Aa(U);fa=La(ba);switch(dc){case na.LEGACY:return new Promise(function(wa,ua){var ka;ka=Vb.deriveKey(da,X,T,V,fa);ka.oncomplete=function(sa){wa(sa.target.result);};ka.onerror=function(sa){ua(sa);};});case na.V2014_01:case na.V2014_02:return Vb.deriveKey(da,X,T,V,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(da,X,T,U,ba){var V,fa;V=Aa(U);fa=La(ba);switch(dc){case na.LEGACY:return new Promise(function(wa,ua){var ka;ka=Vb.importKey(da,X,T,V,fa);ka.oncomplete=function(sa){wa(sa.target.result);};ka.onerror=function(sa){ua(sa);};});case na.V2014_01:case na.V2014_02:return Pa(da,X,T,V,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(da,X){switch(dc){case na.LEGACY:return new Promise(function(T,U){var ba;ba=Vb.exportKey(da,X);ba.oncomplete=function(V){T(V.target.result);};ba.onerror=function(V){U(V);};});case na.V2014_01:case na.V2014_02:return va(da,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(da,X,T,U){switch(dc){case na.LEGACY:return new Promise(function(ba,V){var fa;fa=Vb.wrapKey(X,T,U);fa.oncomplete=function(wa){ba(wa.target.result);};fa.onerror=function(wa){V(wa);};});case na.V2014_01:case na.V2014_02:return Vb.wrapKey(da,X,T,U).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(da,X,T,U,ba,V,fa){switch(dc){case na.LEGACY:return new Promise(function(wa,ua){var ka;ka=Vb.unwrapKey(X,ba,T);ka.oncomplete=function(sa){wa(sa.target.result);};ka.onerror=function(sa){ua(sa);};});case na.V2014_01:case na.V2014_02:return Vb.unwrapKey(da,X,T,U,ba,Aa(V),La(fa));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};kd && kd.getKeyByName && (Rb.getKeyByName=function(da){switch(dc){case na.LEGACY:return new Promise(function(X,T){var U;U=kd.getKeyByName(da);U.oncomplete=function(ba){X(ba.target.result);};U.onerror=function(ba){T(ba);};});case na.V2014_01:case na.V2014_02:return kd.getKeyByName(da);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});qb.netflix=qb.netflix || ({});qb.netflix.crypto=Rb;})();sc={name:"AES-KW"};oc={name:"AES-CBC"};pc={name:"HMAC",hash:{name:"SHA-256"}};nd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Gd={name:"RSAES-PKCS1-v1_5"};qe={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Dc=["encrypt","decrypt"];Ec=["wrap","unwrap"];Mc=["sign","verify"];(function(){Hd=Gb.Class.create({init:function(Aa,La,Pa){var na;function va(da){Na(La,function(){var X;X=da?Jb(da):Eb;Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},keyData:{value:da,writable:!1,configurable:!1},keyDataB64:{value:X,writable:!1,configurable:!1}});return this;},na);}na=this;Na(La,function(){if(!Aa || "object" != typeof Aa)throw new xb(S.INVALID_SYMMETRIC_KEY);!Pa && Aa.extractable?Rb.exportKey("raw",Aa).then(function(da){va(new Uint8Array(da));},function(da){La.error(new xb(S.KEY_EXPORT_ERROR,"raw"));}):va(Pa);},na);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});bd=function(Aa,La){new Hd(Aa,La);};tc=function(Aa,La,Pa,va){Na(va,function(){try{Aa="string" == typeof Aa?Mb(Aa):Aa;}catch(na){throw new xb(S.INVALID_SYMMETRIC_KEY,"keydata " + Aa,na);}Rb.importKey("raw",Aa,La,!0,Pa).then(function(na){new Hd(na,va,Aa);},function(na){va.error(new xb(S.INVALID_SYMMETRIC_KEY));});});};})();(function(){od=Gb.Class.create({init:function(Aa,La,Pa){var na;function va(da){Na(La,function(){Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:da,writable:!1,configurable:!1}});return this;},na);}na=this;Na(La,function(){if(!Aa || "object" != typeof Aa || "public" != Aa.type)throw new TypeError("Only original public crypto keys are supported.");!Pa && Aa.extractable?Rb.exportKey("spki",Aa).then(function(da){va(new Uint8Array(da));},function(da){La.error(new xb(S.KEY_EXPORT_ERROR,"spki"));}):va(Pa);});},getEncoded:function(){return this.encoded;}});Jc=function(Aa,La){new od(Aa,La);};Id=function(Aa,La,Pa,va){Na(va,function(){try{Aa="string" == typeof Aa?Mb(Aa):Aa;}catch(na){throw new xb(S.INVALID_PUBLIC_KEY,"spki " + Aa,na);}Rb.importKey("spki",Aa,La,!0,Pa).then(function(na){new od(na,va,Aa);},function(na){va.error(new xb(S.INVALID_PUBLIC_KEY));});});};})();(function(){re=Gb.Class.create({init:function(Aa,La,Pa){var na;function va(da){Na(La,function(){Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:da,writable:!1,configurable:!1}});return this;},na);}na=this;Na(La,function(){if(!Aa || "object" != typeof Aa || "private" != Aa.type)throw new TypeError("Only original private crypto keys are supported.");!Pa && Aa.extractable?Rb.exportKey("pkcs8",Aa).then(function(da){va(new Uint8Array(da));},function(da){La.error(new xb(S.KEY_EXPORT_ERROR,"pkcs8"));}):va(Pa);});},getEncoded:function(){return this.encoded;}});Sc=function(Aa,La){new re(Aa,La);};})();(function(){var Aa;Aa=Md={V1:1,V2:2};Jd=Gb.Class.create({init:function(La,Pa,va,na){Na(na,function(){var da,X,T,U;da=Aa.V1;X=La;T=null;for(U in ld){if(ld[U] == La){da=Aa.V2;X=null;T=La;break;}}Object.defineProperties(this,{version:{value:da,writable:!1,enumerable:!1,configurable:!1},keyId:{value:X,writable:!1,configurable:!1},cipherSpec:{value:T,writable:!1,configurable:!1},iv:{value:Pa,writable:!1,configurable:!1},ciphertext:{value:va,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var La;La={};switch(this.version){case Aa.V1:La.keyid=this.keyId;this.iv && (La.iv=Jb(this.iv));La.ciphertext=Jb(this.ciphertext);La.sha256="AA==";break;case Aa.V2:La.version=this.version;La.cipherspec=this.cipherSpec;this.iv && (La.iv=Jb(this.iv));La.ciphertext=Jb(this.ciphertext);break;default:throw new yb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return La;}});Kd=function(La,Pa,va,na){new Jd(La,Pa,va,na);};Ld=function(La,Pa,va){Na(va,function(){var na,da,X,T,U,ba,V;na=La.keyid;da=La.cipherspec;X=La.iv;T=La.ciphertext;U=La.sha256;if(!Pa)if((Pa=La.version) && "number" === typeof Pa && Pa === Pa){ba=!1;for(V in Aa){if(Aa[V] == Pa){ba=!0;break;}}if(!ba)throw new xb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}else Pa=Aa.V1;switch(Pa){case Aa.V1:if("string" !== typeof na || X && "string" !== typeof X || "string" !== typeof T || "string" !== typeof U)throw new Hb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));break;case Aa.V2:V=La.version;if(V != Aa.V2)throw new xb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));if("string" !== typeof da || X && "string" !== typeof X || "string" !== typeof T)throw new Hb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));da=ne(da);if(!da)throw new xb(S.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(La));na=da;break;default:throw new xb(S.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}try{X && (X=Mb(X));T=Mb(T);}catch(fa){throw new xb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(La),fa);}new Jd(na,X,T,va);});};})();(function(){var Aa;Aa=Pd={V1:1,V2:2};uc=Gb.Class.create({init:function(La,Pa,va){var na;switch(La){case Aa.V1:na=va;break;case Aa.V2:na={};na.version=La;na.algorithm=Pa;na.signature=Jb(va);na=fc(JSON.stringify(na),Tb);break;default:throw new yb("Signature envelope version " + La + " encoding unsupported.");}Object.defineProperties(this,{version:{value:La,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Pa,writable:!1,configurable:!1},signature:{value:va,writable:!1,configurable:!1},bytes:{value:na,writable:!1,configurable:!1}});}});Nd=function(){var La,Pa,va,na;if(2 == arguments.length){La=Aa.V1;Pa=arguments[0];va=null;na=arguments[1];}else 3 == arguments.length && (La=Aa.V2,va=arguments[0],Pa=arguments[1],na=arguments[2]);Na(na,function(){return new uc(La,va,Pa);});};Od=function(La,Pa,va){Na(va,function(){var na,da,X,T,U,ba,V;if(Pa)switch(Pa){case Aa.V1:return new uc(Aa.V1,null,La);case Aa.V2:try{na=ec(La,Tb);da=JSON.parse(na);X=parseInt(da.version);T=da.algorithm;U=da.signature;if(!X || "number" !== typeof X || X != X || "string" !== typeof T || "string" !== typeof U)throw new Hb(S.JSON_PARSE_ERROR,"signature envelope " + Jb(La));if(Aa.V2 != X)throw new xb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Jb(La));ba=Ed(T);if(!ba)throw new xb(S.UNIDENTIFIED_ALGORITHM,"signature envelope " + Jb(La));V=Mb(U);if(!V)throw new xb(S.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(La));return new uc(Aa.V2,ba,V);}catch(fa){if(fa instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"signature envelope " + Jb(La),fa);throw fa;}default:throw new xb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Jb(La));}try{na=ec(La,Tb);da=JSON.parse(na);}catch(fa){da=null;}if(da && da.version){if((na=da.version,"number" !== typeof na || na !== na))na=Aa.V1;}else na=Aa.V1;switch(na){case Aa.V1:return new uc(na,null,La);case Aa.V2:ba=da.algorithm;U=da.signature;if("string" !== typeof ba || "string" !== typeof U)return new uc(Aa.V1,null,La);ba=Ed(ba);if(!ba)return new uc(Aa.V1,null,La);try{V=Mb(U);}catch(fa){return new uc(Aa.V1,null,La);}return new uc(na,ba,V);default:throw new xb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + La);}});};})();Uc=Gb.Class.create({encrypt:function(Aa,La){},decrypt:function(Aa,La){},wrap:function(Aa,La){},unwrap:function(Aa,La,Pa,va){},sign:function(Aa,La){},verify:function(Aa,La,Pa){}});(function(){var Aa;Aa=wc={RSA_OAEP:nd.name,A128KW:sc.name};qc="A128GCM";vc=Gb.Class.create({init:function(La,Pa,va,na,da){switch(Pa){case Aa.RSA_OAEP:da=da && (da.rawKey || da);na=na && (na.rawKey || na);break;case Aa.A128KW:da=na=na && (na.rawKey || na);break;default:throw new yb("Unsupported algorithm: " + Pa);}Object.defineProperties(this,{_ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:va,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:da,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:na,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Pa){Pa.error(new xb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(La,Pa){Pa.error(new xb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(La,Pa){Na(Pa,function(){Rb.wrapKey("jwe+jwk",La.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(va){Pa.result(va);},function(va){Pa.error(new xb(S.WRAP_ERROR));});},this);},unwrap:function(La,Pa,va,na){function da(X){Na(na,function(){switch(X.type){case "secret":bd(X,na);break;case "public":Jc(X,na);break;case "private":Sc(X,na);break;default:throw new xb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(na,function(){Rb.unwrapKey("jwe+jwk",La,this._unwrapKey,this._unwrapKey.algorithm,Pa,!1,va).then(function(X){da(X);},function(){na.error(new xb(S.UNWRAP_ERROR));});},this);},sign:function(La,Pa){Pa.error(new xb(S.SIGN_NOT_SUPPORTED));},verify:function(La,Pa,va){va.error(new xb(S.VERIFY_NOT_SUPPORTED));}});})();Vc=Uc.extend({encrypt:function(Aa,La){La.result(Aa);},decrypt:function(Aa,La){La.result(Aa);},wrap:function(Aa,La){La.result(Aa);},unwrap:function(Aa,La,Pa,va){va.result(Aa);},sign:function(Aa,La){La.result(new Uint8Array(0));},verify:function(Aa,La,Pa){Pa.result(!0);}});(function(){var Aa;Aa=qd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};pd=Uc.extend({init:function T(Pa,va,na,da,X){T.base.call(this);na && (na=na.rawKey);da && (da=da.rawKey);Object.defineProperties(this,{id:{value:va,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:na,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:da,writable:!1,enumerable:!1,configurable:!1},transform:{value:X == Aa.ENCRYPT_DECRYPT_PKCS1?Gd:X == Aa.ENCRYPT_DECRYPT_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:X == Aa.WRAP_UNWRAP_PKCS1?Gd:X == Aa.WRAP_UNWRAP_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:X == Aa.SIGN_VERIFY?qe:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Pa,va){var na;na=this;Na(va,function(){if("nullOp" == this.transform)return Pa;if(!this.publicKey)throw new xb(S.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Pa.length)return Pa;Rb.encrypt(na.transform,na.publicKey,Pa).then(function(da){Kd(na.id,null,da,{result:function(X){var T;try{T=JSON.stringify(X);va.result(fc(T,Tb));}catch(U){va.error(new xb(S.ENCRYPT_ERROR,null,U));}},error:function(X){X instanceof fb || (X=new xb(S.ENCRYPT_ERROR,null,X));va.error(X);}});},function(da){va.error(new xb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Pa,va){var na;na=this;Na(va,function(){var da,X;if("nullOp" == this.transform)return Pa;if(!this.privateKey)throw new xb(S.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Pa.length)return Pa;try{da=ec(Pa,Tb);X=JSON.parse(da);}catch(T){if(T instanceof SyntaxError)throw new xb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,T);throw new xb(S.DECRYPT_ERROR,null,T);}Ld(X,Md.V1,{result:function(T){var U;try{if(T.keyId != na.id)throw new xb(S.ENVELOPE_KEY_ID_MISMATCH);U=va.result;Rb.decrypt(na.transform,na.privateKey,T.ciphertext).then(U,function(ba){va.error(new xb(S.DECRYPT_ERROR));});}catch(ba){ba instanceof fb?va.error(ba):va.error(new xb(S.DECRYPT_ERROR,null,ba));}},error:function(T){T instanceof Hb && (T=new xb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,T));T instanceof fb || (T=new xb(S.DECRYPT_ERROR,null,T));va.error(T);}});},this);},wrap:function(Pa,va){Na(va,function(){var na;if("nullOp" == this.wrapTransform || !this.publicKey)throw new xb(S.WRAP_NOT_SUPPORTED,"no public key");na=va.result;Rb.wrapKey("jwk",Pa.rawKey,this.publicKey,this.wrapTransform).then(na,function(da){va.error(new xb(S.WRAP_ERROR));});},this);},unwrap:function(Pa,va,na,da){function X(T){Na(da,function(){switch(T.type){case "secret":bd(T,da);break;case "public":Jc(T,da);break;case "private":Sc(T,da);break;default:throw new xb(S.UNSUPPORTED_KEY,"type: " + T.type);}});}Na(da,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new xb(S.UNWRAP_NOT_SUPPORTED,"no private key");Rb.unwrapKey("jwk",Pa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},va,!1,na).then(X,function(T){da.error(new xb(S.UNWRAP_ERROR));});},this);},sign:function(Pa,va){Na(va,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new xb(S.SIGN_NOT_SUPPORTED,"no private key");Rb.sign(this.algo,this.privateKey,Pa).then(function(na){Nd(na,{result:function(da){va.result(da.bytes);},error:va.error});},function(na){va.error(new xb(S.SIGNATURE_ERROR));});},this);},verify:function(Pa,va,na){var da;da=this;Na(na,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new xb(S.VERIFY_NOT_SUPPORTED,"no public key");Od(va,Pd.V1,{result:function(X){Na(na,function(){var T;T=na.result;Rb.verify(this.algo,this.publicKey,X.signature,Pa).then(T,function(U){na.error(new xb(S.SIGNATURE_ERROR));});},da);},error:na.error});},this);}});})();(function(){rd=Uc.extend({init:function X(La,Pa,va,na,da){X.base.call(this);va=va && va.rawKey;na=na && na.rawKey;da=da && da.rawKey;Object.defineProperties(this,{ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},id:{value:Pa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:na,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:da,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Pa){var va;va=this;Na(Pa,function(){var na;if(!this.encryptionKey)throw new xb(S.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;na=new Uint8Array(16);this.ctx.getRandom().nextBytes(na);Rb.encrypt({name:oc.name,iv:na},va.encryptionKey,La).then(function(da){da=new Uint8Array(da);Kd(va.id,na,da,{result:function(X){var T;try{T=JSON.stringify(X);Pa.result(fc(T,Tb));}catch(U){Pa.error(new xb(S.ENCRYPT_ERROR,null,U));}},error:function(X){X instanceof fb || (X=new xb(S.ENCRYPT_ERROR,null,X));Pa.error(X);}});},function(da){Pa.error(new xb(S.ENCRYPT_ERROR));});},this);},decrypt:function(La,Pa){var va;va=this;Na(Pa,function(){var na,da;if(!this.encryptionKey)throw new xb(S.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;try{na=ec(La,Tb);da=JSON.parse(na);}catch(X){if(X instanceof SyntaxError)throw new xb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,X);throw new xb(S.DECRYPT_ERROR,null,X);}Ld(da,Md.V1,{result:function(X){try{if(X.keyId != va.id)throw new xb(S.ENVELOPE_KEY_ID_MISMATCH);Rb.decrypt({name:oc.name,iv:X.iv},va.encryptionKey,X.ciphertext).then(function(T){T=new Uint8Array(T);Pa.result(T);},function(){Pa.error(new xb(S.DECRYPT_ERROR));});}catch(T){T instanceof fb?Pa.error(T):Pa.error(new xb(S.DECRYPT_ERROR,null,T));}},error:function(X){X instanceof Hb && (X=new xb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,X));X instanceof fb || (X=new xb(S.DECRYPT_ERROR,null,X));Pa.error(X);}});},this);},wrap:function(La,Pa){Na(Pa,function(){if(!this.wrapKey)throw new xb(S.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Rb.wrapKey("raw",La.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(va){Pa.result(va);},function(va){Pa.error(new xb(S.WRAP_ERROR));});},this);},unwrap:function(La,Pa,va,na){function da(X){Na(na,function(){switch(X.type){case "secret":bd(X,na);break;case "public":Jc(X,na);break;case "private":Sc(X,na);break;default:throw new xb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(na,function(){if(!this.wrapKey)throw new xb(S.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Rb.unwrapKey("raw",La,this.wrapKey,this.wrapKey.algorithm,Pa,!1,va).then(function(X){da(X);},function(X){na.error(new xb(S.UNWRAP_ERROR));});},this);},sign:function(La,Pa){var va;va=this;Na(Pa,function(){if(!this.hmacKey)throw new xb(S.SIGN_NOT_SUPPORTED,"no HMAC key.");Rb.sign(pc,this.hmacKey,La).then(function(na){Na(Pa,function(){var da;da=new Uint8Array(na);Nd(da,{result:function(X){Pa.result(X.bytes);},error:Pa.error});},va);},function(){Pa.error(new xb(S.HMAC_ERROR));});},this);},verify:function(La,Pa,va){var na;na=this;Na(va,function(){if(!this.hmacKey)throw new xb(S.VERIFY_NOT_SUPPORTED,"no HMAC key.");Od(Pa,Pd.V1,{result:function(da){Na(va,function(){Rb.verify(pc,this.hmacKey,da.signature,La).then(function(X){va.result(X);},function(X){va.error(new xb(S.HMAC_ERROR));});},na);},error:va.error});},this);}});})();lc=rd.extend({init:function X(La,Pa,va,na,da){if(va || na || da)X.base.call(this,La,va + "_" + Pa.sequenceNumber,na,da,null);else {if(!Pa.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,Pa);X.base.call(this,La,Pa.identity + "_" + Pa.sequenceNumber,Pa.encryptionKey,Pa.hmacKey,null);}}});rf=Uc.extend({encrypt:function(La,Pa){Pa.result(La);},decrypt:function(La,Pa){Pa.result(La);},wrap:function(La,Pa){Pa.error(new yb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(La,Pa,va,na){na.error(new yb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(La,Pa){Pa.result(new Uint8Array(0));},verify:function(La,Pa,va){va.result(!1);}});Wb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Wb);(function(){Lc=Gb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(La){return this === La?!0:La instanceof Lc?this.scheme == La.scheme:!1;},toJSON:function(){var La;La={};La.scheme=this.scheme;La.authdata=this.getAuthData();return La;}});se=function(La,Pa){var va,na;va=Pa.scheme;na=Pa.authdata;if(!va || !na)throw new Hb(S.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Pa));if(!Wb[va])throw new rc(S.UNIDENTIFIED_ENTITYAUTH_SCHEME,va);Pa=La.getEntityAuthenticationFactory(va);if(!Pa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,va);return Pa.createData(La,na);};})();sd=Gb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},createData:function(La,Pa){},getCryptoContext:function(La,Pa){}});(function(){xc=Lc.extend({init:function va(Pa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{identity:{value:Pa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Pa;Pa={};Pa.identity=this.identity;return Pa;},equals:function na(va){return this === va?!0:va instanceof xc?na.base.call(this,this,va) && this.identity == va.identity:!1;}});te=function(va){var na;na=va.identity;if(!na)throw new Hb(S.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(va));return new xc(na);};})();sf=sd.extend({init:function va(Pa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{localIdentity:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Pa,va){return te(va);},getCryptoContext:function(Pa,va){if(!(va instanceof xc))throw new yb("Incorrect authentication data type " + JSON.stringify(va) + ".");if(va.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + va.identity).setEntity(va);return new Vc();}});(function(){yc=Lc.extend({init:function na(va){na.base.call(this,Wb.PSK);Object.defineProperties(this,{identity:{value:va,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var va;va={};va.identity=this.identity;return va;},equals:function da(na){return this === na?!0:na instanceof yc?da.base.call(this,this,na) && this.identity == na.identity:!1;}});ue=function(na){var da;da=na.identity;if(!da)throw new Hb(S.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(na));return new yc(da);};})();tf=sd.extend({init:function na(va){na.base.call(this,Wb.PSK);Object.defineProperties(this,{localIdentity:{value:va,writable:!1,enumerable:!1,configurable:!1}});},createData:function(va,na){return ue(na);},getCryptoContext:function(va,na){if(!(na instanceof yc))throw new yb("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.getIdentity() != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + na.identity).setEntity(na);return new Vc();}});(function(){td=Lc.extend({init:function X(na,da){X.base.call(this,Wb.RSA);Object.defineProperties(this,{identity:{value:na,writable:!1,configurable:!1},publicKeyId:{value:da,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var na;na={};na.identity=this.identity;na.pubkeyid=this.publicKeyId;return na;},equals:function X(da){return this === da?!0:da instanceof td?X.base.call(this,this,da) && this.identity == da.identity && this.publicKeyId == da.publicKeyId:!1;}});ve=function(da){var X,T;X=da.identity;T=da.pubkeyid;if(!X || "string" !== typeof X || !T || "string" !== typeof T)throw new Hb(S.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(da));return new td(X,T);};})();uf=sd.extend({init:function da(na){da.base.call(this,Wb.RSA);Object.defineProperties(this,{store:{value:na,writable:!1,enumerable:!1,configurable:!1}});},createData:function(na,da){return ve(da);},getCryptoContext:function(na,da){var X,T,U;if(!(da instanceof td))throw new yb("Incorrect authentication data type " + da + ".");X=da.identity;T=da.publicKeyId;U=this.store.getPublicKey(T);if(!U)throw new rc(S.RSA_PUBLICKEY_NOT_FOUND,T).setEntity(da);return new pd(na,X,null,U,qd.SIGN_VERIFY);}});(function(){Yc=Lc.extend({init:function X(da){X.base.call(this,Wb.NONE);Object.defineProperties(this,{identity:{value:da,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var da;da={};da.identity=this.identity;return da;},equals:function T(X){return this === X?!0:X instanceof Yc?T.base.call(this,this,X) && this.identity == X.identity:!1;}});we=function(X){var T;T=X.identity;if(!T)throw new Hb(S.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(X));return new Yc(T);};})();qf=sd.extend({init:function da(){da.base.call(this,Wb.NONE);},createData:function(da,X){return we(X);},getCryptoContext:function(da,X){if(!(X instanceof Yc))throw new yb("Incorrect authentication data type " + JSON.stringify(X) + ".");return new Vc();}});vf=Gb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(da,X){if(!(X instanceof od))throw new yb("Incorrect key data type " + X + ".");this.rsaKeys[da]=X;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(da){delete this.rsaKeys[da];},getPublicKey:function(da){return this.rsaKeys[da];}});Qd=Gb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(da,X,T){}});ud=Gb.Class.create({abort:function(){},close:function(da,X){},write:function(da,X,T,U,ba){},flush:function(da,X){}});wf=Gb.Class.create({init:function(da){Object.defineProperties(this,{_data:{value:da,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Yb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(da,X,T){cb(T,function(){var U;if(this._closed)throw new Yb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == da && (da=this._data.length - this._currentPosition);U=this._data.subarray(this._currentPosition,this._currentPosition + da);this._currentPosition+=U.length;return U;},this);}});xf=Gb.Class.create({init:function(){var da;da={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);},abort:function(){},close:function(da,X){this._closed=!0;X.result(!0);},write:function(da,X,T,U,ba){cb(ba,function(){var V;if(this._closed)throw new Yb("Stream is already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");V=da.subarray(X,T);this._buffered.push(V);return V.length;},this);},flush:function(da,X){var T;for(;0 < this._buffered.length;){if((da=this._buffered.shift(),this._result)){T=new Uint8Array(this._result.length + da.length);T.set(this._result);T.set(da,this._result.length);this._result=T;}else this._result=new Uint8Array(da);}X.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});yf=Gb.Class.create({getResponse:function(da,X,T){}});(function(){var da,X;da=ud.extend({init:function(T,U){T={_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:U,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new xf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Eb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Eb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Zc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(T){this._timeout=T;},getResponse:function(T,U){var ba;ba=this;this._responseQueue.poll(T,{result:function(V){cb(U,function(){V && this._responseQueue.add(V);return V;},ba);},timeout:function(){cb(U,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();U.timeout();},ba);},error:function(V){cb(U,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw V;},ba);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(T,U){var ba;ba=this;cb(U,function(){var V;if(this._response)return !0;V=this._buffer.toByteArray();0 < V.length && (this._abortToken=this._httpLocation.getResponse({body:V},this._timeout,{result:function(fa){ba._response={response:fa};ba._responseQueue.add(ba._response);},timeout:function(){ba._response={isTimeout:!0};ba._responseQueue.add(ba._response);},error:function(fa){ba._response={isError:!0,error:fa};ba._responseQueue.add(ba._response);}}));return !0;},this);},write:function(T,U,ba,V,fa){cb(fa,function(){if(this._response)throw new Yb("HttpOutputStream already closed.");this._buffer.write(T,U,ba,V,fa);},this);},flush:function(T,U){cb(U,function(){if(this._response)return !0;this._buffer.flush(T,U);},this);}});X=Qd.extend({init:function(T){Object.defineProperties(this,{_out:{value:T,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Eb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Eb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Eb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(T,U,ba){var fa;function V(wa){cb(ba,function(){if(!wa)return new Uint8Array(0);this._out.getResponse(U,{result:function(ua){cb(ba,function(){var ka;if(ua.isTimeout)(this._timedout=!0,ba.timeout());else {if(ua.isError)throw (this._exception=ua.error || new Yb("Unknown HTTP exception."),this._exception);if(!ua.response)throw (this._exception=new Yb("Missing HTTP response."),this._exception);ua.response.json !== Eb && (this._json=ua.response.json,this.getJSON=function(){return fa._json;});ka=ua.response.content || Bd("string" === typeof ua.response.body?ua.response.body:JSON.stringify(this._json));this._buffer=new wf(ka);this._buffer.read(T,U,ba);}},fa);},timeout:function(){ba.timeout();},error:function(ua){ba.error(ua);}});},fa);}fa=this;cb(ba,function(){if(this._exception)throw this._exception;if(this._timedout)ba.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(T,U,ba):this._out.close(U,{result:function(wa){V(wa);},timeout:function(){ba.timeout();},error:function(wa){ba.error(wa);}});}},fa);}});he=Gb.Class.create({init:function(T,U){Object.defineProperties(this,{_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:U,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(T){this._timeout=T;},openConnection:function(){var T;T=new da(this._httpLocation,this._timeout);return {input:new X(T),output:T};}});})();(function(){var da,X;da=ud.extend({init:function(){var T;T={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},getResponse:function(T,U){U.result({success:!1,content:null,errorHttpCode:Eb,errorSubCode:Eb});},abort:function(){},close:function(T,U){U.result(!0);},write:function(T,U,ba,V,fa){var wa,ua;try{if(0 > U)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(U + ba > T.length)throw new RangeError("Offset plus length cannot be greater than the array length.");wa=T.subarray(U,ba);ua=new Uint8Array(this._buffer.length + wa.length);ua.set(this._buffer);ua.set(wa,this._buffer.length);this._buffer=ua;fa.result(wa.length);}catch(ka){fa.error(ka);}},flush:function(T,U){U.result(!0);},request:function(){return this._buffer;}});X=Qd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(T,U,ba){ba.result(new Uint8Array(16));}});ie=Gb.Class.create({init:function(){var T;T={output:{value:new da(),writable:!1,enumerable:!1,configurable:!1},input:{value:new X(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ad(this.output.request());}});})();xe=function(da,X,T){(function(U,ba,V){U.read(-1,ba,{result:function(fa){fa && fa.length?V(null,fa):V(null,null);},timeout:function(){T.timeout();},error:function(fa){V(fa,null);}});})(da,X,function(U,ba){var V,fa;if(U)T.error(U);else if(ba){if(da.getJSON !== Eb && "function" === typeof da.getJSON)T.result(da.getJSON());else {U=T.result;ba=new zf(ec(ba,"utf-8"));V=[];for(fa=ba.nextValue();fa !== Eb;){V.push(fa);fa=ba.nextValue();}U.call(T,V);}}else T.result(null);});};kc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kc);(function(){cd=Gb.Class.create({init:function(da){Object.defineProperties(this,{keyExchangeScheme:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var da;da={};da.scheme=this.keyExchangeScheme;da.keydata=this.getKeydata();return da;},equals:function(da){return this === da?!0:da instanceof cd?this.keyExchangeScheme == da.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ye=function(da,X,T){Na(T,function(){var U,ba,V;U=X.scheme;ba=X.keydata;if(!U || !ba || "object" !== typeof ba)throw new Hb(S.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(X));if(!kc[U])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,U);V=da.getKeyExchangeFactory(U);if(!V)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,U);V.createRequestData(da,ba,T);});};})();(function(){dd=Gb.Class.create({init:function(da,X){Object.defineProperties(this,{masterToken:{value:da,writable:!1,configurable:!1},keyExchangeScheme:{value:X,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var da;da={};da.mastertoken=this.masterToken;da.scheme=this.keyExchangeScheme;da.keydata=this.getKeydata();return da;},equals:function(da){return this === da?!0:da instanceof dd?this.masterToken.equals(da.masterToken) && this.keyExchangeScheme == da.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ze=function(da,X,T){Na(T,function(){var U,ba,V;U=X.mastertoken;ba=X.scheme;V=X.keydata;if(!ba || !U || "object" !== typeof U || !V || "object" !== typeof V)throw new Hb(S.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(X));if(!kc[ba])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,ba);ed(da,U,{result:function(fa){Na(T,function(){var wa;wa=da.getKeyExchangeFactory(ba);if(!wa)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ba);return wa.createResponseData(da,fa,V);});},error:function(fa){T.error(fa);}});});};})();(function(){var da;da=Gb.Class.create({init:function(X,T){Object.defineProperties(this,{keyResponseData:{value:X,writable:!1,configurable:!1},cryptoContext:{value:T,writable:!1,configurable:!1}});}});mc=Gb.Class.create({init:function(X){Object.defineProperties(this,{scheme:{value:X,writable:!1,configurable:!1}});},createRequestData:function(X,T,U){},createResponseData:function(X,T,U){},generateResponse:function(X,T,U,ba){},getCryptoContext:function(X,T,U,ba,V){},generateSessionKeys:function(X,T){Na(T,function(){var U,ba;U=new Uint8Array(16);ba=new Uint8Array(32);X.getRandom().nextBytes(U);X.getRandom().nextBytes(ba);tc(U,oc,Dc,{result:function(V){tc(ba,pc,Mc,{result:function(fa){T.result({encryptionKey:V,hmacKey:fa});},error:function(fa){T.error(new xb(S.SESSION_KEY_CREATION_FAILURE,null,fa));}});},error:function(V){T.error(new xb(S.SESSION_KEY_CREATION_FAILURE,null,V));}});});},importSessionKeys:function(X,T,U){tc(X,oc,Dc,{result:function(ba){tc(T,pc,Mc,{result:function(V){U.result({encryptionKey:ba,hmacKey:V});},error:function(V){U.error(V);}});},error:function(ba){U.error(ba);}});}});mc.KeyExchangeData=da;})();(function(){var X,T,U;function da(ba,V,fa,wa,ua){Na(ua,function(){var ka,sa;switch(V){case X.PSK:(ka=new yc(wa),sa=ba.getEntityAuthenticationFactory(Wb.PSK));if(!sa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,V);ka=sa.getCryptoContext(ba,ka);return new vc(ba,wc.A128KW,qc,Eb);case X.MGK:ka=new xc(wa);sa=ba.getEntityAuthenticationFactory(Wb.MGK);if(!sa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,V);ka=sa.getCryptoContext(ba,ka);return new vc(ba,wc.A128KW,qc,Eb);case X.WRAP:ka=ba.getMslCryptoContext();ka.unwrap(fa,sc,Ec,{result:function(za){Na(ua,function(){return new vc(ba,wc.A128KW,qc,za);});},error:ua.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,V);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ae=cd.extend({init:function wa(V,fa){wa.base.call(this,kc.JWE_LADDER);switch(V){case X.WRAP:if(!fa)throw new yb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:fa=null;}Object.defineProperties(this,{mechanism:{value:V,writable:!1,configurable:!1},wrapdata:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){var V;V={};V.mechanism=this.mechanism;this.wrapdata && (V.wrapdata=Jb(this.wrapdata));return V;},equals:function wa(fa){return fa === this?!0:fa instanceof Ae?wa.base.call(this,fa) && this.mechanism == fa.mechanism && gc(this.wrapdata,fa.wrapdata):!1;},uniqueKey:function wa(){var ua;ua=wa.base.call(this) + ":" + this.mechanism;this.wrapdata && (ua+=":" + hc(this.wrapdata));return ua;}});U=Be=dd.extend({init:function aa(ua,ka,sa,za,la){aa.base.call(this,ua,kc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ka,writable:!1,configurable:!1},wrapdata:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ua;ua={};ua.wrapkey=Jb(this.wrapKey);ua.wrapdata=Jb(this.wrapdata);ua.encryptionkey=Jb(this.encryptionKey);ua.hmackey=Jb(this.hmacKey);return ua;},equals:function sa(ka){return this === ka?!0:ka instanceof Be?sa.base.call(this,ka) && gc(this.wrapKey,ka.wrapKey) && gc(this.wrapdata,ka.wrapdata) && gc(this.encryptionKey,ka.encryptionKey) && gc(this.hmacKey,ka.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});mc.extend({init:function la(za){la.base.call(this,kc.JWE_LADDER);Object.defineProperties(this,{repository:{value:za,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(za,la,aa){Na(aa,function(){var ca,ea,xa;ca=la.mechanism;ea=la.wrapdata;if(!ca || ca == X.WRAP && (!ea || "string" !== typeof ea))throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(la));if(!X[ca])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,ca);switch(ca){case X.WRAP:try{xa=Mb(ea);}catch(Ra){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + la.toString());}if(null == xa || 0 == xa.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + la.toString());break;default:xa=null;}return new T(ca,xa);});},createResponseData:function(za,la,aa){var ca,ea,xa,Ra,Ma,Qa,Ua;za=aa.wrapkey;ca=aa.wrapdata;ea=aa.encryptionkey;xa=aa.hmackey;if(!(za && "string" === typeof za && ca && "string" === typeof ca && ea && "string" === typeof ea && xa) || "string" !== typeof xa)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ra=Mb(za);Ma=Mb(ca);}catch(pa){throw new xb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),pa);}try{Qa=Mb(ea);}catch(pa){throw new xb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),pa);}try{Ua=Mb(xa);}catch(pa){throw new xb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),pa);}return new U(la,Ra,Ma,Qa,Ua);},generateResponse:function(za,la,aa,ca){var Qa,Ua;function ea(pa,ya,Ea){Qa.generateSessionKeys(za,{result:function(Ja){Na(ca,function(){xa(pa,ya,Ea,Ja.encryptionKey,Ja.hmacKey);},Qa);},error:function(Ja){Na(ca,function(){Ja instanceof fb && Ja.setEntity(Ua);throw Ja;});}});}function xa(pa,ya,Ea,Ja,Da){Na(ca,function(){da(za,la.mechanism,la.wrapdata,pa,{result:function(Sa){Sa.wrap(ya,{result:function(Ia){Ra(ya,Ea,Ja,Da,Ia);},error:function(Ia){Na(ca,function(){Ia instanceof fb && Ia.setEntity(Ua);throw Ia;});}});},error:function(Sa){Na(ca,function(){Sa instanceof fb && Sa.setEntity(Ua);throw Sa;});}});},Qa);}function Ra(pa,ya,Ea,Ja,Da){Na(ca,function(){var Sa;Sa=new vc(za,wc.A128KW,qc,pa);Sa.wrap(Ea,{result:function(Ia){Sa.wrap(Ja,{result:function(Za){Ma(ya,Da,Ea,Ia,Ja,Za);},error:function(Za){Na(ca,function(){Za instanceof fb && Za.setEntity(Ua);throw Za;});}});},error:function(Ia){Na(ca,function(){Ia instanceof fb && Ia.setEntity(Ua);throw Ia;});}});},Qa);}function Ma(pa,ya,Ea,Ja,Da,Sa){Na(ca,function(){var Ia;Ia=za.getTokenFactory();Ua?Ia.renewMasterToken(za,Ua,Ea,Da,{result:function(Za){Na(ca,function(){var bb,Xa;bb=new lc(za,Za);Xa=new U(Za,ya,pa,Ja,Sa);return new mc.KeyExchangeData(Xa,bb,ca);},Qa);},error:function(Za){Na(ca,function(){Za instanceof fb && Za.setEntity(Ua);throw Za;});}}):Ia.createMasterToken(za,aa,Ea,Da,{result:function(Za){Na(ca,function(){var bb,Xa;bb=new lc(za,Za);Xa=new U(Za,ya,pa,Ja,Sa);return new mc.KeyExchangeData(Xa,bb,ca);},Qa);},error:ca.error});},Qa);}Qa=this;Na(ca,function(){var pa,ya;if(!(la instanceof T))throw new yb("Key request data " + JSON.stringify(la) + " was not created by this factory.");pa=aa;if(aa instanceof ic){if(!aa.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,aa);Ua=aa;pa=aa.identity;}ya=new Uint8Array(16);za.getRandom().nextBytes(ya);tc(ya,sc,Ec,{result:function(Ea){Na(ca,function(){za.getMslCryptoContext().wrap(Ea,{result:function(Ja){ea(pa,Ea,Ja);},error:function(Ja){Na(ca,function(){Ja instanceof fb && Ja.setEntity(Ua);throw Ja;},Qa);}});},Qa);},error:function(Ea){Na(ca,function(){throw new xb(S.WRAP_KEY_CREATION_FAILURE,null,Ea).setEntity(Ua);},Qa);}});},Qa);},getCryptoContext:function(za,la,aa,ca,ea){var Ra;function xa(Ma,Qa,Ua,pa,ya){Na(ea,function(){var Ea;Ea=new vc(za,wc.A128KW,qc,ya);Ea.unwrap(Qa.encryptionKey,oc,Dc,{result:function(Ja){Ea.unwrap(Qa.hmacKey,pc,Mc,{result:function(Da){Na(ea,function(){this.repository.addCryptoContext(Qa.wrapdata,Ea);this.repository.removeCryptoContext(Ua);return new lc(za,Qa.masterToken,pa,Ja,Da);},Ra);},error:function(Da){Na(ea,function(){Da instanceof fb && Da.setEntity(Ma);throw Da;});}});},error:function(Ja){Na(ea,function(){Ja instanceof fb && Ja.setEntity(Ma);throw Ja;});}});},Ra);}Ra=this;Na(ea,function(){var Ma,Qa;if(!(la instanceof T))throw new yb("Key request data " + JSON.stringify(la) + " was not created by this factory.");if(!(aa instanceof U))throw new yb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Ma=la.mechanism;Qa=la.wrapdata;za.getEntityAuthenticationData(null,{result:function(Ua){Na(ea,function(){var pa,ya,Ea;pa=Ua.getIdentity();switch(Ma){case X.PSK:ya=new yc(pa);Ea=za.getEntityAuthenticationFactory(Wb.PSK);if(!Ea)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ua);ya=Ea.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,Eb);break;case X.MGK:ya=new xc(pa);Ea=za.getEntityAuthenticationFactory(Wb.MGK);if(!Ea)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ua);ya=Ea.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,ya.wrapKey);break;case X.WRAP:ya=this.repository.getCryptoContext(Qa);if(!ya)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Jb(Qa)).setEntity(Ua);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ua);}ya.unwrap(aa.wrapKey,sc,Ec,{result:function(Ja){xa(Ua,aa,Qa,pa,Ja);},error:function(Ja){Na(ea,function(){Ja instanceof fb && Ja.setEntity(Ua);throw Ja;});}});},Ra);},error:ea.error});},Ra);}});})();(function(){var X,T,U,ba;function da(V,fa,wa,ua,ka){Na(ka,function(){var sa,za;switch(fa){case X.PSK:(sa=new yc(ua),za=V.getEntityAuthenticationFactory(Wb.PSK));if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,fa);sa=za.getCryptoContext(V,sa);return new ba(Eb);case X.MGK:sa=new xc(ua);za=V.getEntityAuthenticationFactory(Wb.MGK);if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,fa);sa=za.getCryptoContext(V,sa);return new ba(Eb);case X.WRAP:sa=V.getMslCryptoContext();sa.unwrap(wa,sc,Ec,{result:function(la){Na(ka,function(){return new ba(la);});},error:ka.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,fa);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ce=cd.extend({init:function ua(fa,wa){ua.base.call(this,kc.JWK_LADDER);switch(fa){case X.WRAP:if(!wa)throw new yb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:wa=null;}Object.defineProperties(this,{mechanism:{value:fa,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1}});},getKeydata:function(){var fa;fa={};fa.mechanism=this.mechanism;this.wrapdata && (fa.wrapdata=Jb(this.wrapdata));return fa;},equals:function ua(wa){return wa === this?!0:wa instanceof Ce?ua.base.call(this,wa) && this.mechanism == wa.mechanism && gc(this.wrapdata,wa.wrapdata):!1;},uniqueKey:function ua(){var ka;ka=ua.base.call(this) + ":" + this.mechanism;this.wrapdata && (ka+=":" + hc(this.wrapdata));return ka;}});U=De=dd.extend({init:function ca(ka,sa,za,la,aa){ca.base.call(this,ka,kc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:sa,writable:!1,configurable:!1},wrapdata:{value:za,writable:!1,configurable:!1},encryptionKey:{value:la,writable:!1,configurable:!1},hmacKey:{value:aa,writable:!1,configurable:!1}});},getKeydata:function(){var ka;ka={};ka.wrapkey=Jb(this.wrapKey);ka.wrapdata=Jb(this.wrapdata);ka.encryptionkey=Jb(this.encryptionKey);ka.hmackey=Jb(this.hmacKey);return ka;},equals:function za(sa){return this === sa?!0:sa instanceof De?za.base.call(this,sa) && gc(this.wrapKey,sa.wrapKey) && gc(this.wrapdata,sa.wrapdata) && gc(this.encryptionKey,sa.encryptionKey) && gc(this.hmacKey,sa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});ba=Uc.extend({init:function(za){za && za.rawKey && (za=za.rawKey);Object.defineProperties(this,{_wrapKey:{value:za,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(za,la){la.error(new xb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(za,la){la.error(new xb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(za,la){Na(la,function(){Rb.wrapKey("jwk",za.rawKey,this._wrapKey,sc).then(function(aa){la.result(aa);},function(aa){la.error(new xb(S.WRAP_ERROR));});},this);},unwrap:function(za,la,aa,ca){function ea(xa){Na(ca,function(){switch(xa.type){case "secret":bd(xa,ca);break;case "public":Jc(xa,ca);break;case "private":Sc(xa,ca);break;default:throw new xb(S.UNSUPPORTED_KEY,"type: " + xa.type);}});}Na(ca,function(){Rb.unwrapKey("jwk",za,this._wrapKey,sc,la,!1,aa).then(function(xa){ea(xa);},function(xa){ca.error(new xb(S.UNWRAP_ERROR));});},this);},sign:function(za,la){la.error(new xb(S.SIGN_NOT_SUPPORTED));},verify:function(za,la,aa){aa.error(new xb(S.VERIFY_NOT_SUPPORTED));}});mc.extend({init:function aa(la){aa.base.call(this,kc.JWK_LADDER);Object.defineProperties(this,{repository:{value:la,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(la,aa,ca){Na(ca,function(){var ea,xa,Ra;ea=aa.mechanism;xa=aa.wrapdata;if(!ea || ea == X.WRAP && (!xa || "string" !== typeof xa))throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));if(!X[ea])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,ea);switch(ea){case X.WRAP:try{Ra=Mb(xa);}catch(Ma){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + aa.toString());}if(null == Ra || 0 == Ra.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + aa.toString());break;default:Ra=null;}return new T(ea,Ra);});},createResponseData:function(la,aa,ca){var ea,xa,Ra,Ma,Qa,Ua,pa;la=ca.wrapkey;ea=ca.wrapdata;xa=ca.encryptionkey;Ra=ca.hmackey;if(!(la && "string" === typeof la && ea && "string" === typeof ea && xa && "string" === typeof xa && Ra) || "string" !== typeof Ra)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Ma=Mb(la);Qa=Mb(ea);}catch(ya){throw new xb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ca),ya);}try{Ua=Mb(xa);}catch(ya){throw new xb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),ya);}try{pa=Mb(Ra);}catch(ya){throw new xb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),ya);}return new U(aa,Ma,Qa,Ua,pa);},generateResponse:function(la,aa,ca,ea){var Ua,pa;function xa(ya,Ea,Ja){Ua.generateSessionKeys(la,{result:function(Da){Na(ea,function(){Ra(ya,Ea,Ja,Da.encryptionKey,Da.hmacKey);},Ua);},error:function(Da){Na(ea,function(){Da instanceof fb && Da.setEntity(pa);throw Da;});}});}function Ra(ya,Ea,Ja,Da,Sa){Na(ea,function(){da(la,aa.mechanism,aa.wrapdata,ya,{result:function(Ia){Ia.wrap(Ea,{result:function(Za){Ma(Ea,Ja,Da,Sa,Za);},error:function(Za){Na(ea,function(){Za instanceof fb && Za.setEntity(pa);throw Za;});}});},error:function(Ia){Na(ea,function(){Ia instanceof fb && Ia.setEntity(pa);throw Ia;});}});},Ua);}function Ma(ya,Ea,Ja,Da,Sa){Na(ea,function(){var Ia;Ia=new ba(ya);Ia.wrap(Ja,{result:function(Za){Ia.wrap(Da,{result:function(bb){Qa(Ea,Sa,Ja,Za,Da,bb);},error:function(bb){Na(ea,function(){bb instanceof fb && bb.setEntity(pa);throw bb;});}});},error:function(Za){Na(ea,function(){Za instanceof fb && Za.setEntity(pa);throw Za;});}});},Ua);}function Qa(ya,Ea,Ja,Da,Sa,Ia){Na(ea,function(){var Za;Za=la.getTokenFactory();pa?Za.renewMasterToken(la,pa,Ja,Sa,{result:function(bb){Na(ea,function(){var Xa,kb;Xa=new lc(la,bb);kb=new U(bb,Ea,ya,Da,Ia);return new mc.KeyExchangeData(kb,Xa,ea);},Ua);},error:function(bb){Na(ea,function(){bb instanceof fb && bb.setEntity(pa);throw bb;});}}):Za.createMasterToken(la,ca,Ja,Sa,{result:function(bb){Na(ea,function(){var Xa,kb;Xa=new lc(la,bb);kb=new U(bb,Ea,ya,Da,Ia);return new mc.KeyExchangeData(kb,Xa,ea);},Ua);},error:ea.error});},Ua);}Ua=this;Na(ea,function(){var ya,Ea;if(!(aa instanceof T))throw new yb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");ya=ca;if(ca instanceof ic){if(!ca.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,ca);pa=ca;ya=ca.identity;}Ea=new Uint8Array(16);la.getRandom().nextBytes(Ea);tc(Ea,sc,Ec,{result:function(Ja){Na(ea,function(){la.getMslCryptoContext().wrap(Ja,{result:function(Da){xa(ya,Ja,Da);},error:function(Da){Na(ea,function(){Da instanceof fb && Da.setEntity(pa);throw Da;},Ua);}});},Ua);},error:function(Ja){Na(ea,function(){throw new xb(S.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(pa);},Ua);}});},Ua);},getCryptoContext:function(la,aa,ca,ea,xa){var Ma;function Ra(Qa,Ua,pa,ya,Ea){Na(xa,function(){var Ja;Ja=new ba(Ea);Ja.unwrap(Ua.encryptionKey,oc,Dc,{result:function(Da){Ja.unwrap(Ua.hmacKey,pc,Mc,{result:function(Sa){Na(xa,function(){this.repository.addCryptoContext(Ua.wrapdata,Ja);this.repository.removeCryptoContext(pa);return new lc(la,Ua.masterToken,ya,Da,Sa);},Ma);},error:function(Sa){Na(xa,function(){Sa instanceof fb && Sa.setEntity(Qa);throw Sa;});}});},error:function(Da){Na(xa,function(){Da instanceof fb && Da.setEntity(Qa);throw Da;});}});},Ma);}Ma=this;Na(xa,function(){var Qa,Ua;if(!(aa instanceof T))throw new yb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");if(!(ca instanceof U))throw new yb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Qa=aa.mechanism;Ua=aa.wrapdata;la.getEntityAuthenticationData(null,{result:function(pa){Na(xa,function(){var ya,Ea,Ja;ya=pa.getIdentity();switch(Qa){case X.PSK:Ea=new yc(ya);Ja=la.getEntityAuthenticationFactory(Wb.PSK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(pa);Ea=Ja.getCryptoContext(la,Ea);Ea=new ba(Ea.wrapKey);break;case X.MGK:Ea=new xc(ya);Ja=la.getEntityAuthenticationFactory(Wb.MGK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(pa);Ea=Ja.getCryptoContext(la,Ea);Ea=new ba(Ea.wrapKey);break;case X.WRAP:Ea=this.repository.getCryptoContext(Ua);if(!Ea)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Jb(Ua)).setEntity(pa);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(pa);}Ea.unwrap(ca.wrapKey,sc,Ec,{result:function(Da){Ra(pa,ca,Ua,ya,Da);},error:function(Da){Na(xa,function(){Da instanceof fb && Da.setEntity(pa);throw Da;});}});},Ma);},error:xa.error});},Ma);}});})();Af=Gb.Class.create({addCryptoContext:function(da,X){},getCryptoContext:function(da){},removeCryptoContext:function(da){}});(function(){var X,T,U,ba;function da(V,fa,wa,ua,ka){switch(wa){case X.JWE_RSA:case X.JWEJS_RSA:return new vc(V,wc.RSA_OAEP,qc,ua,ka);case X.JWK_RSA:return new pd(V,fa,ua,ka,qd.WRAP_UNWRAP_OAEP);case X.JWK_RSAES:return new pd(V,fa,ua,ka,qd.WRAP_UNWRAP_PKCS1);default:throw new xb(S.UNSUPPORTED_KEYX_MECHANISM,wa);}}X=Ee={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};T=Dd=cd.extend({init:function sa(fa,wa,ua,ka){sa.base.call(this,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:fa,writable:!1,configurable:!1},mechanism:{value:wa,writable:!1,configurable:!1},publicKey:{value:ua,writable:!1,configurable:!1},privateKey:{value:ka,writable:!1,configurable:!1}});},getKeydata:function(){var fa;fa={};fa.keypairid=this.keyPairId;fa.mechanism=this.mechanism;fa.publickey=Jb(this.publicKey.getEncoded());return fa;},equals:function ua(wa){var ka;if(wa === this)return !0;if(!(wa instanceof Dd))return !1;ka=this.privateKey === wa.privateKey || this.privateKey && wa.privateKey && gc(this.privateKey.getEncoded(),wa.privateKey.getEncoded());return ua.base.call(this,wa) && this.keyPairId == wa.keyPairId && this.mechanism == wa.mechanism && gc(this.publicKey.getEncoded(),wa.publicKey.getEncoded()) && ka;},uniqueKey:function ua(){var ka,sa;ka=this.publicKey.getEncoded();sa=this.privateKey && this.privateKey.getEncoded();ka=ua.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hc(ka);sa && (ka+=":" + hc(sa));return ka;}});U=function(ua,ka){Na(ka,function(){var sa,za,la,aa;sa=ua.keypairid;za=ua.mechanism;la=ua.publickey;if(!sa || "string" !== typeof sa || !za || !la || "string" !== typeof la)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ua));if(!X[za])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,za);try{aa=Mb(la);switch(za){case X.JWE_RSA:case X.JWEJS_RSA:case X.JWK_RSA:Id(aa,nd,Ec,{result:function(ca){ka.result(new T(sa,za,ca,null));},error:function(ca){ka.error(ca);}});break;case X.JWK_RSAES:Id(aa,Gd,Ec,{result:function(ca){ka.result(new T(sa,za,ca,null));},error:function(ca){ka.error(ca);}});break;default:throw new xb(S.UNSUPPORTED_KEYX_MECHANISM,za);}}catch(ca){if(!(ca instanceof fb))throw new xb(S.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ua),ca);throw ca;}});};ba=Fe=dd.extend({init:function aa(ka,sa,za,la){aa.base.call(this,ka,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ka;ka={};ka.keypairid=this.keyPairId;ka.encryptionkey=Jb(this.encryptionKey);ka.hmackey=Jb(this.hmacKey);return ka;},equals:function za(sa){return this === sa?!0:sa instanceof Fe?za.base.call(this,sa) && this.keyPairId == sa.keyPairId && gc(this.encryptionKey,sa.encryptionKey) && gc(this.hmacKey,sa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + this.keyPairId + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});je=mc.extend({init:function la(){la.base.call(this,kc.ASYMMETRIC_WRAPPED);},createRequestData:function(la,aa,ca){U(aa,ca);},createResponseData:function(la,aa,ca){var ea,xa,Ra,Ma;la=ca.keypairid;ea=ca.encryptionkey;xa=ca.hmackey;if(!la || "string" !== typeof la || !ea || "string" !== typeof ea || !xa || "string" !== typeof xa)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Ra=Mb(ea);}catch(Qa){throw new xb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),Qa);}try{Ma=Mb(xa);}catch(Qa){throw new xb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),Qa);}return new ba(aa,la,Ra,Ma);},generateResponse:function(la,aa,ca,ea){var Ma;function xa(Qa,Ua){Na(ea,function(){var pa;pa=da(la,aa.keyPairId,aa.mechanism,null,aa.publicKey);pa.wrap(Qa,{result:function(ya){Na(ea,function(){pa.wrap(Ua,{result:function(Ea){Ra(Qa,ya,Ua,Ea);},error:function(Ea){Na(ea,function(){Ea instanceof fb && ca instanceof ic && Ea.setEntity(ca);throw Ea;},Ma);}});},Ma);},error:function(ya){Na(ea,function(){ya instanceof fb && ca instanceof ic && ya.setEntity(ca);throw ya;},Ma);}});},Ma);}function Ra(Qa,Ua,pa,ya){Na(ea,function(){var Ea;Ea=la.getTokenFactory();ca instanceof ic?Ea.renewMasterToken(la,ca,Qa,pa,{result:function(Ja){Na(ea,function(){var Da,Sa;Da=new lc(la,Ja);Sa=new ba(Ja,aa.keyPairId,Ua,ya);return new mc.KeyExchangeData(Sa,Da,ea);},Ma);},error:function(Ja){Na(ea,function(){Ja instanceof fb && Ja.setEntity(ca);throw Ja;},Ma);}}):Ea.createMasterToken(la,ca,Qa,pa,{result:function(Ja){Na(ea,function(){var Da,Sa;Da=new lc(la,Ja);Sa=new ba(Ja,aa.keyPairId,Ua,ya);return new mc.KeyExchangeData(Sa,Da,ea);},Ma);},error:ea.error});},Ma);}Ma=this;Na(ea,function(){if(!(aa instanceof T))throw new yb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");this.generateSessionKeys(la,{result:function(Qa){xa(Qa.encryptionKey,Qa.hmacKey);},error:function(Qa){Na(ea,function(){Qa instanceof fb && ca instanceof ic && Qa.setEntity(ca);throw Qa;},Ma);}});},Ma);},getCryptoContext:function(la,aa,ca,ea,xa){var Ra;Ra=this;Na(xa,function(){var Ma,Qa,Ua;if(!(aa instanceof T))throw new yb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");if(!(ca instanceof ba))throw new yb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Ma=aa.keyPairId;Qa=ca.keyPairId;if(Ma != Qa)throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ma + "; response " + Qa).setEntity(ea);Qa=aa.privateKey;if(!Qa)throw new Ub(S.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ea);Ua=da(la,Ma,aa.mechanism,Qa,null);Ua.unwrap(ca.encryptionKey,oc,Dc,{result:function(pa){Ua.unwrap(ca.hmacKey,pc,Mc,{result:function(ya){la.getEntityAuthenticationData(null,{result:function(Ea){Na(xa,function(){var Ja;Ja=Ea.getIdentity();return new lc(la,ca.masterToken,Ja,pa,ya);},Ra);},error:function(Ea){Na(xa,function(){Ea instanceof fb && Ea.setEntity(ea);throw Ea;},Ra);}});},error:function(ya){Na(xa,function(){ya instanceof fb && ya.setEntity(ea);throw ya;},Ra);}});},error:function(pa){Na(xa,function(){pa instanceof fb && pa.setEntity(ea);throw pa;},Ra);}});},Ra);}});})();zf=Gb.Class.create({init:function(da){var X,T,U,ba,V,fa,wa,ua;X=ac.parser();T=[];U=[];wa=0;ua=!1;X.onerror=function(ka){ua || (ua=!0,X.end());};X.onopenobject=function(ka){var sa;if(ba)(ba[fa]={},U.push(ba),ba=ba[fa]);else if(V){sa={};U.push(V);V.push(sa);ba=sa;V=Eb;}else ba={};fa=ka;};X.oncloseobject=function(){var ka;ka=U.pop();ka?"object" === typeof ka?ba=ka:(ba=Eb,V=ka):(T.push(ba),wa=X.index,ba=Eb);};X.onopenarray=function(){var ka;if(ba)(ba[fa]=[],U.push(ba),V=ba[fa],ba=Eb);else if(V){ka=[];U.push(V);V.push(ka);V=ka;}else V=[];};X.onclosearray=function(){var ka;ka=U.pop();ka?"object" === typeof ka?(ba=ka,V=Eb):V=ka:(T.push(V),wa=X.index,V=Eb);};X.onkey=function(ka){fa=ka;};X.onvalue=function(ka){ba?ba[fa]=ka:V?V.push(ka):(T.push(ka),wa=X.index);};X.write(da).close();Object.defineProperties(this,{_values:{value:T,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:wa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Eb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var da,X,T,U,ba;da=Rd="entityauthdata";X=He="mastertoken";T=Ie="headerdata";U=Je="errordata";ba=Sd="signature";Ge=function(V,fa,wa,ua){Na(ua,function(){var ka,sa,za,la,aa,ca;ka=fa[da];sa=fa[X];za=fa[ba];if(ka && "object" !== typeof ka || sa && "object" !== typeof sa || "string" !== typeof za)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(fa));try{la=Mb(za);}catch(ea){throw new Nb(S.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(fa),ea);}aa=null;ka && (aa=se(V,ka));ca=fa[T];if(ca != Eb && null != ca){if("string" !== typeof ca)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(fa));sa?ed(V,sa,{result:function(ea){Td(V,ca,aa,ea,la,wa,ua);},error:function(ea){ua.error(ea);}}):Td(V,ca,aa,null,la,wa,ua);}else if((ka=fa[U],ka != Eb && null != ka)){if("string" !== typeof ka)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(fa));Ke(V,ka,aa,la,ua);}else throw new Hb(S.JSON_PARSE_ERROR,JSON.stringify(fa));});};})();(function(){function da(X,T){this.errordata=X;this.signature=T;}Ic=Gb.Class.create({init:function(X,T,U,ba,V,fa,wa,ua,ka,sa){var za;za=this;Na(sa,function(){var la,aa;0 > fa && (fa=-1);if(0 > ba || ba > Sb)throw new yb("Message ID " + ba + " is out of range.");if(!T)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);if(ka)return (Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:U,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:fa,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:ka.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka.signature,writable:!1,enumerable:!1,configurable:!1}}),this);la={};U && (la.recipient=U);la.messageid=ba;la.errorcode=V;0 < fa && (la.internalcode=fa);wa && (la.errormsg=wa);ua && (la.usermsg=ua);try{aa=X.getEntityAuthenticationFactory(T.scheme).getCryptoContext(X,T);}catch(ca){throw (ca instanceof fb && (ca.setEntity(T),ca.setMessageId(ba)),ca);}la=fc(JSON.stringify(la),Tb);aa.encrypt(la,{result:function(ca){Na(sa,function(){aa.sign(ca,{result:function(ea){Na(sa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:U,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:fa,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;},za);},error:function(ea){Na(sa,function(){ea instanceof fb && (ea.setEntity(T),ea.setMessageId(ba));throw ea;},za);}});},za);},error:function(ca){Na(sa,function(){ca instanceof fb && (ca.setEntity(T),ca.setMessageId(ba));throw ca;},za);}});},za);},toJSON:function(){var X;X={};X[Rd]=this.entityAuthenticationData;X[Je]=Jb(this.errordata);X[Sd]=Jb(this.signature);return X;}});Le=function(X,T,U,ba,V,fa,wa,ua,ka){new Ic(X,T,U,ba,V,fa,wa,ua,null,ka);};Ke=function(X,T,U,ba,V){Na(V,function(){var fa,wa,ua;if(!U)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);try{fa=U.scheme;wa=X.getEntityAuthenticationFactory(fa);if(!wa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,fa);ua=wa.getCryptoContext(X,U);}catch(ka){throw (ka instanceof fb && ka.setEntity(U),ka);}try{T=Mb(T);}catch(ka){throw new Nb(S.HEADER_DATA_INVALID,T,ka).setEntity(U);}if(!T || 0 == T.length)throw new Nb(S.HEADER_DATA_MISSING,T).setEntity(U);ua.verify(T,ba,{result:function(ka){Na(V,function(){if(!ka)throw new xb(S.MESSAGE_VERIFICATION_FAILED).setEntity(U);ua.decrypt(T,{result:function(sa){Na(V,function(){var za,la,aa,ca,ea,xa,Ra,Ma;za=ec(sa,Tb);try{la=JSON.parse(za);}catch(Ua){if(Ua instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"errordata " + za,Ua).setEntity(U);throw Ua;}aa=la.recipient !== Eb?la.recipient:null;ca=parseInt(la.messageid);ea=parseInt(la.errorcode);xa=parseInt(la.internalcode);Ra=la.errormsg;Ma=la.usermsg;if(aa && "string" !== typeof aa || !ca || ca != ca || !ea || ea != ea || la.internalcode && xa != xa || Ra && "string" !== typeof Ra || Ma && "string" !== typeof Ma)throw new Hb(S.JSON_PARSE_ERROR,"errordata " + za).setEntity(U);if(0 > ca || ca > Sb)throw new Nb(S.MESSAGE_ID_OUT_OF_RANGE,"errordata " + za).setEntity(U);la=!1;for(var Qa in Ga){if(Ga[Qa] == ea){la=!0;break;}}la || (ea=Ga.FAIL);if(xa){if(0 > xa)throw new Nb(S.INTERNAL_CODE_NEGATIVE,"errordata " + za).setEntity(U).setMessageId(ca);}else xa=-1;za=new da(T,ba);new Ic(X,U,aa,ca,ea,xa,Ra,Ma,za,V);});},error:function(sa){Na(V,function(){sa instanceof fb && sa.setEntity(U);throw sa;});}});});},error:function(ka){Na(V,function(){ka instanceof fb && ka.setEntity(U);throw ka;});}});});};})();Bf=Gb.Class.create({getUserMessage:function(da,X){}});(function(){Ud=function(da,X){var T;if(!da || !X)return null;T=da.compressionAlgorithms.filter(function(U){for(var ba=0;ba < X.compressionAlgorithms.length;++ba){if(U == X.compressionAlgorithms[ba])return !0;}return !1;});da=da.languages.filter(function(U){for(var ba=0;ba < X.languages.length;++ba){if(U == X.languages[ba])return !0;}return !1;});return new fd(T,da);};fd=Gb.Class.create({init:function(da,X){da || (da=[]);X || (X=[]);da.sort();Object.defineProperties(this,{compressionAlgorithms:{value:da,writable:!1,enumerable:!0,configurable:!1},languages:{value:X,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var da;da={};da.compressionalgos=this.compressionAlgorithms;da.languages=this.languages;return da;},equals:function(da){return this === da?!0:da instanceof fd?ce(this.compressionAlgorithms,da.compressionAlgorithms) && ce(this.languages,da.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Me=function(da){var X,T,ba;X=da.compressionalgos;T=da.languages;if(X && !(X instanceof Array) || T && !(T instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(da));da=[];for(var U=0;X && U < X.length;++U){ba=X[U];Kc[ba] && da.push(ba);}return new fd(da,T);};})();(function(){var sa,za;function da(la,aa,ca,ea,xa){this.customer=la;this.sender=aa;this.messageCryptoContext=ca;this.headerdata=ea;this.signature=xa;}function X(la,aa,ca,ea,xa,Ra,Ma,Qa,Ua,pa,ya,Ea,Ja,Da,Sa,Ia,Za,bb,Xa,kb){return {cryptoContext:{value:aa,writable:!1,configurable:!1},customer:{value:ca,writable:!1,configurable:!1},entityAuthenticationData:{value:ea,writable:!1,configurable:!1},masterToken:{value:xa,writable:!1,configurable:!1},sender:{value:Ra,writable:!1,configurable:!1},messageId:{value:Ma,writable:!1,configurable:!1},nonReplayableId:{value:Ia,writable:!1,configurable:!1},keyRequestData:{value:Qa,writable:!1,configurable:!1},keyResponseData:{value:Ua,writable:!1,configurable:!1},userAuthenticationData:{value:pa,writable:!1,configurable:!1},userIdToken:{value:ya,writable:!1,configurable:!1},serviceTokens:{value:Ea,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Da,writable:!1,configurable:!1},peerServiceTokens:{value:Sa,writable:!1,configurable:!1},messageCapabilities:{value:bb,writable:!1,configurable:!1},renewable:{value:Za,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:kb,writable:!1,enumerable:!1,configurable:!1}};}function T(la,aa,ca){var ea;if(ca){if(aa=la.getMslStore().getCryptoContext(ca))return aa;if(!ca.isVerified() || !ca.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,ca);return new lc(la,ca);}ca=aa.scheme;ea=la.getEntityAuthenticationFactory(ca);if(!ea)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ca);return ea.getCryptoContext(la,aa);}function U(la,aa,ca,ea,xa){Na(xa,function(){aa.verify(ca,ea,{result:function(Ra){Na(xa,function(){if(!Ra)throw new xb(S.MESSAGE_VERIFICATION_FAILED);aa.decrypt(ca,{result:function(Ma){Na(xa,function(){return ec(Ma,Tb);});},error:function(Ma){xa.error(Ma);}});});},error:function(Ra){xa.error(Ra);}});});}function ba(la,aa,ca){Na(ca,function(){if(aa)ze(la,aa,ca);else return null;});}function V(la,aa,ca,ea){Na(ea,function(){if(aa)vd(la,aa,ca,ea);else return null;});}function fa(la,aa,ca,ea){Na(ea,function(){if(ca)Qe(la,aa,ca,ea);else return null;});}function wa(la,aa,ca,ea,xa,Ra,Ma){var Ua;function Qa(pa,ya,Ea){var Ja,Da;if(ya >= pa.length){Ja=[];for(Da in Ua){Ja.push(Ua[Da]);}Ea.result(Ja);}else {Ja=pa[ya];if("object" !== typeof Ja)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + Ra);wd(la,Ja,ca,ea,xa,{result:function(Sa){Na(Ea,function(){Ua[Sa.uniqueKey()]=Sa;Qa(pa,ya + 1,Ea);});},error:function(Sa){Ea.error(Sa);}});}}Ua={};Na(Ma,function(){if(aa){if(!(aa instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + Ra);Qa(aa,0,Ma);}else return [];});}function ua(la,aa,ca,ea,xa,Ra){function Ma(Ua,pa,ya){Na(ya,function(){var Ea;Ea=pa.peermastertoken;if(Ea && "object" !== typeof Ea)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ea)return null;ed(Ua,Ea,ya);});}function Qa(Ua,pa,ya,Ea){Na(Ea,function(){var Ja;Ja=pa.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ja)return null;vd(Ua,Ja,ya,Ea);});}Na(Ra,function(){if(!la.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ma(la,aa,{result:function(Ua){Na(Ra,function(){var pa;pa=ca?ca.masterToken:Ua;Qa(la,aa,pa,{result:function(ya){Na(Ra,function(){wa(la,aa.peerservicetokens,pa,ya,ea,xa,{result:function(Ea){Na(Ra,function(){return {peerMasterToken:Ua,peerUserIdToken:ya,peerServiceTokens:Ea};});},error:function(Ea){Na(Ra,function(){Ea instanceof fb && (Ea.setEntity(pa),Ea.setUser(ya));throw Ea;});}});});},error:function(ya){Na(Ra,function(){ya instanceof fb && ya.setEntity(pa);throw ya;});}});});},error:Ra.error});});}function ka(la,aa,ca,ea){var Ra;function xa(Ma,Qa){Na(ea,function(){if(Qa >= Ma.length)return Ra;ye(la,Ma[Qa],{result:function(Ua){Na(ea,function(){Ra.push(Ua);xa(Ma,Qa + 1);});},error:function(Ua){ea.error(Ua);}});});}Ra=[];Na(ea,function(){var Ma;Ma=aa.keyrequestdata;if(!Ma)return Ra;if(!(Ma instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + ca);xa(Ma,0);});}sa=Oe=Gb.Class.create({init:function(la,aa,ca,ea,xa,Ra,Ma,Qa,Ua){Object.defineProperties(this,{messageId:{value:la,writable:!1,configurable:!1},nonReplayableId:{value:aa,writable:!1,configurable:!1},renewable:{value:ca,writable:!1,configurable:!1},capabilities:{value:ea,writable:!1,configurable:!1},keyRequestData:{value:xa,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthData:{value:Ma,writable:!1,configurable:!1},userIdToken:{value:Qa,writable:!1,configurable:!1},serviceTokens:{value:Ua,writable:!1,configurable:!1}});}});za=Pe=Gb.Class.create({init:function(la,aa,ca){Object.defineProperties(this,{peerMasterToken:{value:la,writable:!1,configurable:!1},peerUserIdToken:{value:aa,writable:!1,configurable:!1},peerServiceTokens:{value:ca,writable:!1,configurable:!1}});}});gd=Gb.Class.create({init:function(la,aa,ca,ea,xa,Ra,Ma){var Ua;function Qa(pa){Na(Ma,function(){var ya,Ea,Ja,Da,Sa,Ia,Za,bb,Xa,kb,ob,sb,tb,ub,Cb,Ab,ra;aa=ca?null:aa;ya=ea.nonReplayableId;Ea=ea.renewable;Ja=ea.capabilities;Da=ea.messageId;Sa=ea.keyRequestData?ea.keyRequestData:[];Ia=ea.keyResponseData;Za=ea.userAuthData;bb=ea.userIdToken;Xa=ea.serviceTokens?ea.serviceTokens:[];if(la.isPeerToPeer()){kb=xa.peerMasterToken;ob=xa.peerUserIdToken;sb=xa.peerServiceTokens?xa.peerServiceTokens:[];}else (ob=kb=null,sb=[]);if(0 > Da || Da > Sb)throw new yb("Message ID " + Da + " is out of range.");if(!aa && !ca)throw new yb("Message entity authentication data or master token must be provided.");if(Ia){if(la.isPeerToPeer()){tb=ca;ub=Ia.masterToken;}else (tb=Ia.masterToken,ub=kb);}else (tb=ca,ub=kb);if(bb && (!tb || !bb.isBoundTo(tb)))throw new yb("User ID token must be bound to a master token.");if(ob && (!ub || !ob.isBoundTo(ub)))throw new yb("Peer user ID token must be bound to a peer master token.");Xa.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!tb || !Fa.isBoundTo(tb)))throw new yb("Master token bound service tokens must be bound to the provided master token.");if(Fa.isUserIdTokenBound() && (!bb || !Fa.isBoundTo(bb)))throw new yb("User ID token bound service tokens must be bound to the provided user ID token.");},this);sb.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!ub || !Fa.isBoundTo(ub)))throw new yb("Master token bound peer service tokens must be bound to the provided peer master token.");if(Fa.isUserIdTokenBound() && (!ob || !Fa.isBoundTo(ob)))throw new yb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ra){ra=Ra.customer;Cb=Ra.messageCryptoContext;Ab=X(la,Cb,ra,aa,ca,pa,Da,Sa,Ia,Za,bb,Xa,kb,ob,sb,ya,Ea,Ja,Ra.headerdata,Ra.signature);Object.defineProperties(this,Ab);return this;}ra=bb?bb.customer:null;Ab={};pa && (Ab.sender=pa);Ab.messageid=Da;"number" === typeof ya && (Ab.nonreplayableid=ya);Ab.renewable=Ea;Ja && (Ab.capabilities=Ja);0 < Sa.length && (Ab.keyrequestdata=Sa);Ia && (Ab.keyresponsedata=Ia);Za && (Ab.userauthdata=Za);bb && (Ab.useridtoken=bb);0 < Xa.length && (Ab.servicetokens=Xa);kb && (Ab.peermastertoken=kb);ob && (Ab.peeruseridtoken=ob);0 < sb.length && (Ab.peerservicetokens=sb);try{Cb=T(la,aa,ca);}catch(Fa){throw (Fa instanceof fb && (Fa.setEntity(ca),Fa.setEntity(aa),Fa.setUser(bb),Fa.setUser(Za),Fa.setMessageId(Da)),Fa);}Ab=fc(JSON.stringify(Ab),Tb);Cb.encrypt(Ab,{result:function(Fa){Na(Ma,function(){Cb.sign(Fa,{result:function(Oa){Na(Ma,function(){var r;r=X(la,Cb,ra,aa,ca,pa,Da,Sa,Ia,Za,bb,Xa,kb,ob,sb,ya,Ea,Ja,Fa,Oa);Object.defineProperties(this,r);return this;},Ua);},error:function(Oa){Na(Ma,function(){Oa instanceof fb && (Oa.setEntity(ca),Oa.setEntity(aa),Oa.setUser(bb),Oa.setUser(Za),Oa.setMessageId(Da));throw Oa;},Ua);}});},Ua);},error:function(Fa){Na(Ma,function(){Fa instanceof fb && (Fa.setEntity(ca),Fa.setEntity(aa),Fa.setUser(bb),Fa.setUser(Za),Fa.setMessageId(Da));throw Fa;},Ua);}});},Ua);}Ua=this;Na(Ma,function(){Ra?Qa(Ra.sender):ca?la.getEntityAuthenticationData(null,{result:function(pa){pa=pa.getIdentity();Qa(pa);},error:Ma.error}):Qa(null);},Ua);},isEncrypting:function(){return this.masterToken || Cd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var la;la={};this.masterToken?la[He]=this.masterToken:la[Rd]=this.entityAuthenticationData;la[Ie]=Jb(this.headerdata);la[Sd]=Jb(this.signature);return la;}});Ne=function(la,aa,ca,ea,xa,Ra){new gd(la,aa,ca,ea,xa,null,Ra);};Td=function(la,aa,ca,ea,xa,Ra,Ma){Na(Ma,function(){var Qa,Ua;ca=ea?null:ca;if(!ca && !ea)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);Qa=aa;try{aa=Mb(Qa);}catch(pa){throw new Nb(S.HEADER_DATA_INVALID,Qa,pa);}if(!aa || 0 == aa.length)throw new Nb(S.HEADER_DATA_MISSING,Qa);try{Ua=T(la,ca,ea);}catch(pa){throw (pa instanceof fb && (pa.setEntity(ea),pa.setEntity(ca)),pa);}U(la,Ua,aa,xa,{result:function(pa){Na(Ma,function(){var ya,Ea,Ja,Da,Sa;try{ya=JSON.parse(pa);}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa,Ia).setEntity(ea).setEntity(ca);throw Ia;}Ea=parseInt(ya.messageid);if(!Ea || Ea != Ea)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa).setEntity(ea).setEntity(ca);if(0 > Ea || Ea > Sb)throw new Nb(S.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + pa).setEntity(ea).setEntity(ca);Ja=ea?ya.sender:null;if(ea && (!Ja || "string" !== typeof Ja))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa).setEntity(ea).setEntity(ca).setMessageId(Ea);Da=ya.keyresponsedata;if(Da && "object" !== typeof Da)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa).setEntity(ea).setEntity(ca).setMessageId(Ea);Sa=Ma;Ma={result:function(Ia){Sa.result(Ia);},error:function(Ia){Ia instanceof fb && (Ia.setEntity(ea),Ia.setEntity(ca),Ia.setMessageId(Ea));Sa.error(Ia);}};ba(la,Da,{result:function(Ia){Na(Ma,function(){var Za,bb;Za=!la.isPeerToPeer() && Ia?Ia.masterToken:ea;bb=ya.useridtoken;if(bb && "object" !== typeof bb)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa);V(la,bb,Za,{result:function(Xa){Na(Ma,function(){var kb;kb=ya.userauthdata;if(kb && "object" !== typeof kb)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa);fa(la,Za,kb,{result:function(ob){Na(Ma,function(){var sb,tb,ub;if(ob){sb=ob.scheme;tb=la.getUserAuthenticationFactory(sb);if(!tb)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,sb).setUser(Xa).setUser(ob);sb=ea?ea.identity:ca.getIdentity();ub=tb.authenticate(la,sb,ob,Xa);}else ub=Xa?Xa.customer:null;wa(la,ya.servicetokens,Za,Xa,Ra,pa,{result:function(Cb){Na(Ma,function(){var Ab,ra,Fa,Oa;Ab=ya.nonreplayableid !== Eb?parseInt(ya.nonreplayableid):null;ra=ya.renewable;if(Ab != Ab || "boolean" !== typeof ra)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa);if(0 > Ab || Ab > Sb)throw new Nb(S.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + pa);Fa=null;Oa=ya.capabilities;if(Oa){if("object" !== typeof Oa)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + pa);Fa=Me(Oa);}ka(la,ya,pa,{result:function(r){ua(la,ya,Ia,Ra,pa,{result:function(b){Na(Ma,function(){var a,c,l,f;a=b.peerMasterToken;c=b.peerUserIdToken;l=b.peerServiceTokens;f=new sa(Ea,Ab,ra,Fa,r,Ia,ob,Xa,Cb);a=new za(a,c,l);c=new da(ub,Ja,Ua,aa,xa);new gd(la,ca,ea,f,a,c,Ma);});},error:Ma.error});},error:function(r){Na(Ma,function(){r instanceof fb && (r.setUser(Xa),r.setUser(ob));throw r;});}});});},error:function(Cb){Na(Ma,function(){Cb instanceof fb && (Cb.setEntity(Za),Cb.setUser(Xa),Cb.setUser(ob));throw Cb;});}});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});};})();(function(){function da(X,T){this.payload=X;this.signature=T;}Vd=Gb.Class.create({init:function(X,T,U,ba,V,fa,wa,ua){var ka;ka=this;Na(ua,function(){var sa,za;if(0 > X || X > Sb)throw new yb("Sequence number " + X + " is outside the valid range.");if(0 > T || T > Sb)throw new yb("Message ID " + T + " is outside the valid range.");if(wa)return (Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:U,writable:!1,enumerable:!1,configurable:!1},payload:{value:wa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ba){sa=Wd(ba,V);sa || (ba=null,sa=V);}else (ba=null,sa=V);za={};za.sequencenumber=X;za.messageid=T;U && (za.endofmsg=U);ba && (za.compressionalgo=ba);za.data=Jb(sa);sa=fc(JSON.stringify(za),Tb);fa.encrypt(sa,{result:function(la){Na(ua,function(){fa.sign(la,{result:function(aa){Na(ua,function(){Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:U,writable:!1,enumerable:!1,configurable:!1},payload:{value:la,writable:!1,enumerable:!1,configurable:!1},signature:{value:aa,writable:!1,enumerable:!1,configurable:!1}});return this;},ka);},error:function(aa){ua.error(aa);}});},ka);},error:function(la){ua.error(la);}});},ka);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var X;X={};X.payload=Jb(this.payload);X.signature=Jb(this.signature);return X;}});Re=function(X,T,U,ba,V,fa,wa){new Vd(X,T,U,ba,V,fa,null,wa);};Se=function(X,T,U){Na(U,function(){var ba,V,fa,wa;ba=X.payload;V=X.signature;if(!ba || "string" !== typeof ba || "string" !== typeof V)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(X));try{fa=Mb(ba);}catch(ua){throw new Nb(S.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(X),ua);}try{wa=Mb(V);}catch(ua){throw new Nb(S.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(X),ua);}T.verify(fa,wa,{result:function(ua){Na(U,function(){if(!ua)throw new xb(S.PAYLOAD_VERIFICATION_FAILED);T.decrypt(fa,{result:function(ka){Na(U,function(){var sa,za,la,aa,ca,ea,xa;sa=ec(ka,Tb);try{za=JSON.parse(sa);}catch(Ra){if(Ra instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk payload " + sa,Ra);throw Ra;}la=parseInt(za.sequencenumber);aa=parseInt(za.messageid);ca=za.endofmsg;ea=za.compressionalgo;za=za.data;if(!la || la != la || !aa || aa != aa || ca && "boolean" !== typeof ca || ea && "string" !== typeof ea || "string" !== typeof za)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk payload " + sa);if(0 > la || la > Sb)throw new fb(S.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + sa);if(0 > aa || aa > Sb)throw new fb(S.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + sa);ca || (ca=!1);if(ea && !Kc[ea])throw new Nb(S.UNIDENTIFIED_COMPRESSION,ea);try{xa=Mb(za);}catch(Ra){throw new Nb(S.PAYLOAD_DATA_CORRUPT,za,Ra);}if(xa && 0 != xa.length)sa=ea?xd(ea,xa):xa;else {if(0 < za.length)throw new Nb(S.PAYLOAD_DATA_CORRUPT,za);if(ca)sa=new Uint8Array(0);else throw new Nb(S.PAYLOAD_DATA_MISSING,za);}xa=new da(fa,wa);new Vd(la,aa,ca,ea,sa,T,xa,U);});},error:function(ka){U.error(ka);}});});},error:function(ua){U.error(ua);}});});};})();(function(){var U,ba;function da(V,fa,wa,ua,ka){var za,la,aa,ca,ea;function sa(){Na(ka,function(){var xa,Ra;la >= fa.length && (la=0,++za);if(za >= aa.length){if(ca)throw ca;throw new Ub(S.KEYX_FACTORY_NOT_FOUND,JSON.stringify(fa));}xa=aa[za];Ra=fa[la];xa.scheme != Ra.keyExchangeScheme?(++la,sa()):xa.generateResponse(V,Ra,ea,{result:function(Ma){ka.result(Ma);},error:function(Ma){Na(ka,function(){if(!(Ma instanceof fb))throw Ma;ca=Ma;++la;sa();});}});});}za=0;la=0;aa=V.getKeyExchangeFactories();ea=wa?wa:ua;sa();}function X(V,fa,wa,ua,ka){Na(ka,function(){var sa;sa=fa.keyRequestData;if(fa.isRenewable() && 0 < sa.length)ua?ua.isRenewable() || ua.isExpired()?da(V,sa,ua,null,ka):V.getTokenFactory().isNewestMasterToken(V,ua,{result:function(za){Na(ka,function(){if(za)return null;da(V,sa,ua,null,ka);});},error:ka.error}):da(V,sa,null,wa.getIdentity(),ka);else return null;});}function T(V,fa,wa,ua){Na(ua,function(){var ka,sa,za,la;ka=fa.userIdToken;sa=fa.userAuthenticationData;za=fa.messageId;if(ka && ka.isVerified()){if(ka.isRenewable() && fa.isRenewable() || ka.isExpired() || !ka.isBoundTo(wa)){sa=V.getTokenFactory();sa.renewUserIdToken(V,ka,wa,ua);return;}}else if(fa.isRenewable() && wa && sa){ka=fa.customer;if(!ka){ka=sa.scheme;la=V.getUserAuthenticationFactory(ka);if(!la)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ka).setEntity(wa).setUser(sa).setMessageId(za);ka=la.authenticate(V,wa.identity,sa,null);}sa=V.getTokenFactory();sa.createUserIdToken(V,ka,wa,ua);return;}return ka;});}U=new Uint8Array(0);ba=Nc=function(V){if(0 > V || V > Sb)throw new yb("Message ID " + V + " is outside the valid range.");return V == Sb?0:V + 1;};Wc=function(V){if(0 > V || V > Sb)throw new yb("Message ID " + V + " is outside the valid range.");return 0 == V?Sb:V - 1;};Oc=function(V,fa,wa,ua,ka){Na(ka,function(){var sa;if(ua == Eb || null == ua){sa=V.getRandom();do {ua=sa.nextLong();}while(0 > ua || ua > Sb);}else if(0 > ua || ua > Sb)throw new yb("Message ID " + ua + " is outside the valid range.");V.getEntityAuthenticationData(null,{result:function(za){Na(ka,function(){var la;la=V.getMessageCapabilities();return new yd(V,ua,la,za,fa,wa,null,null,null,null,null);});},error:function(za){ka.error(za);}});});};Te=function(V,fa,wa){Na(wa,function(){var ka,sa,za,la,aa,ca;function ua(ea){Na(wa,function(){ea instanceof fb && (ea.setEntity(ka),ea.setEntity(sa),ea.setUser(za),ea.setUser(la),ea.setMessageId(aa));throw ea;});}ka=fa.masterToken;sa=fa.entityAuthenticationData;za=fa.userIdToken;la=fa.userAuthenticationData;aa=fa.messageId;ca=ba(aa);X(V,fa,sa,ka,{result:function(ea){Na(wa,function(){var xa;xa=ea?ea.keyResponseData.masterToken:xa=ka;V.getEntityAuthenticationData(null,{result:function(Ra){Na(wa,function(){T(V,fa,xa,{result:function(Ma){Na(wa,function(){var Qa,Ua,pa;za=Ma;Qa=Ud(fa.messageCapabilities,V.getMessageCapabilities());Ua=fa.keyResponseData;pa=fa.serviceTokens;return V.isPeerToPeer()?new yd(V,ca,Qa,Ra,Ua?Ua.masterToken:fa.peerMasterToken,fa.peerUserIdToken,fa.peerServiceTokens,ka,za,pa,ea):new yd(V,ca,Qa,Ra,Ua?Ua.masterToken:ka,za,pa,null,null,null,ea);});},error:ua});});},error:ua});});},error:ua});});};Ue=function(V,fa,wa,ua,ka){Na(ka,function(){V.getEntityAuthenticationData(null,{result:function(sa){Na(ka,function(){var za,la;if(fa != Eb && null != fa)za=ba(fa);else {la=V.getRandom();do {za=la.nextInt();}while(0 > za || za > Sb);}Le(V,sa,za,wa.responseCode,wa.internalCode,wa.message,ua,ka);});},error:function(sa){ka.error(sa);}});});};yd=Gb.Class.create({init:function(V,fa,wa,ua,ka,sa,za,la,aa,ca,ea){var xa,Ra,Ma,Qa,Ua;if(!V.isPeerToPeer() && (la || aa))throw new yb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");xa=ea && !V.isPeerToPeer()?ea.keyResponseData.masterToken:ka;Ra=[];xa=V.getMslStore().getServiceTokens(xa,sa);Ra.push.apply(Ra,xa);za && za.forEach(function(pa){Ra.push(pa);},this);Ma=[];if(V.isPeerToPeer()){Qa=la;Ua=aa;za=ea?ea.keyResponseData.masterToken:la;aa=V.getMslStore().getServiceTokens(za,aa);Ma.push.apply(Ma,aa);ca && ca.forEach(function(pa){Ma.push(pa);},this);}Object.defineProperties(this,{_ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ua,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ka,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:fa,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:wa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ea,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:sa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Qa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Cd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Cd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || de(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || de(this._entityAuthData.scheme);},getHeader:function(V){Na(V,function(){var fa,wa,ua;fa=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;wa=[];for(ua in this._keyRequestData){wa.push(this._keyRequestData[ua]);}if(this._nonReplayable){if(!this._masterToken)throw new Nb(S.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ua=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ua=null;fa=new Oe(this._messageId,ua,this._renewable,this._capabilities,wa,fa,this._userAuthData,this._userIdToken,this._serviceTokens);wa=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ne(this._ctx,this._entityAuthData,this._masterToken,fa,wa,V);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(V){this._nonReplayable=V;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(V){this._renewable=V;return this;},setAuthTokens:function(V,fa){var wa,ka;if(fa && !fa.isBoundTo(V))throw new yb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new yb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{wa=this._ctx.getMslStore().getServiceTokens(V,fa);}catch(sa){if(sa instanceof fb)throw new yb("Invalid master token and user ID token combination despite checking above.",sa);throw sa;}for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){ka=this._serviceTokens[ua];(ka.isUserIdTokenBound() && !ka.isBoundTo(fa) || ka.isMasterTokenBound() && !ka.isBoundTo(V)) && this._serviceTokens.splice(ua,1);}wa.forEach(function(sa){this.excludeServiceToken(sa.name,sa.isMasterTokenBound(),sa.isUserIdTokenBound());this._serviceTokens.push(sa);},this);this._masterToken=V;this._userIdToken=fa;},setUserAuthenticationData:function(V){this._userAuthData=V;return this;},setCustomer:function(V,fa){var wa;wa=this;Na(fa,function(){var ua;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new yb("User ID token or peer user ID token already exists for the remote user.");ua=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ua)throw new yb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,V,ua,{result:function(ka){Na(fa,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ka:(this._userIdToken=ka,this._userAuthData=null);return !0;},wa);},error:function(ka){fa.error(ka);}});},wa);},addKeyRequestData:function(V){this._keyRequestData[V.uniqueKey()]=V;return this;},removeKeyRequestData:function(V){delete this._keyRequestData[V.uniqueKey()];return this;},addServiceToken:function(V){var fa;fa=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(V.isMasterTokenBound() && !V.isBoundTo(fa))throw new Nb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(fa)).setEntity(fa);if(V.isUserIdTokenBound() && !V.isBoundTo(this._userIdToken))throw new Nb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(fa).setUser(this._userIdToken);this.excludeServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._serviceTokens.push(V);return this;},addServiceTokenIfAbsent:function(V){var wa;for(var fa=this._serviceTokens.length - 1;0 <= fa;--fa){wa=this._serviceTokens[fa];if(wa.name == V.name && wa.isMasterTokenBound() == V.isMasterTokenBound() && wa.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addServiceToken(V);return this;},excludeServiceToken:function(){var V,fa,wa,ka;if(1 == arguments.length){V=arguments[0];fa=V.name;wa=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,fa=arguments[0],wa=arguments[1],V=arguments[2]);for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){ka=this._serviceTokens[ua];ka.name == fa && ka.isMasterTokenBound() == wa && ka.isUserIdTokenBound() == V && this._serviceTokens.splice(ua,1);}return this;},deleteServiceToken:function(){var V,fa,wa,ua;if(2 == arguments.length){V=arguments[0];fa=V.name;V.isMasterTokenBound();V.isUserIdTokenBound();wa=arguments[1];}else (arguments.length=4,fa=arguments[0],wa=arguments[3]);ua=this;Na(wa,function(){var ka,sa;ka=originalToken.isMasterTokenBound()?this._masterToken:null;sa=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,fa,U,ka,sa,!1,null,new Vc(),{result:function(za){Na(wa,function(){return this.addServiceToken(za);},ua);},error:function(za){za instanceof fb && (za=new yb("Failed to create and add empty service token to message.",za));wa.error(za);}});},ua);},getServiceTokens:function(){var V;V=[];V.push.apply(V,this._serviceTokens);return V;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(V,fa){var wa,ka;if(!this._ctx.isPeerToPeer())throw new yb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(fa && !V)throw new yb("Peer master token cannot be null when setting peer user ID token.");if(fa && !fa.isBoundTo(V))throw new Nb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + fa + "; mt " + V).setEntity(V).setUser(fa);try{wa=this._ctx.getMslStore().getServiceTokens(V,fa);}catch(sa){if(sa instanceof fb)throw new yb("Invalid peer master token and user ID token combination despite proper check.",sa);throw sa;}for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){ka=this._peerServiceTokens[ua];(ka.isUserIdTokenBound() && !ka.isBoundTo(fa) || ka.isMasterTokenBound() && !ka.isBoundTo(V)) && this._peerServiceTokens.slice(ua,1);}wa.forEach(function(sa){this.excludePeerServiceToken(sa.name,sa.isMasterTokenBound(),sa.isUserIdTokenBound());this._peerServiceTokens.push(sa);},this);this._peerUserIdToken=fa;this._peerMasterToken=V;return this;},addPeerServiceToken:function(V){if(!this._ctx.isPeerToPeer())throw new yb("Cannot set peer service tokens when not in peer-to-peer mode.");if(V.isMasterTokenBound() && !V.isBoundTo(this._peerMasterToken))throw new Nb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(V.isUserIdTokenBound() && !V.isBoundTo(this._peerUserIdToken))throw new Nb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._peerServiceTokens.push(V);return this;},addPeerServiceTokenIfAbsent:function(V){var wa;for(var fa=this._peerServiceTokens.length - 1;0 <= fa;--fa){wa=this._peerServiceTokens[fa];if(wa.name == V.name && wa.isMasterTokenBound() == V.isMasterTokenBound() && wa.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addPeerServiceToken(V);return this;},excludePeerServiceToken:function(){var V,fa,wa,ka;if(1 == arguments.length){V=arguments[0];fa=V.name;wa=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,fa=arguments[0],wa=arguments[1],V=arguments[2]);for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){ka=this._peerServiceTokens[ua];ka.name == fa && ka.isMasterTokenBound() == wa && ka.isUserIdTokenBound() == V && this._peerServiceTokens.splice(ua,1);}return this;},deletePeerServiceToken:function(){var V,fa,wa,ua,ka,sa;if(2 == arguments.length){V=arguments[0];fa=V.name;wa=V.isMasterTokenBound();ua=V.isUserIdTokenBound();ka=arguments[1];}else (arguments.length=4,fa=arguments[0],wa=arguments[1],ua=arguments[2],ka=arguments[3]);sa=this;Na(ka,function(){zc(this._ctx,fa,U,wa?this._peerMasterToken:null,ua?this._peerUserIdToken:null,!1,null,new Vc(),{result:function(za){Na(ka,function(){return this.addPeerServiceToken(za);},sa);},error:function(za){za instanceof fb && (za=new yb("Failed to create and add empty peer service token to message.",za));ka.error(za);}});},sa);},getPeerServiceTokens:function(){var V;V=[];V.push.apply(V,this._peerServiceTokens);return V;}});})();(function(){function da(T,U){return U[T]?U[T]:U[""];}function X(T){var U;U=T.builder.getKeyExchangeData();return U && !T.ctx.isPeerToPeer()?U.keyResponseData.masterToken:T.builder.getMasterToken();}Ve=Gb.Class.create({init:function(T,U,ba){T={ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:U.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ba,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},isPrimaryMasterTokenAvailable:function(){return X(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(T){try{return (this.builder.addServiceToken(T),!0);}catch(U){if(U instanceof Nb)return !1;throw U;}},addPeerServiceToken:function(T){try{return (this.builder.addPeerServiceToken(T),!0);}catch(U){if(U instanceof Nb)return !1;throw U;}},addUnboundPrimaryServiceToken:function(T,U,ba,V,fa){var wa;wa=this;Na(fa,function(){var ua;ua=da(T,this.cryptoContexts);if(!ua)return !1;zc(this.ctx,T,U,null,null,ba,V,ua,{result:function(ka){Na(fa,function(){try{this.builder.addServiceToken(ka);}catch(sa){if(sa instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return !0;},wa);},error:function(ka){fa.error(ka);}});},wa);},addUnboundPeerServiceToken:function(T,U,ba,V,fa){var wa;wa=this;Na(fa,function(){var ua;ua=da(T,this.cryptoContexts);if(!ua)return !1;zc(this.ctx,T,U,null,null,ba,V,ua,{result:function(ka){Na(fa,function(){try{this.builder.addPeerServiceToken(ka);}catch(sa){if(sa instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return !0;},wa);},error:function(ka){fa.error(ka);}});},wa);},addMasterBoundPrimaryServiceToken:function(T,U,ba,V,fa){var wa;wa=this;Na(fa,function(){var ua,ka;ua=X(this);if(!ua)return !1;ka=da(T,this.cryptoContexts);if(!ka)return !1;zc(this.ctx,T,U,ua,null,ba,V,ka,{result:function(sa){Na(fa,function(){try{this.builder.addServiceToken(sa);}catch(za){if(za instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},wa);},error:function(sa){fa.error(sa);}});},wa);},addMasterBoundPeerServiceToken:function(T,U,ba,V,fa){var wa;wa=this;Na(fa,function(){var ua,ka;ua=this.builder.getPeerMasterToken();if(!ua)return !1;ka=da(T,this.cryptoContexts);if(!ka)return !1;zc(this.ctx,T,U,ua,null,ba,V,ka,{result:function(sa){Na(fa,function(){try{this.builder.addPeerServiceToken(sa);}catch(za){if(za instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},wa);},error:function(sa){fa.error(sa);}});},wa);},addUserBoundPrimaryServiceToken:function(T,U,ba,V,fa){var wa;wa=this;Na(fa,function(){var ua,ka,sa;ua=X(this);if(!ua)return !1;ka=this.builder.getUserIdToken();if(!ka)return !1;sa=da(T,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,T,U,ua,ka,ba,V,sa,{result:function(za){Na(fa,function(){try{this.builder.addServiceToken(za);}catch(la){if(la instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return !0;},wa);},error:function(za){fa.error(za);}});},wa);},addUserBoundPeerServiceToken:function(T,U,ba,V,fa){var wa;wa=this;Na(fa,function(){var ua,ka,sa;ua=this.builder.getPeerMasterToken();if(!ua)return !1;ka=this.builder.getPeerUserIdToken();if(!ka)return !1;sa=da(T,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,T,U,ua,ka,ba,V,sa,{result:function(za){Na(fa,function(){try{this.builder.addPeerServiceToken(za);}catch(la){if(la instanceof Nb)throw new yb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return !0;},wa);},error:function(za){fa.error(za);}});},wa);},excludePrimaryServiceToken:function(){var T,U,ba,V;if(1 == arguments.length){T=arguments[0];U=T.name;ba=T.isMasterTokenBound();V=T.isUserIdTokenBound();}else (arguments.length=3,U=arguments[0],ba=arguments[1],V=arguments[2]);for(var fa=this.builder.getServiceTokens(),wa=0;wa < fa.length;++wa){if((T=fa[wa],T.name == U && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == V))return (this.builder.excludeServiceToken(U,ba,V),!0);}return !1;},excludePeerServiceToken:function(){var T,U,ba,V;if(1 == arguments.length){T=arguments[0];U=T.name;ba=T.isMasterTokenBound();V=T.isUserIdTokenBound();}else (arguments.length=3,U=arguments[0],ba=arguments[1],V=arguments[2]);for(var fa=this.builder.getPeerServiceTokens(),wa=0;wa < fa.length;++wa){if((T=fa[wa],T.name == U && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == V))return (this.builder.excludePeerServiceToken(U,ba,V),!0);}return !1;},deletePrimaryServiceToken:function(){var T,U,ba,V,fa;if(2 == arguments.length){T=arguments[0];U=T.name;ba=T.isMasterTokenBound();V=T.isUserIdTokenBound();fa=arguments[1];}else 4 == arguments.length && (U=arguments[0],ba=arguments[1],V=arguments[2],fa=arguments[3]);Na(fa,function(){var ka;for(var wa=this.builder.getServiceTokens(),ua=0;ua < wa.length;++ua){ka=wa[ua];if(ka.name == U && ka.isMasterTokenBound() == ba && ka.isUserIdTokenBound() == V){this.builder.deleteServiceToken(U,ba,V,{result:function(){fa.result(!0);},error:function(sa){fa.error(sa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var T,U,ba,V,fa;if(2 == arguments.length){T=arguments[0];U=T.name;ba=T.isMasterTokenBound();V=T.isUserIdTokenBound();fa=arguments[1];}else 4 == arguments.length && (U=arguments[0],ba=arguments[1],V=arguments[2],fa=arguments[3]);Na(fa,function(){var ka;for(var wa=this.builder.getPeerServiceTokens(),ua=0;ua < wa.length;++ua){ka=wa[ua];if(ka.name == U && ka.isMasterTokenBound() == ba && ka.isUserIdTokenBound() == V){this.builder.deletePeerServiceToken(U,ba,V,{result:function(){fa.result(!0);},error:function(sa){fa.error(sa);}});return;}}return !1;},this);}});})();(function(){function da(X,T,U,ba){Na(ba,function(){var fa,wa,ua,ka,sa,za;function V(){Na(ba,function(){var la;if(za >= U.length){if(sa)throw sa;throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(U));}la=U[za];ua != la.keyExchangeScheme?(++za,V()):ka.getCryptoContext(X,la,wa,fa,{result:ba.result,error:function(aa){Na(ba,function(){if(!(aa instanceof fb))throw aa;sa=aa;++za;V();});}});});}fa=T.masterToken;wa=T.keyResponseData;if(!wa)return null;ua=wa.keyExchangeScheme;ka=X.getKeyExchangeFactory(ua);if(!ka)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ua);za=0;V();});}We=Qd.extend({init:function(X,T,U,ba,V,fa,wa){var ua;ua=this;cb(wa,function(){var ca;function ka(){ua._ready=!0;ua._readyQueue.add(!0);}function sa(ea,xa){var Ra;try{Ra=xa.masterToken;ea.getTokenFactory().isMasterTokenRevoked(ea,Ra,{result:function(Ma){Ma?(ua._errored=new ad(Ma,Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ka()):za(ea,xa);},error:function(Ma){Ma instanceof fb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ua._errored=Ma;ka();}});}catch(Ma){Ma instanceof fb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ua._errored=Ma;ka();}}function za(ea,xa){var Ra,Ma;try{Ra=xa.masterToken;Ma=xa.userIdToken;Ma?ea.getTokenFactory().isUserIdTokenRevoked(ea,Ra,Ma,{result:function(Qa){Qa?(ua._errored=new MslUserIdTokenException(Qa,Ma).setEntity(Ra).setUser(Ma).setMessageId(xa.messageId),ka()):la(ea,xa);},error:function(Qa){Qa instanceof fb && (Qa.setEntity(xa.masterToken),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ua._errored=Qa;ka();}}):la(ea,xa);}catch(Qa){Qa instanceof fb && (Qa.setEntity(xa.masterToken),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ua._errored=Qa;ka();}}function la(ea,xa){var Ra;try{Ra=xa.masterToken;Ra.isExpired()?xa.isRenewable() && 0 != xa.keyRequestData.length?ea.getTokenFactory().isMasterTokenRenewable(ea,Ra,{result:function(Ma){Ma?(ua._errored=new Nb(Ma,"Master token is expired and not renewable.").setEntity(Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ka()):aa(ea,xa);},error:function(Ma){Ma instanceof fb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ua._errored=Ma;ka();}}):(ua._errored=new Nb(S.MESSAGE_EXPIRED,JSON.stringify(xa)).setEntity(Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ka()):aa(ea,xa);}catch(Ma){Ma instanceof fb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ua._errored=Ma;ka();}}function aa(ea,xa){var Ra,Ma;try{Ra=xa.masterToken;Ma=xa.nonReplayableId;"number" === typeof Ma?Ra?ea.getTokenFactory().acceptNonReplayableId(ea,Ra,Ma,{result:function(Qa){Qa || (ua._errored=new Nb(S.MESSAGE_REPLAYED,JSON.stringify(xa)).setEntity(Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId));ka();},error:function(Qa){Qa instanceof fb && (Qa.setEntity(Ra),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ua._errored=Qa;ka();}}):(ua._errored=new Nb(S.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(xa)).setEntity(xa.entityAuthenticationData).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ka()):ka();}catch(Qa){Qa instanceof fb && (Qa.setEntity(xa.masterToken),Qa.setEntity(xa.entityAuthenticationData),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ua._errored=Qa;ka();}}ca={_source:{value:T,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Eb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:U,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:fa,writable:!1,enumerable:!1,configurable:!1},_header:{value:Eb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Eb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Eb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);xe(ua._source,fa,{result:function(ea){ua._json=ea;ua._jsonIndex=0;null === ua._json?(ua._errored=new Hb(S.MESSAGE_DATA_MISSING),ka()):Ge(X,ua._json[ua._jsonIndex++],V,{result:function(xa){var Ra;ua._header=xa;if(ua._header instanceof Ic)(ua._keyxCryptoContext=null,ua._cryptoContext=null,ka());else {Ra=ua._header;da(X,Ra,ba,{result:function(Ma){var Qa;try{ua._keyxCryptoContext=Ma;X.isPeerToPeer() || !ua._keyxCryptoContext?ua._cryptoContext=Ra.cryptoContext:ua._cryptoContext=ua._keyxCryptoContext;try{Qa=Ra.masterToken;Qa && (X.isPeerToPeer() || Qa.isVerified())?sa(X,Ra):aa(X,Ra);}catch(Ua){Ua instanceof fb && (Ua.setEntity(Ra.masterToken),Ua.setUser(Ra.userIdToken),Ua.setUser(Ra.userAuthenticationData),Ua.setMessageId(Ra.messageId));ua._errored=Ua;ka();}}catch(Ua){Ua instanceof fb && (Ua.setEntity(Ra.masterToken),Ua.setEntity(Ra.entityAuthenticationData),Ua.setUser(Ra.userIdToken),Ua.setUser(Ra.userAuthenticationData),Ua.setMessageId(Ra.messageId));ua._errored=Ua;ka();}},error:function(Ma){Ma instanceof fb && (Ma.setEntity(Ra.masterToken),Ma.setEntity(Ra.entityAuthenticationData),Ma.setUser(Ra.userIdToken),Ma.setUser(Ra.userAuthenticationData),Ma.setMessageId(Ra.messageId));ua._errored=Ma;ka();}});}},error:function(xa){ua._errored=xa;ka();}});},timeout:function(){ua._timedout=!0;ka();},error:function(ea){ua._errored=ea;ka();}});return this;},ua);},nextData:function(X,T){var U;U=this;cb(T,function(){var V;function ba(fa){cb(fa,function(){var wa;if(this._jsonIndex < this._json.length)return wa=this._json[this._jsonIndex++];xe(this._source,this._timeout,{result:function(ua){ua && ua.length && 0 < ua.length?(ua.forEach(function(ka){this._json.push(ka);}),ba(fa)):(this._eom=!0,fa.result(null));},timeout:function(){fa.timeout();},error:function(ua){fa.error(ua);}});},U);}V=this.getMessageHeader();if(!V)throw new yb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ba({result:function(fa){cb(T,function(){if(!fa)return null;if("object" !== typeof fa)throw new Hb(S.MESSAGE_FORMAT_ERROR);Se(fa,this._cryptoContext,{result:function(wa){cb(T,function(){var ua,ka,sa,za;ua=V.masterToken;ka=V.entityAuthenticationData;sa=V.userIdToken;za=V.getUserAuthenticationData;if(wa.messageId != V.messageId)throw new Nb(S.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + wa.messageId + " header mid " + V.messageId).setEntity(ua).setEntity(ka).setUser(sa).setUser(za);if(wa.sequenceNumber != this._payloadSequenceNumber)throw new Nb(S.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + wa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ua).setEntity(ka).setUser(sa).setUser(za);++this._payloadSequenceNumber;wa.isEndOfMessage() && (this._eom=!0);ua=wa.data;this._payloads.push(ua);this._payloadIndex=-1;return ua;},U);},error:function(wa){wa instanceof SyntaxError && (wa=new Hb(S.JSON_PARSE_ERROR,"payloadchunk",wa));T.error(wa);}});},U);},timeout:function(){T.timeout();},error:function(fa){T.error(fa);}});},U);},isReady:function(X,T){var ba;function U(){cb(T,function(){if(this._aborted)return !1;if(this._timedout)T.timeout();else {if(this._errored)throw this._errored;return !0;}},ba);}ba=this;cb(T,function(){this._ready?U():this._readyQueue.poll(X,{result:function(V){cb(T,function(){if(V === Eb)return !1;U();},ba);},timeout:function(){T.timeout();},error:function(V){T.error(V);}});},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorHeader:function(){return this._header instanceof Ic?this._header:null;},getIdentity:function(){var X,T;X=this.getMessageHeader();if(X){T=X.masterToken;return T?T.identity:X.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var X;X=this.getMessageHeader();return X?X.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(X){this._closeSource=X;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(X,T,U){var V;function ba(){cb(U,function(){var wa,ua,ka,sa;function fa(za){cb(za,function(){var la,aa,ca;if(ua && sa >= ua.length)return ua.subarray(0,sa);la=-1;if(this._currentPayload){aa=this._currentPayload.length - this._payloadOffset;if(!ua){ca=aa;if(-1 != this._payloadIndex)for(var ea=this._payloadIndex;ea < this._payloads.length;++ea){ca+=this._payloads[ea].length;}0 < ca && (ua=new Uint8Array(ca));}aa=Math.min(aa,ua?ua.length - sa:0);0 < aa && (la=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + aa),ua.set(la,ka),la=aa,ka+=aa,this._payloadOffset+=aa);}-1 != la?(sa+=la,fa(za)):this.nextData(T,{result:function(xa){cb(za,function(){if(this._aborted)return ua?ua.subarray(0,sa):new Uint8Array(0);this._currentPayload=xa;this._payloadOffset=0;if(this._currentPayload)fa(za);else return 0 == sa && 0 != X?null:ua?ua.subarray(0,sa):new Uint8Array(0);},V);},timeout:function(){za.timeout(ua?ua.subarray(0,sa):new Uint8Array(0));},error:function(xa){cb(za,function(){xa instanceof fb && (xa=new Yb("Error reading the payload chunk.",xa));if(0 < sa)return (V._readException=xa,ua.subarray(0,sa));throw xa;},V);}});},V);}if(this._aborted)return new Uint8Array(0);if(this._timedout)U.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){wa=this._readException;this._readException=null;throw wa;}ua=-1 != X?new Uint8Array(X):Eb;ka=0;sa=0;fa(U);}},V);}V=this;cb(U,function(){if(-1 > X)throw new RangeError("read requested with illegal length " + X);this._ready?ba():this._readyQueue.poll(T,{result:function(fa){fa === Eb?U.result(!1):ba();},timeout:function(){U.timeout(new Uint8Array(0));},error:function(fa){U.error(fa);}});},V);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Xe=function(X,T,U,ba,V,fa,wa){new We(X,T,U,ba,V,fa,wa);};})();(function(){Ye=ud.extend({init:function(da,X,T,U,ba,V,fa){var wa;wa=this;cb(fa,function(){var ka,sa,za;function ua(){wa._ready=!0;wa._readyQueue.add(!0);}ka=Ud(da.getMessageCapabilities(),U.messageCapabilities);sa=null;ka && (sa=me(ka.compressionAlgorithms));ka={_destination:{value:X,writable:!1,enumerable:!1,configurable:!1},_charset:{value:T,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ka,writable:!1,enumerable:!1,configurable:!1},_header:{value:U,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:sa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ba,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ka);za=fc(JSON.stringify(U),T);X.write(za,0,za.length,V,{result:function(la){try{wa._aborted?ua():la < za.length?(wa._timedout=!0,ua()):X.flush(V,{result:function(aa){wa._aborted || (wa._timedout=!aa);ua();},timeout:function(){wa._timedout=!0;ua();},error:function(aa){wa._errored=aa;ua();}});}catch(aa){wa._errored=aa;ua();}},timeout:function(){wa._timedout=!0;ua();},error:function(la){wa._errored=la;ua();}});return this;},wa);},setCompressionAlgorithm:function(da,X,T){var ba;function U(){ba.flush(X,{result:function(V){cb(T,function(){if(!V)throw new Yb("flush() aborted");this._compressionAlgo=da;return !0;},ba);},timeout:function(){T.timeout();},error:function(V){T.error(V);}});}ba=this;cb(T,function(){if(!this.getMessageHeader())throw new yb("Cannot write payload data for an error message.");if(this._compressionAlgo == da)return !0;if(da){if(!this._capabilities)return !1;for(var V=this._capabilities.compressionAlgorithms,fa=0;fa < V.length;++fa){if(V[fa] == da){U();return;}}return !1;}U();},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorMessage:function(){return this._header instanceof Ic?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(da,X){var T;T=this;cb(X,function(){if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(da,{result:function(U){cb(X,function(){U && (this._currentPayload=null);return U;},T);},timeout:function(){X.timeout();},error:function(U){X.error(U);}});}},T);},flush:function(da,X){var U;function T(){cb(X,function(){var ba,V,ka;if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ba=this.getMessageHeader();if(!ba)return !0;V=0;this._currentPayload && this._currentPayload.forEach(function(sa){V+=sa.length;});for(var fa=new Uint8Array(V),wa=0,ua=0;this._currentPayload && ua < this._currentPayload.length;++ua){ka=this._currentPayload[ua];fa.set(ka,wa);wa+=ka.length;}Re(this._payloadSequenceNumber,ba.messageId,this._closed,this._compressionAlgo,fa,this._cryptoContext,{result:function(sa){cb(X,function(){var za;this._payloads.push(sa);za=fc(JSON.stringify(sa),this._charset);this._destination.write(za,0,za.length,da,{result:function(la){cb(X,function(){if(this._aborted)return !1;la < sa.length?X.timeout():this._destination.flush(da,{result:function(aa){cb(X,function(){if(this._aborted)return !1;if(aa)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);X.timeout();},U);},timeout:function(){X.timeout();},error:function(aa){aa instanceof fb && (aa=new Yb("Error encoding payload chunk [sequence number " + U._payloadSequenceNumber + "].",aa));X.error(aa);}});},U);},timeout:function(la){X.timeout();},error:function(la){la instanceof fb && (la=new Yb("Error encoding payload chunk [sequence number " + U._payloadSequenceNumber + "].",la));X.error(la);}});},U);},error:function(sa){sa instanceof fb && (sa=new Yb("Error encoding payload chunk [sequence number " + U._payloadSequenceNumber + "].",sa));X.error(sa);}});}},U);}U=this;cb(X,function(){this._ready?T():this._readyQueue.poll(da,{result:function(ba){ba === Eb?X.result(!1):T();},timeout:function(){X.timeout();},error:function(ba){X.error(ba);}});},U);},write:function(da,X,T,U,ba){cb(ba,function(){var V;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Yb("Message output stream already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > da.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new yb("Cannot write payload data for an error message.");V=da.subarray(X,X + T);this._currentPayload.push(V);return V.length;}},this);}});zd=function(da,X,T,U,ba,V,fa){new Ye(da,X,T,U,ba,V,fa);};})();Cf=Gb.Class.create({sentHeader:function(da){},receivedHeader:function(da){}});Object.freeze({USERDATA_REAUTH:Ga.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ga.SSOTOKEN_REJECTED});Ze=Gb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(da,X,T,U){},getCustomer:function(){},getKeyRequestData:function(da){},updateServiceTokens:function(da,X,T){},write:function(da,X,T){},getDebugContext:function(){}});Gb.Class.create({getInputStream:function(da){},getOutputStream:function(da){}});(function(){var wa,ua,ka,sa,za,la,aa,ca,ea,xa,Ra,Ma;function da(Qa){return function(){Qa.abort();};}function X(Qa,Ua){Object.defineProperties(this,{masterToken:{value:Qa,writable:!1,configurable:!1},ticket:{value:Ua,writable:!1,configurable:!1}});}function T(Qa,Ua){Object.defineProperties(this,{builder:{value:Qa,writable:!1,configurable:!1},msgCtx:{value:Ua,writable:!1,configurable:!1}});}function U(Qa,Ua,pa){Object.defineProperties(this,{requestHeader:{value:Qa,writable:!1,configurable:!1},payloads:{value:Ua,writable:!1,configurable:!1},handshake:{value:pa,writable:!1,configurable:!1}});}function ba(Qa,Ua){Object.defineProperties(this,{requestHeader:{value:Ua.requestHeader,writable:!1,configurable:!1},payloads:{value:Ua.payloads,writable:!1,configurable:!1},handshake:{value:Ua.handshake,writable:!1,configurable:!1},response:{value:Qa,writable:!1,configurable:!1}});}function V(Qa){for(;Qa;){if(Qa instanceof bc)return !0;Qa=Qa instanceof fb?Qa.cause:Eb;}return !1;}function fa(Qa,Ua,pa,ya,Ea,Ja,Da,Sa,Ia){Ue(Ua,ya,Ea,Ja,{result:function(Za){pa && pa.sentHeader(Za);zd(Ua,Da,Tb,Za,null,null,Sa,{result:function(bb){Qa.setAbort(function(){bb.abort();});bb.close(Sa,{result:function(Xa){cb(Ia,function(){if(!Xa)throw new bc("sendError aborted.");return Xa;});},timeout:function(){Ia.timeout();},error:function(Xa){Ia.error(Xa);}});},timeout:function(){},error:function(bb){Ia.error(bb);}});},error:function(Za){Ia.error(Za);}});}wa=ud.extend({close:function(Qa,Ua){Ua.result(!0);},write:function(Qa,Ua,pa,ya,Ea){Na(Ea,function(){return Math.min(Qa.length - Ua,pa);});},flush:function(Qa,Ua){Ua.result(!0);}});ua=Bf.extend({getUserMessage:function(Qa,Ua){return null;}});ka=Ze.extend({init:function(Qa){Object.defineProperties(this,{_appCtx:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Qa,Ua,pa,ya){this._appCtx.getUserAuthData(Qa,Ua,pa,ya);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Qa){this._appCtx.getKeyRequestData(Qa);},updateServiceTokens:function(Qa,Ua,pa){this._appCtx.updateServiceTokens(Qa,Ua,pa);},write:function(Qa,Ua,pa){this._appCtx.write(Qa,Ua,pa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});sa=ka.extend({init:function ya(Ua,pa){ya.base.call(this,pa);Object.defineProperties(this,{_payloads:{value:Ua,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ua,pa,ya){var Ja;function Ea(Da,Sa){var Ia;if(Da == Ja._payloads.length)ya.result(!0);else {Ia=Ja._payloads[Da];Ua.setCompressionAlgorithm(Ia.compressionAlgo,pa,{result:function(Za){Ua.write(Ia.data,0,Ia.data.length,pa,{result:function(bb){cb(ya,function(){Ia.isEndOfMessage()?Ea(Da + 1,Sa):Ua.flush(pa,{result:function(Xa){ya.result(Xa);},timeout:function(){ya.timeout();},error:function(Xa){ya.error(Xa);}});},Ja);},timeout:function(bb){ya.timeout(bb);},error:function(bb){ya.error(bb);}});},timeout:function(){},error:function(Za){ya.error(Za);}});}}Ja=this;Ea(0);}});za=ka.extend({init:function ya(pa){ya.base.call(this,pa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(pa,ya,Ea){Ea.result(!0);}});la={};aa=Gb.Class.create({init:function(pa){pa || (pa=new ua());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(pa){this._filterFactory=pa;},getNewestMasterToken:function(pa,ya,Ea,Ja){var Da;Da=this;cb(Ja,function(){var Sa,Ia,Za,bb,Xa;Sa=ya.getMslStore();Ia=Sa.getMasterToken();if(!Ia)return null;Za=Ia.uniqueKey();bb=this._masterTokenLocks[Za];bb || (bb=new Fd(),this._masterTokenLocks[Za]=bb);Xa=bb.readLock(Ea,{result:function(kb){cb(Ja,function(){var ob;if(kb === Eb)throw new bc("getNewestMasterToken aborted.");ob=Sa.getMasterToken();if(Ia.equals(ob))return new X(Ia,kb);bb.unlock(kb);bb.writeLock(Ea,{result:function(sb){cb(Ja,function(){if(sb === Eb)throw new bc("getNewestMasterToken aborted.");delete this._masterTokenLocks[Za];bb.unlock(sb);return this.getNewestMasterToken(pa,ya,Ea,Ja);},Da);},timeout:function(){Ja.timeout();},error:function(sb){Ja.error(sb);}});},Da);},timeout:function(){Ja.timeout();},error:function(kb){Ja.error(kb);}});pa.setAbort(function(){Xa && (bb.cancel(Xa),Xa=Eb);});},Da);},deleteMasterToken:function(pa,ya){var Ea;if(ya){Ea=this;setTimeout(function(){var Ja,Da;Ja=ya.uniqueKey();Da=Ea._masterTokenLocks[Ja];Da || (Da=new Fd(),Ea._masterTokenLocks[Ja]=Da);Da.writeLock(-1,{result:function(Sa){pa.getMslStore().removeCryptoContext(ya);delete Ea._masterTokenLocks[Ja];Da.unlock(Sa);},timeout:function(){throw new yb("Unexpected timeout received.");},error:function(Sa){throw Sa;}});},0);}},releaseMasterToken:function(pa){var ya;if(pa && pa.masterToken){ya=pa.masterToken.uniqueKey();ya=this._masterTokenLocks[ya];if(!ya)throw new yb("Master token read/write lock does not exist when it should.");ya.unlock(pa.ticket);}},updateOutgoingCryptoContexts:function(pa,ya,Ea){var Ja;Ja=pa.getMslStore();!pa.isPeerToPeer() && Ea && (Ja.setCryptoContext(Ea.keyResponseData.masterToken,Ea.cryptoContext),this.deleteMasterToken(pa,ya.masterToken));},updateIncomingCryptoContexts:function(pa,ya,Ea){var Ja,Da;Ja=Ea.getMessageHeader();if(Ja){Da=pa.getMslStore();if(Ja=Ja.keyResponseData)(Da.setCryptoContext(Ja.masterToken,Ea.getKeyExchangeCryptoContext()),this.deleteMasterToken(pa,ya.masterToken));}},storeServiceTokens:function(pa,ya,Ea,Ja){var Ia,Za;pa=pa.getMslStore();for(var Da=[],Sa=0;Sa < Ja.length;++Sa){Ia=Ja[Sa];if(!Ia.isBoundTo(ya) || !ya.isVerified()){Za=Ia.data;Za && 0 == Za.length?pa.removeServiceTokens(Ia.name,Ia.isMasterTokenBound()?ya:null,Ia.isUserIdTokenBound()?Ea:null):Da.push(Ia);}}0 < Da.length && pa.addServiceTokens(Da);},buildRequest:function(pa,ya,Ea,Ja,Da){var Sa;Sa=this;this.getNewestMasterToken(pa,ya,Ja,{result:function(Ia){Na(Da,function(){var Za,bb,Xa;Za=Ia && Ia.masterToken;if(Za){bb=Ea.getUserId();Xa=ya.getMslStore();bb=(bb=bb?Xa.getUserIdToken(bb):null) && bb.isBoundTo(Za)?bb:null;}else bb=null;Oc(ya,Za,bb,null,{result:function(kb){Na(Da,function(){kb.setNonReplayable(Ea.isNonReplayable());return {builder:kb,tokenTicket:Ia};});},error:function(kb){Na(Da,function(){this.releaseMasterToken(Ia);kb instanceof fb && (kb=new yb("User ID token not bound to master token despite internal check.",kb));throw kb;},Sa);}});},Sa);},timeout:function(){Da.timeout();},error:function(Ia){Da.error(Ia);}});},buildResponse:function(pa,ya,Ea,Ja,Da,Sa){var Ia;Ia=this;Te(ya,Ja,{result:function(Za){cb(Sa,function(){Za.setNonReplayable(Ea.isNonReplayable());if(!ya.isPeerToPeer() && !Ja.keyResponseData)return {builder:Za,tokenTicket:null};this.getNewestMasterToken(pa,ya,Da,{result:function(bb){cb(Sa,function(){var Xa,kb,ob;Xa=bb && bb.masterToken;if(Xa){kb=Ea.getUserId();ob=ya.getMslStore();kb=(kb=kb?ob.getUserIdToken(kb):null) && kb.isBoundTo(Xa)?kb:null;}else kb=null;Za.setAuthTokens(Xa,kb);return {builder:Za,tokenTicket:bb};},Ia);},timeout:function(){Sa.timeout();},error:function(bb){Sa.error(bb);}});},Ia);},error:function(Za){Sa.error(Za);}});},buildErrorResponse:function(pa,ya,Ea,Ja,Da,Sa,Ia){var Xa;function Za(kb,ob){cb(Ia,function(){var sb,tb;sb=Nc(Da.messageId);tb=new sa(ob,Ea);Oc(ya,null,null,sb,{result:function(ub){cb(Ia,function(){ya.isPeerToPeer() && ub.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);ub.setNonReplayable(tb.isNonReplayable());return {errorResult:new T(ub,tb),tokenTicket:null};},Xa);},error:function(ub){Ia.error(ub);}});},Xa);}function bb(kb,ob){Xa.getNewestMasterToken(pa,ya,Sa,{result:function(sb){cb(Ia,function(){var tb,ub,Cb;tb=sb && sb.masterToken;ub=Nc(Da.messageId);Cb=new sa(ob,Ea);Oc(ya,tb,null,ub,{result:function(Ab){cb(Ia,function(){ya.isPeerToPeer() && Ab.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);Ab.setNonReplayable(Cb.isNonReplayable());return {errorResult:new T(Ab,Cb),tokenTicket:sb};},Xa);},error:function(Ab){Ia.error(Ab);}});},Xa);},timeout:function(){Ia.timeout();},error:function(sb){Ia.error(sb);}});}Xa=this;cb(Ia,function(){var kb,ob,sb,tb;kb=Ja.requestHeader;ob=Ja.payloads;sb=Da.errorCode;switch(sb){case Ga.ENTITYDATA_REAUTH:case Ga.ENTITY_REAUTH:ya.getEntityAuthenticationData(sb,{result:function(ub){cb(Ia,function(){if(!ub)return null;Za(kb,ob);},Xa);},error:function(ub){Ia.error(ub);}});break;case Ga.USERDATA_REAUTH:case Ga.SSOTOKEN_REJECTED:Ea.getUserAuthData(sb,!1,!0,{result:function(ub){cb(Ia,function(){if(!ub)return null;bb(kb,ob);},Xa);},error:function(ub){Ia.error(ub);}});break;case Ga.USER_REAUTH:bb(kb,ob);break;case Ga.KEYX_REQUIRED:sb=Nc(Da.messageId);tb=new sa(ob,Ea);Oc(ya,null,null,sb,{result:function(ub){cb(Ia,function(){ya.isPeerToPeer() && ub.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);ub.setRenewable(!0);ub.setNonReplayable(tb.isNonReplayable());return {errorResult:new T(ub,tb),tokenTicket:null};},Xa);},error:function(ub){Ia.error(ub);}});break;case Ga.EXPIRED:this.getNewestMasterToken(pa,ya,Sa,{result:function(ub){cb(Ia,function(){var Cb,Ab,ra,Fa;Cb=ub && ub.masterToken;Ab=kb.userIdToken;ra=Nc(Da.messageId);Fa=new sa(ob,Ea);Oc(ya,Cb,Ab,ra,{result:function(Oa){cb(Ia,function(){ya.isPeerToPeer() && Oa.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Cb) && Oa.setRenewable(!0);Oa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new T(Oa,Fa),tokenTicket:ub};},Xa);},error:function(Oa){Ia.error(Oa);}},Xa);},Xa);},timeout:function(){Ia.timeout();},error:function(ub){Ia.error(ub);}});break;case Ga.REPLAYED:this.getNewestMasterToken(pa,ya,Sa,{result:function(ub){cb(Ia,function(){var Cb,Ab,ra,Fa;Cb=ub && ub.masterToken;Ab=kb.userIdToken;ra=Nc(Da.messageId);Fa=new sa(ob,Ea);Oc(ya,Cb,Ab,ra,{result:function(Oa){cb(Ia,function(){ya.isPeerToPeer() && Oa.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Cb)?(Oa.setRenewable(!0),Oa.setNonReplayable(!1)):Oa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new T(Oa,Fa),tokenTicket:ub};},Xa);},error:function(Oa){Ia.error(Oa);}});},Xa);},timeout:function(){Ia.timeout();},error:function(ub){Ia.error(ub);}});break;default:return null;}},Xa);},cleanupContext:function(pa,ya,Ea){switch(Ea.errorCode){case Ga.ENTITY_REAUTH:this.deleteMasterToken(pa,ya.masterToken);break;case Ga.USER_REAUTH:(Ea=ya.userIdToken,ya.masterToken && Ea && pa.getMslStore().removeUserIdToken(Ea));}},send:function(pa,ya,Ea,Ja,Da,Sa,Ia){var sb;function Za(tb,ub,Cb){cb(Ia,function(){var Ab;Ab=Da.getPeerUserIdToken();!ya.isPeerToPeer() && !ub || ya.isPeerToPeer() && !Ab?(Ab=Ea.getCustomer())?Da.setCustomer(Ab,{result:function(ra){cb(Ia,function(){ub=Da.getUserIdToken();bb(tb,ub,Cb);},sb);},error:function(ra){Ia.error(ra);}}):bb(tb,ub,Cb):bb(tb,ub,Cb);},sb);}function bb(tb,ub,Cb){cb(Ia,function(){var Ab,ra;Ab=!Cb && (!Ea.isEncrypted() || Da.willEncryptPayloads()) && (!Ea.isIntegrityProtected() || Da.willIntegrityProtectPayloads()) && (!Ea.isNonReplayable() || Da.isNonReplayable() && tb);Ab || Da.setNonReplayable(!1);ra=[];Da.isRenewable() && (!tb || tb.isRenewable() || Ea.isNonReplayable())?Ea.getKeyRequestData({result:function(Fa){cb(Ia,function(){var r;for(var Oa=0;Oa < Fa.length;++Oa){r=Fa[Oa];ra.push(r);Da.addKeyRequestData(r);}Xa(tb,ub,Ab,ra);},sb);},error:function(Fa){Ia.error(Fa);}}):Xa(tb,ub,Ab,ra);},sb);}function Xa(tb,ub,Cb,Ab){cb(Ia,function(){var ra;ra=new Ve(ya,Ea,Da);Ea.updateServiceTokens(ra,!Cb,{result:function(Fa){Da.getHeader({result:function(Oa){cb(Ia,function(){var r,b;r=Ea.getDebugContext();r && r.sentHeader(Oa);r=Da.getKeyExchangeData();this.updateOutgoingCryptoContexts(ya,Oa,r);this.storeServiceTokens(ya,tb,ub,Oa.serviceTokens);r=!ya.isPeerToPeer() && r?r.cryptoContext:Oa.cryptoContext;if(pa.isAborted())throw new bc("send aborted.");b=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;zd(ya,b,Tb,Oa,r,Sa,{result:function(a){pa.setAbort(function(){a.abort();});kb(a,Oa,Cb);},timeout:function(){Ia.timeout();},error:function(a){Ia.error(a);}});},sb);},timeout:function(){Ia.timeout();},error:function(Oa){Ia.error(Oa);}});},error:function(Fa){Ia.error(Fa);}});},sb);}function kb(tb,ub,Cb){var Ab,ra;if(Cb)Ea.write(tb,Sa,{result:function(Fa){cb(Ia,function(){if(pa.isAborted())throw new bc("MessageOutputStream write aborted.");ob(tb,ub,Cb);},sb);},timeout:function(){Ia.timeout();},error:function(Fa){Ia.error(Fa);}});else {Ab=new wa();ra=new Vc();zd(ya,Ab,Tb,ub,ra,Sa,{result:function(Fa){Ea.write(Fa,Sa,{result:function(Oa){cb(Ia,function(){if(pa.isAborted())throw new bc("MessageOutputStream proxy write aborted.");Fa.close(Sa,{result:function(r){cb(Ia,function(){var b;if(!r)throw new bc("MessageOutputStream proxy close aborted.");b=Fa.getPayloads();ob(tb,ub,Cb,b);},sb);},timeout:function(){Ia.timeout();},error:function(r){Ia.error(r);}});},sb);},timeout:function(){Ia.timeout();},error:function(Oa){Ia.error(Oa);}});},timeout:function(){Ia.timeout();},error:function(Fa){Ia.error(Fa);}});}}function ob(tb,ub,Cb,Ab){tb.close(Sa,{result:function(ra){cb(Ia,function(){if(!ra)throw new bc("MessageOutputStream close aborted.");Ab || (Ab=tb.getPayloads());return new U(ub,Ab,!Cb);},sb);},timeout:function(){Ia.timeout();},error:function(ra){Ia.error(ra);}});}sb=this;cb(Ia,function(){var tb,ub,Cb,Ab;tb=Da.getMasterToken();ub=Da.getUserIdToken();Cb=!1;if(Ea.getUserId()){Ab=!ub;Ea.getUserAuthData(null,Da.isRenewable(),Ab,{result:function(ra){cb(Ia,function(){ra && (Da.willEncryptHeader() && Da.willIntegrityProtectHeader()?Da.setUserAuthenticationData(ra):Cb=!0);Za(tb,ub,Cb);},sb);},error:function(ra){Ia.error(ra);}});}else Za(tb,ub,Cb);},sb);},receive:function(pa,ya,Ea,Ja,Da,Sa,Ia){var Za;Za=this;cb(Ia,function(){var bb,Xa,kb;if(pa.isAborted())throw new bc("receive aborted.");bb=[];Da && (bb=Da.keyRequestData.filter(function(){return !0;}));Xa=Ea.getCryptoContexts();kb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;Xe(ya,kb,Tb,bb,Xa,Sa,{result:function(ob){pa.setAbort(function(){ob.abort();});ob.isReady(Sa,{result:function(sb){cb(Ia,function(){var tb,ub,Cb,Ab;if(!sb)throw new bc("MessageInputStream aborted.");tb=ob.getMessageHeader();ub=ob.getErrorHeader();Cb=Ea.getDebugContext();Cb && Cb.receivedHeader(tb?tb:ub);if(Da && (Cb=ub?ub.errorCode:null,tb || Cb != Ga.FAIL && Cb != Ga.TRANSIENT_FAILURE && Cb != Ga.ENTITY_REAUTH && Cb != Ga.ENTITYDATA_REAUTH)){Cb=tb?tb.messageId:ub.messageId;Ab=Nc(Da.messageId);if(Cb != Ab)throw new Nb(S.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + Ab + "; received " + Cb);}ya.getEntityAuthenticationData(null,{result:function(ra){cb(Ia,function(){var Fa,Oa,r,b;Fa=ra.getIdentity();if(tb){Oa=tb.entityAuthenticationData;r=tb.masterToken;Oa=r?tb.sender:Oa.getIdentity();if(r && r.isDecrypted() && r.identity != Oa || Fa == Oa)throw new Nb(S.UNEXPECTED_MESSAGE_SENDER,Oa);Da && this.updateIncomingCryptoContexts(ya,Da,ob);Fa=tb.keyResponseData;ya.isPeerToPeer()?(Fa=Fa?Fa.masterToken:tb.peerMasterToken,r=tb.peerUserIdToken,Oa=tb.peerServiceTokens):(Fa=Fa?Fa.masterToken:tb.masterToken,r=tb.userIdToken,Oa=tb.serviceTokens);b=Ea.getUserId();b && r && !r.isVerified() && ya.getMslStore().addUserIdToken(b,r);this.storeServiceTokens(ya,Fa,r,Oa);}else if((Oa=ub.entityAuthenticationData.getIdentity(),Fa == Oa))throw new Nb(S.UNEXPECTED_MESSAGE_SENDER,Oa);return ob;},Za);},error:Ia.error});},Za);},timeout:function(){Ia.timeout();},error:function(sb){Ia.error(sb);}});},timeout:function(){Ia.timeout();},error:function(ob){Ia.error(ob);}});},Za);},sendReceive:function(pa,ya,Ea,Ja,Da,Sa,Ia,Za,bb){var kb;function Xa(ob,sb){cb(bb,function(){Sa.setRenewable(sb);this.send(pa,ya,Ea,Da,Sa,Ia,{result:function(tb){cb(bb,function(){var ub;ub=tb.requestHeader.keyRequestData;Za || tb.handshake || !ub.isEmpty()?this.receive(pa,ya,Ea,Ja,tb.requestHeader,Ia,{result:function(Cb){cb(bb,function(){sb && this.releaseRenewalLock(ya,ob,Cb);return new ba(Cb,tb);},kb);},timeout:function(){cb(bb,function(){sb && this.releaseRenewalLock(ya,ob,null);bb.timeout();},kb);},error:function(Cb){cb(bb,function(){sb && this.releaseRenewalLock(ya,ob,null);throw Cb;},kb);}}):cb(bb,function(){sb && this.releaseRenewalLock(ya,ob,null);return new ba(null,tb);},kb);},kb);},timeout:function(){cb(bb,function(){sb && this.releaseRenewalLock(ya,ob,null);bb.timeout();},kb);},error:function(tb){cb(bb,function(){sb && this.releaseRenewalLock(ya,ob,null);throw tb;},kb);}});},kb);}kb=this;cb(bb,function(){var ob;ob=new Zc();this.acquireRenewalLock(pa,ya,Ea,ob,Sa,Ia,{result:function(sb){Xa(ob,sb);},timeout:function(){bb.timeout();},error:function(sb){sb instanceof bc?bb.result(null):bb.error(sb);}});},kb);},acquireRenewalLock:function(pa,ya,Ea,Ja,Da,Sa,Ia){var Xa;function Za(kb,ob,sb){cb(Ia,function(){var Cb,Ab;if(pa.isAborted())throw new bc("acquireRenewalLock aborted.");for(var tb=null,ub=0;ub < this._renewingContexts.length;++ub){Cb=this._renewingContexts[ub];if(Cb.ctx === ya){tb=Cb.queue;break;}}if(!tb)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);Ab=tb.poll(Sa,{result:function(ra){cb(Ia,function(){var Fa;if(ra === Eb)throw new bc("acquireRenewalLock aborted.");tb.add(ra);if(ra === la || ra.isExpired())Za(ra,ob,sb);else {if(sb && !ob || ob && !ob.isBoundTo(ra)){Fa=ya.getMslStore().getUserIdToken(sb);ob=Fa && Fa.isBoundTo(ra)?Fa:null;}Da.setAuthTokens(ra,ob);Da.isRenewable() && ra.equals(kb)?Za(ra,ob,sb):Ea.isRequestingTokens() && !ob?Za(ra,ob,sb):bb(ra,ob);}},Xa);},timeout:function(){},error:function(ra){}});pa.setAbort(function(){Ab && (tb.cancel(Ab),Ab=Eb);});},Xa);}function bb(kb,ob){cb(Ia,function(){var ub;if(pa.isAborted())throw new bc("acquireRenewalLock aborted.");if(!kb || kb.isRenewable() || !ob && Ea.getUserId() || ob && ob.isRenewable()){for(var sb=null,tb=0;tb < this._renewingContexts.length;++tb){ub=this._renewingContexts[tb];if(ub.ctx === ya){sb=ub.queue;break;}}if(!sb)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);}return !1;},Xa);}Xa=this;cb(Ia,function(){var kb,ob,sb;kb=Da.getMasterToken();ob=Da.getUserIdToken();sb=Ea.getUserId();Ea.isEncrypted() && !Da.willEncryptPayloads() || Ea.isIntegrityProtected() && !Da.willIntegrityProtectPayloads() || Da.isRenewable() || !kb && Ea.isNonReplayable() || kb && kb.isExpired() || !(ob || !sb || Da.willEncryptHeader() && Da.willIntegrityProtectHeader()) || Ea.isRequestingTokens() && (!kb || sb && !ob)?Za(kb,ob,sb):bb(kb,ob);},Xa);},releaseRenewalLock:function(pa,ya,Ea){var Ia;for(var Ja,Da,Sa=0;Sa < this._renewingContexts.length;++Sa){Ia=this._renewingContexts[Sa];if(Ia.ctx === pa){Ja=Sa;Da=Ia.queue;break;}}if(Da !== ya)throw new yb("Attempt to release renewal lock that is not owned by this queue.");Ea?(Ea=Ea.messageHeader)?(Da=Ea.keyResponseData)?ya.add(Da.masterToken):(pa=pa.isPeerToPeer()?Ea.peerMasterToken:Ea.masterToken)?ya.add(pa):ya.add(la):ya.add(la):ya.add(la);this._renewingContexts.splice(Ja,1);}});$e=Gb.Class.create({init:function(){var pa;pa={_impl:{value:new aa(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,pa);},setFilterFactory:function(pa){this._impl.setFilterFactory(pa);},shutdown:function(){this._shutdown=!0;},receive:function(pa,ya,Ea,Ja,Da,Sa){var Ia;if(this._shutdown)throw new fb("MslControl is shutdown.");Ia=new ca(this._impl,pa,ya,Ea,Ja,Da);setTimeout(function(){Ia.call(Sa);},0);return da(Ia);},respond:function(pa,ya,Ea,Ja,Da,Sa,Ia){var Za;if(this._shutdown)throw new fb("MslControl is shutdown.");Za=new ea(this._impl,pa,ya,Ea,Ja,Da,Sa);setTimeout(function(){Za.call(Ia);},0);return da(Za);},error:function Ea(pa,ya,Ea,Ja,Da,Sa,Ia){var Za;if(this._shutdown)throw new fb("MslControl is shutdown.");Za=new xa(this._impl,pa,ya,Ea,Ja,Da,Sa);setTimeout(function(){Za.call(Ia);},0);return da(Za);},request:function(pa,ya){var Ea,Ja,Da,Sa,Ia,Za;if(this._shutdown)throw new fb("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Da=Ea=null;Sa=arguments[3];Ia=arguments[4];if(pa.isPeerToPeer()){Ia.error(new yb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,Ea=arguments[2],Da=arguments[3],Sa=arguments[4],Ia=arguments[5],!pa.isPeerToPeer())){Ia.error(new yb("This method cannot be used in trusted network mode."));return;}Za=new Ma(this._impl,pa,ya,Ja,Ea,Da,null,0,Sa);setTimeout(function(){Za.call(Ia);},0);return da(Za);}});ca=Gb.Class.create({init:function(pa,ya,Ea,Ja,Da,Sa){Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Eb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},call:function(pa){var Da;function ya(Sa){cb(pa,function(){var Ia;Ia=Sa.messageHeader;if(!Ia)return Sa;this.setAbort(function(){Sa.abort();});Sa.mark(Number.MAX_VALUE);Sa.read(1,Da._timeout,{result:function(Za){cb(pa,function(){if(Za && 0 == Za.length)return null;if(Za)return (Sa.reset(),Sa);Ea(Sa);},Da);},timeout:function(){pa.timeout();},error:function(Za){cb(pa,function(){var bb,Xa,kb;if(V(Za))return null;bb=Ia?Ia.messageId:null;if(Za instanceof Yb){Xa=S.MSL_COMMS_FAILURE;kb=Za;}else (Xa=S.INTERNAL_EXCEPTION,kb=new yb("Error peeking into the message payloads."));fa(this,this._ctx,this._msgCtx.getDebugContext(),bb,Xa,null,this._output,this._timeout,{result:function(ob){pa.error(kb);},timeout:function(){pa.timeout();},error:function(ob){cb(pa,function(){if(V(ob))return null;throw new jc("Error peeking into the message payloads.",ob,Za);},Da);}});},Da);}});},Da);}function Ea(Sa){cb(pa,function(){Sa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Sa.messageHeader,this._timeout,{result:function(Ia){cb(pa,function(){var Za,bb,Xa,kb,ob;Za=Ia.builder;bb=Ia.tokenTicket;Xa=Sa.messageHeader;kb=new za(this._msgCtx);if(!this._ctx.isPeerToPeer() || Xa.isEncrypting() || Xa.keyResponseData)Ja(Xa,Za,kb,bb);else {ob=new Ma(this._ctrl,this._ctx,kb,null,this._input,this._output,Ia,1,this._timeout);this.setAbort(function(){ob.abort();});ob.call(pa);}},Da);},timeout:function(){pa.timeout();},error:function(Ia){cb(pa,function(){var Za,bb,Xa,kb;if(V(Ia))return null;if(Ia instanceof fb){Za=Ia.messageId;bb=Ia.error;Xa=Sa.messageHeader.messageCapabilities;Xa=this._ctrl.messageRegistry.getUserMessage(bb,Xa?Xa.languages:null);kb=Ia;}else (Za=requestHeader?requestHeader.messageId:null,bb=S.INTERNAL_EXCEPTION,Xa=null,kb=new yb("Error creating an automatic handshake response.",Ia));fa(this,this._ctx,this._msgCtx.getDebugContext(),Za,bb,Xa,this._output,this._timeout,{result:function(ob){pa.error(kb);},timeout:function(){pa.timeout();},error:function(ob){cb(pa,function(){if(V(ob))return null;throw new jc("Error creating an automatic handshake response.",ob,Ia);},Da);}});},Da);}});},Da);}function Ja(Sa,Ia,Za,bb){cb(pa,function(){Ia.setRenewable(!1);this._ctrl.send(this._ctx,Za,this._output,Ia,this._timeout,{result:function(Xa){cb(pa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(bb);return null;},Da);},timeout:function(){cb(pa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(bb);pa.timeout();},Da);},error:function(Xa){cb(pa,function(){var kb,ob,sb,tb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(bb);if(V(Xa))return null;if(Xa instanceof fb){kb=Xa.messageId;ob=Xa.error;sb=Sa?Sa.messageCapabilities:null;sb=this._ctrl.messageRegistry.getUserMessage(ob,sb?sb.languages:null);tb=Xa;}else Xa instanceof Yb?(kb=Sa?Sa.messageId:null,ob=S.MSL_COMMS_FAILURE,sb=null,tb=Xa):(kb=Sa?Sa.messageId:null,ob=S.INTERNAL_EXCEPTION,sb=null,tb=new yb("Error sending an automatic handshake response.",Xa));fa(this,this._ctx,this._msgCtx.getDebugContext(),kb,ob,sb,this._output,this._timeout,{result:function(ub){pa.error(tb);},timeout:function(){pa.timeout();},error:function(ub){cb(pa,function(){if(V(ub))return null;throw new jc("Error sending an automatic handshake response.",ub,Xa);},Da);}});},Da);}});},Da);}Da=this;cb(pa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Sa){ya(Sa);},timeout:function(){pa.timeout();},error:function(Sa){cb(pa,function(){var Ia,Za,bb,Xa;if(V(Sa))return null;if(Sa instanceof fb){Ia=Sa.messageId;Za=Sa.error;bb=this._ctrl.messageRegistry.getUserMessage(Za,null);Xa=Sa;}else (Ia=null,Za=S.INTERNAL_EXCEPTION,bb=null,Xa=new yb("Error receiving the message header.",Sa));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,bb,this._output,this._timeout,{result:function(kb){pa.error(Xa);},timeout:function(){pa.timeout();},error:function(kb){cb(pa,function(){if(V(kb))return null;throw new jc("Error receiving the message header.",kb,Sa);},Da);}});},Da);}});},Da);}});ea=Gb.Class.create({init:function(pa,ya,Ea,Ja,Da,Sa,Ia){Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_request:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Eb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},trustedNetworkExecute:function(pa,ya,Ea){var Ja;Ja=this;cb(Ea,function(){var Da,Sa;if(12 < ya + 1)return !1;if(Da=this._msgCtx.isIntegrityProtected() && !pa.willIntegrityProtectHeader()?S.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !pa.willEncryptPayloads()?S.RESPONSE_REQUIRES_ENCRYPTION:null){Sa=Wc(pa.getMessageId());fa(this,this._ctx,this._msgCtx.getDebugContext(),Sa,Da,null,this._output,this._timeout,{result:function(Ia){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ia){cb(Ea,function(){if(V(Ia))return !1;throw new jc("Response requires encryption or integrity protection but cannot be protected: " + Da,Ia,null);},Ja);}});}else !this._msgCtx.getCustomer() || pa.getMasterToken() || pa.getKeyExchangeData()?(pa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,pa,this._timeout,{result:function(Ia){Ea.result(!0);},timeout:function(){Ea.timeout();},error:function(Ia){Ea.error(Ia);}})):(Sa=Wc(pa.getMessageId()),fa(this,this._ctx,this._msgCtx.getDebugContext(),Sa,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ia){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ia){cb(Ea,function(){if(V(Ia))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ia,null);},Ja);}}));},Ja);},peerToPeerExecute:function(pa,ya,Ea,Ja){var Sa;function Da(Ia){cb(Ja,function(){var Za;Za=Ia.response;Za.close();Za=Za.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ia.requestHeader,Za);this._ctrl.buildErrorResponse(this,this._ctx,pa,Ia,Za,{result:function(bb){cb(Ja,function(){var Xa,kb;if(!bb)return !1;Xa=bb.errorResult;kb=bb.tokenTicket;this.peerToPeerExecute(Xa.msgCtx,Xa.builder,Ea,{result:function(ob){cb(Ja,function(){this._ctrl.releaseMasterToken(kb);return ob;},Sa);},timeout:function(){cb(Ja,function(){this._ctrl.releaseMasterToken(kb);Ja.timeout();},Sa);},error:function(ob){cb(Ja,function(){this._ctrl.releaseMasterToken(kb);throw ob;},Sa);}});},Sa);}});},Sa);}Sa=this;cb(Ja,function(){var Ia;if(12 < Ea + 2)return !1;if(null != pa.getCustomer() && null == ya.getPeerMasterToken() && null == ya.getKeyExchangeData()){Ia=Wc(ya.getMessageId());fa(this,this._ctx,pa.getDebugContext(),Ia,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Za){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function(Za){cb(Ja,function(){if(V(Za))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Za,null);},Sa);}});}else this._ctrl.sendReceive(this._ctx,pa,this._input,this._output,ya,this._timeout,!1,{result:function(Za){cb(Ja,function(){var kb,ob,sb;function bb(){kb.read(32768,Sa._timeout,{result:function(tb){cb(Ja,function(){tb?bb():Xa();},Sa);},timeout:function(){Ja.timeout();},error:function(tb){Ja.error(tb);}});}function Xa(){cb(Ja,function(){var tb;tb=new sa(Za.payloads,pa);this._ctrl.buildResponse(this,this._ctx,tb,ob,this._timeout,{result:function(ub){cb(Ja,function(){var Cb;Cb=ub.tokenTicket;this.peerToPeerExecute(tb,ub.builder,Ea,{result:function(Ab){cb(Ja,function(){this._ctrl.releaseMasterToken(Cb);return Ab;},Sa);},timeout:function(){cb(Ja,function(){this._ctrl.releaseMasterToken(Cb);Ja.timeout();},Sa);},error:function(Ab){cb(Ja,function(){this._ctrl.releaseMasterToken(Cb);throw Ab;},Sa);}});},Sa);},timeout:function(){Ja.timeout();},error:function(ub){Ja.error(ub);}});},Sa);}kb=Za.response;Ea+=2;if(!kb)return !0;ob=kb.getMessageHeader();if(ob){sb=Za.payloads;sb=0 < sb.length && 0 < sb[0].data.length;if(Za.handshake && sb)bb();else return !0;}else Da(Za);},Sa);},timeout:function(){Ja.timeout();},error:function(Za){Ja.error(Za);}});},Sa);},call:function(pa){var ya;ya=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ea){cb(pa,function(){var Ja,Da;Ja=Ea.builder;Da=Ea.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Sa){cb(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Sa;},ya);},timeout:function(){cb(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);pa.timeout();},ya);},error:function(Sa){cb(pa,function(){var Ia,Za,bb,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(V(Sa))return !1;Ia=Wc(Ja.getMessageId());if(Sa instanceof fb){Za=Sa.error;bb=this._request.messageCapabilities;bb=this._ctrl.messageRegistry.getUserMessage(Za,bb?bb.languages:null);Xa=Sa;}else Sa instanceof Yb?(Za=S.MSL_COMMS_FAILURE,bb=null,Xa=Sa):(Za=S.INTERNAL_EXCEPTION,bb=null,Xa=new yb("Error sending the response.",Sa));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,bb,this._output,this._timeout,{result:function(kb){pa.error(Xa);},timeout:function(){pa.timeout();},error:function(kb){cb(pa,function(){if(V(kb))return !1;throw new jc("Error sending the response.",kb,null);},ya);}});},ya);}}):this.trustedNetworkExecute(Ja,3,{result:function(Sa){cb(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Sa;},ya);},timeout:function(){cb(pa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);pa.timeout();},ya);},error:function(Sa){cb(pa,function(){var Ia,Za,bb,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(V(Sa))return !1;Ia=Wc(Ja.getMessageId());if(Sa instanceof fb){Za=Sa.error;bb=this._request.messageCapabilities;bb=this._ctrl.messageRegistry.getUserMessage(Za,bb?bb.languages:null);Xa=Sa;}else Sa instanceof Yb?(Za=S.MSL_COMMS_FAILURE,bb=null,Xa=Sa):(Za=S.INTERNAL_EXCEPTION,bb=null,Xa=new yb("Error sending the response.",Sa));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,bb,this._output,this._timeout,{result:function(kb){pa.error(Xa);},timeout:function(){pa.timeout();},error:function(kb){cb(pa,function(){if(V(kb))return !1;throw new jc("Error sending the response.",kb,null);},ya);}});},ya);}});},ya);},timeout:function(){pa.timeout();},error:function(Ea){cb(pa,function(){var Ja,Da,Sa,Ia;if(V(Ea))return !1;if(Ea instanceof fb){Ja=Ea.messageId;Da=Ea.error;Sa=this._request.messageCapabilities;Sa=this._ctrl.messageRegistry.getUserMessage(Da,Sa?Sa.languages:null);Ia=Ea;}else (Ja=null,Da=S.INTERNAL_EXCEPTION,Sa=null,Ia=new yb("Error building the response.",Ea));fa(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Da,Sa,this._output,this._timeout,{result:function(Za){pa.error(Ia);},timeout:function(){pa.timeout();},error:function(Za){cb(pa,function(){if(V(Za))return null;throw new jc("Error building the response.",Za,Ea);},ya);}});},ya);}});}});xa=Gb.Class.create({init:function(pa,ya,Ea,Ja,Da,Sa,Ia){Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Eb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},call:function(pa){var ya;ya=this;cb(pa,function(){var Ea,Ja;if(this._appError == ENTITY_REJECTED)Ea=this._request.masterToken?S.MASTERTOKEN_REJECTED_BY_APP:S.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ea=this._request.userIdToken?S.USERIDTOKEN_REJECTED_BY_APP:S.USER_REJECTED_BY_APP;else throw new yb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(Ea,Ja?Ja.languages:null);fa(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ea,Ja,this._output,this._timeout,{result:function(Da){pa.result(Da);},timeout:pa.timeout,error:function(Da){cb(pa,function(){if(V(Da))return !1;if(Da instanceof fb)throw Da;throw new yb("Error building the error response.",Da);},ya);}});},ya);}});Ra={result:function(){},timeout:function(){},error:function(){}};Ma=Gb.Class.create({init:function(pa,ya,Ea,Ja,Da,Sa,Ia,Za,bb){var Xa;if(Ia){Xa=Ia.builder;Ia=Ia.tokenTicket;}else Ia=Xa=null;Object.defineProperties(this,{_ctrl:{value:pa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Da,writable:!0,enumerable:!1,configurable:!1},_output:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Xa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ia,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:bb,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Za,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Eb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(pa){this._abortFunc=pa;},execute:function(pa,ya,Ea,Ja,Da){var Za;function Sa(bb){function Xa(kb){cb(Da,function(){var ob;ob=bb.response;return kb?kb:ob;},Za);}cb(Da,function(){var kb,ob;kb=bb.response;kb.close();ob=kb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,bb.requestHeader,ob);this._ctrl.buildErrorResponse(this,this._ctx,pa,bb,ob,Ea,{result:function(sb){cb(Da,function(){var tb,ub,Cb,Ab;if(!sb)return kb;tb=sb.errorResult;ub=sb.tokenTicket;Cb=tb.builder;tb=tb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(tb,Cb,this._timeout,Ja,{result:function(ra){cb(Da,function(){this._ctrl.releaseMasterToken(ub);Xa(ra);},Za);},timeout:function(){cb(Da,function(){this._ctrl.releaseMasterToken(ub);Da.timeout();},Za);},error:function(ra){cb(Da,function(){this._ctrl.releaseMasterToken(ub);Da.error(ra);},Za);}});else {this._openedStreams && (this._input.close(),this._output.close(Ea,Ra));Ab=new Ma(this._ctrl,this._ctx,tb,this._remoteEntity,null,null,{builder:Cb,tokenTicket:ub},Ja,this._timeout);this.setAbort(function(){Ab.abort();});Ab.call({result:function(ra){Xa(ra);},timeout:function(){Da.timeout();},error:function(ra){Da.error(ra);}});}},Za);},timeout:function(){Da.timeout();},error:function(sb){Da.error(sb);}});},Za);}function Ia(bb){cb(Da,function(){var ob,sb,tb,ub,Cb;function Xa(){ob.read(32768,Za._timeout,{result:function(Ab){Ab?Xa():kb();},timeout:function(){Da.timeout();},error:function(Ab){Da.error(Ab);}});}function kb(){cb(Da,function(){var Ab;Ab=new sa(bb.payloads,pa);this._ctrl.buildResponse(this,this._ctx,pa,sb,Ea,{result:function(ra){cb(Da,function(){var Fa;Fa=ra.tokenTicket;this.execute(Ab,ra.builder,this._timeout,Ja,{result:function(Oa){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);return Oa;},Za);},timeout:function(){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},Za);},error:function(Oa){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw Oa;},Za);}});},Za);},timeout:function(){Da.timeout();},error:function(ra){Da.error(ra);}});},Za);}ob=bb.response;sb=ob.getMessageHeader();tb=bb.payloads;tb=0 < tb.length && 0 < tb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!bb.handshake || !tb)return ob;this._openedStreams && (this._input.close(),this._output.close(Ea,Ra));ub=new sa(bb.payloads,pa);this._ctrl.buildResponse(this,this._ctx,pa,sb,Ea,{result:function(Ab){cb(Da,function(){var ra;ra=new Ma(this._ctrl,this._ctx,ub,this._remoteEntity,null,null,Ab,Ja,this._timeout);this.setAbort(function(){ra.abort();});ra.call(Da);},Za);},timeout:function(){Da.timeout();},error:function(Ab){Da.error(Ab);}});}else if(bb.handshake && tb)Xa();else if(0 < sb.keyRequestData.length){Cb=new za(pa);this._ctrl.buildResponse(this,this._ctx,Cb,sb,Ea,{result:function(Ab){cb(Da,function(){var ra,Fa;ra=Ab.builder;Fa=Ab.tokenTicket;ob.mark();ob.read(1,this._timeout,{result:function(Oa){cb(Da,function(){function r(){ob.read(32768,Za._timeout,{result:function(a){a?r():b();},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});}function b(){Za.execute(Cb,ra,Za._timeout,Ja,{result:function(a){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);return a;},Za);},timeout:function(){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},Za);},error:function(a){cb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw a;},Za);}});}if(Oa){if((ob.reset(),12 >= Ja + 1))(ra.setRenewable(!1),this._ctrl.send(this,this._ctx,Cb,this._output,ra,this._timeout,{result:function(a){cb(Da,function(){this.releaseMasterToken(Fa);return ob;},Za);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}}));else return (this.releaseMasterToken(Fa),ob);}else r();},Za);},timeout:function(){cb(Da,function(){this.releaseMasterToken(Fa);Da.timeout();},Za);},error:function(Oa){cb(Da,function(){this.releaseMasterToken(Fa);throw Oa;},Za);}});},Za);},timeout:function(){Da.timeout();},error:function(Ab){Da.error(Ab);}});}},Za);}Za=this;cb(Da,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,pa,this._input,this._output,ya,Ea,!0,{result:function(bb){cb(Da,function(){var Xa;if(!bb)return null;Xa=bb.response;Ja+=2;Xa.getMessageHeader()?Ia(bb):Sa(bb);},Za);},timeout:function(){Da.timeout();},error:function(bb){Da.error(bb);}});},Za);},call:function(pa){var Ea;function ya(Ja,Da,Sa){cb(pa,function(){this.execute(this._msgCtx,Ja,Sa,this._msgCount,{result:function(Ia){cb(pa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && this._output.close(Sa,Ra);Ia && Ia.closeSource(this._openedStreams);return Ia;},Ea);},timeout:function(){cb(pa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Sa,Ra),this._input.close());pa.timeout();},Ea);},error:function(Ia){cb(pa,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Sa,Ra),this._input.close());if(V(Ia))return null;throw Ia;},Ea);}});},Ea);}Ea=this;cb(pa,function(){var Ja,Da,Sa;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Da=Date.now();Sa=this._remoteEntity.openConnection();this._output=Sa.output;this._input=Sa.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Da));this._openedStreams=!0;}catch(Ia){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ra);this._input && this._input.close();if(V(Ia))return null;throw Ia;}this._builder?ya(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ia){cb(pa,function(){ya(Ia.builder,Ia.tokenTicket,Ja);},Ea);},timeout:function(){cb(pa,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());pa.timeout();},Ea);},error:function(Ia){cb(pa,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());if(V(Ia))return null;throw Ia;},Ea);}});},Ea);}});})();(function(){Xd=Gb.Class.create({init:function(da){Object.defineProperties(this,{id:{value:da,writable:!1,configurable:!1}});},toJSON:function(){var da;da={};da.id=this.id;return da;},equals:function(da){return this === da?!0:da instanceof Xd?this.id == da.id:!1;},uniqueKey:function(){return this.id;}});af=function(da){var X;X=da.id;if(!X)throw new Hb(S.JSON_PARSE_ERROR,JSON.stringify(da));return new Xd(X);};})();Gb.Class.create({isNewestMasterToken:function(da,X,T){},isMasterTokenRevoked:function(da,X){},acceptNonReplayableId:function(da,X,T,U){},createMasterToken:function(da,X,T,U,ba){},isMasterTokenRenewable:function(da,X,T){},renewMasterToken:function(da,X,T,U,ba){},isUserIdTokenRevoked:function(da,X,T,U){},createUserIdToken:function(da,X,T,U){},renewUserIdToken:function(da,X,T,U){}});(function(){function da(X,T,U,ba){this.sessiondata=X;this.tokendata=T;this.signature=U;this.verified=ba;}ic=Gb.Class.create({init:function(X,T,U,ba,V,fa,wa,ua,ka,sa,za){var la;la=this;Na(za,function(){var aa,ca,ea,xa,Ra;if(U.getTime() < T.getTime())throw new yb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ba || ba > Sb)throw new yb("Sequence number " + ba + " is outside the valid range.");if(0 > V || V > Sb)throw new yb("Serial number " + V + " is outside the valid range.");aa=Math.floor(T.getTime() / 1E3);ca=Math.floor(U.getTime() / 1E3);if(sa)ea=sa.sessiondata;else {xa={};fa && (xa.issuerdata=fa);xa.identity=wa;xa.encryptionkey=Jb(ua.toByteArray());xa.hmackey=Jb(ka.toByteArray());ea=fc(JSON.stringify(xa),Tb);}if(sa)return (Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:ka,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:sa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ra=X.getMslCryptoContext();Ra.encrypt(ea,{result:function(Ma){Na(za,function(){var Qa,Ua;Qa={};Qa.renewalwindow=aa;Qa.expiration=ca;Qa.sequencenumber=ba;Qa.serialnumber=V;Qa.sessiondata=Jb(Ma);Ua=fc(JSON.stringify(Qa),Tb);Ra.sign(Ua,{result:function(pa){Na(za,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:V,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:ka,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(pa){za.error(pa);}});},la);},error:function(Ma){za.error(Ma);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(X){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(X){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(X){var T;if(this.sequenceNumber == X.sequenceNumber)return this.expiration > X.expiration;if(this.sequenceNumber > X.sequenceNumber){T=this.sequenceNumber - Sb + 127;return X.sequenceNumber >= T;}T=X.sequenceNumber - Sb + 127;return this.sequenceNumber < T;},toJSON:function(){var X;X={};X.tokendata=Jb(this.tokendata);X.signature=Jb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof ic?this.serialNumber == X.serialNumber && this.sequenceNumber == X.sequenceNumber && this.expiration.getTime() == X.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});ed=function(X,T,U){Na(U,function(){var ba,V,fa,wa,ua;ba=X.getMslCryptoContext();V=T.tokendata;fa=T.signature;if("string" !== typeof V || "string" !== typeof fa)throw new Hb(S.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(T));try{wa=Mb(V);}catch(ka){throw new fb(S.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(T),ka);}if(!wa || 0 == wa.length)throw new Hb(S.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(T));try{ua=Mb(fa);}catch(ka){throw new fb(S.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(T),ka);}ba.verify(wa,ua,{result:function(ka){Na(U,function(){var sa,za,la,aa,ca,ea,xa,Ra,Ma,Qa;sa=ec(wa,Tb);try{za=JSON.parse(sa);la=parseInt(za.renewalwindow);aa=parseInt(za.expiration);ca=parseInt(za.sequencenumber);ea=parseInt(za.serialnumber);xa=za.sessiondata;}catch(Ua){if(Ua instanceof SyntaxError)throw new Hb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + sa,Ua);throw Ua;}if(!la || la != la || !aa || aa != aa || "number" !== typeof ca || ca != ca || "number" !== typeof ea || ea != ea || "string" !== typeof xa)throw new Hb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + sa);if(aa < la)throw new fb(S.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + sa);if(0 > ca || ca > Sb)throw new fb(S.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + sa);if(0 > ea || ea > Sb)throw new fb(S.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + sa);Ra=new Date(1E3 * la);Ma=new Date(1E3 * aa);try{Qa=Mb(xa);}catch(Ua){throw new fb(S.MASTERTOKEN_SESSIONDATA_INVALID,xa,Ua);}if(!Qa || 0 == Qa.length)throw new fb(S.MASTERTOKEN_SESSIONDATA_MISSING,xa);ka?ba.decrypt(Qa,{result:function(Ua){Na(U,function(){var pa,ya,Ea,Ja,Da,Sa;pa=ec(Ua,Tb);try{ya=JSON.parse(pa);Ea=ya.issuerdata;Ja=ya.identity;Da=ya.encryptionkey;Sa=ya.hmackey;}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + pa,Ia);throw Ia;}if(Ea && "object" !== typeof Ea || !Ja || "string" !== typeof Da || "string" !== typeof Sa)throw new Hb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + pa);tc(Da,oc,Dc,{result:function(Ia){tc(Sa,pc,Mc,{result:function(Za){Na(U,function(){var bb;bb=new da(Ua,wa,ua,ka);new ic(X,Ra,Ma,ca,ea,Ea,Ja,Ia,Za,bb,U);});},error:function(Za){U.error(new xb(S.MASTERTOKEN_KEY_CREATION_ERROR,Za));}});},error:function(Ia){U.error(new xb(S.MASTERTOKEN_KEY_CREATION_ERROR,Ia));}});});},error:function(Ua){U.error(Ua);}}):(la=new da(null,wa,ua,ka),new ic(X,Ra,Ma,ca,ea,null,null,null,null,la,U));});},error:function(ka){U.error(ka);}});});};})();(function(){function da(X,T,U){this.tokendata=X;this.signature=T;this.verified=U;}Tc=Gb.Class.create({init:function(X,T,U,ba,V,fa,wa,ua,ka){var sa;sa=this;Na(ka,function(){var za,la,aa,ca,ea,xa,Ra;if(U.getTime() < T.getTime())throw new yb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ba)throw new yb("Cannot construct a user ID token without a master token.");if(0 > V || V > Sb)throw new yb("Serial number " + V + " is outside the valid range.");za=Math.floor(T.getTime() / 1E3);la=Math.floor(U.getTime() / 1E3);aa=ba.serialNumber;if(ua){ca=ua.tokendata;ea=ua.signature;xa=ua.verified;aa=ba.serialNumber;Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:la,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:xa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;}ca={};fa && (ca.issuerdata=fa);ca.identity=wa;ca=fc(JSON.stringify(ca),Tb);Ra=X.getMslCryptoContext();Ra.encrypt(ca,{result:function(Ma){Na(ka,function(){var Qa,Ua;Qa={};Qa.renewalwindow=za;Qa.expiration=la;Qa.mtserialnumber=aa;Qa.serialnumber=V;Qa.userdata=Jb(Ma);Ua=fc(JSON.stringify(Qa),Tb);Ra.sign(Ua,{result:function(pa){Na(ka,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:la,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ba.serialNumber,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:fa,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa,writable:!1,enumerable:!1,configurable:!1}});return this;},sa);},error:function(pa){Na(ka,function(){pa instanceof fb && pa.setEntity(ba);throw pa;},sa);}});},sa);},error:function(Ma){Na(ka,function(){Ma instanceof fb && Ma.setEntity(ba);throw Ma;},sa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(X){return X && X.serialNumber == this.mtSerialNumber;},toJSON:function(){var X;X={};X.tokendata=Jb(this.tokendata);X.signature=Jb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof Tc?this.serialNumber == X.serialNumber && this.mtSerialNumber == X.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});vd=function(X,T,U,ba){Na(ba,function(){var V,fa,wa,ua,ka;V=X.getMslCryptoContext();fa=T.tokendata;wa=T.signature;if("string" !== typeof fa || "string" !== typeof wa)throw new Hb(S.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(T)).setEntity(U);try{ua=Mb(fa);}catch(sa){throw new fb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),sa).setEntity(U);}if(!ua || 0 == ua.length)throw new Hb(S.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(T)).setEntity(U);try{ka=Mb(wa);}catch(sa){throw new fb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),sa).setEntity(U);}V.verify(ua,ka,{result:function(sa){Na(ba,function(){var za,la,aa,ca,ea,xa,Ra,Ma,Qa,Ua;za=ec(ua,Tb);try{la=JSON.parse(za);aa=parseInt(la.renewalwindow);ca=parseInt(la.expiration);ea=parseInt(la.mtserialnumber);xa=parseInt(la.serialnumber);Ra=la.userdata;}catch(pa){if(pa instanceof SyntaxError)throw new Hb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za,pa).setEntity(U);throw pa;}if(!aa || aa != aa || !ca || ca != ca || "number" !== typeof ea || ea != ea || "number" !== typeof xa || xa != xa || "string" !== typeof Ra)throw new Hb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za).setEntity(U);if(ca < aa)throw new fb(S.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + za).setEntity(U);if(0 > ea || ea > Sb)throw new fb(S.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(U);if(0 > xa || xa > Sb)throw new fb(S.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(U);Ma=new Date(1E3 * aa);Qa=new Date(1E3 * ca);if(!U || ea != U.serialNumber)throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea + "; mt " + JSON.stringify(U)).setEntity(U);try{Ua=Mb(Ra);}catch(pa){throw new fb(S.USERIDTOKEN_USERDATA_INVALID,Ra,pa).setEntity(U);}if(!Ua || 0 == Ua.length)throw new fb(S.USERIDTOKEN_USERDATA_MISSING,Ra).setEntity(U);sa?V.decrypt(Ua,{result:function(pa){Na(ba,function(){var ya,Ea,Ja,Da,Sa;ya=ec(pa,Tb);try{Ea=JSON.parse(ya);Ja=Ea.issuerdata;Da=Ea.identity;}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(U);throw Ia;}if(Ja && "object" !== typeof Ja || "object" !== typeof Da)throw new Hb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(U);try{Sa=af(Da);}catch(Ia){throw new fb(S.USERIDTOKEN_IDENTITY_INVALID,"userdata " + ya,Ia).setEntity(U);}Da=new da(ua,ka,sa);new Tc(X,Ma,Qa,U,xa,Ja,Sa,Da,ba);});},error:function(pa){Na(ba,function(){pa instanceof fb && pa.setEntity(U);throw pa;});}}):(aa=new da(ua,ka,sa),new Tc(X,Ma,Qa,U,xa,null,null,aa,ba));});},error:function(sa){Na(ba,function(){sa instanceof fb && sa.setEntity(U);throw sa;});}});});};})();(function(){function da(T,U){var ba,V,fa;ba=T.tokendata;if("string" !== typeof ba)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));try{V=Mb(ba);}catch(wa){throw new fb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(T),wa);}if(!V || 0 == V.length)throw new Hb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(T));try{fa=JSON.parse(ec(V,Tb)).name;}catch(wa){if(wa instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T),wa);throw wa;}if(!fa)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));return U[fa]?U[fa]:U[""];}function X(T,U,ba){this.tokendata=T;this.signature=U;this.verified=ba;}Fc=Gb.Class.create({init:function(T,U,ba,V,fa,wa,ua,ka,sa,za){var la;la=this;Na(za,function(){var aa,ca,ea,xa,Ra;if(V && fa && !fa.isBoundTo(V))throw new yb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");aa=V?V.serialNumber:-1;ca=fa?fa.serialNumber:-1;if(sa)return (Ra=sa.tokendata,Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:U,writable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ua){ea=Wd(ua,ba);ea.length < ba.length || (ua=null,ea=ba);}else (ua=null,ea=ba);xa={};xa.name=U;-1 != aa && (xa.mtserialnumber=aa);-1 != ca && (xa.uitserialnumber=ca);xa.encrypted=wa;ua && (xa.compressionalgo=ua);if(wa && 0 < ea.length)ka.encrypt(ea,{result:function(Ma){Na(za,function(){var Qa;xa.servicedata=Jb(Ma);Qa=fc(JSON.stringify(xa),Tb);ka.sign(Qa,{result:function(Ua){Na(za,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:U,writable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ua,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(Ua){Na(za,function(){Ua instanceof fb && (Ua.setEntity(V),Ua.setUser(fa));throw Ua;});}});},la);},error:function(Ma){Na(za,function(){Ma instanceof fb && (Ma.setEntity(V),Ma.setUser(fa));throw Ma;});}});else {xa.servicedata=Jb(ea);Ra=fc(JSON.stringify(xa),Tb);ka.sign(Ra,{result:function(Ma){Na(za,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:U,writable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(Ma){Na(za,function(){Ma instanceof fb && (Ma.setEntity(V),Ma.setUser(fa));throw Ma;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(T){return T?T instanceof ic?T.serialNumber == this.mtSerialNumber:T instanceof Tc?T.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var T;T={};T.tokendata=Jb(this.tokendata);T.signature=Jb(this.signature);return T;},equals:function(T){return this === T?!0:T instanceof Fc?this.name == T.name && this.mtSerialNumber == T.mtSerialNumber && this.uitSerialNumber == T.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(T,U,ba,V,fa,wa,ua,ka,sa){new Fc(T,U,ba,V,fa,wa,ua,ka,null,sa);};wd=function(T,U,ba,V,fa,wa){Na(wa,function(){var ua,ka,sa,za,la,aa,ca,ea,xa,Ra,Ma,Qa,Ua;!fa || fa instanceof Uc || (fa=da(U,fa));ua=U.tokendata;ka=U.signature;if("string" !== typeof ua || "string" !== typeof ka)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U)).setEntity(ba).setEntity(V);try{sa=Mb(ua);}catch(pa){throw new fb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(U),pa).setEntity(ba).setEntity(V);}if(!sa || 0 == sa.length)throw new Hb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(U)).setEntity(ba).setEntity(V);try{za=Mb(ka);}catch(pa){throw new fb(S.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(U),pa).setEntity(ba).setEntity(V);}la=ec(sa,Tb);try{aa=JSON.parse(la);ca=aa.name;ea=aa.mtserialnumber?parseInt(aa.mtserialnumber):-1;xa=aa.uitserialnumber?parseInt(aa.uitserialnumber):-1;Ra=aa.encrypted;Ma=aa.compressionalgo;Qa=aa.servicedata;}catch(pa){if(pa instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"servicetokendata " + la,pa).setEntity(ba).setEntity(V);throw pa;}if(!ca || "number" !== typeof ea || ea != ea || "number" !== typeof xa || xa != xa || "boolean" !== typeof Ra || Ma && "string" !== typeof Ma || "string" !== typeof Qa)throw new Hb(S.JSON_PARSE_ERROR,"servicetokendata " + la).setEntity(ba).setEntity(V);if(aa.mtserialnumber && 0 > ea || ea > Sb)throw new fb(S.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + la).setEntity(ba).setEntity(V);if(aa.uitserialnumber && 0 > xa || xa > Sb)throw new fb(S.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + la).setEntity(ba).setEntity(V);if(-1 != ea && (!ba || ea != ba.serialNumber))throw new fb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ea + "; mt " + ba).setEntity(ba).setEntity(V);if(-1 != xa && (!V || xa != V.serialNumber))throw new fb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + xa + "; uit " + V).setEntity(ba).setEntity(V);Ra=!0 === Ra;if(Ma){if(!Kc[Ma])throw new fb(S.UNIDENTIFIED_COMPRESSION,Ma);Ua=Ma;}else Ua=null;fa?fa.verify(sa,za,{result:function(pa){Na(wa,function(){var ya,Ea;if(pa){try{ya=Mb(Qa);}catch(Ja){throw new fb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + la,Ja).setEntity(ba).setEntity(V);}if(!ya || 0 != Qa.length && 0 == ya.length)throw new fb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + la).setEntity(ba).setEntity(V);if(Ra && 0 < ya.length)fa.decrypt(ya,{result:function(Ja){Na(wa,function(){var Da,Sa;Da=Ua?xd(Ua,Ja):Ja;Sa=new X(sa,za,pa);new Fc(T,ca,Da,-1 != ea?ba:null,-1 != xa?V:null,Ra,Ua,fa,Sa,wa);});},error:function(Ja){Na(wa,function(){Ja instanceof fb && (Ja.setEntity(ba),Ja.setUser(V));throw Ja;});}});else {ya=Ua?xd(Ua,ya):ya;Ea=new X(sa,za,pa);new Fc(T,ca,ya,-1 != ea?ba:null,-1 != xa?V:null,Ra,Ua,fa,Ea,wa);}}else (ya="" == Qa?new Uint8Array(0):null,Ea=new X(sa,za,pa),new Fc(T,ca,ya,-1 != ea?ba:null,-1 != xa?V:null,Ra,Ua,fa,Ea,wa));});},error:function(pa){Na(wa,function(){pa instanceof fb && (pa.setEntity(ba),pa.setUser(V));throw pa;});}}):(ua="" == Qa?new Uint8Array(0):null,ka=new X(sa,za,!1),new Fc(T,ca,ua,-1 != ea?ba:null,-1 != xa?V:null,Ra,Ua,fa,ka,wa));});};})();Gc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Gc);(function(){$c=Gb.Class.create({init:function(da){Object.defineProperties(this,{scheme:{value:da,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(da){return this === da?!0:da instanceof $c?this.scheme == da.scheme:!1;},toJSON:function(){var da;da={};da.scheme=this.scheme;da.authdata=this.getAuthData();return da;}});Qe=function(da,X,T,U){Na(U,function(){var ba,V,fa;ba=T.scheme;V=T.authdata;if(!ba || !V)throw new Hb(S.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(T));if(!Gc[ba])throw new Cc(S.UNIDENTIFIED_USERAUTH_SCHEME,ba);fa=da.getUserAuthenticationFactory(ba);if(!fa)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ba);fa.createData(da,X,V,U);});};})();bf=Gb.Class.create({init:function(da){Object.defineProperties(this,{scheme:{value:da,writable:!1,configurable:!1}});},createData:function(da,X,T,U){},authenticate:function(da,X,T,U){}});(function(){hd=$c.extend({init:function U(X,T){U.base.call(this,Gc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:T,writable:!1,configurable:!1}});},getAuthData:function(){var X;X={};X.netflixid=this.netflixId;this.secureNetflixId && (X.securenetflixid=this.secureNetflixId);return X;},equals:function U(T){return this === T?!0:T instanceof hd?U.base.call(this,T) && this.netflixId == T.netflixId && this.secureNetflixId == T.secureNetflixId:!1;}});cf=function(T){var U,ba;U=T.netflixid;ba=T.securenetflixid;if(!U)throw new Hb(S.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(T));return new hd(U,ba);};})();Df=bf.extend({init:function X(){X.base.call(this,Gc.NETFLIXID);},createData:function(X,T,U,ba){Na(ba,function(){return cf(U);});},authenticate:function(X,T,U,ba){if(!(U instanceof hd))throw new yb("Incorrect authentication data type " + U + ".");X=U.secureNetflixId;if(!U.netflixId || !X)throw new Cc(S.NETFLIXID_COOKIES_BLANK).setUser(U);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(U);}});(function(){id=$c.extend({init:function ba(T,U){ba.base.call(this,Gc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:T,writable:!1,configurable:!1},password:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var T;T={};T.email=this.email;T.password=this.password;return T;},equals:function ba(U){return this === U?!0:U instanceof id?ba.base.call(this,this,U) && this.email == U.email && this.password == U.password:!1;}});df=function(U){var ba,V;ba=U.email;V=U.password;if(!ba || !V)throw new Hb(S.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(U));return new id(ba,V);};})();Ef=bf.extend({init:function T(){T.base.call(this,Gc.EMAIL_PASSWORD);},createData:function(T,U,ba,V){Na(V,function(){return df(ba);});},authenticate:function(T,U,ba,V){if(!(ba instanceof id))throw new yb("Incorrect authentication data type " + ba + ".");T=ba.password;if(!ba.email || !T)throw new Cc(S.EMAILPASSWORD_BLANK).setUser(ba);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ba);}});Object.freeze({ENTITY_REAUTH:Ga.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ga.ENTITYDATA_REAUTH});Ff=Gb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(T,U){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(T){},getUserAuthenticationFactory:function(T){},getTokenFactory:function(){},getKeyExchangeFactory:function(T){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ef=Gb.Class.create({setCryptoContext:function(T,U){},getMasterToken:function(){},getNonReplayableId:function(T){},getCryptoContext:function(T){},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,U){},getUserIdToken:function(T){},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,U){},removeServiceTokens:function(T,U,ba){},clearServiceTokens:function(){}});(function(){var T;T=Kc;Wd=function(U,ba){var V;V={};switch(U){case T.LZW:return ke(ba,V);case T.GZIP:return gzip$compress(ba);default:throw new fb(S.UNSUPPORTED_COMPRESSION,U);}};xd=function(U,ba,V){switch(U){case T.LZW:return le(ba);case T.GZIP:return gzip$uncompress(ba);default:throw new fb(S.UNSUPPORTED_COMPRESSION,U.name());}};})();ef.extend({setCryptoContext:function(T,U){},getMasterToken:function(){return null;},getNonReplayableId:function(T){return 1;},getCryptoContext:function(T){return null;},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,U){},getUserIdToken:function(T){return null;},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,U){if(U){if(!T)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!U.isBoundTo(T))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + U.mtSerialNumber + "; mt " + T.serialNumber);}return [];},removeServiceTokens:function(T,U,ba){if(ba && U && !ba.isBoundTo(U))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.masterTokenSerialNumber + "; mt " + U.serialNumber);},clearServiceTokens:function(){}});(function(){ff=ef.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(U,ba){var V;if(ba){V=U.uniqueKey();this.masterTokens[V]=U;this.cryptoContexts[V]=ba;}else this.removeCryptoContext(U);},getMasterToken:function(){var U,ba,V;U=null;for(ba in this.masterTokens){V=this.masterTokens[ba];if(!U || V.isNewerThan(U))U=V;}return U;},getNonReplayableId:function(U){var ba;U=U.serialNumber;ba=this.nonReplayableIds[U] !== Eb?this.nonReplayableIds[U]:0;if(0 > ba || ba > Sb)throw new yb("Non-replayable ID " + ba + " is outside the valid range.");ba=ba == Sb?0:ba + 1;return this.nonReplayableIds[U]=ba;},getCryptoContext:function(U){return this.cryptoContexts[U.uniqueKey()];},removeCryptoContext:function(U){var ba,V,fa,wa;ba=U.uniqueKey();if(this.masterTokens[ba]){V=U.serialNumber;for(fa in this.masterTokens){wa=this.masterTokens[fa];if(!wa.equals(U) && wa.serialNumber == V){delete this.masterTokens[ba];delete this.cryptoContexts[ba];return;}}Object.keys(this.userIdTokens).forEach(function(ua){ua=this.userIdTokens[ua];ua.isBoundTo(U) && this.removeUserIdToken(ua);},this);try{this.removeServiceTokens(null,U,null);}catch(ua){if(ua instanceof fb)throw new yb("Unexpected exception while removing master token bound service tokens.",ua);throw ua;}delete this.nonReplayableIds[V];delete this.masterTokens[ba];delete this.cryptoContexts[ba];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(U){for(var ba in U){delete U[ba];}},this);},addUserIdToken:function(U,ba){var V,fa;V=!1;for(fa in this.masterTokens){if(ba.isBoundTo(this.masterTokens[fa])){V=!0;break;}}if(!V)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ba.mtSerialNumber);this.userIdTokens[U]=ba;},getUserIdToken:function(U){return this.userIdTokens[U];},removeUserIdToken:function(U){var ba,V,fa;ba=null;for(V in this.masterTokens){fa=this.masterTokens[V];if(U.isBoundTo(fa)){ba=fa;break;}}Object.keys(this.userIdTokens).forEach(function(wa){if(this.userIdTokens[wa].equals(U)){try{this.removeServiceTokens(null,ba,U);}catch(ua){if(ua instanceof fb)throw new yb("Unexpected exception while removing user ID token bound service tokens.",ua);throw ua;}delete this.userIdTokens[wa];}},this);},clearUserIdTokens:function(){for(var U in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[U]);}},addServiceTokens:function(U){U.forEach(function(ba){var V,fa;if(ba.isMasterTokenBound()){V=!1;for(fa in this.masterTokens){if(ba.isBoundTo(this.masterTokens[fa])){V=!0;break;}}if(!V)throw new fb(S.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ba.mtSerialNumber);}if(ba.isUserIdTokenBound()){V=!1;for(var wa in this.userIdTokens){if(ba.isBoundTo(this.userIdTokens[wa])){V=!0;break;}}if(!V)throw new fb(S.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ba.uitSerialNumber);}},this);U.forEach(function(ba){var V;if(ba.isUnbound())this.unboundServiceTokens[ba.uniqueKey()]=ba;else {if(ba.isMasterTokenBound()){V=this.mtServiceTokens[ba.mtSerialNumber];V || (V={});V[ba.uniqueKey()]=ba;this.mtServiceTokens[ba.mtSerialNumber]=V;}ba.isUserIdTokenBound() && ((V=this.uitServiceTokens[ba.uitSerialNumber]) || (V={}),V[ba.uniqueKey()]=ba,this.uitServiceTokens[ba.uitSerialNumber]=V);}},this);},getServiceTokens:function(U,ba){var V,fa,wa;if(ba){if(!U)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!ba.isBoundTo(U))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + U.serialNumber);}V={};for(fa in this.unboundServiceTokens){wa=this.unboundServiceTokens[fa];V[wa.uniqueKey()]=wa;}if(U && (fa=this.mtServiceTokens[U.serialNumber]))for(var ua in fa){wa=fa[ua];wa.isUserIdTokenBound() || (V[ua]=wa);}if(ba && (ba=this.uitServiceTokens[ba.serialNumber]))for(var ka in ba){ua=ba[ka];ua.isBoundTo(U) && (V[ka]=ua);}U=[];for(var sa in V){U.push(V[sa]);}return U;},removeServiceTokens:function(U,ba,V){var fa,wa,ua;if(V && ba && !V.isBoundTo(ba))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + ba.serialNumber);!U || ba || V || Object.keys(this.unboundServiceTokens).forEach(function(ka){this.unboundServiceTokens[ka].name == U && delete this.unboundServiceTokens[ka];},this);if(ba && !V && (fa=this.mtServiceTokens[ba.serialNumber])){ua=Object.keys(fa);ua.forEach(function(ka){var sa;sa=fa[ka];U && sa.name != U || delete fa[ka];},this);this.mtServiceTokens[ba.serialNumber]=fa;}V && (wa=this.uitServiceTokens[V.serialNumber]) && (ba=Object.keys(wa),ba.forEach(function(ka){var sa;sa=wa[ka];U && sa.name != U || delete wa[ka];},this),this.uitServiceTokens[V.serialNumber]=wa);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(U){for(var ba in U){delete U[ba];}},this);}});})();Af.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(U,ba){ba && U && U.length && (U=Jb(U),this._contextMap[U]=ba);},getCryptoContext:function(U){return U && U.length?(U=Jb(U),this._contextMap[U] || null):null;},removeCryptoContext:function(U){U && U.length && (U=Jb(U),delete this._contextMap[U]);}});sf.extend({init:function ua(ba,V,fa,wa){ua.base.call(this,ba);Object.defineProperties(this,{_kde:{value:V,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:fa,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,V){if(!(V instanceof xc))throw new yb("Incorrect authentication data type " + JSON.stringify(V) + ".");if(V.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + V.identity);return new rd(ba,this.localIdentity,this._kde,this._kdh,this._kdw);}});tf.extend({init:function ka(V,fa,wa,ua){ka.base.call(this,V);Object.defineProperties(this,{_kpe:{value:fa,writable:!1,enumerable:!1,configurable:!1},_kph:{value:wa,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(V,fa){if(!(fa instanceof yc))throw new yb("Incorrect authentication data type " + JSON.stringify(fa) + ".");if(fa.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + fa.identity);return new rd(V,this.localIdentity,this._kpe,this._kph,this._kpw);}});Hf=ff.extend({init:function la(fa,wa,ua,ka,sa,za){la.base.call(this);this._log=fa;this._esn=wa;this._keyRequestData=ua;this._createKeyRequestData=ka;this._systemKeyName=sa;this._systemKeyWrapFormat=za;},setCryptoContext:function sa(wa,ua,ka){var za;za=this;za._log.trace("Adding MasterToken",{SequenceNumber:wa.sequenceNumber,SerialNumber:wa.serialNumber,Expiration:wa.expiration.getTime()});sa.base.call(this,wa,ua);!ka && (wa=za._createKeyRequestData) && (za._log.trace("Generating new keyx request data"),wa().then(function(la){za._keyRequestData=la;},function(la){za._log.error("Unable to generate new keyx request data","" + la);}));},addUserIdToken:function sa(ua,ka){this._log.trace("Adding UserIdToken",{UserId:ua,SerialNumber:ka.serialNumber,MTSerialNumber:ka.mtSerialNumber,Expiration:ka.expiration.getTime()});sa.base.call(this,ua,ka);},addServiceTokens:function sa(ka){sa.base.call(this,ka.filter(function(za){return !Gf[za.name];}));},getUserIdTokenKeys:function(){var ka,sa;ka=[];for(sa in this.userIdTokens){ka.push(sa);}return ka;},rekeyUserIdToken:function(ka,sa){this.userIdTokens[ka] && (this.userIdTokens[sa]=this.userIdTokens[ka],delete this.userIdTokens[ka]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ka){var sa;sa=this;Na(ka,function(){var za;za=sa.getMasterToken();za?sa.getKeysForStore(za,{result:function(la){Na(ka,function(){var aa,ca,ea;aa=sa.userIdTokens;ca=Object.keys(aa).map(function(xa){var Ra;Ra=aa[xa];return {userId:xa,userIdTokenJSON:aa[xa].toJSON(),serviceTokenJSONList:sa.getServiceTokens(za,Ra).map(mf)};});la.esn=sa._esn;la.masterTokenJSON=za.toJSON();la.userList=ca;ea=sa._keyRequestData.storeData;ea && Object.keys(ea).forEach(function(xa){la[xa]=ea[xa];});return la;});},timeout:ka.timeout,error:ka.error}):ka.result(null);});},getKeysForStore:function(ka,sa){var za;za=this;Na(sa,function(){var la;la=za.getCryptoContext(ka);la={encryptionKey:la.encryptionKey,hmacKey:la.hmacKey};if(la.encryptionKey && la.hmacKey){if(za._systemKeyWrapFormat)za.wrapKeysWithSystemKey(la,sa);else return la;}else throw new fb(S.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ka,sa){var za;za=this;ee(this._systemKeyName,{result:function(la){Na(sa,function(){var aa,ca,ea,xa;aa=ka.encryptionKey;ca=ka.hmacKey;ea=aa[Xc];xa=ca[Xc];if(ea && xa)return {wrappedEncryptionKey:ea,wrappedHmacKey:xa};Promise.resolve().then(function(){return Promise.all([Rb.wrapKey(za._systemKeyWrapFormat,aa,la,la.algorithm),Rb.wrapKey(za._systemKeyWrapFormat,ca,la,la.algorithm)]);}).then(function(Ra){ea=Jb(Ra[0]);aa[Xc]=ea;xa=Jb(Ra[1]);ca[Xc]=xa;sa.result({wrappedEncryptionKey:ea,wrappedHmacKey:xa});}).catch(function(Ra){sa.error(new fb(S.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ra));});});},timeout:sa.timeout,error:sa.error});},unwrapKeysWithSystemKey:function(ka,sa){var za;za=this;ee(this._systemKeyName,{result:function(la){Na(sa,function(){var aa,ca;aa=Mb(ka.wrappedEncryptionKey);ca=Mb(ka.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Rb.unwrapKey(za._systemKeyWrapFormat,aa,la,la.algorithm,oc,!1,Dc),Rb.unwrapKey(za._systemKeyWrapFormat,ca,la,la.algorithm,pc,!1,Mc)]);}).then(function(ea){var xa;xa=ea[0];ea=ea[1];xa[Xc]=ka.wrappedEncryptionKey;ea[Xc]=ka.wrappedHmacKey;sa.result({encryptionKey:xa,hmacKey:ea});}).catch(function(ea){sa.error(new fb(S.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ea));});});},timeout:sa.timeout,error:sa.error});},loadStoreState:function(ka,sa,za,la){var ea,xa;function aa(Ra,Ma){var Qa;try{Qa=za.userList.slice();}catch(Ua){}Qa?(function pa(){var ya;ya=Qa.shift();ya?vd(sa,ya.userIdTokenJSON,Ra,{result:function(Ea){try{ea.addUserIdToken(ya.userId,Ea);ca(Ra,Ea,ya.serviceTokenJSONList,{result:pa,timeout:pa,error:pa});}catch(Ja){pa();}},timeout:pa,error:pa}):Ma.result();})():Ma.result();}function ca(Ra,Ma,Qa,Ua){var pa,ya;try{pa=Qa.slice();}catch(Ea){}if(pa){ya=ea.getCryptoContext(Ra);(function Ja(){var Da;Da=pa.shift();Da?wd(sa,Da,Ra,Ma,ya,{result:function(Sa){ea.addServiceTokens([Sa]);Ja();},timeout:function(){Ja();},error:function(){Ja();}}):Ua.result();})();}else Ua.result();}ea=this;xa=ea._log;za.esn != ea._esn?(xa.error("Esn mismatch, starting fresh"),la.error()):(function(Ra){var Ua,pa,ya,Ea;function Ma(){var Ja;if(!Ua && pa && ya && Ea){Ua=!0;Ja=new lc(sa,pa,ka.esn,{rawKey:ya},{rawKey:Ea});ea.setCryptoContext(pa,Ja,!0);Ra.result(pa);}}function Qa(Ja,Da){xa.error(Ja,Da && "" + Da);Ua || (Ua=!0,Ra.error());}za.masterTokenJSON?(ed(sa,za.masterTokenJSON,{result:function(Ja){pa=Ja;Ma();},timeout:function(){Qa("Timeout parsing MasterToken");},error:function(Ja){Qa("Error parsing MasterToken",Ja);}}),ea._systemKeyWrapFormat?ea.unwrapKeysWithSystemKey(za,{result:function(Ja){ya=Ja.encryptionKey;Ea=Ja.hmacKey;Ma();},timeout:function(){Qa("Timeout unwrapping keys");},error:function(Ja){Qa("Error unwrapping keys",Ja);}}):Promise.resolve().then(function(){return Rb.encrypt({name:oc.name,iv:new Uint8Array(16)},za.encryptionKey,new Uint8Array(1));}).then(function(Ja){ya=za.encryptionKey;}).catch(function(Ja){Qa("Error loading encryptionKey");}).then(function(){return Rb.sign(pc,za.hmacKey,new Uint8Array(1));}).then(function(Ja){Ea=za.hmacKey;Ma();}).catch(function(Ja){Qa("Error loading hmacKey");})):Qa("Persisted store is corrupt");})({result:function(Ra){aa(Ra,la);},timeout:la.timeout,error:la.error});}});Gf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Xc="$netflix$msl$wrapsys";If=Ff.extend({init:function(ka,sa,za,la,aa,ca){var ea,xa;ea=new fd([Kc.LZW]);xa=new vf();xa.addPublicKey(sa,za);la[Wb.RSA]=new uf(xa);sa={};sa[Gc.EMAIL_PASSWORD]=new Ef();sa[Gc.NETFLIXID]=new Df();ka={_mslCryptoContext:{value:new rf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ea,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:aa,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:la,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:sa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ca,writable:!1,enumerable:!1,configurable:!1},_store:{value:ka,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ka);},getTime:function(){return Date.now();},getRandom:function(){return new pe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ka,sa){sa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ka){return this._entityAuthFactories[ka];},getUserAuthenticationFactory:function(ka){return this._userAuthFactories[ka];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ka){return this._keyExchangeFactories.filter(function(sa){return sa.scheme == ka;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ge=Ze.extend({init:function(ka,sa,za,la){this._log=ka;this._mslContext=sa;this._mslRequest=za;this._keyRequestData=la;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ka,sa,za,la){var aa;aa=this._mslRequest;Na(la,function(){return ka || !aa.shouldSendUserAuthData?null:aa.email?new id(aa.email,aa.password):aa.useNetflixUserAuthData || za && aa.sendUserAuthIfRequired?new hd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ka){ka.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ka,sa,za){var la,aa,ca,ea,xa,Ra;la=this._log;aa=(this._mslRequest.serviceTokens || []).slice();ca=this._mslContext;sa=ca.getMslStore();ea=ka.builder.getMasterToken();xa=this.getUserId();Ra=sa.getUserIdToken(xa);(function Qa(){var Ua;Ua=aa.shift();if(Ua)try{Ua instanceof Fc?(ka.addPrimaryServiceToken(Ua),Qa()):wd(ca,Ua,ea,Ra,null,{result:function(pa){try{ka.addPrimaryServiceToken(pa);}catch(ya){la.warn("Exception adding service token","" + ya);}Qa();},timeout:function(){la.warn("Timeout parsing service token");Qa();},error:function(pa){la.warn("Error parsing service token","" + pa);Qa();}});}catch(pa){la.warn("Exception processing service token","" + pa);Qa();}else za.result(!0);})();},write:function(ka,sa,za){var la;la=fc(this._mslRequest.body);ka.write(la,0,la.length,sa,{result:function(aa){aa != la.length?za.error(new Yb("Not all data was written to output.")):ka.flush(sa,{result:function(){za.result(!0);},timeout:function(){za.timeout();},error:function(ca){za.error(ca);}});},timeout:function(){za.timeout();},error:function(aa){za.error(aa);}});},getDebugContext:function(){this._dc || (this._dc=new Jf(this._log,this._mslRequest));return this._dc;}});Jf=Cf.extend({init:function(ka,sa){this._log=ka;this._mslRequest=sa;},sentHeader:function(ka){this._log.trace("Sent MSL header",fe(this._mslRequest,ka),ka.serviceTokens && ka.serviceTokens.map(nf).join("\n"));},receivedHeader:function(ka){var sa,za;sa=fe(this._mslRequest,ka);za=ka.errorCode;za?this._log.warn("Received MSL error header",sa,{errorCode:za,errorMessage:ka.errorMessage,internalCode:ka.internalCode}):this._log.trace("Received MSL header",sa);}});Kf={JWK_RSA:function(ka){return pf(ka,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ee.JWK_RSA);}};qb.netflix=qb.netflix || ({});qb.netflix.msl={createMslClient:function(ka,sa){var za,la,aa,ca,ea;za=ka.log;ea=ka.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Vb && Vb.generateKey && Vb.importKey && Vb.unwrapKey))throw new fb(S.INTERNAL_EXCEPTION,"No WebCrypto");dc=Vb.generateKey({name:"AES-CBC",length:128},!0,Dc).then?md.V2014_02:md.LEGACY;ea("mslisik");return Rb.importKey("spki",ka.serverIdentityKeyData,qe,!1,["verify"]);}).then(function(xa){return new Promise(function(Ra,Ma){Jc(xa,{result:Ra,error:function(){Ma(new fb(S.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(xa){la=xa;if(xa=Kf.JWK_RSA)return (ea("mslcc"),xa(ka));throw new fb(S.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(xa){var Ra;aa=new Hf(za,ka.esn,xa.keyRequestData,xa.createKeyRequestData,ka.authenticationKeyNames.s,ka.systemKeyWrapFormat);ca=new If(aa,ka.serverIdentityId,la,xa.entityAuthFactories,xa.entityAuthData,xa.keyExchangeFactories);Ra=ka.storeState;if(Ra)return (ea("mslss"),za.info("Loading store state"),new Promise(function(Ma,Qa){aa.loadStoreState(ka,ca,Ra,{result:Ma,timeout:Ma,error:Ma});}));za.info("No store state, starting fresh");}).then(function(){var xa;xa=new $e();ea("msldone");sa.result(new of(za,xa,ca,aa,ka.ErrorSubCodes));}).catch(function(xa){sa.error(xa);});},IHttpLocation:yf,MslIoException:Yb};(function(){var bb,Xa,kb,ob,sb,tb,ub,Cb,Ab;function ka(ra){var Fa;Fa=0;return function(){return Fa < ra.length?{done:!1,value:ra[Fa++]}:{done:!0};};}function sa(ra,Fa){var Oa,b;if(Fa)a:{Oa=Xa;ra=ra.split(".");for(var r=0;r < ra.length - 1;r++){b=ra[r];if(!((b in Oa)))break a;Oa=Oa[b];}ra=ra[ra.length - 1];r=Oa[ra];Fa=Fa(r);Fa != r && null != Fa && bb(Oa,ra,{configurable:!0,writable:!0,value:Fa});}}function za(ra){ra={next:ra};ra[Symbol.iterator]=function(){return this;};return ra;}function la(ra){var Fa;Fa="undefined" != typeof Symbol && Symbol.iterator && ra[Symbol.iterator];return Fa?Fa.call(ra):{next:ka(ra)};}function aa(ra){for(var Fa,Oa=[];!(Fa=ra.next()).done;){Oa.push(Fa.value);}return Oa;}function ca(ra){return ra instanceof Array?ra:aa(la(ra));}function ea(ra,Fa){var r;ra.prototype=kb(Fa.prototype);ra.prototype.constructor=ra;if(Cb)Cb(ra,Fa);else for(var Oa in Fa){if("prototype" != Oa)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(Fa,Oa);r && Object.defineProperty(ra,Oa,r);}else ra[Oa]=Fa[Oa];}ra.Egc=Fa.prototype;}function xa(){this.gU=!1;this.TC=null;this.$X=void 0;this.Cv=1;this.vXa=this.sia=0;this.sE=null;}function Ra(ra){if(ra.gU)throw new TypeError("Generator is already running");ra.gU=!0;}function Ma(ra,Fa,Oa){ra.Cv=Oa;return {value:Fa};}function Qa(ra){this.zf=new xa();this.TWb=ra;}function Ua(ra,Fa){var Oa;Ra(ra.zf);Oa=ra.zf.TC;if(Oa)return pa(ra,("return" in Oa)?Oa["return"]:function(r){return {value:r,done:!0};},Fa,ra.zf.return);ra.zf.return(Fa);return ya(ra);}function pa(ra,Fa,Oa,r){var b,a;try{b=Fa.call(ra.zf.TC,Oa);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (ra.zf.gU=!1,b);a=b.value;}catch(c){return (ra.zf.TC=null,ra.zf.nX(c),ya(ra));}ra.zf.TC=null;r.call(ra.zf,a);return ya(ra);}function ya(ra){var Fa;for(;ra.zf.Cv;){try{Fa=ra.TWb(ra.zf);if(Fa)return (ra.zf.gU=!1,{value:Fa.value,done:!1});}catch(Oa){ra.zf.$X=void 0;ra.zf.nX(Oa);}}ra.zf.gU=!1;if(ra.zf.sE){Fa=ra.zf.sE;ra.zf.sE=null;if(Fa.SMb)throw Fa.YWa;return {value:Fa.return,done:!0};}return {value:void 0,done:!0};}function Ea(ra){this.next=function(Fa){return ra.fV(Fa);};this.throw=function(Fa){return ra.nX(Fa);};this.return=function(Fa){return Ua(ra,Fa);};this[Symbol.iterator]=function(){return this;};}function Ja(ra,Fa){Fa=new Ea(new Qa(Fa));Cb && ra.prototype && Cb(Fa,ra.prototype);return Fa;}function Da(ra,Fa){var Oa,r,b;ra instanceof String && (ra+="");Oa=0;r=!1;b={next:function(){var a;if(!r && Oa < ra.length){a=Oa++;return {value:Fa(a,ra[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}function Sa(ra,Fa){return Object.prototype.hasOwnProperty.call(ra,Fa);}function Ia(ra,Fa,Oa){var a;ra instanceof String && (ra=String(ra));for(var r=ra.length,b=0;b < r;b++){a=ra[b];if(Fa.call(Oa,a,b,ra))return {F0a:b,Q$:a};}return {F0a:-1,Q$:void 0};}function Za(ra,Fa,Oa){if(null == ra)throw new TypeError("The 'this' value for String.prototype." + Oa + " must not be null or undefined");if(Fa instanceof RegExp)throw new TypeError("First argument to String.prototype." + Oa + " must not be a regular expression");return ra + "";}bb="function" == typeof Object.defineProperties?Object.defineProperty:function(ra,Fa,Oa){if(ra == Array.prototype || ra == Object.prototype)return ra;ra[Fa]=Oa.value;return ra;};Xa=(function(ra){var Oa;ra=["object" == typeof globalThis && globalThis,ra,"object" == typeof qb && qb,"object" == typeof self && self,"object" == typeof global && global];for(var Fa=0;Fa < ra.length;++Fa){Oa=ra[Fa];if(Oa && Oa.Math == Math)return Oa;}throw Error("Cannot find global object");})(this);sa("Symbol",function(ra){var r;function Fa(b){if(this instanceof Fa)throw new TypeError("Symbol is not a constructor");return new Oa("jscomp_symbol_" + (b || "") + "_" + r++,b);}function Oa(b,a){this.Ueb=b;bb(this,"description",{configurable:!0,writable:!0,value:a});}if(ra)return ra;Oa.prototype.toString=function(){return this.Ueb;};r=0;return Fa;});sa("Symbol.iterator",function(ra){var r;if(ra)return ra;ra=Symbol("Symbol.iterator");for(var Fa=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),Oa=0;Oa < Fa.length;Oa++){r=Xa[Fa[Oa]];"function" === typeof r && "function" != typeof r.prototype[ra] && bb(r.prototype,ra,{configurable:!0,writable:!0,value:function(){return za(ka(this));}});}return ra;});kb="function" == typeof Object.create?Object.create:function(ra){function Fa(){}Fa.prototype=ra;return new Fa();};ob=(function(){var Fa;function ra(){function Oa(){}new Oa();Reflect.construct(Oa,[],function(){});return new Oa() instanceof Oa;}if("undefined" != typeof Reflect && Reflect.construct){if(ra())return Reflect.construct;Fa=Reflect.construct;return function(Oa,r,b){Oa=Fa(Oa,r);b && Reflect.setPrototypeOf(Oa,b.prototype);return Oa;};}return function(Oa,r,b){void 0 === b && (b=Oa);b=kb(b.prototype || Object.prototype);return Function.prototype.apply.call(Oa,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)sb=Object.setPrototypeOf;else {a:{tb={a:!0};ub={};try{ub.__proto__=tb;sb=ub.a;break a;}catch(ra){}sb=!1;}sb=sb?function(ra,Fa){ra.__proto__=Fa;if(ra.__proto__ !== Fa)throw new TypeError(ra + " is not extensible");return ra;}:null;}Cb=sb;xa.prototype.fV=function(ra){this.$X=ra;};xa.prototype.nX=function(ra){this.sE={YWa:ra,SMb:!0};this.Cv=this.sia || this.vXa;};xa.prototype.return=function(ra){this.sE={return:ra};this.Cv=this.vXa;};Qa.prototype.fV=function(ra){Ra(this.zf);if(this.zf.TC)return pa(this,this.zf.TC.next,ra,this.zf.fV);this.zf.fV(ra);return ya(this);};Qa.prototype.nX=function(ra){Ra(this.zf);if(this.zf.TC)return pa(this,this.zf.TC["throw"],ra,this.zf.fV);this.zf.nX(ra);return ya(this);};sa("Reflect",function(ra){return ra?ra:{};});sa("Reflect.construct",function(){return ob;});sa("Reflect.setPrototypeOf",function(ra){return ra?ra:Cb?function(Fa,Oa){try{return (Cb(Fa,Oa),!0);}catch(r){return !1;}}:null;});sa("Promise",function(ra){var b,a;function Fa(c){var l;this.NN=0;this.uW=void 0;this.wM=[];this.a2a=!1;l=this.Aja();try{c(l.resolve,l.reject);}catch(f){l.reject(f);}}function Oa(){this.yA=null;}function r(c){return c instanceof Fa?c:new Fa(function(l){l(c);});}if(ra)return ra;Oa.prototype.BRa=function(c){var l;if(null == this.yA){this.yA=[];l=this;this.CRa(function(){l.LDb();});}this.yA.push(c);};b=Xa.setTimeout;Oa.prototype.CRa=function(c){b(c,0);};Oa.prototype.LDb=function(){var c,f;for(;this.yA && this.yA.length;){c=this.yA;this.yA=[];for(var l=0;l < c.length;++l){f=c[l];c[l]=null;try{f();}catch(k){this.Dsb(k);}}}this.yA=null;};Oa.prototype.Dsb=function(c){this.CRa(function(){throw c;});};Fa.prototype.Aja=function(){var l,f;function c(k){return function(d){f || (f=!0,k.call(l,d));};}l=this;f=!1;return {resolve:c(this.iZb),reject:c(this.Tta)};};Fa.prototype.iZb=function(c){var l;if(c === this)this.Tta(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof Fa)this.v0b(c);else {a:switch(typeof c){case "object":l=null != c;break a;case "function":l=!0;break a;default:l=!1;}l?this.hZb(c):this.hYa(c);}};Fa.prototype.hZb=function(c){var l;l=void 0;try{l=c.then;}catch(f){this.Tta(f);return;}"function" == typeof l?this.w0b(l,c):this.hYa(c);};Fa.prototype.Tta=function(c){this.oab(2,c);};Fa.prototype.hYa=function(c){this.oab(1,c);};Fa.prototype.oab=function(c,l){if(0 != this.NN)throw Error("Cannot settle(" + c + ", " + l + "): Promise already settled in state" + this.NN);this.NN=c;this.uW=l;2 === this.NN && this.TZb();this.MDb();};Fa.prototype.TZb=function(){var c;c=this;b(function(){var l;if(c.nSb()){l=Xa.console;"undefined" !== typeof l && l.error(c.uW);}},1);};Fa.prototype.nSb=function(){var c,l,f;if(this.a2a)return !1;c=Xa.CustomEvent;l=Xa.Event;f=Xa.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof l?c=new l("unhandledrejection",{cancelable:!0}):(c=Xa.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.uW;return f(c);};Fa.prototype.MDb=function(){if(null != this.wM){for(var c=0;c < this.wM.length;++c){a.BRa(this.wM[c]);}this.wM=null;}};a=new Oa();Fa.prototype.v0b=function(c){var l;l=this.Aja();c.A2(l.resolve,l.reject);};Fa.prototype.w0b=function(c,l){var f;f=this.Aja();try{c.call(l,f.resolve,f.reject);}catch(k){f.reject(k);}};Fa.prototype.then=function(c,l){var k,d,g;function f(m,h){return "function" == typeof m?function(n){try{k(m(n));}catch(p){d(p);}}:h;}g=new Fa(function(m,h){k=m;d=h;});this.A2(f(c,k),f(l,d));return g;};Fa.prototype.catch=function(c){return this.then(void 0,c);};Fa.prototype.A2=function(c,l){var k;function f(){switch(k.NN){case 1:c(k.uW);break;case 2:l(k.uW);break;default:throw Error("Unexpected state: " + k.NN);}}k=this;null == this.wM?a.BRa(f):this.wM.push(f);this.a2a=!0;};Fa.resolve=r;Fa.reject=function(c){return new Fa(function(l,f){f(c);});};Fa.race=function(c){return new Fa(function(l,f){for(var k=la(c),d=k.next();!d.done;d=k.next()){r(d.value).A2(l,f);}});};Fa.all=function(c){var l,f;l=la(c);f=l.next();return f.done?r([]):new Fa(function(k,d){var m,h;function g(n){return function(p){m[n]=p;h--;0 == h && k(m);};}m=[];h=0;do {m.push(void 0);h++;r(f.value).A2(g(m.length - 1),d);f=l.next();}while(!f.done);});};return Fa;});sa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});sa("Array.prototype.keys",function(ra){return ra?ra:function(){return Da(this,function(Fa){return Fa;});};});sa("WeakMap",function(ra){var c,l;function Fa(f){this.NT=(l+=Math.random() + 1).toString();if(f){f=la(f);for(var k;!(k=f.next()).done;){k=k.value;this.set(k[0],k[1]);}}}function Oa(){}function r(f){var k;k=typeof f;return "object" === k && null !== f || "function" === k;}function b(f){var k;if(!Sa(f,c)){k=new Oa();bb(f,c,{value:k});}}function a(f){var k;k=Object[f];k && (Object[f]=function(d){if(d instanceof Oa)return d;Object.isExtensible(d) && b(d);return k(d);});}if((function(){var f,k,d;if(!ra || !Object.seal)return !1;try{f=Object.seal({});k=Object.seal({});d=new ra([[f,2],[k,3]]);if(2 != d.get(f) || 3 != d.get(k))return !1;d.delete(f);d.set(k,4);return !d.has(f) && 4 == d.get(k);}catch(g){return !1;}})())return ra;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");l=0;Fa.prototype.set=function(f,k){if(!r(f))throw Error("Invalid WeakMap key");b(f);if(!Sa(f,c))throw Error("WeakMap key fail: " + f);f[c][this.NT]=k;return this;};Fa.prototype.get=function(f){return r(f) && Sa(f,c)?f[c][this.NT]:void 0;};Fa.prototype.has=function(f){return r(f) && Sa(f,c) && Sa(f[c],this.NT);};Fa.prototype.delete=function(f){return r(f) && Sa(f,c) && Sa(f[c],this.NT)?delete f[c][this.NT]:!1;};return Fa;});sa("Map",function(ra){var a,c;function Fa(){var l;l={};return l.$l=l.next=l.head=l;}function Oa(l,f){var k;k=l.Yx;return za(function(){if(k){for(;k.head != l.Yx;){k=k.$l;}for(;k.next != k.head;){return (k=k.next,{done:!1,value:f(k)});}k=null;}return {done:!0,value:void 0};});}function r(l,f){var k,d,g;k=f && typeof f;"object" == k || "function" == k?a.has(f)?k=a.get(f):(k="" + ++c,a.set(f,k)):k="p_" + f;d=l.Jx[k];if(d && Sa(l.Jx,k))for(l=0;l < d.length;l++){g=d[l];if(f !== f && g.key !== g.key || f === g.key)return {id:k,list:d,index:l,entry:g};}return {id:k,list:d,index:-1,entry:void 0};}function b(l){this.Jx={};this.Yx=Fa();this.size=0;if(l){l=la(l);for(var f;!(f=l.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var l,f,k,d;if(!ra || "function" != typeof ra || !ra.prototype.entries || "function" != typeof Object.seal)return !1;try{l=Object.seal({x:4});f=new ra(la([[l,"s"]]));if("s" != f.get(l) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;k=f.entries();d=k.next();if(d.done || d.value[0] != l || "s" != d.value[1])return !1;d=k.next();return d.done || 4 != d.value[0].x || "t" != d.value[1] || !k.next().done?!1:!0;}catch(g){return !1;}})())return ra;a=new WeakMap();b.prototype.set=function(l,f){var k;l=0 === l?0:l;k=r(this,l);k.list || (k.list=this.Jx[k.id]=[]);k.entry?k.entry.value=f:(k.entry={next:this.Yx,$l:this.Yx.$l,head:this.Yx,key:l,value:f},k.list.push(k.entry),this.Yx.$l.next=k.entry,this.Yx.$l=k.entry,this.size++);return this;};b.prototype.delete=function(l){l=r(this,l);return l.entry && l.list?(l.list.splice(l.index,1),l.list.length || delete this.Jx[l.id],l.entry.$l.next=l.entry.next,l.entry.next.$l=l.entry.$l,l.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.Jx={};this.Yx=this.Yx.$l=Fa();this.size=0;};b.prototype.has=function(l){return !!r(this,l).entry;};b.prototype.get=function(l){return (l=r(this,l).entry) && l.value;};b.prototype.entries=function(){return Oa(this,function(l){return [l.key,l.value];});};b.prototype.keys=function(){return Oa(this,function(l){return l.key;});};b.prototype.values=function(){return Oa(this,function(l){return l.value;});};b.prototype.forEach=function(l,f){for(var k=this.entries(),d;!(d=k.next()).done;){d=d.value;l.call(f,d[1],d[0],this);}};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});sa("Set",function(ra){function Fa(Oa){this.xv=new Map();if(Oa){Oa=la(Oa);for(var r;!(r=Oa.next()).done;){this.add(r.value);}}this.size=this.xv.size;}if((function(){var Oa,r,b,a;if(!ra || "function" != typeof ra || !ra.prototype.entries || "function" != typeof Object.seal)return !1;try{Oa=Object.seal({x:4});r=new ra(la([Oa]));if(!r.has(Oa) || 1 != r.size || r.add(Oa) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != Oa || a.value[1] != Oa)return !1;a=b.next();return a.done || a.value[0] == Oa || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return ra;Fa.prototype.add=function(Oa){Oa=0 === Oa?0:Oa;this.xv.set(Oa,Oa);this.size=this.xv.size;return this;};Fa.prototype.delete=function(Oa){Oa=this.xv.delete(Oa);this.size=this.xv.size;return Oa;};Fa.prototype.clear=function(){this.xv.clear();this.size=0;};Fa.prototype.has=function(Oa){return this.xv.has(Oa);};Fa.prototype.entries=function(){return this.xv.entries();};Fa.prototype.values=function(){return this.xv.values();};Fa.prototype.keys=Fa.prototype.values;Fa.prototype[Symbol.iterator]=Fa.prototype.values;Fa.prototype.forEach=function(Oa,r){var b;b=this;this.xv.forEach(function(a){return Oa.call(r,a,a,b);});};return Fa;});sa("Array.prototype.find",function(ra){return ra?ra:function(Fa,Oa){return Ia(this,Fa,Oa).Q$;};});sa("Number.isFinite",function(ra){return ra?ra:function(Fa){return "number" !== typeof Fa?!1:!isNaN(Fa) && Infinity !== Fa && -Infinity !== Fa;};});Ab="function" == typeof Object.assign?Object.assign:function(ra,Fa){var r;for(var Oa=1;Oa < arguments.length;Oa++){r=arguments[Oa];if(r)for(var b in r){Sa(r,b) && (ra[b]=r[b]);}}return ra;};sa("Object.assign",function(ra){return ra || Ab;});sa("Object.is",function(ra){return ra?ra:function(Fa,Oa){return Fa === Oa?0 !== Fa || 1 / Fa === 1 / Oa:Fa !== Fa && Oa !== Oa;};});sa("Array.prototype.includes",function(ra){return ra?ra:function(Fa,Oa){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;Oa=Oa || 0;for(0 > Oa && (Oa=Math.max(Oa + b,0));Oa < b;Oa++){a=r[Oa];if(a === Fa || Object.is(a,Fa))return !0;}return !1;};});sa("String.prototype.includes",function(ra){return ra?ra:function(Fa,Oa){return -1 !== Za(this,Fa,"includes").indexOf(Fa,Oa || 0);};});sa("Object.entries",function(ra){return ra?ra:function(Fa){var Oa,r;Oa=[];for(r in Fa){Sa(Fa,r) && Oa.push([r,Fa[r]]);}return Oa;};});sa("Object.values",function(ra){return ra?ra:function(Fa){var Oa,r;Oa=[];for(r in Fa){Sa(Fa,r) && Oa.push(Fa[r]);}return Oa;};});sa("Array.prototype.entries",function(ra){return ra?ra:function(){return Da(this,function(Fa,Oa){return [Fa,Oa];});};});sa("Array.prototype.findIndex",function(ra){return ra?ra:function(Fa,Oa){return Ia(this,Fa,Oa).F0a;};});sa("Promise.prototype.finally",function(ra){return ra?ra:function(Fa){return this.then(function(Oa){return Promise.resolve(Fa()).then(function(){return Oa;});},function(Oa){return Promise.resolve(Fa()).then(function(){throw Oa;});});};});sa("Number.parseInt",function(ra){return ra || parseInt;});sa("Array.prototype.values",function(ra){return ra?ra:function(){return Da(this,function(Fa,Oa){return Oa;});};});sa("String.prototype.endsWith",function(ra){return ra?ra:function(Fa,Oa){var r;r=Za(this,Fa,"endsWith");Fa+="";void 0 === Oa && (Oa=r.length);Oa=Math.max(0,Math.min(Oa | 0,r.length));for(var b=Fa.length;0 < b && 0 < Oa;){if(r[--Oa] != Fa[--b])return !1;}return 0 >= b;};});sa("Array.from",function(ra){return ra?ra:function(Fa,Oa,r){var b,a;Oa=null != Oa?Oa:function(l){return l;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && Fa[Symbol.iterator];if("function" == typeof a){Fa=a.call(Fa);for(var c=0;!(a=Fa.next()).done;){b.push(Oa.call(r,a.value,c++));}}else for((a=Fa.length,c=0);c < a;c++){b.push(Oa.call(r,Fa[c],c));}return b;};});sa("String.prototype.startsWith",function(ra){return ra?ra:function(Fa,Oa){var r,b,a;r=Za(this,Fa,"startsWith");Fa+="";b=r.length;a=Fa.length;Oa=Math.max(0,Math.min(Oa | 0,r.length));for(var c=0;c < a && Oa < b;){if(r[Oa++] != Fa[c++])return !1;}return c >= a;};});sa("Number.isNaN",function(ra){return ra?ra:function(Fa){return "number" === typeof Fa && isNaN(Fa);};});sa("Object.getOwnPropertySymbols",function(ra){return ra?ra:function(){return [];};});sa("Reflect.apply",function(ra){var Fa;if(ra)return ra;Fa=Function.prototype.apply;return function(Oa,r,b){return Fa.call(Oa,r,b);};});sa("Math.tanh",function(ra){return ra?ra:function(Fa){var Oa;Fa=Number(Fa);if(0 === Fa)return Fa;Oa=Math.exp(-2 * Math.abs(Fa));Oa=(1 - Oa) / (1 + Oa);return 0 > Fa?-Oa:Oa;};});sa("String.fromCodePoint",function(ra){return ra?ra:function(Fa){var b;for(var Oa="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?Oa+=String.fromCharCode(b):(b-=65536,Oa+=String.fromCharCode(b >>> 10 & 1023 | 55296),Oa+=String.fromCharCode(b & 1023 | 56320));}return Oa;};});sa("Object.setPrototypeOf",function(ra){return ra || Cb;});(function(){var Fa,Oa;function ra(r){var b;b=Oa[r];if(void 0 !== b)return b.exports;b=Oa[r]={exports:{}};Fa[r].call(b.exports,b,b.exports,ra);return b.exports;}Fa={18920:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v=void 0;b.v={fa:0,X:1,Ya:2};},94995:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(70655);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},7363:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cYa=b.W$=b.bYa=void 0;b.bYa={23976:{ya:24E3,S:1001},24:{ya:24E3,S:1E3},25:{ya:25E3,S:1E3},2997:{ya:3E4,S:1001},30:{ya:3E4,S:1E3}};b.W$=["23976","24","25","2997","30"];b.cYa=function(a,c){return a.ya / a.S === c.ya / c.S;};},42711:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},64370:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},66670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},52325:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},62231:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},84531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Ob=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Nb=!0;b.ca={ya:1024,S:24E3};b.duration={ya:7168,S:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},87448:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Ob=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Nb=!0;b.ca={ya:1024,S:24E3};b.duration={ya:7168,S:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},41223:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Ob=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Nb=!0;b.ca={ya:1024,S:24E3};b.duration={ya:7168,S:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},63098:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.GRa=b.feb=void 0;b.feb={padding:{"16:9":{h264hpl:{23976:function(){return a(33848);},24:function(){return a(32196);},25:function(){return a(75381);},2997:function(){return a(55725);},30:function(){return a(7140);}},h264:{23976:function(){return a(24453);},24:function(){return a(99651);},25:function(){return a(43636);},2997:function(){return a(67543);},30:function(){return a(19790);}}},"4:3":{h264hpl:{23976:function(){return a(19932);},24:function(){return a(37939);},25:function(){return a(43207);},2997:function(){return a(78257);},30:function(){return a(93277);}},h264:{23976:function(){return a(19745);},24:function(){return a(88203);},25:function(){return a(59332);},2997:function(){return a(58800);},30:function(){return a(53683);}}}}};b.GRa={silence:{heaac:{64:function(){return a(87448);},96:function(){return a(41223);},128:function(){return a(84531);}},ddp:{192:function(){return a(42711);},256:function(){return a(64370);},384:function(){return a(66670);},448:function(){return a(52325);},640:function(){return a(62231);}}}};},19745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Ob=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Nb=!1;b.ca={ya:1001,S:24E3};b.duration={ya:6006,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,729];b.Xb=[44];},88203:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19745);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Ob=!0;b.Le=749;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:24E3};b.duration={ya:6E3,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},59332:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19745);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Ob=!0;b.Le=749;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:25E3};b.duration={ya:7E3,S:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},58800:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19745);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Ob=!0;b.Le=749;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1001,S:3E4};b.duration={ya:8008,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,729];b.Xb=[44];},53683:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19745);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG";b.Ob=!0;b.Le=749;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:3E4};b.duration={ya:8E3,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},19932:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Ob=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Nb=!1;b.ca={ya:1001,S:24E3};b.duration={ya:6006,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},37939:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19932);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Ob=!0;b.Le=751;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:24E3};b.duration={ya:6E3,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,733];b.Xb=[44];},43207:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19932);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Ob=!0;b.Le=751;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:25E3};b.duration={ya:7E3,S:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,733];b.Xb=[44];},78257:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19932);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Ob=!0;b.Le=751;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1001,S:3E4};b.duration={ya:8008,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,731];b.Xb=[44];},93277:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19932);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG";b.Ob=!0;b.Le=751;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:3E4};b.duration={ya:8E3,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=1;b.Xc=1;b.Yb=[176,733];b.Xb=[44];},24453:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Ob=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Nb=!1;b.ca={ya:1001,S:24E3};b.duration={ya:6006,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,729];b.Xb=[44];},99651:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(24453);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Ob=!0;b.Le=749;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:24E3};b.duration={ya:6E3,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},43636:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(24453);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Ob=!0;b.Le=749;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:25E3};b.duration={ya:7E3,S:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},67543:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(24453);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Ob=!0;b.Le=749;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1001,S:3E4};b.duration={ya:8008,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,729];b.Xb=[44];},19790:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(24453);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG";b.Ob=!0;b.Le=749;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:3E4};b.duration={ya:8E3,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},33848:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Ob=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Nb=!1;b.ca={ya:1001,S:24E3};b.duration={ya:6006,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},32196:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(33848);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Ob=!0;b.Le=751;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:24E3};b.duration={ya:6E3,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,733];b.Xb=[44];},75381:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(33848);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Ob=!0;b.Le=751;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:25E3};b.duration={ya:7E3,S:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,733];b.Xb=[44];},55725:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(33848);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Ob=!0;b.Le=751;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1001,S:3E4};b.duration={ya:8008,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,731];b.Xb=[44];},7140:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Xc=b.Wc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(33848);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG";b.Ob=!0;b.Le=751;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:3E4};b.duration={ya:8E3,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Wc=4;b.Xc=3;b.Yb=[176,733];b.Xb=[44];},51530:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(70655);r.__exportStar(a(29266),b);r.__exportStar(a(7363),b);},68118:function(r,b,a){var d;function c(g){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g & 63];}function l(g,m){(0,d.assert)(0 < m && 8 > m);return c((m - 1 << 8) + g);}function f(g){return c(1792 + g[0]) + c((g[1] << 4) + (g[2] >>> 4)) + c((g[2] << 8 & 3840) + g[3]);}function k(g){return 43 === g?62:47 === g?63:58 > g?g - 48 + 52:91 > g?g - 65:g - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.M6=b.xPb=void 0;d=a(94995);b.xPb=function(g,m){var p,q,u,t,w,v;function h(y,x){var z;z=p;y=q - x - y;(0,d.assert)(1 <= y);(0,d.assert)(16384 > y - 1);(0,d.assert)(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=z + x;u=q;t=0;}function n(y,x,z){return g.subarray(y,y + z).every(function(A,B){return A === g[x + B];});}p="";q=m || 0;u=q;t=0;for(m=0;q < g.byteLength;){w=u;v=t;if(0 !== t && 513 > t && g[q] === g[u + t])(++t,++q);else if(513 === t)(h(w,v),m=0);else {for(--u;0 <= u && u >= q - t - 16384 && (g[w] !== g[u] || 0 < t && !n(q - t,u,t + 1));){--u;}if(0 <= u && u >= q - t - 16384)(++t,++q);else if(w === q || 1 === v){q-=v;for(w=1;5 > w && g[q + w] === g[q];){++w;}p+=l(g[q],w);q+=w;m=1 < w?0:m + 1;4 === m && (p=p.slice(0,p.length - 8),p+=f(g.subarray(q - 4,q)));u=q;t=0;}else (h(w,v),m=0);}}1 === t?p+=l(g[u],1):1 < t && h(u,t);return p;};b.M6=function(g,m){var t;function h(v,y){var x;if(u + y > p.byteLength){x=new Uint8Array(2 * p.byteLength);x.set(p,0);p=x;}if(v + y <= u)p.set(p.subarray(v,v + y),u);else for(x=0;x < y;++x){p[u + x]=p[v + x];}u+=y;}function n(){var v;v=g.slice(q,q+=2);return (k(v.charCodeAt(0)) << 6) + k(v.charCodeAt(1));}for(var p=m || new Uint8Array(4096),q=0,u=m?m.byteLength:0;q < g.length;){t=n();if(t & 2048)(m=n(),h(u - (((t & 2047) << 3) + (m >>> 9) + 1),(m & 511) + 2));else if(1792 === (t & 3840))(p[u++]=t & 255,m=n(),t=n(),p[u++]=m >>> 4,p[u++]=(m << 4 & 240) + (t >>> 8),p[u++]=t & 255);else {m=t & 255;t=(t >>> 8) + 1;for(var w=0;w < t;++w){p[u++]=m;}}}return p.subarray(0,u);};},51656:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ssb=b.Qsb=b.Tsb=b.Psb=b.Rsb=b.Usb=b.f6b=b.$5b=b.fI=b.h6b=b.W$=void 0;c=a(7363);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return c.W$;}});b.h6b=["padding"];b.fI=["h264hpl","h264"];b.$5b=["16:9","4:3"];b.f6b={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash"};b.Usb=["silence"];b.Rsb=["heaac","ddp"];b.Psb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.Tsb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.Qsb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.Ssb={heaac:{ya:1024,S:24E3},ddp:{ya:1536,S:48E3}};},29266:function(r,b,a){var l,f,k,d,g,m,h;function c(n){if(-1 !== d.fI.indexOf(n))return n;for(var p,q=0;q < d.fI.length;++q){if(-1 !== n.indexOf(d.fI[q])){p=d.fI[q];break;}}(0,m.assert)(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.YLa=void 0;l=a(70655);f=a(94160);k=a(63098);d=a(51656);g=a(7363);m=a(94995);h=a(68118);r=(function(){function n(p,q){this.atob=p;this.console=q;this.cK=1;this.LX=[];this.zR=[];}n.prototype.AJb=function(p,q,u,t,w){var v,z;void 0 === t && (t={w:16,Lq:9});void 0 === w && (w=1);q=c(q);v=(0,f.Hc)(g.W$,function(A){return (0,g.cYa)(u,g.bYa[A]);});(0,m.assert)(v);(0,m.assert)(16 === t.w && 9 === t.Lq || 4 === t.w && 3 === t.Lq);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.LX;y < x.length;y++){z=x[y];if(z.type === p && z.ox === t && z.vd === q && z.frameRate === v && z.trackId === w)return z;}p=this.vAb(p,t,q,v,w);this.LX.unshift(p);this.LX.length > this.cK && this.LX.splice(this.cK,this.LX.length - this.cK);return p;};n.prototype.zJb=function(p,q,u){var y;void 0 === u && (u=1);for(var t,w=0,v=this.zR;w < v.length;w++){y=v[w];"silence" === y.type && y.vd === p && y.bitrate === q && y.trackId === u && (t=y);}void 0 === t && (t=this.lAb(p,q,u),this.zR.unshift(t),this.zR.length > this.cK && this.zR.splice(this.cK,this.zR.length - this.cK));return t;};n.prototype.vAb=function(p,q,u,t,w){var v;v=k.feb[p][q][u][t]();return l.__assign(l.__assign({},this.decode(v,w)),{type:p,ox:q,vd:u,frameRate:t,width:v.width,height:v.height,Wc:v.Wc,Xc:v.Xc});};n.prototype.lAb=function(p,q,u){var t;t=k.GRa.silence[p][q];(0,m.assert)(t);t=t();return l.__assign(l.__assign({},this.decode(t,u)),{type:"silence",vd:p,bitrate:q,channels:t.channels});};n.prototype.decode=function(p,q){var u,t,w,v;u=p.Ob?this.iVa(p.va,p.Je,p.Le,p.Ke):this.atob(p.va);t=p.Nb?this.iVa(p.ka,p.Fe,p.He,p.Ge):this.atob(p.ka);if(1 !== q){w=new DataView(u);v=new DataView(t);p.Yb.forEach(function(y){return w.setUint32(y,q);});p.Xb.forEach(function(y){return v.setUint32(y,q);});}return l.__assign(l.__assign({},p),{va:u,ka:t,trackId:q});};n.prototype.iVa=function(p,q,u,t){p=void 0 === q?(0,h.M6)(p):t?(0,h.M6)(q + p):(0,h.M6)(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (u || 0),p.byteOffset + p.byteLength);};return n;})();b.YLa=r;},99484:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sha=b.pfb=b.AbortController=void 0;c=a(70655);r=(function(f){function k(){var d;d=null !== f && f.apply(this,arguments) || this;d.GNa=!1;return d;}c.__extends(k,f);Object.defineProperties(k.prototype,{aborted:{get:function(){return this.GNa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{reason:{get:function(){return this.spb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{signal:{get:function(){return this;},enumerable:!1,configurable:!0}});k.prototype.abort=function(d){this.spb=new l(d);this.GNa=!0;this.emit("abort",{type:"abort"});};return k;})(a(28075).EventEmitter);b.AbortController=r;l=(function(f){function k(d){d=f.call(this,d) || this;d.name="AbortError";return d;}c.__extends(k,f);return k;})(Error);b.pfb=l;b.sha=function(f){return new Promise(function(k){f.aborted && k();f.addListener("abort",function(){return k();});});};},67004:function(r,b,a){var f;function c(k){return k.filter(function(d,g){return k.indexOf(d) === g;});}function l(k,d,g){return g?k.filter(function(m){return !d.some(function(h){return g(m,h);});}):k.filter(function(m){return -1 === d.indexOf(m);});}Object.defineProperties(b,{__esModule:{value:!0}});b.BTa=b.rRa=b.I7=b.iKb=b.axb=b.flatten=b.Q4a=b.twb=b.T1=b.kx=b.tRa=b.sRa=b.pha=b.qha=b.Tu=b.rha=b.Hc=void 0;f=a(70655);b.Hc=function(k,d){for(var g=0;g < k.length;g++){if(d(k[g],g,k))return k[g];}};b.rha=function(k,d){for(var g=k.length - 1;0 <= g;--g){if(d(k[g],g,k))return k[g];}};b.Tu=function(k,d){var g;g=-1;return k.some(function(m,h,n){g=h;return d(m,h,n);})?g:-1;};b.qha=function(k,d){for(var g=k.length - 1;0 <= g;g--){if(d(k[g],g,k))return g;}return -1;};b.pha=c;b.sRa=function(k,d){return k.filter(function(g,m){return k.indexOf(g) === m && -1 !== d.indexOf(g);});};b.tRa=function(k,d){d=k.indexOf(d);if(-1 === d)return !1;k.splice(d,1);return !0;};b.kx=l;b.T1=function(k,d){return c(k.concat(d));};b.twb=function(k){return function(d,g){return k(d) - k(g);};};b.Q4a=function(k){return function(d,g){return k(d) < k(g)?d:g;};};b.flatten=function(k){var d;return (d=[]).concat.apply(d,f.__spreadArray([],f.__read(k),!1));};b.axb=function(k,d){void 0 === d && (d=function(g){return g;});return k.reduce(function(g,m){m=d(m);return (void 0 === g[m]?g[m]=1:++g[m],g);},{});};b.iKb=function(k,d){return k.reduce(function(g,m){var h;h=d(m);return (void 0 === g[h]?g[h]=[m]:g[h].push(m),g);},{});};b.I7=function(k){return null !== k && void 0 !== k;};b.rRa=function(k){var d,m;d=[];if(Array.isArray(k))for(var g=0;g < k.length;g++){m=k[g];Array.isArray(m)?d=d.concat(m.filter(function(h){return void 0 !== h;})):void 0 !== m && d.push(m);}return d;};b.BTa=function(k,d,g){var m;m=l(k,d,g);d=l(d,k,g);k=l(k,m);return {Vta:m,trb:d,U7a:k,result:k.concat(d)};};},65894:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=b.AssertionError=void 0;c=a(70655);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.AssertionError=l;b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},62624:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.NBa=void 0;c=a(65894);l=a(24574);f=a(87400);r=(function(){function k(d){this.gCb=d;this.Oxa=!1;this.aaa=new f.HKa();}k.prototype.n6b=function(d,g){var h,n;function m(){var u,t,w,v,y,x;u=p.pop();t=u.node;w=u.O1;u=w.JVb;v=w.fF;w=w.state;if(!q.aaa.has(t)){u=g(t,v,u,w);y=u.$$;x=u.state;u.L1 || q.aaa.add(t);n(t).forEach(function(z){var A;A=z.X5b;h.aaa.has(A) || (z=v + z.weight,y && p.push({node:A,O1:{fF:z,JVb:t,state:x}}));});}}h=this;n=this.gCb;(0,c.assert)(!this.Oxa);this.Oxa=!0;this.aaa.clear();for(var p=new l.h_([{node:d,O1:{fF:0,state:{root:!1,complete:!0,B9a:0,Br:0}}}],function(u,t){return u.O1.fF - t.O1.fF;}),q=this;!p.empty;){m();}this.Oxa=!1;};return k;})();b.NBa=r;},78781:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eB=void 0;b.eB=function(a,c){var l;a=Math.abs(a);for(c=Math.abs(c);c;){l=c;c=a % c;a=l;}return a;};},94160:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(99484),b);r.__exportStar(a(65894),b);r.__exportStar(a(62624),b);r.__exportStar(a(78781),b);r.__exportStar(a(24574),b);r.__exportStar(a(28823),b);r.__exportStar(a(53607),b);r.__exportStar(a(11362),b);r.__exportStar(a(87400),b);r.__exportStar(a(52065),b);r.__exportStar(a(67004),b);},24574:function(r,b,a){var l;function c(f,k){return f < k?-1:f > k?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.h_=void 0;l=a(70655);r=(function(){function f(k,d){this.data=null !== k && void 0 !== k?k:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(k=(this.length >> 1) - 1;0 <= k;k--){this.cfa(k);}}Object.defineProperties(f.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});f.prototype.push=function(k){this.data.push(k);this.WPa(this.length - 1);};f.prototype.pop=function(){var k,d;if(!this.empty){k=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.cfa(0));return k;}};f.prototype.pt=function(){return this.data[0];};f.prototype.map=function(k){return this.data.map(k);};f.prototype.find=function(k){return l.__read(this.data.filter(k),1)[0];};f.prototype.clear=function(){this.data=[];};f.prototype.remove=function(k){var d,g,m;d=this.data;k=d.indexOf(k);if(-1 !== k){g=d.pop();if(k < d.length){d[k]=g;m=k - 1 >> 1;d=d[m];0 <= m && 0 > this.compare(g,d)?this.WPa(k):this.cfa(k);}}};f.prototype.ctb=function(){for(var k=this.data,d=1;d < k.length;d++){if(0 > this.compare(k[d],k[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(k));}};f.prototype.contains=function(k){return 0 <= this.data.indexOf(k);};f.prototype.yr=function(){return this.data.concat([]);};f.prototype.WPa=function(k){for(var d=this.data,g=this.compare,m=d[k],h,n;0 < k;){h=k - 1 >> 1;n=d[h];if(0 <= g(m,n))break;d[k]=n;k=h;}d[k]=m;};f.prototype.cfa=function(k){for(var d=this.data,g=this.compare,m=this.length >> 1,h=d[k],n,p,q;k < m;){n=(k << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > g(d[p],q) && (n=p,q=d[p]);if(0 <= g(q,h))break;d[k]=q;k=n;}d[k]=h;};return f;})();b.h_=r;},53607:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wca=void 0;r=(function(){function a(c,l,f,k){var d;d=this;this.properties=c;this.transform=l;this.ws=f;this.state=k;this.va();c.forEach(function(g){return g.addListener(d.Lra);});this.Lra();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(l){return l.removeListener(c.Lra);});};a.prototype.J1a=function(c){return void 0 !== c.equal;};a.prototype.va=function(){var c;c=this;this.Lra=function(){var l,f;l=c.state;f=c.properties.map(function(k){return k.value;});c.state=c.transform(f);(c.J1a(c.state) && c.J1a(l)?c.state.equal(l):l === c.state) || c.ws(c.state);};};return a;})();b.Wca=r;},28823:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hq=b.zlb=void 0;c=a(70655);l=a(53607);f=a(11362);r=(function(){function k(d,g){this.Oa=d;this.Xx=g?[g]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Oa;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(d){-1 === this.Xx.indexOf(d) && (this.Xx=this.Xx.slice(),this.Xx.push(d));};k.prototype.removeListener=function(d){d=this.Xx.indexOf(d);-1 !== d && (this.Xx=this.Xx.slice(),this.Xx.splice(d,1));};return k;})();b.zlb=r;r=(function(k){function d(g,m){return k.call(this,g,m) || this;}c.__extends(d,k);d.yeb=function(g,m,h){return new l.Wca(g,m,h,!1);};d.y6b=function(g,m,h){return c.__awaiter(this,void 0,void 0,function(){var n,p,q;q=this;return c.__generator(this,function(u){switch(u.label){case 0:(n=void 0,p=new Promise(function(t){n=q.yeb(g,m,t);}),u.label=1);case 1:return (u.Qj.push([1,,6,7]),h?[4,(0,f.u8a)(h,p)]:[3,3]);case 2:return [2,u.Qa()];case 3:return [4,p];case 4:return [2,u.Qa()];case 5:return [3,7];case 6:return (n.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(d.prototype,{value:{get:function(){return this.Oa;},set:function(g){this.set(g);},enumerable:!1,configurable:!0}});d.prototype.set=function(g){var m;m=this.Oa;m !== g && (this.Oa=g,this.Xx.forEach(function(h){return h({oldValue:m,newValue:g});}));};return d;})(r);b.hq=r;},11362:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.u8a=b.yz=b.Woa=void 0;c=a(70655);l=a(99484);b.Woa=function(f){return "function" === typeof (null === f || void 0 === f?void 0:f.then);};r=(function(){function f(){var k;k=this;this.BPa=!1;this.promise=new Promise(function(d){k.zPa=d;});}Object.defineProperties(f.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wua:{get:function(){return this.BPa;},enumerable:!1,configurable:!0}});f.prototype.resolve=function(k){var d;this.BPa=!0;null === (d=this.zPa) || void 0 === d?void 0:d.call(this,k);this.zPa=void 0;};return f;})();b.yz=r;b.u8a=function(f,k){return c.__awaiter(this,void 0,void 0,function(){var d;return c.__generator(this,function(g){switch(g.label){case 0:return (d=(0,l.sha)(f),[4,Promise.race([d,k])]);case 1:return [2,g.Qa()];}});});};},87400:function(r,b){var l,f,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.FNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{FNa:{value:{},configurable:!1,enumerable:!1}})).FNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.HKa=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % f;r=(function(){function d(){this.I9=0;this.id=k=(k + 1) % f;}d.prototype.add=function(g){c(g)[this.id]=this.I9;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.I9;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.I9=(this.I9 + 1) % f;return this;};return d;})();b.HKa=r;},52065:function(r,b,a){var l;function c(f,k){return f && k?Math.abs(f * k / (0,l.eB)(f,k)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.N=void 0;l=a(78781);r=(function(){function f(k,d){"object" === typeof k?(this.oc=k.ya,this.fb=k.S):(this.oc=k,this.fb=d);isFinite(this.oc) || (this.fb=1);}f.compare=function(k,d){return k.Ik(d);};f.abs=function(k){return new f(Math.abs(k.oc),k.fb);};f.Ma=function(k){return 0 === k?f.Ia:new f(k,1E3);};f.Swa=function(k,d){return Math.floor(1E3 * k / d);};f.j5a=function(k,d){return Math.floor(k * d / 1E3);};f.max=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(g,m){return g.greaterThan(m)?g:m;});};f.min=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(g,m){return g.lessThan(m)?g:m;});};f.eB=function(k,d){var g;if(k.fb === d.fb)return new f((0,l.eB)(k.oc,d.oc),k.fb);g=c(k.fb,d.fb);return new f((0,l.eB)(k.oc * g / k.fb,d.oc * g / d.fb),g);};Object.defineProperties(f.prototype,{ya:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{G:{get:function(){return f.Swa(this.oc,this.fb);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fy:{get:function(){return 1E3 * this.oc / this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{nH:{get:function(){var k;k=this.Fy;return 0 > k?Math.ceil(k):Math.floor(k);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xh:{get:function(){return this.oc / this.fb;},enumerable:!1,configurable:!0}});f.prototype.Ae=function(k){k/=this.fb;return new f(Math.floor(this.oc * k),Math.floor(this.fb * k));};f.prototype.add=function(k){var d;if(this.fb === k.fb)return new f(this.oc + k.oc,this.fb);d=c(this.fb,k.fb);return new f(this.oc * d / this.fb + k.oc * d / k.fb,d);};f.prototype.wa=function(k){var d;if(this.fb === k.fb)return new f(this.oc - k.oc,this.fb);d=c(this.fb,k.fb);return new f(this.oc * d / this.fb - k.oc * d / k.fb,d);};f.prototype.Bv=function(k){return new f(this.oc * k,this.fb);};f.prototype.Ni=function(k){var d;if("number" === typeof k){if(Math.floor(k) === k){d=c(this.oc,k);if(d !== this.oc)return this.Ae(d / this.oc * this.fb).Ni(k);}return new f(Math.floor(this.oc / k),this.fb);}if(this.fb === k.fb)return this.oc / k.oc;d=c(this.fb,k.fb);return this.oc * d / this.fb / (k.oc * d / k.fb);};f.prototype.yK=function(k){var d;if(this.fb === k.fb)return new f(Math.abs(this.oc - k.oc),this.fb);d=c(this.fb,k.fb);return new f(Math.abs(this.oc * d / this.fb - k.oc * d / k.fb),d);};f.prototype.R8a=function(){return new f(this.fb,this.oc);};f.prototype.compare=function(k,d){var g;if(this.fb === d.fb)return k(this.oc,d.oc);g=c(this.fb,d.fb);return k(this.oc * g / this.fb,d.oc * g / d.fb);};f.prototype.Ik=function(k){var d;if(this.fb === k.fb)return this.ya === k.oc?0:this.oc - k.oc;d=c(this.fb,k.fb);return this.oc * d / this.fb - k.oc * d / k.fb;};f.prototype.equal=function(k){return this.compare(function(d,g){return d === g;},k);};f.prototype.ira=function(k){return this.compare(function(d,g){return d !== g;},k);};f.prototype.lessThan=function(k){return this.compare(function(d,g){return d < g;},k);};f.prototype.greaterThan=function(k){return this.compare(function(d,g){return d > g;},k);};f.prototype.MB=function(k){return this.compare(function(d,g){return d <= g;},k);};f.prototype.gi=function(k){return this.compare(function(d,g){return d >= g;},k);};f.prototype.isFinite=function(){return !!this.fb && isFinite(this.oc);};f.prototype.F_a=function(k){return c(this.S,k);};f.prototype.toJSON=function(){return {ticks:this.oc,timescale:this.fb};};f.prototype.toString=function(){return ("").concat(this.oc,"/").concat(this.fb);};f.prototype.mb=function(){return ("").concat(this.oc,"/").concat(this.fb," (").concat(this.G,"ms)");};f.Ia=new f(0,1E3);f.zy=new f(1,1E3);f.vp=new f(Infinity,1);f.mRb=new f(-Infinity,1);return f;})();b.N=r;},67026:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.O6a=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.O6a=function(c){var l,f,k,d;l=c.read(5);f=c.read(4);if(15 === f){k=c.read(24);f=a.indexOf(k);}else k=a[f];d=c.read(4);switch(l){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {$o:l,sampleRate:k,x9:f,ccc:d,GFb:1024};};},30242:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Z7a=void 0;c=a(57823);b.Z7a=function(l,f,k){var d,g;d=l.read(1);if(d){g=new c.IEa(l,d,f);1 === l.read(2) && l.advance(g.tM * g.PU);}(0,c.lta)(l,f,g,k);(0,c.lta)(l,f,g,k);};},14979:function(r,b,a){var c,l;b.w=void 0;c=a(35895);l=a(89288);b.w=function(f,k,d,g){var m;m=new c.oY(f);g=g && g.x9;k=(0,l.b8a)(m,{px:k,mH:d},g);m=m.offset;return {frame:f.subarray(0,m),Zra:m,ihc:k};};},97489:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.a8a=void 0;b.a8a=function(a,c,l){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== l.px && !l.mH?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},89288:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.b8a=void 0;c=a(76967);l=a(14535);b.b8a=function(f,k,d){var g,m,h;if(4095 === f.read(12)){f.advance(3);g=!!f.read(1);m=f.read(2) + 1;d=f.read(4);f.advance(8);h=f.read(13);f.advance(13 + (g?0:16));g={$o:m,x9:d,GFb:h};}else f.reverse(12);(0,c.assert)(void 0 !== d);(0,l.g8a)(f,d,k);return g;};},73782:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BDa=b.sDa=b.rDa=b.ADa=b.zDa=b.yDa=b.xDa=b.wDa=b.vDa=b.uDa=b.tDa=b.qDa=void 0;b.qDa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.tDa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.uDa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.vDa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.wDa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.xDa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.yDa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.zDa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.ADa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.rDa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.sDa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.BDa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},55312:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.YZ=void 0;c=a(73782);l=[c.qDa,c.tDa,c.uDa,c.vDa,c.wDa,c.xDa,c.yDa,c.zDa,c.ADa,c.rDa,c.sDa];f=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.YZ=(function(){function k(){}k.BXa=function(d,g){var m,q,u;m=g.table;g=g.width;for(var h=0,n=m[0],p=d.read(n);p !== m[h + 1];){h+=g;q=m[h];u=q - n;n=q;p<<=u;p|=d.read(u);}return h;};k.Hab=function(d){for(var g=4;d.read(1);){++g;}d.advance(g);};k.Iab=function(d,g){for(;g--;){k.BXa(d,c.BDa);}};k.m1b=function(d,g){var m,h;m=l[g - 1];h=m.table;m=this.BXa(d,m);if(11 > g)f[g - 1] && (g=h[m + 2]) && d.advance(g);else if(11 === g || 15 < g)(m+=2,(g=h[m]) && d.advance(g),(h=h[m + 1]) && this.Hab(d),1 < h && this.Hab(d));else throw Error("Huffman: unknown spectral codebook: " + g);};return k;})();},57823:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.IEa=b.lta=void 0;c=a(76967);l=a(55312);f=a(70309);b.lta=function(m,h,n,p){var q,u,t;q=m.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.px / 20)) / Math.log(2)));m.reverse(8);m.write(8,p);n || (n=new g(m,0,h));q=n;u=2 === q.Vxa?3:5;t=(1 << u) - 1;h=[];p=[];for(var w=[],v=0;v < q.tM;++v){for(var y=0,x=0;y < q.PU;){for(var z=m.read(4),A=0,B;(B=m.read(u)) === t;){A+=B;}A+=B;y+=A;h.push(z);p.push(A);++x;}w.push(x);}q=!0;for(u=0;u < h.length;++u){0 !== h[u] && (13 === h[u] && q?(m.advance(9),q=!1,l.YZ.Iab(m,p[u] - 1)):l.YZ.Iab(m,p[u]));}m.read(1) && m.advance(6 + 9 * (m.read(2) + 1));if(m.read(1))for((q=n,u=2 === q.Vxa?k:d,t=0);t < q.W5a;++t){if(w=m.read(u[0]))for((v=m.read(1),y=0);y < w;++y){if((m.advance(u[1]),x=m.read(u[2])))(m.advance(1),z=m.read(1),m.advance(x * (v + 3 - z)));}}(0,c.assert)(!m.read(1));q=n.tM;u=n.PU;t=n.Nbb;n=n.daa;for(v=w=0;v < q;++v){for((y=n[v],x=0);x < u;++w){if((z=h[w],A=p[w],0 === z || 13 === z || 15 === z || 14 === z))x+=A;else {B=5 <= z?2:4;for(var D=0;D < A;(++D,++x)){for(var C=y * (t[x + 1] - t[x]) / B,F=0;F < C;++F){l.YZ.m1b(m,z);}}}}}};k=[1,4,3];d=[2,6,5];g=(function(){return function(m,h,n){var p;this.daa=[];this.tM=1;this.daa[0]=1;m.advance(1);this.Vxa=m.read(2);m.read(1);if(2 === this.Vxa){this.W5a=8;this.PU=m.read(4);for(h=0;7 > h;++h){m.read(1)?this.daa[this.tM - 1]++:(this.tM++,this.daa[this.tM - 1]=1);}this.Nbb=f.oLa[n];}else {this.W5a=1;this.PU=m.read(6);if(m.read(1)){p=14 + Math.min(this.PU,40);m.read(1) && m.advance(p);h && m.read(1) && m.advance(p);}this.Nbb=f.nLa[n];}};})();b.IEa=g;},14535:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.g8a=void 0;c=a(30242);l=a(97489);b.g8a=function(f,k,d){var m;for(var g;7 !== (g=f.read(3));){m=f.read(4);switch(g){case 1:(0,c.Z7a)(f,k,d);break;case 6:(0,l.a8a)(f,m,d);break;default:throw Error(("Unsupported AAC element ").concat(g));}}f.gub();};},70309:function(r,b){var a,c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Elb=b.djb=b.Flb=b.$lb=b.amb=b.oLa=b.nLa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);k=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);h=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.nLa=[r,r,c,f,f,d,g,g,h,h,h,p];b.oLa=[a,a,l,k,k,k,m,m,n,n,n,q];b.amb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.$lb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.Flb=(function(){for(var u=new Float32Array(428),t=0;428 > t;t++){u[t]=Math.pow(2,(t - 200) / 4);}return u;})();b.djb=(function(){for(var u=new Float32Array(8191),t=4 / 3,w=0;8191 > w;w++){u[w]=Math.pow(w,t);}return u;})();b.Elb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},76967:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(70655);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},35895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oY=void 0;r=(function(){function a(c){this.data=c;this.wq=this.Jb=this.rd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Jb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.rd){if(8 === c)return this.data[this.Jb++];if(16 === c)return (c=this.view.getUint16(this.Jb),this.Jb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Jb),this.Jb+=4,c);}for(;this.rd < c;){this.wq=(this.wq << 8) + this.data[this.Jb++];this.rd+=8;}this.rd-=c;return this.wq >>> this.rd & (1 << c) - 1;};a.prototype.advance=function(c){var l;if(c <= this.rd)this.rd-=c;else {c-=this.rd;l=Math.floor(c / 8);this.Jb+=l;this.wq=this.data[this.Jb++];this.rd=8 - (c - 8 * l);}};a.prototype.write=function(c,l){var f,k;l&=(1 << c) - 1;if(0 === this.rd){if(8 === c){this.data[this.Jb++]=l;return;}if(16 === c){this.view.setUint16(this.Jb,l);this.Jb+=2;return;}if(32 === c){this.view.setUint32(this.Jb,l);this.Jb+=4;return;}}if(0 < this.rd){f=Math.min(c,this.rd);k=this.data[this.Jb - 1] & (~((1 << this.rd) - 1) ^ (1 << this.rd - f) - 1);this.data[this.Jb - 1]=k ^ (c >= f?l >>> c - f:l << this.rd - f);this.rd-=f;c-=f;}for(;8 <= c;){c-=8;this.data[this.Jb++]=l >>> c & 255;}0 < c && (this.rd=8 - c,k=this.data[this.Jb] & (1 << this.rd) - 1,this.wq=this.data[this.Jb++]=k ^ (l & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.rd && c <= 8 - this.rd?this.rd+=c:(0 !== this.rd && (c-=8 - this.rd,--this.Jb),this.Jb-=Math.floor(c / 8),this.wq=this.data[this.Jb - 1],this.rd=c % 8);};a.prototype.gub=function(){0 !== this.rd && (this.rd=0);};return a;})();b.oY=r;},70502:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.jUa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.jUa=function(c,l){void 0 === l && (l=0);l=~~l;for(var f=0;f < c.length;f++){l=(a[(l >> 8 ^ c[f]) & 255] ^ l << 8) & 65535;}return l;};},42806:function(r,b,a){var c,l;b.w=void 0;c=a(35895);l=a(97262);b.w=function(f,k,d){var g;g=new c.oY(f);k=(0,l.mRa)(g,k,null === d || void 0 === d?void 0:d.sG).KFb;f=f.subarray(0,k);(0,l.hab)(f);return {frame:f,Zra:k};};},97262:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.hab=b.mRa=void 0;c=a(76967);l=a(70502);b.mRa=function(f,k,d){var g,m;g=f.read(16);(0,c.assert)(2935 === g);g=2 * ((f.read(16) & 2047) + 1);f.advance(13);m=f.read(5);f.reverse(5);d && (k*=-m / d);f.write(5,Math.min(31,Math.max(1,Math.floor(m + k))));return {KFb:g};};b.hab=function(f){var k;k=(0,l.jUa)(f.subarray(2,f.length - 2));f[f.length - 2]=k >> 8;f[f.length - 1]=k & 255;};},8747:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.hXa=void 0;c=a(35895);l=a(67026);b.hXa=function(){var m,h,n,p;for(var d=[],g=0;g < arguments.length;g++){d[g]=arguments[g];}m="string" === typeof d[0]?{vd:d[0],frame:d[1],px:d[2],kwb:d[3],sG:d[4]}:d[0];h=m.vd;d=m.frame;g=m.px;n=m.kwb;p=m.sG;m=m.mH;m=void 0 === m?!1:m;switch(h){case "aac":void 0 === f && (f=a(14979).w);h=6;n && (n=new c.oY(n),h=(0,l.O6a)(n).x9);d=f(d,g,m,{x9:h}).Zra;break;case "ddp":void 0 === k && (k=a(42806).w);d=k(d,g,{sG:p}).Zra;break;default:throw Error("Unrecognized codec in fadeFrame: " + h);}return {JFb:d};};},86704:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(70655).__exportStar(a(8747),b);},22497:function(r,b){var a,c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CE=void 0;r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,W9:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,W9:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,W9:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,W9:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.CE={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},68072:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gCa=b.aya=void 0;c=a(70655);r=(function(l){function f(){var k;k=null !== l && l.apply(this,arguments) || this;k.vF=1536;return k;}c.__extends(f,l);f.Nc=!0;return f;})(a(98620).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="ac-3";return f;})(r);b.aya=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="ec-3";return f;})(r);b.gCa=r;},82511:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.YFb=this.L.Oc(2);this.Mtb=this.L.Oc(5);this.Ntb=this.L.Oc(3);this.sqb=this.L.Oc(3);this.L.Oc(1);this.L.Oc(5);this.L.Oc(5);return !0;};f.se="dac3";return f;})(a(37709).ef);b["default"]=r;},3897:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.L.Oc(1);this.L.Oc(7);this.A$a=this.L.Oc(3);this.z$a=this.L.Oc(5);this.B$a=this.L.Oc(1);this.r0a=this.L.Oc(1);this.Rcb=this.L.Oc(1);this.g5a=this.L.Oc(1);this.cTa=this.L.Oc(1);this.dTa=this.L.Oc(1);this.bTa=this.L.Oc(2);this.L.Oc(3);(this.woa=this.L.Oc(1))?this.e1a=this.L.Oc(4):this.L.Oc(4);k && (k.Hbc={A$a:this.A$a,z$a:this.z$a,B$a:this.B$a,r0a:this.r0a,Rcb:this.Rcb,g5a:this.g5a,cTa:this.cTa,dTa:this.dTa,bTa:this.bTa,woa:this.woa,e1a:this.e1a});return !0;};f.se="av1C";return f;})(a(37709).ef);b["default"]=r;},50525:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d;this.L.jd();this.ofb=this.L.jd();this.L.jd();this.L.jd();this.L.jd();this.b$=this.$fa(this.L.jd() & 31);this.I7a=this.$fa(this.L.jd());this.VM=this.b$.length?this.b$[0][1]:this.ofb;this.lPa=this.L.offset;this.startOffset + this.length < this.L.offset && (100 === this.VM || 110 === this.VM || 122 === this.VM || 144 === this.VM) && (this.L.jd(),this.L.jd(),this.$fa(this.L.jd()));d=this.startOffset + this.length - this.lPa;0 < d && this.am(d,this.lPa);k && k.Jha && (k.Jha.b$=this.b$,k.Jha.I7a=this.I7a,k.Jha.VM=this.VM);return !0;};f.prototype.$fa=function(k){var m;for(var d=[],g=0;g < k;++g){m=this.L.Rf();d.push(this.L.U8(m));}return d;};f.se="avcC";f.Nc=!1;return f;})(a(37709).ef);b["default"]=r;},98620:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=a(37709);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;g=f.prototype.parse.call(this,d);this.L.offset+=8;this.Aia=this.L.Rf();this.Lua=this.L.Rf();this.L.offset+=4;this.samplerate=this.L.Rf();this.L.offset+=2;l.K && this.L.console.trace("MP4AudioSampleEntry: channelcount: " + this.Aia + ", samplesize: " + this.Lua + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Ne)(d.Ne.Aia=this.Aia,d.Ne.Lua=this.Lua,d.Ne.samplerate=this.samplerate);return g;};k.Nc=!1;return k;})(a(24889).default);b["default"]=r;},44545:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.Cc=this.Qv([{Sbc:"int32"},{maxBitrate:"int32"},{m2:"int32"}]);return !0;};f.se="btrt";f.Nc=!1;return f;})(a(37709).ef);b["default"]=r;},37709:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ef=b.K=void 0;c=a(93005);b.K=!1;r=(function(){function l(f,k,d,g,m){this.Mb=f;this.type=k;this.byteOffset=d;this.byteLength=g;this.parent=m;this.Ed={};this.OG=g;}l.Rx=function(f,k){var g,h;function d(n){n && n.Rx && (n=n.Rx(k),n.length && (g=g.concat(n)));}g=[];f.type === k && g.push(f);if(f.Ed)for(var m in f.Ed){h=f.Ed[m];Array.isArray(h) && h.forEach(d);}return g;};l.oR=function(f,k){void 0 === f.Ed[k.type] && (f.Ed[k.type]=[]);f.Ed[k.type].push(k);};l.Rm=function(f,k){return l.Rx(f,k)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{L:{get:function(){return this.Mb;},enumerable:!1,configurable:!0}});l.prototype.Cg=function(){var f;f=this.Mb.Qb();this.version=f >> 24;this.flags=f & 16777215;};l.prototype.oR=function(f){l.oR(this,f);};l.prototype.Rx=function(f){return l.Rx(this,f);};l.prototype.Rm=function(f){return l.Rm(this,f);};l.prototype.parse=function(){return !0;};l.prototype.KS=function(){return !0;};l.prototype.uo=function(f){if((f=this.Ed[f]) && Array.isArray(f) && 1 === f.length)return f[0];};l.prototype.am=function(f,k){k=void 0 === k?this.Mb.offset:k;(0,c.assert)(k >= this.startOffset + 8 && k + f <= this.startOffset + this.OG,"Removal range [0x" + k.toString(16) + "-0x" + (k + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.OG).toString(16) + ")");this.Mb.am(f,k,this);};l.prototype.g9=function(f,k,d){d=void 0 === d?this.Mb.offset:d;(0,c.assert)(d >= this.startOffset + 8 && d + f <= this.startOffset + this.OG,"Removal range [0x" + d.toString(16) + "-0x" + (d + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.OG).toString(16) + ")");this.Mb.g9(f,k,d,this);};l.prototype.I8a=function(f,k,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.rPa(f,k));}return g;}return this.rPa(f,k);};l.prototype.Qv=function(f){var k,d;d=this;void 0 === k && (k={});f.forEach(function(g){var m,h;if("offset" === g.type){m=g.offset;if(0 < m % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.Mb.offset+=m / 8;}else for(m in g){h=g[m];k[m]="string" === typeof h?d.I8a(h):d.I8a(h.type,h.length,h.gsb);}});return k;};l.prototype.rPa=function(f,k){var d;d=this.byteLength - this.Mb.offset + this.startOffset;"undefined" === typeof k && (k=d);switch(f){case "int8":f=this.Mb.jd();break;case "int64":f=this.Mb.Wi();break;case "int32":f=this.Mb.Qb();break;case "int16":f=this.Mb.Rf();break;case "string":f=this.Mb.nXb(Math.min(k,d));break;default:throw Error("Invalid type: " + f);}return f;};l.Nc=!1;return l;})();b.ef=r;},87529:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d,g,m;d=this.L.offset;g=this.L.Rf();this.bVa=g >> 3;this.vSb=g & 7;this.s2b=[];for(g=0;g <= this.vSb;g++){m={YFb:this.L.Oc(2),Mtb:this.L.Oc(5),Ntb:this.L.Oc(5),sqb:this.L.Oc(3),nec:this.L.Oc(1),E9a:this.L.Oc(3),uSb:this.L.Oc(4)};0 < m.uSb?m.bcc=this.L.Oc(9):this.L.Oc(1);this.s2b.push(m);}k && k.hWa && (k.hWa.bVa=this.bVa,2 <= this.byteLength - (this.L.offset - d) && (this.L.Oc(7),d=this.L.Oc(1),k.hWa.Abc=1 === d));return !0;};f.se="dec3";return f;})(a(37709).ef);b["default"]=r;},23846:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=a(57699);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.Cg();this.Whb=l.Bba.B8a(this.L,d);return !0;};k.se="esds";k.Nc=!1;return k;})(a(37709).ef);b["default"]=r;},60345:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=a(93005);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g,m,h,n,p,q,u;if(null === d || void 0 === d || !d.Lg)return !0;p=null === (n=null === (h=null === (m=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === m?void 0:m.Rm("tkhd")) || void 0 === h?void 0:h.Cc) || void 0 === n?void 0:n.trackId;if("undefined" === typeof p)return !0;(0,l.assert)(d.Lg[p]);if(!d.Lg[p])return !0;this.Cg();g=this.L.Qb();for(m=0;m < g;m++){h=1 === this.version?this.L.Wi():this.L.Qb();n=1 === this.version?this.L.Wi():this.L.Qb();q=this.L.Rf();u=this.L.Rf();h={hgc:h,Lec:n,Kec:q,Jec:u};d.Lg[p].kWa || (d.Lg[p].kWa=[]);d.Lg[p].kWa.push(h);}return !0;};k.se="elst";k.Nc=!1;return k;})(a(37709).ef);b["default"]=r;},22369:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.L.Jy();this.L.Jy();for(this.aja=[];this.L.offset <= this.byteOffset + this.byteLength - 4;){this.aja.push(this.L.Jy());}return !0;};f.se="ftyp";f.Nc=!1;return f;})(a(37709).ef);b["default"]=r;},93575:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.Zzb=this.L.Jy();k && k.Ne && (k.Ne.EZb=this.Zzb);return !0;};f.se="frma";return f;})(a(37709).ef);b["default"]=r;},75453:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=a(54319);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g,m,h,n,p;this.Cg();this.Cc=this.Qv([{zfc:"int32"},{Dna:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Cc.Dna=(0,l.Tz)(this.Cc.Dna);if(d && d.Lg){p=null === (n=null === (h=null === (m=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === m?void 0:m.Rm("tkhd")) || void 0 === h?void 0:h.Cc) || void 0 === n?void 0:n.trackId;"number" === typeof p && d.Lg[p] && (d.Lg[p].ov=this.Cc.Dna);}return !0;};k.se="hdlr";k.Nc=!1;return k;})(a(37709).ef);b["default"]=r;},14304:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=a(93005);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.KS=function(){var d;d=this.Rm("esds");if(d=d && d.Whb.Rm(5))((0,l.assert)(this.samplerate),this.vF=d.vF * this.samplerate / d.w9);return !0;};k.se="mp4a";k.Nc=!0;return k;})(a(98620).default);b["default"]=r;},49922:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},31427:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.Cg();this.Cc=1 === this.version?this.Qv([{creationTime:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.Qv([{creationTime:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]);return !0;};f.se="mvhd";f.Nc=!1;return f;})(a(37709).ef);b["default"]=r;},95415:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.Cg();this.Cc=this.Qv(1 === this.version?[{CFb:"int64"}]:[{CFb:"int32"}]);return !0;};f.se="mehd";f.Nc=!1;return f;})(a(37709).ef);b["default"]=r;},32948:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=a(82296);a=a(37709);l=r.Pca;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Cg();this.Cc=this.Qv([{nt:"int32"},{Ds:"int16"}]);return !0;};k.se=l;k.Nc=!1;return k;})(a.ef);b["default"]=a;},36208:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=a(82296);r=a(37709);f=l.Qca;r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.parse=function(){this.Cg();this.fileSize=this.L.Wi();this.S=this.L.Wi();this.duration=this.L.Wi(!1,!0);this.ISb=this.L.Wi();this.L.Wi();this.MSb=this.L.Wi();this.URb=this.L.Qb();this.JSb=this.L.Wi();this.hFb=this.L.Qb();this.L.X8();this.Yk={moof:{offset:this.ISb},sidx:{offset:this.JSb,size:this.hFb}};this.Yk[l.lHa]={offset:this.MSb,size:this.URb};this.L.offset - this.startOffset <= this.length - 24 && (this.LSb=this.L.Wi(),this.HRb=this.L.Qb(),this.KSb=this.L.Wi(),this.GRb=this.L.Qb(),this.Yk[l.l_]={offset:this.LSb,size:this.HRb},this.Yk[l.k_]={offset:this.KSb,size:this.GRb});return !0;};d.se=f;d.Nc=!1;return d;})(r.ef);b["default"]=r;},19441:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=a(82296);a=a(37709);l=r.Rca;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d,h,n;this.Cg();1 <= this.version && this.L.X8();d=this.L.Qb();this.Yk={};for(var g=this.startOffset + this.length,m=0;m < d;++m){h=this.L.Jy();"uuid" === h && (h=this.L.X8());n=this.L.Wi();this.Yk[h]={offset:g,size:n};g+=n;}return !0;};k.se=l;k.Nc=!1;return k;})(a.ef);b["default"]=a;},74982:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.Cc=this.Qv([{fLb:"int32"},{Y5b:"int32"}]);if(null === k || void 0 === k?0:k.Ne)(k.Ne.Ddc=this.Cc.fLb,k.Ne.khc=this.Cc.Y5b);return !0;};f.se="pasp";f.Nc=!1;return f;})(a(37709).ef);b["default"]=r;},68290:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=a(82296);f=a(97090);k=a(98620);r=a(37709);d=a(3508);a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(){this.Cg();this.PK=this.L.Qb();return !0;};m.prototype.KS=function(h){var n;n=Object.keys(this.Ed);n.length && (n=n[0],this.Ed[n].length && (n=this.Ed[n][0],n instanceof k.default?this.ca=new f.N(n.vF,n.samplerate):n instanceof d.default && (n=n.Ed[l.Pca]) && n.length && (n=n[0].Cc,1E3 !== n.Ds && 1001 !== n.Ds || 0 !== n.nt % 1E3?this.L.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.nt + "/" + n.Ds):this.ca=new f.N(n.Ds,n.nt)),h && this.ca && (h.ca=this.ca)));return !0;};m.prototype.j9a=function(h){void 0 !== this.Ed[h] && 0 !== this.Ed[h].length && (this.Mb.Ut(this.PK - 1,this.byteOffset + 12),h=this.Ed[h][0],this.am(h.byteLength,h.byteOffset));};m.se="stsd";m.Nc=!0;return m;})(r.ef);b["default"]=a;},24889:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=a(37709);l=a(37709);a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.L.offset+=6;this.L.Rf();l.K && this.L.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Ne)d.Ne.EZb=this.type;return !0;};return k;})(r.ef);b["default"]=a;},61639:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=a(37709);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.Cg();this.Xua=this.L.Jy();l.K && this.L.console.trace("SchemeTypeBoxTranslator: " + this.Xua);if("cenc" === this.Xua){if((this.L.offset-=4,l.K && this.L.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.L.offset),this.Mb.Geb("piff"),null === d || void 0 === d?0:d.Ne))d.Ne.nDb="piff";}else if(null === d || void 0 === d?0:d.Ne)d.Ne.nDb=this.Xua;this.L.Qb();return !0;};k.se="schm";k.Nc=!1;return k;})(l.ef);b["default"]=r;},5031:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=a(97090);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.KS=function(d){var g;if(d && d.ca && !d.OTb){g=this.uo("mdia");g && (g=g.uo("mdhd")) && g.S !== d.ca.S && (d.ca=new l.N(d.ca).Ae(g.S));}return !0;};k.se="trak";k.Nc=!0;return k;})(a(37709).ef);b["default"]=r;},86640:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d,g,m,h,n;this.Cg();d=this.Qv([{hO:"int32"},{aka:"int32"},{cv:"int32"},{Lx:"int32"},{Kx:"int32"}]);g=d.hO;m=d.aka;h=d.cv;n=d.Kx;d=d.Lx;this.Cc={trackId:g,xcc:m,m3:h,ycc:n,zcc:d};(null === k || void 0 === k?0:k.Lg) && k.Lg[g] && (k.Lg[g].aka=m,k.Lg[g].cv=h,k.Lg[g].Kx=n,k.Lg[g].Lx=d);this.hO=g;this.aka=m;this.cv=h;this.Lx=d;this.Kx=n;return !0;};f.se="trex";f.Nc=!1;return f;})(a(37709).ef);b["default"]=r;},11181:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d;this.Cg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{lec:"int16"},{xbc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Cc=this.Qv(d);this.Cc.Vgc=!!(this.flags & 1);this.Cc.Wgc=!!(this.flags & 2);this.Cc.Xgc=!!(this.flags & 4);this.Cc.Ygc=!!(this.flags & 8);if(null === k || void 0 === k?0:k.Ne)(k.Ne.width=this.Cc.width,k.Ne.height=this.Cc.height);k && k.Lg && (k.Lg[this.Cc.trackId]={});return !0;};f.se="tkhd";f.Nc=!1;return f;})(a(37709).ef);b["default"]=r;},77301:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.HMa=void 0;c=a(70655);l=a(86704);f=a(93005);k=a(22497);r=(function(d){function g(m,h,n,p,q){m=d.call(this,m,h,n,p,q) || this;m.vS=!1;return m;}c.__extends(g,d);Object.defineProperties(g.prototype,{aVa:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{i4:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{t9:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{v9:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kua:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jua:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});g.prototype.parse=function(m){var h,n,p;this.Cg();this.Sha=this.L.offset;this.sd=this.L.Qb();this.Jm=this.aVa?this.L.W8():0;this.jFb=this.i4?this.L.Qb():void 0;this.Iua=(this.t9?4:0) + (this.v9?4:0) + (this.Kua?4:0) + (this.Jua?4:0);this.YK=this.L.offset;(0,f.assert)(this.aVa,"Expected data offset to be present in Track Run");(0,f.assert)(this.length - (this.L.offset - this.startOffset) === this.sd * this.Iua,"Expected remaining data in box to be sample information");if(m && m.ka){m.ka.Jm=this.Jm;m.ka.sd=this.sd;this.Kj=[];p=null === (n=null === (h=this.parent) || void 0 === h?void 0:h.Rm("tfhd")) || void 0 === n?void 0:n.hO;for(h=0;h < this.sd;h++){n={};this.t9?n.s9=this.L.Qb():m.ka.cv?n.s9=m.ka.cv:p && m.Lg && m.Lg[p] && (n.s9=m.Lg[p].cv);this.v9?n.pH=this.L.Qb():m.ka?n.pH=m.ka.Lx:p && m.Lg && m.Lg[p] && (n.pH=m.Lg[p].Lx);this.Kua?n.u9=this.L.Qb():m.ka?n.u9=m.ka.Kx:p && m.Lg && m.Lg[p] && (n.u9=m.Lg[p].Kx);this.Jua && (n.Xfc=0 === this.version?this.L.Qb():this.L.W8());0 === h && this.i4 && (n.u9=this.jFb);this.Kj.push(n);}m.ka.Kj=this.Kj;if(m.ka.oH)for(((0,f.assert)(m.ka.oH.length === m.ka.Kj.length,("num fragment samples: ").concat(m.ka.Kj.length,", ") + ("num samples in auxiliary info: ").concat(m.ka.oH.length)),p=0);p < m.ka.Kj.length;p++){m.ka.Kj[p].$ba=m.ka.oH[p].$ba;m.ka.Kj[p].vwa=m.ka.oH[p].vwa;}}return !0;};g.prototype.$0=function(m,h,n){var p,q,u;p=this.t9?this.L.Qb():m.cv;q=this.v9?this.L.Qb():m.Lx;m=this.Kua?this.L.Qb():m.Kx;u=this.Jua?0 === this.version?this.L.Qb():this.L.W8():0;return {GZb:u,u9:m,pH:q,s9:p,Bfc:(n || 0) + u - (void 0 !== h?h:u)};};g.prototype.Ha=function(m,h,n,p,q,u,t){var w,v,y,x;(0,f.assert)(void 0 !== this.Jm);(0,f.assert)(void 0 !== this.YK);(0,f.assert)(void 0 !== this.Sha);(0,f.assert)(void 0 !== this.sd);(0,f.assert)(void 0 !== m.vq);w=0;v=0;this.Mb.offset=this.YK;for(p=0;p < q;++p){y=this.$0(h,x,v);if(0 === p)x=y.GZb;w+=y.pH;v+=y.s9;}p=q;q=this.L.offset;y=this.$0(h,x,v);this.Xta=t;this.GN=p;this.Kab=v;if(t){if((this.gN=this.Jm + w,this.Op=0,p === this.sd))return !0;}else if((this.gN=this.Jm,this.Op=w,0 === p))return !0;if(0 === p || p === this.sd)return !1;this.vS=!0;if(t){this.Op+=y.pH;for(t=p + 1;t < this.sd;++t){y=this.$0(h,x,v);this.Op+=y.pH;}this.Mb.offset=this.Sha;this.sd=p;this.Mb.Ut(this.sd);this.Mb.Yxa(u);this.i4 && (this.L.offset+=4);this.am(this.length - (q - this.startOffset),q);}else (h=q - this.YK,this.YK=q,this.Mb.offset=this.Sha,this.sd-=p,this.Mb.Ut(this.sd),this.Jm+=w,this.Mb.Yxa(u,this.Jm),this.i4 && (this.L.offset+=4),this.am(h,this.Mb.offset));n.am(this.Op,m.vq + this.gN);return !0;};g.prototype.qRb=function(m,h,n,p,q,u,t,w){var v,x,z,A,B;void 0 === t && (t=!1);(0,f.assert)(void 0 !== this.Jm);(0,f.assert)(void 0 !== this.YK);(0,f.assert)(void 0 !== this.sd);(0,f.assert)(void 0 !== this.Iua);(0,f.assert)(void 0 !== m.vq);for(var y=p.length;y < this.sd;++y){p[y]=p[y - 1];}p.some(function(D){return 0 >= D;}) && (x=null === (v=this.Hnb(q,u)) || void 0 === v?void 0:v.W9);this.L.offset=this.YK;m=m.vq + this.Jm;q=-1 !== q.indexOf("heaac")?"aac":"ddp";u=new Uint8Array(this.L.view.buffer,this.L.view.byteOffset,this.L.view.byteLength);for(y=0;y < this.sd;++y){v=this.$0(h).pH;if(-Infinity === p[y]){if(x && this.v9){n.g9(v,x,m);z=this.Iua - (this.t9?4:0);this.Mb.offset-=z;this.Mb.Ut(x.byteLength);this.Mb.offset+=z - 4;}}else if(0 > p[y])try{A=u.subarray(m,m + v);B=(0,l.hXa)({vd:q,frame:A,px:p[y],mH:t,sG:w}).JFb;B !== v && this.L.console.error(("TrackRunBoxEditor: parse frame size error ").concat(B," should be ").concat(v));}catch(D){this.L.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(D.message," ").concat(D.stack));}m+=v;}};g.prototype.Hnb=function(m,h){if("string" === typeof h)return ((0,f.assert)("reset" !== h && "standard" !== h),k.CE[h]);if(void 0 !== m)return h?k.CE.reset[m] || k.CE.standard[m]:k.CE.standard[m];};g.se="trun";g.Nc=!1;return g;})(a(37709).ef);b.HMa=r;},3508:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fya=b.DDa=b.PDa=b.lya=b.kya=b.jya=b.iya=void 0;c=a(70655);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){l.prototype.parse.call(this,k);this.Cc=this.Qv([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{Qdc:"int32"},{lhc:"int32"},{offset:32,type:"offset"},{odc:"int16"},{kcc:{type:"int8",gsb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};f.Nc=!0;return f;})(a(24889).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="avc1";return f;})(r);b.iya=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="avc2";return f;})(r);b.jya=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="avc3";return f;})(r);b.kya=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="avc4";return f;})(r);b.lya=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="hvc1";return f;})(r);b.PDa=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="hev1";return f;})(r);b.DDa=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.se="av01";return f;})(r);b.fya=r;},77611:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pY=void 0;c=a(70655);l=a(37709);f=a(54319);r=(function(k){function d(g,m,h,n,p){h=k.call(this,h,n,p) || this;h.Htb=g;h.ON=m;h.Ed={};return h;}c.__extends(d,k);d.prototype.parse=function(g){var m,h,n,p,q,u;this.offset=0;m=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){h=this.offset;n=this.Qb();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=(0,f.Tz)(this.Qb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.X8();}if(0 === m.length && this.ON.$Xa(p,h,n))break;if(h + n > this.view.byteLength)break;q=this.Htb[p];u=void 0;if(q){if((u=new q(this,p,h,n,m[0]),(m[0] || this).oR(u),u.parse(g)))this.config.lsa && q.Nc?m.unshift(u):this.offset=h + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=h + n;for(;m.length && this.offset > m[0].byteOffset + m[0].OG - 8;){u=m.shift();if(!u.KS(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.OG;}if(0 === m.length && this.ON.RVa(p,h,n,u))break;}return !this.ON.done && (g=this.ON.endOffset?this.ON.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,q5a:g}:{done:!0,offset:Math.min(this.ON.endOffset || Infinity,this.offset)};};d.prototype.oR=function(g){l.ef.oR(this,g);};return d;})(a(86063).rNa);b.pY=r;},69740:function(r){var c,l;function b(){var f,k;if(DataView.prototype && DataView.prototype.AT && !l){try{f=new ArrayBuffer(4);k=new DataView(f);k.vL(0,4,1);}catch(d){return;}try{f=new ArrayBuffer(4);k=new DataView(f);k.vL(1,2,2);}catch(d){DataView.prototype.vL=a(DataView.prototype.vL,DataView.prototype.getUint8,Uint8Array);DataView.prototype.e5=a(DataView.prototype.e5,DataView.prototype.getUint16,Uint16Array);DataView.prototype.AT=a(DataView.prototype.AT,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Cma=a(DataView.prototype.Cma,DataView.prototype.getInt8,Int8Array);DataView.prototype.Ama=a(DataView.prototype.Ama,DataView.prototype.getInt16,Int16Array);DataView.prototype.Bma=a(DataView.prototype.Bma,DataView.prototype.getInt32,Int32Array);}c.VJb=function(d,g,m,h,n){return m?d.vL(g,m,h || 1,n):new Uint8Array(0);};c.TJb=function(d,g,m,h,n){return m?d.e5(g,m,h || 2,n):new Uint16Array(0);};c.UJb=function(d,g,m,h,n){return m?d.AT(g,m,h || 4,n):new Uint32Array(0);};c.xdc=function(d,g,m,h,n){return m?d.Cma(g,m,h || 1,n):new Int8Array(0);};c.vdc=function(d,g,m,h,n){return m?d.Ama(g,m,h || 2,n):new Int16Array(0);};c.wdc=function(d,g,m,h,n){return m?d.Bma(g,m,h || 4,n):new Int32Array(0);};l=!0;}}function a(f,k,d){return function(g,m,h,n){var p;h=h || d.BYTES_PER_ELEMENT;if(g + m * h > this.byteLength){p=new d(m);p.set(f.call(this,g,m - 1,h,n));p[m - 1]=k.call(this,g + (m - 1 * h),n);return p;}return f.call(this,g,m,h,n);};}c={vL:function(f,k,d,g,m){var h;h=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getUint8(k,m);}return h;},e5:function(f,k,d,g,m){var h;h=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getUint16(k,m);}return h;},AT:function(f,k,d,g,m){var h;h=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getUint32(k,m);}return h;},Cma:function(f,k,d,g,m){var h;h=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getInt8(k,m);}return h;},Ama:function(f,k,d,g,m){var h;h=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getInt16(k,m);}return h;},Bma:function(f,k,d,g,m){var h;h=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,k+=g)){h[n]=f.getInt32(k,m);}return h;},ddc:b};l=!1;c.hHb=function(){return l;};b();r.exports=c;},62449:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pba=void 0;c=a(70655);l=a(37709);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;this.P7=this.L.jd();g=this.L.jd();this.pwa=g >>> 2;this.oxa=g >>> 1 & 1;this.Yha=256 * this.L.Rf() + this.L.jd();this.maxBitrate=this.L.Qb();this.m2=this.L.Qb();l.K && this.L.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.P7.toString(16) + ", streamType=" + this.pwa + ", upStream=" + this.oxa + ", bufferSizeDB=" + this.Yha + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.m2);if(null === d || void 0 === d?0:d.Mi)(d.Mi.P7=this.P7,d.Mi.pwa=this.pwa,d.Mi.oxa=this.oxa,d.Mi.Yha=this.Yha,d.Mi.maxBitrate=this.maxBitrate,d.Mi.m2=this.m2);this.qPa(d);return !0;};k.tag=4;return k;})(a(33277).SY);b.pba=r;},2439:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ABa=void 0;c=a(70655);l=a(37709);r=a(33277);f=a(57699);a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.H8a=function(){var g;g=this.L.Oc(4);return 15 !== g?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][g]:this.L.Oc(24);};d.prototype.parse=function(g,m){if(this.NMb(m) && 64 === m.P7){if(null === g || void 0 === g?0:g.Mi){m=this.L.VYa(this.length);for(var h=new ArrayBuffer(this.length),n=new Uint8Array(h),p=0;p < this.length;p++){n[p]=m.getUint8(p);}g.Mi.wcc=h;}this.$o=this.z8a();this.w9=this.H8a();this.zia=this.L.Oc(4);this.Oua=this.GS=5 === this.$o || 29 === this.$o?5:-1;this.tta=29 === this.$o?1:-1;0 < this.GS && (this.gla=this.H8a(),this.$o=this.z8a(),22 === this.$o && (this.fla=this.L.Oc(4)));switch(this.$o){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.VS=this.L.Oc(1),this.uja=(this.aBb=this.L.Oc(1))?this.L.Oc(14):void 0,this.L.Oc(1),this.vF=3 === this.$o?256:23 === this.$o?this.VS?480:512:this.VS?960:1024);}l.K && this.L.console.trace("AudioSpecificConfig: audioObjectType=" + this.$o + ", samplingFrequency=" + this.w9 + ", channelConfiguration=" + this.zia + ", extensionAudioObjectType=" + this.GS + ", sbrPresentFlag=" + this.Oua + ", psPresentFlag=" + this.tta + ", extensionSamplingFrequency=" + this.gla + ", extensionChannelConfiguration=" + this.fla + ", frameLengthFlag=" + this.VS + ", coreCoderDelay=" + this.uja + ", frameLength=" + this.vF);if(null === g || void 0 === g?0:g.Mi)(g.Mi.$o=this.$o,g.Mi.w9=this.w9,g.Mi.zia=this.zia,g.Mi.GS=this.GS,g.Mi.Oua=this.Oua,g.Mi.tta=this.tta,g.Mi.gla=this.gla,g.Mi.fla=this.fla,g.Mi.VS=this.VS,g.Mi.uja=this.uja,g.Mi.vF=this.vF);}this.skip();return !0;};d.prototype.z8a=function(){var g;g=this.L.Oc(5);31 === g && (g=32 + this.L.Oc(6));return g;};d.prototype.NMb=function(g){return g.tag === f.pba.tag;};d.tag=5;return d;})(r.SY);b.ABa=a;},33277:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SY=void 0;c=a(70655);l=a(57699);r=(function(){function f(k,d,g){this.tag=k;this.view=d;this.L=g;this.startOffset=g.offset;}f.B8a=function(k,d,g){var m,h;m=k.jd();h=k.pXb();k=new (l.bF[m] || f)(m,k.VYa(h),k);k.parse(d,g);return k;};Object.defineProperties(f.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});f.prototype.parse=function(){this.L.offset=this.startOffset + this.length;this.L.rd=0;return !0;};f.prototype.xXa=function(k){var d,m;d=[];this.tag === k && d.push(this);if(this.bF)for(var g=0;g < this.bF.length;g++){m=this.bF[g];d=c.__spreadArray(c.__spreadArray([],d,!0),m.xXa(k),!0);}return d;};f.prototype.Rm=function(k){for(k=this.xXa(k);0 < k.length;){return k[0];}};f.prototype.qPa=function(k){for(this.bF=[];this.L.offset < this.startOffset + this.length;){this.bF.push(f.B8a(this.L,k,this));}};return f;})();b.SY=r;r.prototype.skip=r.prototype.parse;},57699:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bF=void 0;r=a(70655);r.__exportStar(a(33277),b);r.__exportStar(a(64445),b);r.__exportStar(a(62449),b);r.__exportStar(a(2439),b);r=a(62449);c=a(2439);a=a(64445);b.bF={3:a.Bba,4:r.pba,5:c.ABa};},64445:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Bba=void 0;c=a(70655);l=a(37709);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;this.Xhb=this.L.Rf();g=this.L.jd();this.mbb=!!(g & 128);this.WMa=!!(g & 64);this.FHa=!!(g & 32);this.a2b=g & 31;this.bBb=this.mbb?this.L.Rf():void 0;this.WMa && this.L.U8(this.L.jd());this.dkb=this.FHa?this.L.Rf():void 0;l.K && this.L.console.trace("ESDescriptor: ES_ID=" + this.Xhb + ", streamDependenceFlag=" + this.mbb + ", URL_Flag=" + this.WMa + ", OCRstreamFlag=" + this.FHa + ", streamPriority=" + this.a2b + ", dependsOn_ES_ID=" + this.bBb + ", OCR_ES_Id=" + this.dkb);this.qPa(d);return !0;};k.tag=3;return k;})(a(33277).SY);b.Bba=r;},86393:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.v=b.CE=b.T_=b.uea=b.uhb=b.Tz=b.nP=b.SB=b.Pr=b.Hw=b.Co=void 0;r=a(13082);c=a(69740);b.uhb=c;c=a(44098);b.uea=c;c=a(22497);b.CE=c;b.T_=r.oM.Ed.sidx;l=a(83375);Object.defineProperties(b,{Co:{enumerable:!0,get:function(){return l.Co;}}});f=a(76271);Object.defineProperties(b,{Hw:{enumerable:!0,get:function(){return f.Hw;}}});k=a(66633);Object.defineProperties(b,{Pr:{enumerable:!0,get:function(){return k.Pr;}}});Object.defineProperties(b,{SB:{enumerable:!0,get:function(){return k.SB;}}});d=a(74071);Object.defineProperties(b,{nP:{enumerable:!0,get:function(){return d.nP;}}});g=a(54319);Object.defineProperties(b,{Tz:{enumerable:!0,get:function(){return g.Tz;}}});m=a(67325);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return m.v;}}});},74071:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nP=void 0;c=a(70655);r=a(76271);l=a(12602);a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.Ha=function(d){var g,m,h,n;g=this;if(!this.parse().done)return !1;m=this.Ed.moov;if(!m || 0 === m.length)return !1;h=m[0].Rm("tenc");if(!h)return !1;n=new Uint8Array(h.Xn);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(n[t] !== q[t]){u=!1;break;}}u && g.qf.g9(p.from.length,p.to,h.hpa);});return (0,l.concat)(this.qf.Ha());};return k;})(r.Hw);b.nP=a;},67325:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.v=void 0;c=a(18920);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return c.v;}}});},13082:function(r,b,a){var F,G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha,ta,Q,O,Z,oa,qa,Ha,Ya,Wa,rb,nb,Fb,Kb;function c(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function l(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function f(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function k(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);this.Rva=Ta.config.Rva;this.kf=this.sizes=void 0;}function d(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function g(){for(var Ta=new DataView(this),$a="",ib,mb=0;mb < this.byteLength;mb++){ib=Ta.getUint8(mb);$a+=("00" + ib.toString(16)).slice(-2);}return $a;}function m(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function h(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function n(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function p(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function q(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function u(Ta){function $a(ib,mb,pb,Bb,Db){J.call(this,ib,mb,pb,Bb,Db);this.ORb=Ta;}$a.Nc=!1;$a.prototype=new J();$a.prototype.constructor=$a;Object.defineProperties($a.prototype,{rBa:{get:function(){return this.ORb;}}});$a.prototype.parse=function(){this.L.offset=this.startOffset + 4;this.Mb.Geb(this.rBa);this.type=this.rBa;return !0;};return $a;}function t(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function w(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function v(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function y(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function x(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function z(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function A(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function B(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function D(Ta,$a,ib,mb,pb){J.call(this,Ta,$a,ib,mb,pb);}function C(Ta,$a){Ta.forEach(function(ib){$a[ib.se]=ib;});}F=a(93005).assert;b=a(82296);G=a(97090).N;E=a(44098);a(69740);a(54319);a(54319);a(54319);J=a(37709).ef;M=a(31427)["default"];L=a(5031)["default"];I=a(11181)["default"];P=a(95415)["default"];K=a(74982)["default"];H=a(44545)["default"];N=a(22369)["default"];R=a(75453)["default"];Y=a(68290)["default"];a(24889);a(98620);ma=a(68072).aya;ia=a(68072).gCa;ja=a(82511)["default"];Ca=a(87529)["default"];Ba=a(3508)["default"];Ka=a(3508).iya;Va=a(3508).jya;db=a(3508).kya;W=a(3508).lya;ha=a(61639)["default"];ta=a(50525)["default"];Q=a(3897)["default"];O=a(3508).PDa;Z=a(3508).DDa;oa=a(3508).fya;qa=a(14304)["default"];Ha=a(23846)["default"];Ya=a(32948)["default"];Wa=a(36208)["default"];rb=a(19441)["default"];a(33277);a(62449);a(2439);a(64445);nb=a(86640)["default"];Fb=a(77301).HMa;Kb=a(93575)["default"];a=a(60345)["default"];c.Nc=!0;c.prototype=new J();c.prototype.constructor=c;l.Nc=!0;l.prototype=new J();l.prototype.constructor=l;f.Nc=!1;f.prototype=new J();f.prototype.constructor=f;f.prototype.parse=function(Ta){var $a;this.Cg();1 === this.version?(this.L.Wi(),this.L.Wi(),this.S=this.L.Qb(),this.duration=this.L.Wi()):(this.L.Qb(),this.L.Qb(),this.S=this.L.Qb(),this.duration=this.L.Qb());$a=this.L.Rf() & 32767;this.language=String.fromCharCode(96 + ($a >>> 10),96 + ($a >>> 5 & 31),96 + ($a & 31));Ta && Ta.Ne && (Ta.Ne.S=this.S,Ta.Ne.duration=this.duration);return !0;};k.Nc=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.Zob=function(){this.Cg();this.L.Qb();this.S=this.L.Qb();0 === this.version?(this.eWa=this.L.Qb(),this.OXa=this.L.Qb()):(this.eWa=this.L.Wi(),this.OXa=this.L.Wi());this.E9a=this.L.Rf();this.W8a=this.L.Rf();};k.prototype.Ymb=function(Ta,$a){var ib,mb,pb;ib=this.S;Ta=Ta && Ta.S || ib;mb=Ta / ib;ib=this.L.T8($a,12,!1);pb=1 === mb?this.L.T8($a,12,!1):E.from(Uint32Array,{length:$a},function(){var Bb;Bb=Math.round(this.L.Qb() * mb);this.L.offset+=8;return Bb;},this);this.Ypb($a,pb,ib,Ta);};k.prototype.Ypb=function(Ta,$a,ib,mb){if(this.Rva){mb=this.Rva * mb / 1E3;for(var pb=0,Bb=1;Bb < Ta;Bb++){Math.abs($a[pb] - mb) > Math.abs($a[pb] + $a[Bb] - mb)?($a[pb]+=$a[Bb],ib[pb]+=ib[Bb]):(++pb,pb !== Bb && ($a[pb]=$a[Bb],ib[pb]=ib[Bb]));}++pb;$a=new Uint32Array($a.buffer.slice(0,4 * pb));ib=new Uint32Array(ib.buffer.slice(0,4 * pb));}this.sizes=ib;this.kf=$a;};k.prototype.parse=function(Ta){var $a,ib,mb,pb;this.Zob();this.ca=Ta.ca;$a=this.S;ib=this.ca && this.ca.S || $a;mb=this.W8a;pb=this.startOffset + this.length + this.OXa;$a=new G(this.eWa,$a).Ae(ib).ya;this.Ka={S:ib,ur:$a,offset:pb};this.Ymb(this.ca,mb);this.Ka.kf=this.kf;this.Ka.sizes=this.sizes;Ta.tk=this;return !0;};d.Nc=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Ta;this.iw=[];this.OUb=[];Ta=(this.length - 11) / 2;this.L.jd();this.L.jd();this.L.jd();for(var $a=0;$a < Ta;$a++){this.iw.push(this.L.jd());this.OUb.push(this.L.jd());}return !0;};m.Nc=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.parse=function(Ta){var $a;this.Cg();this.L.offset+=1;if(0 == this.version)this.L.offset+=1;else {$a=this.L.jd();this.KAb=$a >> 4;this.QAb=$a & 15;Ta && Ta.Ne && (Ta.Ne.Acc=this.KAb,Ta.Ne.Dcc=this.QAb);}this.tVa=this.L.jd();this.sVa=this.L.jd();this.hpa=this.L.offset;this.Xn=this.L.V8(16);this.Xn.toString=g;Ta && Ta.Ne && (Ta.Ne.Bcc=this.tVa,Ta.Ne.MAb=this.sVa,Ta.Ne.Ccc=this.Xn);1 == this.tVa && 0 == this.sVa && (this.JAb=this.L.jd(),this.IAb=this.L.V8(this.JAb),Ta && Ta.Ne && (Ta.Ne.LAb=this.IAb));return !0;};h.Nc=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.Cg();this.lp=this.L.Rf();this.zQb=this.L.T8(this.lp,void 0,!0);return !0;};n.Nc=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Ta){var $a,ib,mb,pb,Bb,Db;$a=Ta.tk;F($a);Ta=Ta.ca;ib=$a.S;$a=$a.W8a;F(Ta);F(ib);F($a);this.Cg();F(2 > this.version);this.lp=this.L.Rf();this.LM=new Uint16Array($a + 1);mb=Ta.F_a(ib);pb=mb / ib;Bb=Ta.Ae(mb).ya;if(0 === this.version)for((this.sN=new Uint16Array(),this.oi=new Uint32Array(),Ta=ib=0);Ta <= $a;++Ta){if((this.LM[Ta]=ib,Ta < this.lp)){Db=this.L.jd();if(0 !== Db)for(mb=0;mb < Db;(++mb,++ib)){this.sN[ib]=Math.floor((this.L.Qb() + 1) * pb) / Bb;this.oi[ib]=this.L.Qb();}}}else if(1 === this.version)for((mb=this.L.mXb(this.lp),this.L.offset+=4,this.oi=this.L.T8(this.lp,10,!1),this.L.offset-=8,this.sN=E.from(Uint16Array,{length:this.lp},function(){var Lb;Lb=Math.floor((this.L.Qb() + 1) * pb) / Bb;this.L.offset+=6;return Lb;},this),ib=Ta=0);Ta <= $a;++Ta){for(;ib < mb.length && mb[ib] < Ta;){++ib;}this.LM[Ta]=ib;}this.rj={LM:this.LM,sN:this.sN,oi:this.oi};return !0;};p.Nc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Nc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.KS=function(){var Ta;Ta=this.uo("tfhd");Ta && (this.vq=Ta.VRa?Ta.vq:this.parent.startOffset);return !0;};t.Nc=!1;t.prototype=new J();t.prototype.constructor=t;t.prototype.parse=function(){var Ta,Xb;Ta=this.L.offset;this.Cg();if(1 === this.version){this.L.offset+=2;for(var $a=this.L.offset,ib=this.L.jd(),mb=this.L.jd(),pb=this.L.jd(),Bb=this.L.jd(),Db=this.L.Rf(),Lb=[],Pb=0;Pb < Db;++Pb){Lb=this.L.jd();}Pb=(ib & 240) >>> 4;Xb=(ib & 14) >>> 1;ib&=1;pb=16 === pb?1:0;mb != Bb && this.L.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + mb + " and matrixCoefficients " + Bb + " should be the same value!");Bb=2;switch(mb){case 1:Bb=2;break;case 6:Bb=1;break;case 9:Bb=5;break;default:this.L.console.warn("VP9: Unknown colourPrimaries " + mb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Mb.eaa(this.version,Ta);this.Mb.eaa(Pb << 4 | Bb,$a++);this.Mb.eaa(Xb << 4 | pb << 1 | ib,$a++);Db+=2;Lb.push(0,0);this.Mb.L6b(Db);$a+=2;Lb.forEach(function(Ib){this.Mb.eaa(Ib,$a++);});}return !0;};w.Nc=!1;w.prototype=new J();w.prototype.constructor=w;w.se="tfhd";Object.defineProperties(w.prototype,{VRa:{get:function(){return this.flags & 1;}},HZb:{get:function(){return this.flags & 2;}},NAb:{get:function(){return this.flags & 8;}},PAb:{get:function(){return this.flags & 16;}},uVa:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Ta){this.Cg();this.hO=this.L.Qb();this.vq=this.VRa?this.L.Wi():void 0;this.c$a=this.HZb?this.L.Qb():void 0;this.cv=this.NAb?this.L.Qb():void 0;this.Lx=this.PAb?this.L.Qb():void 0;this.Kx=this.uVa?this.L.Qb():void 0;Ta && Ta.ka && (Ta.ka.hO=this.hO,Ta.ka.vq=this.vq,Ta.ka.c$a=this.c$a,Ta.ka.cv=this.cv,Ta.ka.Lx=this.Lx,Ta.ka.Kx=this.uVa?this.Kx:void 0);return !0;};v.Nc=!1;v.prototype=new J();v.prototype.constructor=v;v.prototype.parse=function(Ta){this.Cg();this.GE=1 === this.version?this.L.Wi():this.L.Qb();Ta && Ta.ka && (Ta.ka.GE=this.GE);return !0;};v.prototype.Ha=function(Ta){var $a;$a=this.startOffset + 12;this.GE+=Ta;1 === this.version?this.Mb.M6b(this.GE,$a):this.Mb.Ut(this.GE,$a);};y.Nc=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{EE:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Ta){this.Cg();this.EE && this.L.Jy();this.EE && this.L.Qb();this.OAb=this.L.jd();this.sd=this.L.Qb();this.TLb=this.L.U8(this.sd);Ta && Ta.ka && (Ta.ka.IZb=this.TLb);return !0;};y.prototype.Ha=function(Ta,$a){if(Ta && 0 === this.OAb){Ta=$a?this.sd - Ta:Ta;this.Mb.offset=this.startOffset + 13 + (this.EE?8:0);this.sd-=Ta;this.Mb.Ut(this.sd);this.Gua=0;if($a)this.Mb.offset+=this.sd;else {for($a=0;$a < Ta;++$a){this.Gua+=this.Mb.jd();}this.Mb.offset-=Ta;}this.am(Ta,this.L.offset);}return !0;};x.Nc=!1;x.prototype=Object.create(J.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{EE:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Ta){var $a,ib,Pb,Xb;this.Cg();this.EE && this.L.Jy();this.EE && this.L.Qb();this.lp=this.L.Qb();F(1 === this.lp,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Jm=0 === this.version?this.L.W8():this.L.rXb();this.L.offset=this.Jm;if(Ta && Ta.ka && Ta.Ne){$a=Ta.Ne.MAb;ib=Ta.ka.IZb;F(0 < $a || void 0 !== Ta.Ne.LAb,"Expected per sample or constant IV");F(0 < (ib || []).length,"Expected saix box parsing to find sample info sizes");Ta.ka.oH=[];for(var mb=0;mb < ib.length;mb++){for(var pb=$a?this.L.V8($a):void 0,Bb=[],Db=this.L.Rf(),Lb=0;Lb < Db;Lb++){Pb=this.L.Rf();Xb=this.L.Qb();Bb.push({jub:Pb,kub:Xb});}Ta.ka.oH.push({vwa:Bb,$ba:pb});}}return !0;};x.prototype.Ha=function(Ta,$a){this.Jm+=Ta;this.Mb.offset=this.startOffset + 16 + (this.EE?8:0) + (0 === this.version?0:4);this.Mb.Yxa($a,this.Jm);return !0;};z.Nc=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{I6a:{get:function(){return this.flags & 1;}},Tdb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Ta){var $a,Db,Lb;this.Cg();$a=0;this.I6a && ($a=this.MNb=this.L.Qb() & 255,this.L.U8(16));if(Ta && Ta.ka){if(Ta.ka.oH)return !0;Ta.ka.Kj || (Ta.ka.Kj=[]);}if(0 !== $a && 8 !== $a && 16 !== $a)return !0;this.sd=this.L.Qb();if(Ta && Ta.ka)for(var ib=0;ib < this.sd;ib++){if((Ta.ka.Kj[ib].$ba=0 < $a?this.L.V8($a):void 0,this.Tdb)){for(var mb=[],pb=this.L.Rf(),Bb=0;Bb < pb;Bb++){Db=this.L.Rf();Lb=this.L.Qb();mb.push({jub:Db,kub:Lb});}Ta.ka.Kj[ib].vwa=mb;}}return !0;};z.prototype.Ha=function(Ta,$a){var ib,mb;ib=$a?this.sd - Ta:Ta;this.Mb.offset=this.startOffset + 28 + (this.I6a?20:0);this.sd-=ib;this.Mb.Ut(this.sd);Ta=this.Mb.offset;if(this.Tdb)for(ib=$a?this.sd:ib;0 < ib;--ib){this.Mb.offset+=8;mb=this.Mb.Rf();this.Mb.offset+=6 * mb;}else this.Mb.offset+=8 * ($a?this.sd:ib);$a?this.am(this.length - (this.L.offset - this.startOffset),this.L.offset):this.am(this.L.offset - Ta,Ta);};A.Nc=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;A.prototype.parse=function(Ta){this.Cg();if(Ta && Ta.ka){void 0 === Ta.ka.Kj && (Ta.ka.Kj=[]);for(var $a=0;$a < this.length - 12;$a++){Ta.ka.Kj[$a].Yfc=this.L.jd();}}return !0;};A.prototype.Ha=function(Ta,$a,ib){ib?this.am($a - Ta,this.startOffset + 12 + Ta):this.am(Ta,this.startOffset + 12);return !0;};B.Nc=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Cg();this.L.Jy();1 === this.version && this.L.Qb();this.lp=this.L.Qb();this.vW=[];for(var Ta=0;Ta < this.lp;++Ta){for(var $a=this.L.Qb(),ib=this.L.Qb(),mb=0;mb < $a;++mb){this.vW.push(ib);}}return !0;};B.prototype.Ha=function(Ta,$a){this.vW=$a?this.vW.slice(0,Ta):this.vW.slice(Ta);Ta=this.vW.reduce(function(ib,mb){0 !== ib.length && ib[ib.length - 1].group === mb || ib.push({group:mb,count:0});++ib[ib.length - 1].count;return ib;},[]);this.Mb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Mb.Ut(Ta.length);Ta.forEach((function(ib){this.Mb.Ut(ib.count);this.Mb.Ut(ib.group);}).bind(this));this.lp > Ta.length && this.am(8 * (this.lp - Ta.length));this.lp=Ta.length;return !0;};D.Nc=!1;D.prototype=Object.create(J.prototype);D.prototype.constructor=D;Ba={Ed:{moov:l,trak:c,mdia:c,mdhd:f,minf:c,encv:Ba,schi:c,sidx:k,sinf:c,stbl:c,tenc:m,mvex:c,moof:p,traf:q,tfhd:w,trun:Fb,sbgp:B,sdtp:A,saiz:y,saio:x,tfdt:v,mdat:D,vmaf:d,edts:c},W3b:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},Jcb:{schm:ha},Hua:{}};C([ta,Q,H,a,N,Kb,R,O,Z,oa,M,P,Wa,rb,K,Y,L,I,nb,Fb],Ba.Ed);C([ma,ja,Ka,Va,db,W,ia,Ca,Ha,qa],Ba.Hua);C([ta,ha],Ba.Jcb);Ba.Ed[b.ZHa]=m;Ba.Ed[b.l_]=h;Ba.Ed[b.k_]=n;Ba.Ed[b.YHa]=z;Ba.Hua[b.Pca]=Ya;Ba.ef=J;r.exports={oM:Ba};},66633:function(r,b,a){var l,f,k,d,g;function c(m){return "number" === typeof m[0] || void 0 === m[0]?{Jj:m[0],S:m[1],px:m[2],uua:m[3],mH:m[4]}:m[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.SB=b.Pr=void 0;l=a(70655);f=a(82296);r=a(76271);k=a(54319);d=a(93005);g=a(37709);a=(function(m){function h(n,p,q){return m.call(this,n,p,q) || this;}l.__extends(h,m);h.prototype.e9a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ha(l.__assign(l.__assign({},c(n)),{Xta:!1}));};h.prototype.l9a=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ha(l.__assign(l.__assign({},c(n)),{Xta:!0}));};h.prototype.Ha=function(n){var q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K;function p(R){z=x[R];A=z.uo("traf");if(void 0 === A || void 0 === A.vq)return !1;F=A.uo("tfdt");if(void 0 === F)return !1;B=A.uo("trun");return void 0 === B?!1:!0;}q=n.Jj;u=n.S;t=n.Xta;w=n.px;v=n.uua;v=void 0 === v?!1:v;y=n.mH;y=void 0 === y?!1:y;n=n.sG;if(!this.parse().done)return !1;x=this.Ed.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){D=q;for(q=0;q < x.length;++q){if(!p(q,this.qf.console.trace))return !1;(0,d.assert)(z && A && F && B && void 0 !== B.sd);if(B.sd > D || t && B.sd === D)break;D-=B.sd;}(0,d.assert)(z && A && F && B);}else if((q=t?x.length - 1:0,!p(q,this.qf.console.trace)))return !1;(0,d.assert)(z && A && F && B);if(t && q < x.length - 1){C=x[q + 1];this.qf.am(this.view.byteOffset - C.startOffset,C.startOffset);}else !t && 0 < q && this.qf.am(z.startOffset,0);C=A.uo("tfhd");if(void 0 === C)return !1;F=A.uo("tfdt");G=B.sd;E=A.uo("saiz");J=A.uo("saio");M=A.uo(f.YHa);L=A.uo("sbgp");if(!(!E && !J || E && J))return !1;I=A.uo("sdtp");P=g.ef.Rx(this,"mdat");if(P && q < P.length)K=P[q];else if(q !== x.length - 1)return !1;void 0 === D && (D=t?B.sd:0);if("number" === typeof w && 0 < w){P=t?D:B.sd - D;for(var H=Array(P),N=0;N < P;++N){H[N]=t?N >= P - w?-Infinity:0:N < w?-Infinity:0;}w=H;}if(B.Ha(A,C,K || this.qf,u,D,A.vq,t))B.vS && ((0,d.assert)(void 0 !== B.Kab),(0,d.assert)(void 0 !== B.GN),!t && F && F.Ha(B.Kab),E && J && (E.Ha(B.GN,t),J.Ha(M?0:E.Gua,A.vq)),M && M.Ha(B.GN,t),I && I.Ha(B.GN,G,t),L && L.Ha(B.GN,t));else if(!t){if(q === x.length - 1)return !1;this.qf.am(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.GN)return !1;Array.isArray(w) && K && this.stream.profile && void 0 !== v && B.qRb(A,C,K,w,this.stream.profile,v,y,n);u=this.qf.Ha();t=u.reduce(function(R,Y){return R + Y.byteLength;},0);u={ka:u,length:t,OG:this.qf.view.byteLength};B.vS && !K && (u.gN=A.vq + B.gN,u.Op=B.Op);return u;};return h;})((function(m){function h(n,p,q){return m.call(this,n,p,q) || this;}l.__extends(h,m);return h;})(r.Hw));b.Pr=a;b.SB=function(m){var h,n;h=new ArrayBuffer(8);n=new DataView(h);n.setUint32(0,m + 8);n.setUint32(4,(0,k.Tea)("mdat"));return h;};},76271:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Hw=void 0;c=a(77611);l=a(13082);f=a(39188);r=(function(){function k(d,g,m){this.console=d;this.stream=g;this.view=m instanceof ArrayBuffer?new DataView(m):new DataView(m.data,m.offset,m.length);}k.prototype.parse=function(d){var g;g=new f.sba(this.view.byteLength);this.qf=new c.pY(l.oM.Ed,g,this.view,this.console,{lsa:!0});d=this.qf.parse(d);this.Ed=this.qf.Ed;return d;};return k;})();b.Hw=r;},83375:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Co=void 0;c=a(70655);l=a(89185);f=a(12602);k=a(93005);d=a(97090);g=a(37709);r=a(36208);m=a(19441);h=a(77611);n=a(69740);p=a(13082);q=a(82296);u=a(39188);t=a(67063);c.__exportStar(a(49922),b);a=(function(){function w(v,y,x,z,A,B){this.console=v;this.stream=y;this.Bt=z;this.qrb=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.NKb=(0,n.hHb)();}w.path=function(v,y){return y.reduce(function(x,z){return x && x.Ed[z] && x.Ed[z][0];},v);};w.nIb=function(v){return v && v.aja && -1 !== v.aja.indexOf("mcl0")?"mcl0":void 0;};w.PEb=function(v,y){var x,z;(0,k.assert)("mcl0" === v,"Unsupported McClearen brand");x=y.Ka;v=x.kf;y=new d.N(120,1).Ae(x.S).ya;z=0;for(x=x.ur;z < v.length && x < y;){x+=v[z++];}return z;};w.prototype.parse=function(v){var y;y=this.OZb();if(!y.done){if(y.q5a)return {ot:!1,H1:y.q5a};this.console.error("Scan error: " + y.error);return {ot:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === v || void 0 === v?0:v.ca)v.OTb=v.ca;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);v=this.mUb(v);return v.done?this.Mwb():(this.console.error("Parse error: " + v.error),{ot:!1,parseError:v.error || "unknown mp4 parse error"});};w.prototype.Rx=function(v){return g.ef.Rx(this,v);};w.prototype.Rm=function(v){return g.ef.Rm(this,v);};w.prototype.OZb=function(){var v,y;v=new u.XDa(this.Bt,this.qrb?[q.l_,q.k_]:[],this.config && this.config.Kgc || ["moof",q.lHa],this.config && this.config.msa);y=c.__assign(c.__assign({},this.config),{lsa:!1});return new h.pY(w.Qua,v,this.view,this.console,y).parse();};w.prototype.mUb=function(v){var y,x,z;y=new u.sba(this.view.byteLength);x=Object.create(p.oM.Ed);this.config && ((this.config.jsa || this.config.Icb || this.config.a$) && l(p.oM.Hua,x),this.config.Ywa && l(p.oM.W3b,x),this.config.Icb && l(p.oM.Jcb,x));z=c.__assign(c.__assign({},this.config),{lsa:!0});this.qf=new h.pY(x,y,this.view,this.console,z);v=this.qf.parse(v);v.done && (this.Ed=this.qf.Ed);return v;};w.prototype.Mwb=function(){var v,y,x,z,A,B,D,C;v={ot:!0};y=w.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.Rx("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].uo("tkhd");z && (v.trackId=z.Cc.trackId);}z=w.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.jsa)if(z)(v.ca=z.ca,v.Wfc=z.Ed);else return {ot:!1,parseError:"Missing sample descriptions"};A=w.path(z,["encv","sinf","schi"]);A && (A=w.path(A,["tenc"]) || w.path(A,[q.ZHa])) && (v.mDb={lcc:A.Xn,hpa:A.hpa,hec:!1});if(A=w.path(y,["trak","mdia","mdhd"]))v.S=A.S;if(A=w.path(y,["mvex","trex"]))v.m3=A && A.Cc.m3;v.m3 && v.S && (v.ca=new d.N(v.m3,v.S));if(A=w.path(this,["sidx"])){B=w.path(this,[q.l_]);B=B && B.zQb;D=w.path(this,[q.k_]);D=D && D.rj;v.Ka=A.Ka;v.nM=B;v.rj=D;}if(B=this.Ed.vmaf && this.Ed.vmaf[0])v.iw=B.iw;if(this.config.aua && (B=w.path(y,["mvex"])) && x && x.length){C=x.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});C.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),D=(0,t.fxa)(x,Uint8Array,B.byteOffset,B.byteOffset + B.byteLength),C=(0,t.fxa)(x,Uint8Array,B.byteOffset + B.byteLength,C.byteOffset + C.byteLength),x.set(C,B.byteOffset),x.set(D,B.byteOffset + C.byteLength));}if(this.config.R9a)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.a$ && z && 1 < z.PK && A && (v.Jh=this.a$(z,A)),void 0 === v.Jh && (y=this.qf.vS?(0,f.concat)(this.qf.Ha()):this.view.buffer,v.Jh=[{bf:0,data:y}]));else return {ot:!1,parseError:"Missing movie box"};v.ot=!0;v.j8=this.qf.offset;return v;};w.prototype.trim=function(v){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.qf.trim(v);this.view=new DataView(y);};w.prototype.a$=function(v,y){var x,z,A;x=Object.keys(v.Ed);z=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=w.path(this,["ftyp"]);A=w.nIb(x);if(A)return (x=[],this.qf.cXb(),v.j9a("encv"),x.push({bf:0,oF:!1,data:(0,f.concat)(this.qf.Ha())}),this.qf.AVb(),v.j9a(z[0]),v=w.PEb(A,y),x.push({bf:v,oF:!0,data:(0,f.concat)(this.qf.Ha())}),x);}};w.Qua={};return w;})();b.Co=a;a.Qua[q.Qca]=r.default;a.Qua[q.Rca]=m.default;},54319:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wmb=b.Tea=b.Tz=void 0;c=a(93005);b.Tz=function(l){(0,c.assert)("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.Tea=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.Wmb=function(l,f){return Math.floor(1E3 * l / f);};},82296:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qca="6674654e-696c-5078-6966-665374726d21";b.Rca="6674654e-696c-4878-6165-6465722e7632";b.lHa="6674654e-696c-5078-6966-66496e646578";b.l_="6674654e-696c-4d78-6f6f-6653697a6573";b.k_="6674654e-696c-5378-6565-6b506f696e74";b.ZHa="cedb7489-e77b-514c-84f9-7148f9882554";b.YHa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Pca="6674654e-696c-4678-7261-6d6552617465";},39188:function(r,b,a){var l;function c(f,k){f=k.indexOf(f);-1 !== f && k.splice(f,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.XDa=b.sba=void 0;l=a(82296);r=(function(){function f(k){this.endOffset=k;this.done=!1;}f.prototype.$Xa=function(){return this.done;};f.prototype.RVa=function(k,d,g){return this.done=d + g >= this.endOffset;};return f;})();b.sba=r;r=(function(){function f(k,d,g,m){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === m && (m=!1);this.Bt=k;this.r3=d;this.Vbb=g;this.msa=m;this.done=!1;this.Yk={};}f.prototype.$Xa=function(k,d,g){-1 !== f.VKb.indexOf(k) && (this.Yk[k]={offset:d,size:g});if(-1 !== this.Vbb.indexOf(k)){if((this.Yk[k]={offset:d,size:g},this.msa))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Bt && -1 !== this.Bt.indexOf(k)?(k=1 < this.Bt.length?4096:0,this.endOffset=Math.max(d + g + k,this.endOffset || 0)):-1 !== this.r3.indexOf(k) && (k=this.Bt?4096:0,this.endOffset=Math.max(d + g + k,this.endOffset || 0));return this.done;};f.prototype.RVa=function(k,d,g,m){var h;h=this;if(-1 !== this.Vbb.indexOf(k))return this.done=!0;k === l.Qca && this.cab(m.Yk);k === l.Rca && this.cab(m.Yk);this.Bt && c(k,this.Bt);c(k,this.r3);return this.Bt && 0 === this.Bt.length && !this.r3.some(function(n){return h.Yk[n];})?this.done=!0:this.done;};f.prototype.cab=function(k){var d;d=this;this.Yk=k;this.endOffset=(this.Bt || []).concat(this.r3).reduce(function(g,m){return d.Yk[m]?(m=d.Yk[m],Math.max(m.offset + (m.size || 4096),g)):g;},this.endOffset || 0);};f.VKb=["moov","sidx"];return f;})();b.XDa=r;},44098:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),l * a.byteLength / a.length);}:function(a,c,l){a.set(c,l);};r.exports={from:function(a,c,l,f){a=new a(c.length);for(var k="function" === typeof l,d=0;d < c.length;++d){a[d]=k?l.call(f,c[d],d,c):c[d];}return a;},set:b};},67063:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fxa=void 0;b.fxa=function(a,c,l,f){var k,d;if(null !== a && void 0 !== a && a.slice)return a.slice(l,f);k=Math.min(a.length,f);d=Math.min(a.length,l);for(c=new c(Math.max(f - l,0));d < k;d++){c[d - l]=a[d];}return c;};},93005:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(70655);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},12602:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=void 0;b.concat=function(){var l;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(f,k){return f + k.byteLength;},0);l=new Uint8Array(c);a.reduce(function(f,k){l.set(new Uint8Array(k),f);return f + k.byteLength;},0);return l.buffer;};},89185:function(r){r.exports=function l(a,c){var f;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(k){f=Object.getOwnPropertyDescriptor(a,k);void 0 !== f && Object.defineProperty(c,k,f);});};},97090:function(r,b){function a(l,f){return "number" !== typeof l || "number" !== typeof f?!1:l && f?Math.abs(l * f / c(l,f)):0;}function c(l,f){var k;l=Math.abs(l);for(f=Math.abs(f);f;){k=f;f=l % f;l=k;}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.N=void 0;r=(function(){function l(f,k){"object" === typeof f?(this.oc=f.ya,this.fb=f.S):(this.oc=f,this.fb=k);}l.Ma=function(f){return new l(f,1E3);};l.Swa=function(f,k){return Math.floor(1E3 * f / k);};l.j5a=function(f,k){return Math.floor(f * k / 1E3);};l.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(d,g){return d.greaterThan(g)?d:g;});};l.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(d,g){return d.lessThan(g)?d:g;});};l.eB=function(f,k){var d;if(f.S === k.S)return new l(c(f.ya,k.ya),f.S);d=a(f.S,k.S);return l.eB(f.Ae(d),k.Ae(d));};Object.defineProperties(l.prototype,{ya:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{G:{get:function(){return 1E3 * this.oc / this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xh:{get:function(){return this.oc / this.fb;},enumerable:!1,configurable:!0}});l.prototype.Ae=function(f){f/=this.S;return new l(Math.floor(this.ya * f),Math.floor(this.S * f));};l.prototype.add=function(f){var k;if(this.S === f.S)return new l(this.ya + f.ya,this.S);k=a(this.S,f.S);return this.Ae(k).add(f.Ae(k));};l.prototype.wa=function(f){return this.add(new l(-f.ya,f.S));};l.prototype.Bv=function(f){return new l(this.ya * f,this.S);};l.prototype.Ni=function(f){var k;if(this.S === f.S)return this.ya / f.ya;k=a(this.S,f.S);return this.Ae(k).Ni(f.Ae(k));};l.prototype.F_a=function(f){return a(this.S,f);};l.prototype.R8a=function(){return new l(this.S,this.ya);};l.prototype.compare=function(f,k){var d;if(this.S === k.S)return f(this.ya,k.ya);d=a(this.S,k.S);return f(this.Ae(d).ya,k.Ae(d).ya);};l.prototype.equal=function(f){return this.compare(function(k,d){return k === d;},f);};l.prototype.ira=function(f){return this.compare(function(k,d){return k !== d;},f);};l.prototype.lessThan=function(f){return this.compare(function(k,d){return k < d;},f);};l.prototype.greaterThan=function(f){return this.compare(function(k,d){return k > d;},f);};l.prototype.MB=function(f){return this.compare(function(k,d){return k <= d;},f);};l.prototype.gi=function(f){return this.compare(function(k,d){return k >= d;},f);};l.prototype.toJSON=function(){return {ticks:this.ya,timescale:this.S};};l.prototype.toString=function(){return ("").concat(this.ya,"/").concat(this.S);};l.Ia=new l(0,1);l.zy=new l(1,1E3);return l;})();b.N=r;},86063:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.rNa=void 0;c=a(70655);l=a(93005);f=a(12602);k=a(54319);r=a(78147);d=(function(){function g(m){m?(this.oo=m.oo.slice(),this.Er=m.Er.slice(),this.oi=m.oi.slice(),this.trim=m.trim):(this.oo=[],this.Er=[],this.oi=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.oo.length && 0 === this.Er.length && 0 === this.oi.length;},enumerable:!1,configurable:!0}});return g;})();r=(function(g){function m(h,n,p){h=g.call(this,h,n,p) || this;h.lWa=[];h.Nd=new d();return h;}c.__extends(m,g);m.esb=function(h,n){if(n.offset + n.size <= h.byteLength)switch(n.size){case 1:h.setUint8(n.offset,n.value);break;case 2:n.OW?h.setInt16(n.offset,n.value):h.setUint16(n.offset,n.value);break;case 4:n.OW?h.setInt32(n.offset,n.value):h.setUint32(n.offset,n.value);break;case 8:(0,l.assert)(!n.OW);h.setUint32(n.offset,Math.floor(n.value / 4294967296));h.setUint32(n.offset + 4,n.value & 4294967295);break;default:(0,l.assert)(!1);}};Object.defineProperties(m.prototype,{vS:{get:function(){return !this.Nd.empty;},enumerable:!1,configurable:!0}});m.prototype.eaa=function(h,n){this.Nd.Er.push({offset:void 0 !== n?n:this.offset,value:h,size:1});void 0 === n && (this.offset+=1);};m.prototype.L6b=function(h){this.Nd.Er.push({offset:!1,value:h,size:2,OW:!1});};m.prototype.Ut=function(h,n){this.Nd.Er.push({offset:void 0 !== n?n:this.offset,value:h,size:4,OW:!1});void 0 === n && (this.offset+=4);};m.prototype.M6b=function(h,n){this.Nd.Er.push({offset:void 0 !== n?n:this.offset,value:h,size:8,OW:!1});void 0 === n && (this.offset+=8);};m.prototype.Geb=function(h){this.Ut((0,k.Tea)(h));};m.prototype.Yxa=function(h,n){this.Nd.oi.push({offset:this.offset,ep:h,value:n});this.offset+=4;};m.prototype.am=function(h,n,p){this.Nd.oo.push({offset:n,remove:h,hb:p});};m.prototype.g9=function(h,n,p,q){this.Nd.oo.push({offset:p,remove:h,replace:n,hb:q});};m.prototype.trim=function(h){this.Nd.trim=h;};m.prototype.cXb=function(){this.lWa.push(new d(this.Nd));};m.prototype.AVb=function(){this.Nd=this.lWa.pop() || new d();};m.prototype.Ha=function(){var h,n,p,q,u,t,w;h=this;if(0 === this.Nd.oo.length && 0 === this.Nd.Er.length && 0 === this.Nd.oi.length)return [void 0 === this.Nd.trim?this.view.buffer:this.view.buffer.slice(0,this.Nd.trim)];this.Nd.oo.sort(function(v,y){return v.offset - y.offset;});this.Nd.Er.sort(function(v,y){return v.offset - y.offset;});this.gZb();n=this.GEb();p=this.view.buffer.slice(0,n);q=new DataView(p);this.Nd.Er.forEach(m.esb.bind(void 0,q));this.P4b(q);this.O4b(q);u=[];t=void 0 !== this.Nd.trim?Math.min(this.Nd.trim,this.view.byteLength):this.view.byteLength;w=0;this.Nd.oo.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(q.buffer.slice(w,v.offset)),v.offset > q.byteLength && q !== h.view && (q=h.view,u.push(q.buffer.slice(n,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < n && u.push(p.slice(w));w < t && u.push(this.view.buffer.slice(Math.max(p.byteLength,w),t));return u;};m.prototype.GEb=function(){var h,n,p;h=[];n=this.Nd.Er[this.Nd.Er.length - 1];p=this.Nd.oi[this.Nd.oi.length - 1];n && h.push(n.offset + n.size);p && h.push(p.offset + 4);this.Nd.oo.filter(function(q){return q.hb;}).forEach(function(q){return h.push(q.hb.byteOffset + 4);});n=Math.max.apply(void 0,h);return void 0 !== this.Nd.trim?Math.min(n,this.Nd.trim):n;};m.prototype.gZb=function(){this.Nd.oo=this.Nd.oo.reduce(function(h,n){var p,q;if(0 === h.length)return (h.push(n),h);p=h[h.length - 1];q=p.offset + p.remove;n.offset >= q?h.push(n):n.offset + n.remove > q && ((0,l.assert)(p.hb === n.hb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?(0,f.concat)(p.replace,n.replace):n.replace));return h;},[]);};m.prototype.P4b=function(h){var n;n=this;this.Nd.oi.forEach(function(p){var q,u,t,w;q=h;u=p.offset;n.Nd.oo.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),u=p.offset - v.offset,!0):!1;});t=p.ep + (void 0 !== p.value?p.value:q.getInt32(u));w=n.Nd.oo.reduce(function(v,y){return y.offset > p.ep && y.offset < t?v + (y.remove - (y.replace?y.replace.byteLength:0)):v;},0);q.setInt32(u,t - p.ep - w);});};m.prototype.O4b=function(h){this.Nd.oo.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.hb;n;){h.setUint32(n.byteOffset,h.getUint32(n.byteOffset) - p);n=n.parent;}});};return m;})(r.sNa);b.rNa=r;},78147:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sNa=void 0;c=a(69740);a(69740);l=a(54319);r=(function(){function f(k,d,g){this.view=k;this.console=d;this.config=g;this.view=k;this.console=d;this.rd=this.wq=this.offset=0;}f.prototype.VYa=function(k){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,k);};f.prototype.Oc=function(k){for(;this.rd < k;){this.wq=(this.wq << 8) + this.jd();this.rd+=8;}this.rd-=k;return this.wq >>> this.rd & (1 << k) - 1;};f.prototype.jd=function(){var k;k=this.view.getUint8(this.offset);this.offset+=1;return k;};f.prototype.Rf=function(k){k=this.view.getUint16(this.offset,k);this.offset+=2;return k;};f.prototype.Qb=function(k){k=this.view.getUint32(this.offset,k);this.offset+=4;return k;};f.prototype.W8=function(){var k;k=this.view.getInt32(this.offset,void 0);this.offset+=4;return k;};f.prototype.GUb=function(k,d){var g;g=this.view.getUint32(this.offset + (k?4:0),k);k=this.view.getUint32(this.offset + (k?0:4),k);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + k;};f.prototype.Wi=function(k,d){k=this.GUb(k,d);this.offset+=8;return k;};f.prototype.HUb=function(){var k,d;k=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < k?k:-k) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * k + d;};f.prototype.rXb=function(){var k;k=this.HUb();this.offset+=8;return k;};f.prototype.Jy=function(){return (0,l.Tz)(this.Qb());};f.prototype.X8=function(){var d,g,m,h,n,p;function k(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Qb(!0);g=this.Rf(!0);m=this.Rf(!0);h=this.Rf();n=this.Rf();p=this.Qb();return [k(d,4),k(g,2),k(m,2),k(h,2),k(n,2) + k(p,4)].join("-");};f.prototype.V8=function(k){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + k);this.offset+=k;return d;};f.prototype.nXb=function(k){var d;d=[];if(0 === k)return "";k=k || Number.MAX_SAFE_INTEGER;for(var g=this.jd();0 !== g && 0 <= --k;){d.push(g);g=this.jd();}return String.fromCharCode.apply(null,d);};f.prototype.U8=function(k){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Dj(this.config.nO && c.VJb || c.vL,1,k,d,g);};f.prototype.mXb=function(k){var d,g,m;d=10;g=!1;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === m && (m=!1);return this.Dj(this.config.nO && c.TJb || c.e5,2,k,d,g,m);};f.prototype.T8=function(k,d,g){var m;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === m && (m=!1);return this.Dj(this.config.nO && c.UJb || c.AT,4,k,d,g,m);};f.prototype.pXb=function(){for(var k=this.jd(),d=k & 127;k & 128;){k=this.jd();d=d << 7 | k & 127;}return d;};f.prototype.Dj=function(k,d,g,m,h,n){void 0 === h && (h=!0);void 0 === n && (n=!1);k=k(this.view,this.offset,g,m,n);this.offset=h || !m || m === d?this.offset + g * (m || d):this.offset + d;return k;};return f;})();b.sNa=r;},69452:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;c=a(751);l=a(88305);f=a(30821);k=a(95912);d=a(29086);g=a(22633);b=a(40210);m=a(21924);h=a(29981);n=m("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(u){var t,w,v;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(u) && g(t) && "undefined" !== typeof u)return -1 < p.apply(this,arguments);w=f(this);v=l(w.length);if(0 === v)return !1;for(t=0 <= t?t:q(0,v + t);t < v;){if(k(u,h(w)?n(w,t):w[t]))return !0;t+=1;}return !1;};},44878:function(r,b,a){var c;c=a(69452);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},26860:function(r,b,a){var c,l;c=a(4289);l=a(44878);r.exports=function(){var f;f=l();c(Array.prototype,{includes:f},{includes:function(){return Array.prototype.includes !== f;}});return f;};},98540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UEa="Injector";b.Dw=145152E5;b.WI="ProfileSymbol";},60920:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.ao=b.g2b=b.X5a=void 0;b.X5a=function(a,c){return a - c;};b.g2b=function(a,c){return a.localeCompare(c);};b.ao=function(a,c){var l;l=Object.getOwnPropertyDescriptor(a,c);l && Object.defineProperty(a,c,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ca(a));};},39141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iY="ApiInfoSymbol";},72288:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.bRa=void 0;c=a(56194);l=a(39141);r=a(86700);f=a(98540);k=a(17244);b.bRa=new r.ed(function(d){d(l.iY).to(c.Rya).da();});b.profile=new r.ed(function(d){d(f.WI).LC(function(g){return (g=g.hb.get(k.ac)()) && g.Px?"browsertest":"browser";});});},56194:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q){h=d.Se.call(this,h,void 0 === q?"AppInfoConfigImpl":q) || this;h.config=n;h.C$=p;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;r=a(70655);l=a(86700);f=a(53685);k=a(54662);d=a(90187);g=a(59578);a=a(60070);ea(c,d.Se);c.prototype.CIb=function(h){return "" + this.PWa + (this.C$.T9(h)?"/msl_v1":"");};c.prototype.NIb=function(h){return "" + this.host + (this.C$.T9(h)?"/msl":"") + "/playapi";};Xa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},PWa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.QK){case f.yw.cmb:h="www.stage";break;case f.yw.sMa:h="www-qa.test";break;case f.yw.WEa:h="www-int.test";break;default:h="www";}return "https://" + h + ".netflix.com";}},YRa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});m=c;r.__decorate([k.config(k.string,"apiEndpoint")],m.prototype,"endpoint",null);r.__decorate([k.config(k.string,"nqEndpoint")],m.prototype,"PWa",null);r.__decorate([k.config(k.string,"bindService")],m.prototype,"YRa",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.wl)),r.__param(1,(0,l.l)(f.nn)),r.__param(2,(0,l.l)(a.b0)),r.__param(3,(0,l.l)(g.zY)),r.__param(3,(0,l.optional)())],m);b.Rya=m;},57046:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dza="AseIntegrationFactorySymbol";},96437:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RHa="OpenConnectSideChannelSymbol";b.SGa="MediaRequestDownloaderSymbol";},66119:function(r,b){function a(l,f,k){var d,g,m,h;d=[];l.forEach(function(n){-1 == d.indexOf(n.Ld) && d.push(n.Ld);});g=null;m=null;f.forEach(function(n){null === g?m=g=n.bitrate:m < n.bitrate?m=n.bitrate:g > n.bitrate && (g=n.bitrate);});h=[];d.forEach(function(n){var p;p={ranges:[],profile:n};g && m && (p.ranges.push({min:g,max:m}),k && (p.disallowed=k.filter(function(q){return q.stream.Ld === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.w3};})),h.push(p));});return h;}function c(l,f){var k;k=void 0;return {sXa:l.filter(function(d){var g;g=f(d);g && (k=k || [],k.push({stream:d,w3:g}));return !g;}),BBb:k};}Object.defineProperty(b,"__esModule",{value:!0});b.ABb=b.zs=b.Izb=b.K_a=void 0;b.K_a=function(l,f){f=c(l,f);return a(l,f.sXa,f.BBb);};b.Izb=a;b.zs=c;b.ABb=function(l){if(l.Kh && l.lower && 1080 < l.height)return ["Prefetch UHD"];};},45086:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.Za=void 0;r=a(86700);c=a(49090);l=a(4551);f=a(5117);k=a(33384);d=a(96437);g=a(68221);m=a(63076);h=a(44744);n=a(7884);b.Za=new r.ed(function(p){p(c.uba).to(l.RBa).da();p(f.IGa).to(k.HGa).da();p(d.RHa).to(g.QHa).da();p(d.SGa).to(m.RGa).da();p(h.QGa).to(n.PGa).da();});},49090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uba=b.SBa=void 0;b.SBa=function(){this.fa=0;this.X=1;this.kib=2;this.Bf=function(){};};b.uba="DownloadTrackConstructorFactorySymbol";},5117:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IGa="MediaHttpSymbol";},44744:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QGa="MediaRequestConstructorFactorySymbol";},35001:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.pc=void 0;b.pc=a;a.Bk={HHa:"mr1",GHa:"mr2",IHa:"mr3",KP:"mr4",ekb:"mr5",Hz:"mr6"};a.jc={UNSENT:0,OPENED:1,pu:2,ij:3,DONE:5,du:6,Zp:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.XY={NO_ERROR:-1,bhb:0,oBa:1,nhb:2,fhb:3,ugb:4,wAa:5,uAa:6,vgb:7,wgb:8,xgb:9,rgb:10,tgb:11,vAa:12,sgb:13,qgb:14,oib:15,MDa:16,LDa:17,Tba:18,UZ:19,Uba:20,Vba:21,qib:22,VZ:23,NDa:24,pib:25,ihb:26,chb:27,Qlb:28,Tgb:29,Ugb:30,Vgb:31,Wgb:32,Xgb:33,Ygb:34,Zgb:35,$gb:36,ahb:37,dhb:38,ehb:39,ghb:40,hhb:41,jhb:42,khb:43,lhb:44,mhb:45,ohb:46,phb:47,Plb:48,TIMEOUT:49,IDa:50,JDa:51,nib:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Jf={yua:{r7b:!0,aea:!1,h$b:!0}};},29471:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;function c(x,z,A,B,D){var C;C=this;this.ib=x;this.j=z;this.debug=A;this.lsb=D;this.EQ=this.Dh=this.Xw=!1;this.VQ=this.UQ=void 0;x={};this.uv=(x[v.v.fa]={},x[v.v.X]={},x[v.v.Ya]={},x);this.Yz=void 0;this.Dm=function(){var F,G,E,J,M,L;C.debug.assert(C.Aa,"has access to asePlaygraph");C.debug.assert(C.Bc,"has access to internalLogger");C.debug.assert(C.ft,"has access to mediaBufferGetLogFields");M=C.En;L=null === (G=null === (F=C.Ic.get()) || void 0 === F?void 0:F.qb) || void 0 === G?void 0:G.Da;F={type:"logdata",target:"startplay",fields:{hasasereport:C.j.xS,hashindsight:!1,buffCompleteReason:M.reason,actualbw:L,initSelReason:null !== (E=M.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:M.vBufferLevelMs,bcABufferLevelMs:M.aBufferLevelMs}};(0,g.a2)({bla:F,$n:C.$n,loadTime:C.loadTime});C.Aa.bxa("startplay",l.qc.Oj);null !== (J=C.xb) && void 0 !== J && J.Pd?(C.Bc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:M},C.ft()),C.j.En=M,C.j.tq.set(m.uf.$d),C.gFb || (C.gFb=!0,C.j.ke("pb")),C.Bg.value !== l.Cb.N_ && C.Bg.value !== l.Cb.Tr && C.play()):C.Bc.error("Shim received buffering complete but player has no position (player " + (C.xb?"":"un") + "defined, state " + C.j.state + ")");};this.Bcb=function(){var F,G;C.debug.assert(C.Bc,"has access to internalLogger");!1;C.UQ=void 0;C.VQ=void 0;C.j.paused.value && C.QG && (C.QG=!1,C.j.paused.set(!1,{rM:!0}));null === (F=C.j.je) || void 0 === F?void 0:F.ywb();null === (G=C.o6a) || void 0 === G?void 0:G.call(C);C.o6a=void 0;};this.events=new y();this.Pe=new w.yea(this.$u.bind(this),function(F,G){return C.j.Uv(F,G);});}b.wca=void 0;l=a(91854);f=a(28075);k=a(66052);d=a(68172);g=a(55225);m=a(34202);h=a(37986);n=a(95919);p=a(2467);q=a(86514);u=a(19591);t=a(14414);w=a(39540);a(64168);v=a(18920);y=a(17187).EventEmitter;c.prototype.de=function(){var x;!1;this.EQ=!1;this.Ic.N9(null);this.debug.assert(this.Sh,"has access to streamingEngine");this.Aa && this.Sh.Oy(this.Aa);this.xb && this.Sh.i9a(this.xb);this.Sh.k9a(this.Pe.Sm(this.ib.aa.J));this.Pe.clear();null === (x=this.fo) || void 0 === x?void 0:x.Es();};c.prototype.x0b=function(x){var z,A,B,D,C,F,G,E,J,M,L,I,P;z=x.config;A=x.Zo;B=x.Bc;D=x.Yd;C=x.ft;F=x.Ri;G=x.HW;x=x.rH;this.Bc=B;this.log=B.Z2("AseIntegrationImpl");!1;this.ft=C;this.HW=G;this.rH=x;C=this.j.aa;this.debug.assert(C,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Sh,"has access to streamingEngine");this.debug.assert(C.zc,"has access to parsedManifest");this.debug.assert(C.W,"has access to manifest");this.config=z;this.Sh=A.Sh;A.ai.set(a(33888)(z),!0,F("ASE"));A.ai.set({maxNumberTitlesScheduled:null !== (J=null === (E=z.GVb) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== J?J:1},!0,B);z.$wb && !C.fd.ia && 3E5 > C.W.Fa.duration?A.ai.xV({expandDownloadTime:!1},!0,B):A.ai.xV({expandDownloadTime:A.ai.c7a().expandDownloadTime},!0,B);z=C.background.value || z.EVb && "postplay" === C.xd?"historical":A.ai.c7a().initBitrateSelectorAlgorithm;A.ai.xV({initBitrateSelectorAlgorithm:z},!0,B);z=null === (P=null === (I=null === (L=null === (M=C.Mg) || void 0 === M?void 0:M.value) || void 0 === L?void 0:L.streams) || void 0 === I?void 0:I[0]) || void 0 === P?void 0:P.Ld;A.ai.xV((0,h.RTa)(!!C.Wa.ag,!!C.Wa.LL,z),!0,B);B=D.YB({},(0,h.P2)(C.xd));C.fd.ia && (B=D.YB(B,(0,h.P2)("live")));this.ai=A.ai.Gn(B);l.platform.events.emit("networkchange",C.zc.D_b);this.Xw=!0;};c.prototype.O5=function(x){var z,A;this.debug.assert(this.Sh,"has access to streamingEngine");z=this.j.fi(x.I);this.debug.assert(z.zc,"has access to playback parsedManifest");!1;A=x.flags;this.Ic.reset();this.bg=new Set([v.v.fa,v.v.X]);(A.geb || A.Ebc) && this.bg.delete(A.geb?v.v.fa:v.v.X);this.ZH=[z.zc.zAb,z.zc.GAb,z.zc.FAb];this.$u(z.O,void 0,x.SUa);this.iMb(x);this.rK();};c.prototype.Rt=function(x){var z;!1;null === (z=this.Aa) || void 0 === z?void 0:z.Rt(x);};c.prototype.Atb=function(x){var z,A,B,D;z=this;A=x.loadTime;B=x.$n;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;this.$n=B;this.loadTime=A;x=this.Aa.events;D=this.xb.events;x.addListener("error",function(C){!1;"NFErr_MC_StreamingFailure" === C.error && (z.Bc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(C)),z.Bc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.ft())),(0,k.Lf)(function(){var F,G,E;F=d.U.afb;G=C.nativeCode;E=C.context;"adBreakHydration" === (null === E || void 0 === E?void 0:E.type) && (F=d.U.pD,G=d.R.lfb);z.j.pd(F,{xa:G,Kb:C.errormsg,Ml:C.httpCode,z7:C.networkErrorCode,Ee:C.httpCode});}));});x.addListener("logdata",function(C){var F;!1;"string" === typeof C.target && "object" === typeof C.fields && (C.fields.aseApiVersion=null === (F=z.Aa) || void 0 === F?void 0:F.Qrb,(0,g.a2)({bla:C,$n:B,loadTime:A}));});D.addListener("logdata",function(C){!1;"string" === typeof C.target && "object" === typeof C.fields && (0,g.a2)({bla:C,$n:B,loadTime:A});});x.addListener("bufferingStarted",function(){!1;z.j.tq.set(m.uf.Qe);});x.addListener("bufferingComplete",function(C){!1;z.En=C;});this.j.paused.addListener(function(C){var F;z.debug.assert(z.Bc,"has access to internalLogger");null !== (F=C.Hh) && void 0 !== F && F.rM || !z.Xw || (C.newValue && z.Bg.value === l.Cb.me?(z.Bg.set(l.Cb.Wh),z.mi.emit("paused",{type:"paused",pts:z.mi.Fd})):C.newValue || z.Bg.value !== l.Cb.Wh || (z.Bg.set(l.Cb.me),z.mi.emit("playing",{type:"playing",pts:z.mi.Fd})));C.newValue || (z.QG=!1);z.Bc.info("Paused changed",{From:C.oldValue,To:C.newValue,MediaTime:(0,u.ih)(z.j.mediaTime.value)});});this.j.tc.addListener(function(C){var F,G,E,J;if(z.Xw)if((z.debug.assert(z.Bc,"has access to internalLogger"),C.Hh && C.Hh.M1))z.Bc.trace("Not processing already applied track",null === (F=C.newValue) || void 0 === F?void 0:F.trackId);else {J=C.newValue;z.Pbb({ap:J.trackId,toJSON:function(){return J.zg;}})?z.Bc.trace("ASE accepted the audio track switch",null === (E=C.newValue) || void 0 === E?void 0:E.trackId):(z.Bc.trace("ASE rejected the audio track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.trackId !== J.trackId && z.j.tc.set(C.oldValue,{M1:!0}));}});this.j.fd.ia && this.j.wb.addListener(function(C){var F,G,E,J;if(z.Xw)if((z.debug.assert(z.Bc,"has access to internalLogger"),C.Hh && C.Hh.M1))z.Bc.trace("Not processing already applied track",null === (F=C.newValue) || void 0 === F?void 0:F.trackId);else {J=C.newValue;z.Pbb({Ybb:J.trackId,toJSON:function(){return J.zg;}})?z.Bc.trace("ASE accepted the text track switch",null === (E=C.newValue) || void 0 === E?void 0:E.trackId):(z.Bc.trace("ASE rejected the text track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.trackId !== J.trackId && z.j.wb.set(C.oldValue,{M1:!0}));}});x.addListener("serverSwitch",function(C){var F;!1;z.j.fireEvent(m.ea.EW,C);if("video" === C.mediatype)F=v.v.X;else "audio" === C.mediatype && (F=v.v.fa);(0,n.Uc)(F) && z.HW(C.segmentId,C.server,F);});x.addListener("streamSelected",function(C){var F,G,E,J;!1;if(z.EQ){G=C.manifest.Df;if(!z.j.QKb(G) && z.config.kEb)return z.j.pd(d.U.ojb,{aB:G});G=(null === (F=z.Aa) || void 0 === F?void 0:F.ET(C.position)).zq.G;F=[];if(C.mediaType === v.v.X){E=z.j.h0a(C.streamId);J=z.j.Oe;F=z.j.mB();}else C.mediaType === v.v.fa && (E=z.j.T_a(C.streamId),J=z.j.Qg,F=z.j.wGb());E && J?(!1,J.set(E,{OE:G,GR:C.bandwidth})):z.Bc.error("no matching stream for streamSelected event",{streamId:C.streamId,mediaType:C.mediaType,streamList:F,cachedManifest:z.j.KE});}});x.addListener("segmentNormalized",function(C){var F,G,E;!1;F=C.segmentId;G=Math.floor(C.viewableContentEnd.G);C=Math.floor(C.viewableEarliestContentEnd.G);G=(0,p.Hb)(G);C=(0,p.Hb)(C);z.j.c0a(F) || (!1,z.Fyb(F));E=z.j.fi(F);E && (z.debug.assert(E.I === F,"segmentNormalized: playbackViewableData segmentId should match the value in the event"),E.Ex=G,E.u4a=C);z.j.Jp || (z.j.fd.ia?(z.debug.assert(Infinity === G.ba(p.na),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.fd.ia + ", contentDuration:" + G),z.j.Jp=p.Ia):z.j.Jp=G);});D.addListener("segmentPresenting",function(C){var F,G,E,J;!1;z.debug.assert(z.Aa,"has access to asePlaygraph");z.debug.assert(z.xb,"has access to asePlayer");z.debug.assert(z.rH,"has access to segmentPresentingHandler");G=z.Aa.ET(C.position);E=void 0;J=null === (F=C.inner) || void 0 === F?void 0:F.position;J && z.Gh && (E=z.Gh.M[J.I]);z.rH({J:G.J,QE:E,cG:!1});z.j.fireEvent(m.ea.qH,{type:"segmentPresenting",position:{segmentId:C.position.I,offset:C.position.offset},playerTimestamp:C.playerTimestamp,metrics:C.metrics});!1;z.Yz=z.xb.Sn();});D.addListener("ptsChanged",function(C){var F;!1;z.j.je.$Wb({Qla:null === (F=C.forcedTimestamp) || void 0 === F?void 0:F.Fy,gMb:C.initialTimestamp.Fy});z.mi.emit("skipped");});x.addListener("locationSelected",function(C){!1;z.j.fireEvent(m.ea.zU,C);});x.addListener("aseReportEnabled",function(){!1;z.j.xS=!0;});x.addListener("aseReport",function(C){!1;z.j.fireEvent(m.ea.AE,C);});x.addListener("liveReport",function(C){!1;z.j.fireEvent(m.ea.G6,C);});x.addListener("mediaRequestComplete",function(C){C=null === C || void 0 === C?void 0:C.NYb;(C=null === C || void 0 === C?void 0:C.cadmiumResponse) && z.j.fireEvent(m.ea.gF,{response:C,O:z.j.aa.O});});x.addListener("transportReport",function(C){var F;(C=null === (F=C.GDb) || void 0 === F?void 0:F.cadmiumResponse) && z.j.fireEvent(m.ea.gF,{response:C,O:z.j.aa.O});});x.addListener("liveEventTimesUpdated",function(C){var F,G;F=C.I;G=C.startTime;C=C.endTime;z.j.c0a(F) && (F=z.j.fi(F),F.fd.ia && F.fd.vva(G,C));});x.addListener("liveLoggingInfoUpdated",function(C){var F,G;F=C.mediaType;G=z.uv[F];z.uv[F]=C.info;C=z.uv[F].XA !== G.XA && void 0 !== G.XA;(z.uv[F].WA !== G.WA && void 0 !== G.WA || C) && z.j.fireEvent(m.ea.F6,{mediaType:F,$l:G,current:z.uv[F]});});};c.prototype.Fyb=function(x){var z,A,B,D;if(this.Gh && this.Gh.M[x]){z=this.Gh.M[x];A=this.Gh.M[x].Rb;A === x && this.cO && this.cO.M[x] && (A=this.cO.M[x].Rb);if(A && this.ib.Xv(A)){x=this.j.fi(A);A=x.W;if(null === A || void 0 === A?0:A.cp)B=null === A || void 0 === A?void 0:A.cp.find(function(C){return C.Fa.O === z.J;});B || (B=this.j.rZa(z.J));if(!B && (null === A || void 0 === A?0:A.Fa.bc)){D=this.lsb.TIb({bc:null === A || void 0 === A?void 0:A.Fa.bc,wd:x.O,J:z.J});D && (B=D.W);}B && B.Fa.bc === (null === A || void 0 === A?void 0:A.Fa.bc) && this.j.xUa(z.J,{Gf:{bc:B.Fa.bc,wd:x.O}},x.ma,B);}}};c.prototype.Sn=function(){var x,z,A,B,D,C,F,G,E;G=null === (x=this.xb) || void 0 === x?void 0:x.s5();x=(null !== (z=this.Yz) && void 0 !== z?z:G && this.xb.Sn()) || ({});z=x.u;G=x.te;E=x.YG;x=x.er;return {id:String(null === z || void 0 === z?void 0:z.id),Wha:null !== (A=null === G || void 0 === G?void 0:G.G) && void 0 !== A?A:0,T2:null !== (B=null === z || void 0 === z?void 0:z.Ud.G) && void 0 !== B?B:Infinity,Owb:null !== (D=null === z || void 0 === z?void 0:z.Mf.G) && void 0 !== D?D:0,iVb:null !== (C=null === E || void 0 === E?void 0:E.G) && void 0 !== C?C:Infinity,Nsa:null !== (F=null === x || void 0 === x?void 0:x.G) && void 0 !== F?F:0};};c.prototype.t1a=function(){var x,z;this.debug.assert(this.Aa,"has access to asePlaygraph");x={};z=this.Aa.AF();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;return x;};c.prototype.paused=function(){};c.prototype.cVb=function(){!1;this.mi.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.mi.Fd});};c.prototype.DE=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");A=this.ZH[v.v.fa];return x.O === this.j.W.Fa.O?A:this.LEb(this.j.W.Fa.rs[A],z);};c.prototype.UN=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");if(this.j.fd.ia){this.debug.assert(x.O === this.j.W.Fa.O);A=this.ZH[v.v.Ya];if((x=this.j.bh.find(function(B){return B.trackId === z[A].cg;})) && (!x.Wn() || x.Ym()))return A;}};c.prototype.LEb=function(x,z){var A,B,D;this.debug.assert(this.Bc,"has access to internalLogger");!1;A=z.filter(function(C){return C.profile === x.profile;}).sort(function(C,F){var G,E,J;G=(C.language === x.language || "zxx" === C.language?0:1) - (F.language === x.language || "zxx" === F.language?0:1);0 === G && (G=(C.zh === x.zh?0:1) - (F.zh === x.zh?0:1));if(0 === G){C=(null !== (E=C.ec) && void 0 !== E?E:0) - (null !== (J=F.ec) && void 0 !== J?J:0);}else C=G;return C;});B=0;D=la(A).next().value;D && z.some(function(C,F){if(C === D)return (B=F,!0);});!1;return B;};c.prototype.Pbb=function(x){var z,A,B,D,C,F;this.debug.assert(this.Bc,"has access to internalLogger");this.debug.assert(this.xb,"has access to asePlayer");this.debug.assert(this.j.W,"has access to playback manifest");if(this.Vwa)return (!1,!1);A=x.ap;B=this.ZH[v.v.fa];if(void 0 === A)D=B;else if(!this.j.W.Fa.audio_tracks.some(function(G,E){if(G.new_track_id === A)return (D=E,!0);}))return (!1,!1);C=x.Ybb;x=this.ZH[v.v.Ya];if(void 0 === C)F=x;else if(!this.j.W.Fa.timedtexttracks.some(function(G,E){if(G.new_track_id === C)return (F=E,!0);}))return (!1,!1);!1;this.UQ=D;this.VQ=F;null === (z=this.j.je) || void 0 === z?void 0:z.P1b();this.j.paused.value || (this.xb.pause([v.v.fa,v.v.Ya]),this.QG=!0,this.j.paused.set(!0,{rM:!0}));this.debug.Y1(this.UQ,"has access to valid requestedAudioTrackIndex number");this.ZH[v.v.fa]=this.UQ;this.debug.Y1(this.VQ,"has access to valid requestedTextTrackIndex number");this.ZH[v.v.Ya]=this.VQ;(this.Wy() || this.QG) && this.xb.resume(this.QG?[v.v.fa,v.v.Ya]:void 0);this.iI(this.Bcb);return !0;};c.prototype.Wy=function(){var x;x=this;this.debug.assert(this.Aa,"has access to asePlaygraph");return this.Aa.Wy({yN:this.DE.bind(this)},{yN:function(){return x.ZH[v.v.X];}},{yN:this.UN.bind(this)});};c.prototype.km=function(){var x;!1;this.Bg.set(l.Cb.ul);null === (x=this.Aa) || void 0 === x?void 0:x.bxa("intrplay",l.qc.km);this.mi.emit("underflow",{type:"underflow",pts:this.mi.Fd});this.iI(this.Dm);};c.prototype.Q9=function(x,z){this.Z$.Q9(x,z);};c.prototype.open=function(){this.EQ || (this.debug.assert(this.Aa,"has access to asePlaygraph"),this.debug.assert(this.xb,"has access to asePlayer"),!1,this.EQ=this.Dh=!0,this.Aa.open(),this.debug.assert(this.Yv,"invalid start position relative to playgraph"),this.Aa.zC(this.Yv,l.N.Ma(this.j.bb)),this.Bg.set(l.Cb.Qe),this.iI(this.Dm),this.Aa.Uu(this.xb),this.IOb());};c.prototype.play=function(){this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;0 !== this.Aa.state && (this.xb.resume(this.QG?[v.v.fa,v.v.Ya]:void 0),this.Bg.set(l.Cb.me),this.mi.emit("playing",{type:"playing",pts:this.mi.Fd}));};c.prototype.stop=function(){var x;!1;this.Bg.set(l.Cb.N_);null === (x=this.xb) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.mi.emit("paused",{type:"paused",pts:this.mi.Fd});};c.prototype.flush=function(){this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.Sh,"has access to streamingEngine");!1;this.EQ && this.Bg.value !== l.Cb.Tr && this.Bg.value !== l.Cb.N_ && this.stop();this.Aa.bxa("endplay",l.qc.Oi);this.Aa.If();this.Sh.yp.save();this.Sh.cV.save();};c.prototype.On=function(){var x;return null === (x=this.Aa) || void 0 === x?void 0:x.Sc;};c.prototype.qja=function(x){var z;this.debug.assert(this.Aa,"has access to asePlaygraph");z=l.N.Ma(x);return (z=this.Aa.Xk(z,{q1b:!0,p1b:!0}))?this.Aa.ga.M[z.I].sa + Number(z.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.sja=function(x,z){this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.Bc,"has access to internalLogger");!1;this.Aa.ga.M[x] || (x=this.tla(z));this.debug.Z1(x,"has access to segmentId");x={I:x,offset:l.N.Ma(z - this.Aa.ga.M[x].sa)};if(x=this.Aa.RF(x))return x.G;!1;return z;};c.prototype.Nub=function(x,z){var A,B,D,C;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;z && this.Aa.ga.M[z] || (z=null !== (A=this.tla(x)) && void 0 !== A?A:null === (B=this.xb) || void 0 === B?void 0:B.Jg.I);z=this.j.fi(z);x={zq:l.N.Ma(x),J:z.O};return null === (C=null === (D=this.Aa.Js(x)) || void 0 === D?void 0:D.La) || void 0 === C?void 0:C.G;};c.prototype.E3=function(x){var z;z=void 0 === z?!0:z;!1;this.Dh?Number.isFinite(x) && (this.debug.assert(this.xb,"has access to asePlayer"),z?this.xb.O$a(x):this.xb.N$a(x)):this.fail("Must call open prior to drmReady");};c.prototype.$_a=function(){var x;return null !== (x=this.xb) && void 0 !== x && x.Pd?this.xb.bU(this.ib.aa.J):!1;};c.prototype.ci=function(x){var z,A;!1;if(!this.xb)return (!1,!1);z=this.On();x=l.N.Ma(x);A=this.xb.ci(x);return z && this.j.xL()?A && z.ci(x):A;};c.prototype.XZb=function(x,z){var A;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;z && this.Aa.ga.M[z] || (z=null !== (A=this.tla(x)) && void 0 !== A?A:this.ib.qh);this.debug.Z1(z,"has access to segmentId");this.debug.assert(this.Aa.ga.M[z],"segment exists in playgraph map");z={I:z,offset:l.N.Ma(x - this.Aa.ga.M[z].sa)};this.Aa.zC(z,l.N.Ma(x));this.xb.resume();this.Bg.set(l.Cb.Qe);this.iI(this.Dm);x=this.Aa.d$a(z);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};c.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};c.prototype.N4b=function(x,z){var A;!1;A={};this.Aa.cj((A[x]=z,A));};c.prototype.D2=function(x,z){var A,B;this.debug.assert(this.Bc,"has access to internalLogger");this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;A=this.Sn().id;B=this.Aa.nT(A,x);if(z){if(!B.O5b)return (this.Bc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== B.cra)return (!1,B.cra === x);this.Aa.Nj(A,x,!1,z);return !0;}if(void 0 !== B.cra)return (!1,!1);B.KR && (this.xb.reset(),this.Aa.Nj(A,x,!1,z),this.xb.resume(),this.Bg.set(l.Cb.Qe),this.iI(this.Dm));return !!B.KR;};c.prototype.Nj=function(x,z,A,B){this.debug.assert(this.Aa,"has access to asePlaygraph");!1;this.Aa.Nj(x,z,A,B);};c.prototype.BH=function(){var x;this.debug.assert(this.Bc,"has access to internalLogger");!1;x=this.mi.Fd;!1;this.mi.emit("skipped",{type:"skipped",pts:x});return new l.YP(Promise.resolve()).pZb;};c.prototype.N4=function(x,z){var A;return null === (A=this.Aa) || void 0 === A?void 0:A.N4(x,z);};c.prototype.tla=function(x){var z,A,B,D,C,F,G,E;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.Bc,"has access to internalLogger");!1;z=this.Aa.ga;A=[];B=Infinity;for(D in z.M){C=z.M[D];F=C.sa;C=C.ta;G=x < Number(null !== C && void 0 !== C?C:Infinity);if(F <= x && G)(!1,A.push(D));else if((F=Math.min(Math.abs(x - F),Math.abs(x - C)),F < B)){B=F;E=D;}}x=A[0] || E;this.debug.Z1(x,"has access to locatedSegmentId");!1;return x;};c.prototype.IOb=function(){var x,z;x=this;this.debug.assert(this.j.Pb,"has access to mediaElement");z=this.j.Pb.$;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.Bg.value === l.Cb.Wh && (x.Bg.set(l.Cb.me),x.mi.emit("playing",{type:"playing",pts:x.mi.Fd}));});z.addEventListener("pause",function(){x.Bg.value === l.Cb.me && (x.Bg.set(l.Cb.Wh),x.mi.emit("paused",{type:"paused",pts:x.mi.Fd}));});};c.prototype.fail=function(x){var z;null === (z=this.Aa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.iI=function(x){var z,A,B,D,C,F,G,E;z=this;if(x !== this.Bcb && this.Vwa)(!1,this.o6a=x);else {E=null === (A=this.xb) || void 0 === A?void 0:A.Yq.value;A=null === (B=this.Aa) || void 0 === B?void 0:B.hf.value;B=!0 === E;E=A === l.Yc.qm;!1;null === (D=this.xb) || void 0 === D?void 0:D.Yq.removeListener(this.y4a);null === (C=this.Aa) || void 0 === C?void 0:C.hf.removeListener(this.lSa);B && E?x():(this.y4a=function(){return z.iI(x);},this.lSa=function(){return z.iI(x);},null === (F=this.xb) || void 0 === F?void 0:F.Yq.addListener(this.y4a),null === (G=this.Aa) || void 0 === G?void 0:G.hf.addListener(this.lSa));}};c.prototype.nYa=function(x){var z,A;z=this;x=this.j.Mk(x);return Promise.resolve(null !== (A=x.W) && void 0 !== A?A:this.S8(x)).then(function(B){B=B.Fa;return {W:B,Yu:B.l5 && !B.pB,config:z.ai,bg:[].concat(ca(z.bg))};});};c.prototype.S8=function(x){var z,A,B,D,C;z=this;!1;B=Promise.resolve();if(x.Hf){D=x.Hf.wd;(C=null === (A=this.j.Mk(D).W) || void 0 === A?void 0:A.Fa)?x.Hf.BV=C:B=this.Pe.Sm(D).Xp.then(function(F){return F.W;}).then(function(F){x.Hf.BV=F;}).catch(function(){return z.j.pd(d.U.pD,d.R.mfb);});}return B.then(function(){return z.j.S8(x);}).then(function(){return x.W;});};c.prototype.$u=function(x,z,A){var B,D,C,F,G,E,J,M,L,I,P,K,H;B=this;this.debug.assert(this.Sh,"has access to streamingEngine");!1;L={J:x,wd:null === (D=null === z || void 0 === z?void 0:z.Gf) || void 0 === D?void 0:D.wd,bc:null === (C=null === z || void 0 === z?void 0:z.Gf) || void 0 === C?void 0:C.bc};if(!this.Pe.has(L)){if(!this.j.r5(x) && (null === (F=null === z || void 0 === z?void 0:z.Gf) || void 0 === F?0:F.wd) && this.j.r5(null === (G=null === z || void 0 === z?void 0:z.Gf) || void 0 === G?void 0:G.wd)){D=this.j.Mk(null === (E=z.Gf) || void 0 === E?void 0:E.wd);E=null === (J=D.W) || void 0 === J?void 0:J.Fa.bc;J=this.j.rZa(x);(null === (M=null === J || void 0 === J?void 0:J.Fa) || void 0 === M?0:M.bc) && J.Fa.bc === E && (I=J);this.j.xUa(x,z,D.ma,I);}this.j.r5(x) && (P=this.j.Mk(x));K=A?A.ma:P?P.ma:void 0;M=A?A.Fp:P?P.Af:void 0;this.Pe.store(L,{GSa:function(){},equals:function(N){return N && N.J === L.J && (K === N.ma || !N.ma || !K);},get Xp() {H || (H=B.nYa(x));return H;},set Xp(N) {H=N;},events:new f.EventEmitter(),ma:K,J:L.J,Gq:!1,ywa:!1});this.ai.KK && this.Sh.BN(this.Pe.Sm(L.J,z),{ma:K,Fp:M,lka:null === A || void 0 === A?void 0:A.UA});}};c.prototype.lO=function(x){var z,A,B;this.debug.assert(this.Sh,"has access to streamingEngine");!1;z=this.j.fi(x);A=z.Hf;z={J:z.O,wd:null === A || void 0 === A?void 0:A.wd,bc:null === A || void 0 === A?void 0:A.bc};x=this.ib.Od(x).J;if(!this.Pe.has(z))return Promise.resolve();A && (B={Gf:{bc:null === A || void 0 === A?void 0:A.bc,wd:A.wd}});A=this.Pe.Sm(x,B);A.Xp=this.nYa(x);return this.Sh.lO(A);};c.prototype.nT=function(x){var z;this.debug.assert(this.xb,"has access to asePlayer");this.debug.assert(this.Aa,"has access to asePlaygraph");return this.Aa.nT(null === (z=this.xb.Sn().u) || void 0 === z?void 0:z.id,x);};c.prototype.hB=function(x){var z;x=null === (z=this.Aa) || void 0 === z?void 0:z.hB(x);!1;return x;};c.prototype.iMb=function(x){var z,A;z=x.SUa;A=x.I;this.debug.assert(this.Sh,"has access to streamingEngine");this.debug.assert(this.Bc,"has access to internalLogger");!1;x=this.j.fi(A);x=this.ib.T4(x);A=x.M[A];this.debug.assert(A,"segment exists");this.Yv=(0,q.u_a)(A.J,x,this.j.bb,A.sa);z=Object.create(this.ai,{UA:{value:z.UA},L3:{value:this.j.background.value}});this.Bg=new t.Ib(l.Cb.Dk);this.Aa=this.Sh.qR(x,this.ai.rVb,z,this.Pe);this.Z$=new l.cQ(this.Bc);z=this.Aa.pK(this.Z$);x=this.Aa.oK();this.Aa.Cva(x,z);this.Wy();this.QG=!1;};c.prototype.rK=function(){var x,z;x=this;this.debug.assert(this.Sh,"has access to streamingEngine");!1;z=Object.create(this.ai,{bg:{value:[].concat(ca(this.bg))},Ima:{value:function(){return x.GIb();}}});this.mi=Object.create(new f.EventEmitter(),{Fd:{get:function(){x.debug.Y1(x.j.mediaTime.value,"has access to mediaTime.value");return l.N.Ma(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},pIb:{value:function(){x.debug.assert(x.j.Pb,"has access to mediaElement");return x.j.Pb;}}});this.xb=this.Sh.erb(this.mi,z);};c.prototype.GIb=function(){this.fo || (this.fo=new l.platform.MediaSource(this.mi),this.fo.Jf || (this.fo.Jf=l.platform.MediaSource.Jf));return this.fo;};Xa.Object.defineProperties(c.prototype,{Vwa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.UQ && void 0 !== this.VQ;}},Ic:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Sh,"has access to streamingEngine");return this.Sh.Ic;}},Gh:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.Aa) || void 0 === x?void 0:x.Gh;null === z || void 0 === z?0:z.Gh;){z=z.Gh;}return null === z || void 0 === z?void 0:z.ga;}},cO:{configurable:!0,enumerable:!0,get:function(){var x,z;return null === (z=null === (x=this.Aa) || void 0 === x?void 0:x.Gh) || void 0 === z?void 0:z.ga;}},DTa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.xb;null === x || void 0 === x?0:x.VT;){x=x.VT;}return x;}},Wzb:{configurable:!0,enumerable:!0,get:function(){var x,z,A;if(null === (x=this.DTa) || void 0 === x?0:x.Pd){A=(x=this.DTa.Jg) && (null === (z=this.Gh) || void 0 === z?void 0:z.M[x.I]);if(A)return {zq:l.N.Ma(x.offset.G + A.sa),J:A.J};}}}});b.wca=c;},4551:function(r,b,a){var l,f,k,d;function c(g){function m(h,n){this.Y=h;this.enb=n;this.kla=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Di=g.Ua("DownloadTrack");}m.prototype.Es=function(){!1;this.aR=void 0;this.emit("destroyed");};m.prototype.toString=function(){return "id:" + this.aR + " config: " + JSON.stringify(this.Y);};m.prototype.toJSON=function(){return "Download Track id:" + this.aR + " config: " + JSON.stringify(this.Y);};m.prototype.QL=function(){return void 0 === this.aR?!1:!0;};m.prototype.Mta=function(h){this.Y.connections !== h.connections && (this.Y=h);};Xa.Object.defineProperties(m.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.aR;}},Hn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.aR;}},config:{configurable:!0,enumerable:!0,get:function(){return this.Y;}},r8:{configurable:!0,enumerable:!0,get:function(){return this.Di;}},RU:{configurable:!0,enumerable:!0,get:function(){return this.enb.RU;}}});this.vI=Object.assign(m,new k.SBa());}Object.defineProperty(b,"__esModule",{value:!0});b.RBa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(49090);d=a(17187).EventEmitter;c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa))],c);b.RBa=c;},33384:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,w,v){this.WJ=q;this.Ie=t;this.ub=w;this.Ea=v;this.log=u.Ua("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.HGa=void 0;r=a(70655);l=a(35001);f=a(5690);k=a(68172);d=a(71163);g=a(86700);m=a(5485);h=a(89542);n=a(58998);p=a(2467);c.prototype.EF=function(){return this.Ea.Fb().ba(p.na);};c.prototype.dSb=function(q,u){q.gSb({mediaRequest:q,timestamp:u});};c.prototype.W7=function(q){var u,t;t=q.mediaRequest.VB;t.readyState=l.pc.jc.ij;t.M5a(Object.assign(Object.assign({},q),{timestamp:q.connect?q.timestamp:this.EF(),connect:null !== (u=q.connect) && void 0 !== u?u:!1,mediaRequest:t,readyState:t.readyState}));};c.prototype.uM=function(q){this.dSb(q.mediaRequest.VB,q.timestamp);};c.prototype.IG=function(q){var u,t;u=q.mediaRequest.VB;t=q.bytes;"undefined" === typeof u?!1:(u.readyState === l.pc.jc.pu && this.W7(q),this.ub.ak(t) && (q.mediaRequest=u,q.timestamp=this.EF(),t > u.bytesReceived && (q.newBytes=t - u.bytesReceived,q.bytesLoaded=t,u.jSb(q))));};c.prototype.Zm=function(q){var u,t,w,v;u=q.mediaRequest;t=q.errorcode;w=q.httpcode;v=l.pc.XY;if("undefined" === typeof u)!1;else if((u=u.VB,"undefined" === typeof u))!1;else if(u.readyState !== l.pc.jc.du)if(t === k.R.gD)(u.readyState=l.pc.jc.Zp,q.mediaRequest=u,q.readyState=u.readyState,u.bSb(q));else {u.readyState=l.pc.jc.du;switch(t){case k.R.kP:w=v.uAa;break;case k.R.Wba:w=v.Tba;break;case k.R.hP:w=400 < w && 500 > w?v.UZ:500 <= w?v.Vba:v.Tba;break;case k.R.iP:w=v.Uba;break;case k.R.gP:w=v.vAa;break;case k.R.jP:w=v.VZ;break;case k.R.hD:w=v.VZ;break;case k.R.ODa:w=v.NDa;break;case k.R.KDa:w=v.UZ;break;case k.R.rhb:w=v.Uba;break;default:w=v.VZ;}q.mediaRequest=u;q.readyState=u.readyState;q.errorcode=w;q.nativecode=t;u.mra(q);}};c.prototype.GG=function(q,u){var t,w;t=u.request.VB;if(t)if(u.ha){if((!1,q.j && t.readyState !== l.pc.jc.DONE)){switch(t.readyState){case l.pc.jc.Zp:!1;return;case l.pc.jc.du:!1;break;case l.pc.jc.ij:break;case l.pc.jc.pu:this.W7({mediaRequest:u.request,responseHeaders:u.headers});break;default:!1;}t.readyState=l.pc.jc.DONE;if(!t.Me){w={mediaRequest:t,readyState:t.readyState,timestamp:this.EF(),cadmiumResponse:u};q.j.Twa+=1;t.QJb();t.pNb() && (q.j.xua+=1,u.Xl.Yi=Math.ceil(t.Bla),u.Xl.Qp=Math.ceil(t.RE),u.Xl.Qy=Math.floor(t.QB));t.O2=w;t.sM(w);}}}else (!1,t.readyState === l.pc.jc.Zp?!1:this.Zm({mediaRequest:u.request,errorcode:u.xa,httpcode:u.Ml,cadmiumResponse:u}));};c.prototype.download=function(q,u){var t,w;t=this;u=this.Ie.download(q,u);if(q.VB){w=q.VB;-1 < [l.pc.jc.OPENED,l.pc.jc.du].indexOf(w.readyState) && (w.readyState=l.pc.jc.pu,u.Z_b(function(v){t.uM(v);}));}u.E1(function(v){t.GG(q,v);});u.d0b(function(v){t.IG(v);});return u;};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.FO)),r.__param(1,(0,g.l)(d.Xa)),r.__param(2,(0,g.l)(m.eu)),r.__param(3,(0,g.l)(h.Wf)),r.__param(4,(0,g.l)(n.Jc))],a);b.HGa=a;},63076:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x,z){this.Ea=t;this.Ls=w;this.config=v;this.Ie=x;this.DQb=z;this.log=y.Ua("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.RGa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(5485);d=a(5117);g=a(20736);m=a(35001);h=a(58998);n=a(2467);p=a(53685);q=a(17244);u=a(18920);c.prototype.WS=function(t,w,v){var x,z,A,B;function y(){var D;t.removeEventListener(m.pc.Bk.Hz,y);D=x.config().fEb;void 0 === t.HS?t.HS=0:t.HS++;t.HS >= D.length && (t.HS=D.length - 1);setTimeout(function(){x.WS(t,w,v);},D[t.HS]);}x=this;t.eec=!0;z=0 === w.start && -1 === w.end;z={url:t.url,responseType:this.Ie.H_.Cza,withCredentials:!1,PA:t.mediaType === u.v.fa?"audio":"video",offset:z?void 0:w.start,length:z?void 0:t.ro,track:{type:t.mediaType === u.v.fa?g.Uj.audio:g.Uj.video},stream:{Vb:t.Tb,bitrate:t.bitrate},Ac:{id:t.Pc},VB:t,NW:v,Cr:this.Ls.Cr,nr:t.nr};A=t.MK;void 0 !== A && void 0 !== A.Gt && void 0 !== A.mG && void 0 !== A.nG && (z.MK=[A.nG,A.mG,A.Gt,A.rTa]);B=this.EF();z=this.DQb.download(z,function(D){D.ha && t.readyState !== m.pc.jc.DONE && (t.readyState === m.pc.jc.Zp?!1:(t.readyState === m.pc.jc.du?!1:t.readyState === m.pc.jc.pu?(t.readyState=m.pc.jc.ij,t.M5a({mediaRequest:t,readyState:t.readyState,timestamp:t.Me?B:x.EF(),connect:!1,responseHeaders:D.headers})):t.readyState !== m.pc.jc.pu && t.readyState !== m.pc.jc.ij && !1,t.readyState=m.pc.jc.DONE,D={mediaRequest:t,readyState:t.readyState,timestamp:x.EF(),cadmiumResponse:D,response:D.content},t.O2=D,t.sM(D)));});t.addEventListener(m.pc.Bk.Hz,y);t.w5=z.abort;};c.prototype.bQa=function(t){try{t.w5();}catch(w){this.log.warn("exception aborting request");}};c.prototype.EF=function(){return this.Ea.Fb().ba(n.na);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.Jc)),r.__param(1,(0,l.l)(p.nn)),r.__param(2,(0,l.l)(q.ac)),r.__param(3,(0,l.l)(f.Xa)),r.__param(4,(0,l.l)(k.eu)),r.__param(5,(0,l.l)(d.IGa))],a);b.RGa=a;},7884:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,w,v,y,x){function z(B,D){this.track=B;this.label=D;this.pg=n.pc.jc.UNSENT;this.bytesReceived=0;this.sW=[];}function A(B,D,C){this.requestId=x.IA().toString();this.ub=w;this.log=t.Ua("MediaRequest");this.config=u;this.Eb=new h.Tj();this.label=D;"notification" === this.label?this.config().KK && (this.RU=v):this.RU=y;C && (this.mediaType=C.mediaType,this.Tb=C.Tb,this.bitrate=C.bitrate,this.Pc=C.Pc || 0,this.Zs=C.Zs,this.I=C.I);this.WT=this.w2=this.x2=void 0;this.track=B;this.MR=this.url=this.responseType=void 0;this.pg=n.pc.jc.UNSENT;this.Ph=this.fv=this.Nf=this.status=void 0;this.bytesReceived=0;this.connect=this.Bla=this.RE=this.QB=this.npa=this.Mh=this.Ala=this.loadTime=this.ega=void 0;this.sW=[];this.Hn=!1;!1;}z.prototype.addEventListener=function(B,D,C){this.Eb.addListener.call(this,B,D,C);};z.prototype.removeEventListener=function(B,D){this.Eb.removeListener.call(this,B,D);};z.prototype.emit=function(B,D,C){this.Eb.Dc.call(this,B,D,C);};z.prototype.gSb=function(B){this.pg === n.pc.jc.OPENED && (this.WT=!0,this.loadTime=this.Mh=B.timestamp,!1,this.pg=n.pc.jc.pu,this.emit(n.pc.Bk.HHa,B));};z.prototype.M5a=function(B){var D;B.responseHeaders && (this.jZb=B.responseHeaders);if(this.pg < n.pc.jc.ij){this.sW=[];D=B.timestamp - this.loadTime;!this.Me && 0 < D && (this.connect=!0,this.sW.push(D));!0 === this.config().BLb?this.Ala=B.timestamp:this.Ala=this.Mh=B.timestamp;!1;this.pg=n.pc.jc.ij;this.emit(n.pc.Bk.GHa,B);}};z.prototype.jSb=function(B){this.pg === n.pc.jc.ij && (!1,this.npa=this.Mh=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.ub.vg(this.npa) && this.emit(n.pc.Bk.IHa,B));};z.prototype.sM=function(B){var D;if(-1 < [n.pc.jc.pu,n.pc.jc.ij].indexOf(this.pg)){this.WT=!1;!1;this.Mh=B.timestamp;this.pg=n.pc.jc.DONE;D=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Xl.S2;(0,q.oa)(this.bytesReceived === this.ro,"bytesReceived do not match expected totalBytes.");B.newBytes=this.ro - D;this.ub.vg(this.RE) && (this.Mh=this.RE,0 === B.newBytes && (this.npa=this.RE));this.ub.vg(this.QB) && (this.loadTime=this.QB);this.ega=B.response;this.emit(n.pc.Bk.KP,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",NYb:B});}};z.prototype.bSb=function(B){this.WT=!1;!1;this.emit(n.pc.Bk.ekb,B);};z.prototype.mra=function(B){this.Mh=B.timestamp;this.status=B.httpcode;this.Nf=B.errorcode;this.fv=n.pc.XY.name[this.Nf];this.Ph=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",GDb:B});this.emit(n.pc.Bk.Hz,B);this.WT=!1;};z.prototype.open=function(B,D,C,F,G,E,J,M,L){this.Zv=!1;this.MR=D;this.nr=M;this.MK=L;this.url=B;this.responseType=C;!1;if(!this.url)return (!1,!1);this.pg=n.pc.jc.OPENED;this.RU.WS(this,D,J);return !0;};z.prototype.de=function(){!1;-1 !== [n.pc.jc.OPENED,n.pc.jc.pu,n.pc.jc.ij].indexOf(this.pg) && this.abort();return !0;};z.prototype.Pvb=function(){this.ega=void 0;this.O2 && (this.O2.response=void 0,this.O2.cadmiumResponse.content=void 0);this.w5=void 0;};z.prototype.LH=function(B){!1;this.url=B;return !0;};z.prototype.abort=function(){this.pg=n.pc.jc.Zp;this.RU.bQa(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var D,C;return null !== (C=null === (D=this.jZb) || void 0 === D?void 0:D[B.toLowerCase()]) && void 0 !== C?C:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.Ny=function(){};z.prototype.Si=function(){return this.requestId;};z.prototype.toString=function(){return JSON.stringify({requestId:this.Si(),segmentId:this.I,isHeader:this.Me,ptsStart:this.WM,ptsOffset:this.O8,responseType:this.responseType,duration:this.lF,readystate:this.pg,bitrate:this.bitrate});};z.prototype.toJSON=function(){return this.toString();};z.prototype.QJb=function(){var B,D;if(this.config().Qdb && d.ju && d.ju.getEntriesByType && (!this.ub.vg(this.QB) || !this.ub.vg(this.RE) && this.ub.vg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.x2 + "-" + this.w2 + "*");D=new RegExp(B);B=d.ju.getEntriesByType("resource").filter(function(C){return D.exec(C.name);})[0];this.ub.vg(B) && (0 < B.startTime && (this.QB=B.startTime,0 < B.requestStart && (this.QB=Math.max(this.QB,B.requestStart))),0 < B.responseStart && (this.Bla=B.responseStart),0 < B.responseEnd && (this.RE=B.responseEnd));}};z.prototype.pNb=function(){return this.ub.vg(this.QB) && this.ub.vg(this.RE) && this.ub.vg(this.Bla);};Xa.Object.defineProperties(z.prototype,{ro:{configurable:!0,enumerable:!0,get:function(){return 0 === this.MR.start && -1 === this.MR.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.MR.end - this.MR.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.w2 - this.x2 + 1;}},LKb:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Me:{configurable:!0,enumerable:!0,get:function(){return !this.Zs;}},response:{configurable:!0,enumerable:!0,get:function(){return this.ega;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.pg;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var D;D=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,D);});this.gq=Object.assign(A,n.pc);}Object.defineProperty(b,"__esModule",{value:!0});b.PGa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(17244);d=a(50876);g=a(89542);m=a(96437);h=a(59883);n=a(35001);p=a(24166);q=a(70633);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ac)),r.__param(1,(0,l.l)(f.Xa)),r.__param(2,(0,l.l)(g.Wf)),r.__param(3,(0,l.l)(m.RHa)),r.__param(4,(0,l.l)(m.SGa)),r.__param(5,(0,l.l)(p.Bw))],c);b.PGa=c;},68221:function(r,b,a){var l,f,k;function c(d,g){this.Ie=g;this.log=d.Ua("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=void 0;r=a(70655);l=a(86700);f=a(71163);a=a(5485);c.prototype.WS=function(d,g,m){g={url:d.url,UZb:m};!1;d.w5=this.Ie.a1b(g);};c.prototype.bQa=function(d){try{d.w5();}catch(g){this.log.warn("exception aborting request");}};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(a.eu))],k);b.QHa=k;},39540:function(r,b,a){var l,f,k,d;function c(g,m){this.$u=void 0 === g?function(){}:g;this.fua=m;this.hw=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.yea=void 0;l=a(70655);f=a(91854);k=a(70633);d=a(56003);c.prototype.store=function(g,m){var h,q;h=this.generateKey(g);this.hw.has(h) && this.kra(this.hw.get(h),!0);if(!g.wd)for(var n=la(this.hw),p=n.next();!p.done;p=n.next()){q=la(p.value);p=q.next().value;q=q.next().value;p.includes(":" + g.J + ":") && (this.kra(q,!0),this.hw.delete(p));}this.hw.set(h,m);};c.prototype.Sm=function(g,m){var h,n,p;p=null === (h=null === m || void 0 === m?void 0:m.Gf) || void 0 === h?void 0:h.bc;h=null === (n=null === m || void 0 === m?void 0:m.Gf) || void 0 === n?void 0:n.wd;n={J:g,wd:h,bc:p};this.has(n) || this.$u(g,m);return this.get(n);};c.prototype.Uv=function(g,m){var h;return l.__awaiter(this,void 0,void 0,function p(){var q,u;q=this;return Ja(p,function(t){var w;if(1 == t.Cv)return ((0,k.oa)(m.Gf,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,k.oa)(!!m.Gf.bc,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),t.sia=2,Ma(t,q.fua(g,m),4));if(2 != t.Cv)return t.return(t.$X);t.sia=0;w=t.sE.YWa;t.sE=null;u=w;throw new f.zda("Could not hydrate adBreak",{Em:0,Cgc:0,errorCode:null !== (h=u.code) && void 0 !== h?h:0,context:{error:u instanceof d.Mc?u.toJSON():u,type:"adBreakHydration"}});});});};c.prototype.has=function(g){g=this.generateKey(g);return this.hw.has(g) && !this.hw.get(g).Gq;};c.prototype.clear=function(){var g;g=this;this.hw.forEach(function(m){g.kra(m,!1);});this.hw.clear();};c.prototype.get=function(g){return this.hw.get(this.generateKey(g));};c.prototype.generateKey=function(g){var m,h;m=g.bc;h=g.wd;return g.J.toString() + (h?":" + h:"") + (m?":" + m:"");};c.prototype.kra=function(g,m){var h;null === (h=g.events) || void 0 === h?void 0:h.emit("viewableEvicted",{type:"viewableEvicted"});g.ywa=m;};b.yea=c;},55225:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.a2=void 0;c=a(95919);b.a2=function(l){var f,k,d,g;f=l.$n;k=l.loadTime;l=l.bla;d=(0,c.tb)(k)?k:0;g=f[l.target] || ({});f[l.target] !== g && (f[l.target]=g);Object.entries(l.fields).forEach(function(m){var h,n,p,q;h=la(m);m=h.next().value;h=h.next().value;if("object" !== typeof h || null === h)g[m]=h;else {n=h.type;if("count" === n)(void 0 === g[m] && (g[m]=0),++g[m]);else if(void 0 !== h.value){if("array" === n){n=g[m];p=h.adjust;q=h.value;n || (n=g[m]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});n.push(q);}else g[m]="sum" === n?(g[m] || 0) + h.value:h.value;}else g[m]=h;}});};},86514:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.u_a=void 0;c=a(91854);l=a(70633);b.u_a=function(f,k,d,g){return k.M[k.we].sa === g?(f=(0,c.Fx)(k,f,c.N.Ma(d)),(0,l.oa)(f,"has valid start position relative to playgraph"),f):{I:k.we,offset:c.N.Ia};};},60634:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uh="AsyncComponentLoaderSymbol";},4871:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.DRa=void 0;r=a(86700);c=a(20101);l=a(60634);b.DRa=new r.ed(function(f){f(l.Uh).to(c.tza).da();});},20101:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w;function c(v,y,x,z,A,B){var D;D=this;this.vk=v;this.config=x;this.mo=z;this.debug=A;this.Ea=B;this.scb=[];this.Vc={};this.log=y.Ua("loadAsync");this.FPb=(0,u.eDa)(function(C){D.fYb=!0;D.startTime=D.Ea.Fb().ba(p.na);D.load(D.scb).then(function(){D.endTime=D.Ea.Fb().ba(p.na);C(w.ig);}).catch(function(F){D.endTime=D.Ea.Fb().ba(p.na);C(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.tza=void 0;r=a(70655);l=a(85643);f=a(68172);k=a(38667);d=a(3971);g=a(86700);m=a(71163);h=a(17244);n=a(29853);p=a(2467);q=a(78616);u=a(5845);t=a(58998);w=a(7942);c.prototype.xU=function(v){this.FPb(v);};c.prototype.register=function(v,y){this.debug.assert(!this.fYb);this.scb.push({cPb:this.Rub(y),errorCode:v});};c.prototype.ke=function(v){this.debug.assert(void 0 === this.Vc[v]);this.Vc[v]=this.Ea.Fb().ba(p.na);};c.prototype.load=function(v){var y;y=this;return (0,k.W7a)(v).then(function(x){y.vk.mark(d.om.jj.ifb);return x.reduce(function(z,A){return z.then(function(){return y.aPb(A);});},Promise.resolve()).then(function(){y.vk.mark(d.om.jj.gfb);});});};c.prototype.aPb=function(v){var y,x;y=this;x=v.cPb;!1;return this.mo.Pp((0,p.Hb)(this.config().Csb),x()).catch(function(z){y.log.error("Failed to load component " + v.errorCode,z);y.vk.mark(d.om.jj.hfb);if(z instanceof n.jq)throw {xa:f.R.ffb,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.xa=z.xa || f.R.efb;throw z;});};c.prototype.Rub=function(v){return function(){return new Promise(function(y,x){v(function(z){z.ha?y():x(z);});});};};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(l.aJ)),r.__param(1,(0,g.l)(m.Xa)),r.__param(2,(0,g.l)(h.ac)),r.__param(3,(0,g.l)(n.Jz)),r.__param(4,(0,g.l)(q.rw)),r.__param(5,(0,g.l)(t.Jc))],a);b.tza=a;},38667:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.W7a=void 0;c=a(68172);l=[c.U.Jib,c.U.wEa,c.U.xEa,c.U.BEa,c.U.tEa,c.U.rEa,c.U.Zba,c.U.Nib,c.U.uEa,c.U.sEa,c.U.zz,c.U.oEa,c.U.qEa,c.U.yEa,c.U.zEa,c.U.AEa,c.U.vEa,c.U.pEa];(function(k){k.Zjb=function(d){var h;for(var g={},m=0;m < d.length;m++){h=d[m];if(g[h.errorCode])return {errorCode:h.errorCode,xa:c.R.cfb};g[h.errorCode]=1;}};k.$jb=function(d){var m;for(var g=0;g < d.length;g++){m=d[g];if(-1 === l.indexOf(m.errorCode))return {errorCode:m.errorCode,xa:c.R.dfb};}};})(f || (f={}));b.W7a=function(k){return new Promise(function(d,g){var m;m=f.$jb(k);m && g(m);(m=f.Zjb(k)) && g(m);d(k.sort(function(h,n){return l.indexOf(h.errorCode) - l.indexOf(n.errorCode);}));});};},58998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jc="ApplicationSymbol";},5266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pw="Base16EncoderSymbol";},31224:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fh="Base64EncoderSymbol";},20642:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YC="BrowserInfoSymbol";},24060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aba="CachedErrorsSymbol";},35664:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gg="ClockSymbol";},69716:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SAa="ClockConfigSymbol";},50746:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iBa="CsvEncoderSymbol";},40781:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OY="DebouncerFactorySymbol";},78616:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xBa="DebugConfigSymbol";b.rw="DebugSymbol";},64168:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.llb=b.vhb=b.yBa=void 0;r=b.yBa || (b.yBa={});r.R$b="PboDebugEvent";r.U$b="PlaygraphEvent";b.vhb={P9b:"Manifest",Event:"Event",C9b:"Logblob"};b.llb={Oac:"UX",e8b:"Combined_1",f8b:"Combined_2"};},56432:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha,ta,Q,O,Z,oa,qa,Ha,Ya,Wa,rb,nb,Fb,Kb,Ta,$a,ib,mb,pb,Bb,Db,Lb,Pb,Xb;Object.defineProperty(b,"__esModule",{value:!0});b.Bx=void 0;r=a(86700);c=a(63088);l=a(35664);f=a(65428);k=a(24166);d=a(16690);g=a(19791);m=a(10846);h=a(68903);n=a(14600);p=a(53484);q=a(5266);u=a(31224);t=a(89682);w=a(89542);v=a(1265);y=a(29853);x=a(81291);z=a(73653);A=a(52275);B=a(81880);D=a(67330);C=a(10234);F=a(36447);G=a(661);E=a(60196);J=a(91402);M=a(84540);L=a(10787);I=a(58998);P=a(50746);K=a(81454);H=a(47202);N=a(78616);R=a(52632);Y=a(71163);ma=a(69716);ia=a(77300);ja=a(85643);Ca=a(50430);Ba=a(27017);Ka=a(32265);Va=a(43766);db=a(74509);W=a(50876);ha=a(25468);ta=a(82328);Q=a(28933);O=a(65275);Z=a(20916);oa=a(17244);qa=a(811);Ha=a(97636);Ya=a(66602);Wa=a(20642);rb=a(19604);nb=a(47682);Fb=a(62380);Kb=a(92513);Ta=a(14072);$a=a(40781);ib=a(33999);mb=a(99423);pb=a(56138);Bb=a(50743);Db=a(64615);Lb=a(31020);Pb=a(24060);Xb=a(85121);b.Bx=new r.ed(function(Ib){Ib(c.w_).LC(function(){return {};}).da();Ib(c.kD).ll(JSON);Ib(c.yNa).ll(qb);Ib(d.lMa).ll(Math);Ib(c.IFa).ll(W.m_);Ib(c.oda).ll(W.ju);Ib(c.$Ma).ll(W.uD);Ib(c.uBa).ll(Date);Ib(c.NI).ll(W.Be);Ib(c.Kjb).ll(W.Ez);Ib(ma.SAa).to(ia.RAa).da();Ib(I.Jc).to(L.Vya).da();Ib(l.gg).to(n.TAa).da();Ib(f.Ci).to(g.qLa).da();Ib(k.Bw).to(m.JEa).da();Ib(y.Jz).to(C.EKa).da();Ib(d.I_).to(h.MKa).da();Ib(Ya.Gca).to(Bb.FGa).da();Ib(N.rw).to(H.zBa).da();Ib(N.xBa).to(R.wBa).da();Ib(p.lq).to(z.aNa).da();Ib(q.pw).to(A.Raa).da();Ib(u.fh).to(B.Jza).da();Ib(t.jh).to(D.bNa).da();Ib(w.Wf).ll(F.jD);Ib(nb.$O).to(Fb.OCa).da();Ib(v.Gba).to(G.Tj).doa();Ib(v.PY).to(G.Tj).da();Ib(v.LBa).to(G.Tj).da();Ib(v.Kba).to(G.Tj).da();Ib(J.mea).to(M.CD).da();Ib(P.iBa).to(K.hBa).da();Ib(ja.aJ).to(Ca.rea).da();Ib(ja.GP).to(Ca.rea).da();Ib("Factory<LoggerFactory>").rcb(Y.Xa);Ib(Ba.qba).to(Ka.BBa).da();Ib(db.Nz).Vd(function(Ob){return function(Qb){return new Va.uMa(Ob.hb.get(I.Jc),Ob.hb.get(f.Ci),Qb);};});Ib($a.OY).Vd(function(Ob){return function(Qb){return new ib.vBa(Ob.hb.get(f.Ci),Qb);};});Ib(ha.Mda).F3b(ta.Lda);Ib(ha.qlb).Vd(function(Ob){var Qb;Qb=Ob.hb.get(ha.Mda);return function(){return new Qb(!1);};});Ib(ha.rlb).Vd(function(Ob){var Qb;Qb=Ob.hb.get(ha.Mda);return function(){return new Qb(!0);};});Ib(Q.XMa).Vd(function(){return function(Ob){return new O.YMa(Ob);};});Ib(Ha.PP).Vd(function(Ob){return function(Qb,cc,nc){return new Z.RJa(Ob.hb.get(N.rw),Ob.hb.get(oa.ac),Ob.hb.get(qa.tn),Ob.hb.get(Ya.Gca),Qb,cc,nc);};});Ib(x.OHa).Vd(function(){return function(Ob){return new E.PHa(Ob);};});Ib(Wa.YC).to(rb.Yza);Ib(Db.d0).to(Lb.ZMa).da();Ib(Kb.XP).Vd(function(Ob){return function(Qb,cc){return new Ta.FMa(Ob.hb.get(f.Ci),Qb,cc);};});Ib(mb.HCa).to(pb.GCa).da();Ib(Pb.aba).to(Xb.DAa).da();});},99423:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kj="_ANY_";b.HCa="EnricherSymbol";},1265:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gba="EventSourceSymbol";b.Kba="GlobalEventSourceSymbol";b.PY="DebugEventSourceSymbol";b.LBa="DiagnosticsEventSourceSymbol";},47682:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$O="EventSourceFactorySymbol";},24166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bw="IdProviderSymbol";},89542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wf="IsTypeSymbol";},50364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Az=void 0;r=b.Az || (b.Az={});r[r.Q7b=8]="Backspace";r[r.Iac=9]="Tab";r[r.R8b=13]="Enter";r[r.Bac=16]="Shift";r[r.k8b=17]="Ctrl";r[r.v7b=18]="Alt";r[r.Q$b=19]="PauseBreak";r[r.b8b=20]="CapsLock";r[r.T8b=27]="Escape";r[r.Dac=32]="Space";r[r.P$b=33]="PageUp";r[r.O$b=34]="PageDown";r[r.Q8b=35]="End";r[r.u9b=36]="Home";r[r.A9b=37]="LeftArrow";r[r.Qac=38]="UpArrow";r[r.Z$b=39]="RightArrow";r[r.y8b=40]="DownArrow";r[r.x9b=45]="Insert";r[r.w8b=46]="Delete";r[r.Zac=48]="Zero";r[r.F$b=49]="One";r[r.Lac=50]="Two";r[r.Jac=51]="Three";r[r.p9b=52]="Four";r[r.n9b=53]="Five";r[r.Cac=54]="Six";r[r.Aac=55]="Seven";r[r.P8b=56]="Eight";r[r.q$b=57]="Nine";r[r.n7b=65]="A";r[r.Maa=66]="B";r[r.W7b=67]="C";r[r.Hgb=68]="D";r[r.E=69]="E";r[r.U8b=70]="F";r[r.Jba=71]="G";r[r.s9b=72]="H";r[r.v9b=73]="I";r[r.y9b=74]="J";r[r.eca=75]="K";r[r.gjb=76]="L";r[r.wca=77]="M";r[r.T9b=78]="N";r[r.C$b=79]="O";r[r.H$b=80]="P";r[r.Q=81]="Q";r[r.W$b=82]="R";r[r.Dlb=83]="S";r[r.kmb=84]="T";r[r.Mac=85]="U";r[r.Rac=86]="V";r[r.Tac=87]="W";r[r.Vac=88]="X";r[r.Xac=89]="Y";r[r.Yac=90]="Z";r[r.B9b=91]="LeftWindowKey";r[r.$$b=92]="RightWindowKey";r[r.yac=93]="SelectKey";r[r.s$b=96]="Numpad0";r[r.t$b=97]="Numpad1";r[r.u$b=98]="Numpad2";r[r.v$b=99]="Numpad3";r[r.w$b=100]="Numpad4";r[r.x$b=101]="Numpad5";r[r.y$b=102]="Numpad6";r[r.z$b=103]="Numpad7";r[r.A$b=104]="Numpad8";r[r.B$b=105]="Numpad9";r[r.S9b=106]="Multiply";r[r.u7b=107]="Add";r[r.Eac=109]="Subtract";r[r.v8b=110]="DecimalPoint";r[r.x8b=111]="Divide";r[r.V8b=112]="F1";r[r.Z8b=113]="F2";r[r.$8b=114]="F3";r[r.a9b=115]="F4";r[r.b9b=116]="F5";r[r.c9b=117]="F6";r[r.d9b=118]="F7";r[r.e9b=119]="F8";r[r.f9b=120]="F9";r[r.W8b=121]="F10";r[r.X8b=122]="F11";r[r.Y8b=123]="F12";r[r.r$b=144]="NumLock";r[r.wac=145]="ScrollLock";r[r.zac=186]="SemiColon";r[r.S8b=187]="Equals";r[r.g8b=188]="Comma";r[r.u8b=189]="Dash";r[r.S$b=190]="Period";r[r.o9b=191]="ForwardSlash";r[r.Kac=192]="Tilde";r[r.G$b=219]="OpenBracket";r[r.P7b=220]="BackSlash";r[r.d8b=221]="CloseBracket";r[r.V$b=222]="Quote";},81291:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OHa="OneWayCounterFactorySymbol";},27017:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qba="DecoderTimeoutPathologistSymbol";},811:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tn="PlatformSymbol";b.x_="PlatformMutableSymbol";},63088:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yNa="WindowTimersSymbol";b.kD="JSONSymbol";b.$Ma="UserAgentSymbol";b.NI="NavigatorSymbol";b.Kjb="MediaSourceSymbol";b.IFa="LocationSymbol";b.uBa="DateSymbol";b.oda="PerformanceSymbol";b.w_="PlatformExtraInfoSymbol";},97636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PP="PlayerErrorFactorySymbol";},25468:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mda="PrioritizedSetOfListsSymbol";b.qlb="PrioritizedSetOfListsFactorySymbol";b.rlb="PrioritizedSetOfSetsFactorySymbol";},29853:function(r,b){function a(c){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Jz=b.jq=void 0;ea(a,Error);b.jq=a;b.Jz="PromiseTimerSymbol";},16690:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lMa="SystemRandomSymbol";b.I_="RandomGeneratorSymbol";},65428:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ci="SchedulerSymbol";},91402:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mea="StringUtilsSymbol";},36437:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nea=void 0;l=a(50876);c.h_a=function(){var f;f=l.ku && l.ku.height;return f?1080 <= f?1080:720:720;};b.nea=c;},74509:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nz="ThrottleFactorySymbol";},92513:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XP="TimeoutMonitorFactorySymbol";},85643:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aJ="TimingApiSymbol";b.GP="MilestoneTimingApiSymbol";},28933:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XMa="UrlFactorySymbol";},53484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lq="Utf8EncoderSymbol";},89682:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jh="UtilitiesSymbol";},12813:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bJa="PboPlaydataValidatorSymbol";b.TIa="PboPlaydataArrayValidatorSymbol";b.VIa="PboPlaydataCollectionValidatorSymbol";},3971:function(r,b){var c,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.om=b.Na=b.jj=void 0;(function(f){f[f.pm=0]="STANDARD";f[f.pn=1]="LIMITED";f[f.J$b=2]="PREVIEW";})(c || (c={}));(function(f){f[f.HAVE_NOTHING=0]="HAVE_NOTHING";f[f.HAVE_METADATA=1]="HAVE_METADATA";f[f.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";f[f.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";f[f.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(f){f.ifb="asl_start";f.gfb="asl_comp";f.t7b="asl_exc";f.hfb="asl_fail";f.Ulb="stf_creat";f.zib="idb_open";f.wib="idb_block";f.Gib="idb_upgr";f.Fib="idb_succ";f.xib="idb_error";f.yib="idb_invalid_state";f.Bib="idb_open_timeout";f.Dib="idb_open_wrkarnd";f.Eib="idb_storelen_exc";f.Aib="idb_open_exc";f.Cib="idb_timeout_invalid_storelen";f.Cjb="msl_load_data";f.Ejb="msl_load_no_data";f.Djb="msl_load_failed";})(r=b.jj || (b.jj={}));(function(f){f.ada="PlaybackRequestStart";f.$ca="PlaybackRequestEnd";f.G_="RequestPrefetchManifestStart";f.F_="RequestPrefetchManifestEnd";f.E_="RequestManifestStart";f.D_="RequestManifestEnd";f.C_="RequestLicenseStart";f.B_="RequestLicenseEnd";f.PO="RequestTimedTextUrlStart";f.OO="RequestTimedTextUrlEnd";f.NO="RequestAudioUrlStart";f.MO="RequestAudioUrlEnd";f.RO="RequestVideoUrlStart";f.QO="RequestVideoUrlEnd";f.maa="AppendBufferStart";f.laa="AppendBufferEnd";f.Xda="SetMediaKeysStart";f.Wda="SetMediaKeysEnd";f.bZ="GenerateChallengeStart";f.aZ="GenerateChallengeEnd";f.dY="ApplyLicenseStart";f.cY="ApplyLicenseEnd";})(b.Na || (b.Na={}));b.om=a;a.ica=c;a.hUa=function(f){return ["STANDARD","LIMITED","PREVIEW"][f];};a.jj=r;a.fP=l;},68172:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.zw=b.MCa=b.LCa=b.Eba=b.KCa=b.YY=b.i_=b.XZ=b.JCa=b.R=b.U=void 0;(function(l){l[l.Go=7001]="UNKNOWN";l[l.VMa=7002]="UNHANDLED_EXCEPTION";l[l.Jib=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.lib=7004]="HLS_NOT_SUPPORTED";l[l.Yba=7010]="INIT_ASYNCCOMPONENT";l[l.Nib=7011]="INIT_HTTP";l[l.Hib=7014]="INIT_BADMOVIEID";l[l.DEa=7020]="INIT_PLAYBACK_LOCK";l[l.EEa=7022]="INIT_SESSION_LOCK";l[l.Oib=7029]="INIT_POSTAUTHORIZE";l[l.CEa=7031]="INIT_HEADER_MEDIA";l[l.Pib=7034]="INIT_TIMEDTEXT_TRACK";l[l.afb=7037]="ASE_SESSION_ERROR";l[l.$eb=7038]="ASE_SEEK_THREW";l[l.bfb=7039]="ASE_SKIPPED_THREW";l[l.Kib=7041]="INIT_CORE_OBJECTS1";l[l.Lib=7042]="INIT_CORE_OBJECTS2";l[l.Mib=7043]="INIT_CORE_OBJECTS3";l[l.wEa=7053]="INIT_COMPONENT_STORAGE";l[l.xEa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.tEa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.Zba=7059]="INIT_COMPONENT_DEVICE";l[l.uEa=7063]="INIT_COMPONENT_MSL";l[l.sEa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.zz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.BEa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.rEa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.pEa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.oEa=7089]="INIT_COMPONENT_ASE";l[l.EI=7091]="INIT_COMPONENT_DRM_CACHE";l[l.Iib=7092]="INIT_COMPONENT_DRM";l[l.qEa=7094]="INIT_COMPONENT_FTL";l[l.vEa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.yEa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.zEa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.AEa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.pD=7111]="MANIFEST";l[l.ojb=7114]="MANIFEST_MISTMATCH";l[l.cGa=7117]="MANIFEST_VERIFY";l[l.Slb=7120]="START";l[l.GI=7121]="LICENSE";l[l.Qda=7122]="RELEASE";l[l.Tlb=7123]="STOP";l[l.fca=7125]="KEEPALIVE";l[l.Hkb=7131]="PING";l[l.Vhb=7134]="ENGAGE";l[l.kjb=7137]="LOGBLOB";l[l.I$b=7138]="PAUSE";l[l.Y$b=7139]="RESUME";l[l.iLa=7140]="SPLICE";l[l.Cfb=7142]="BIND";l[l.Dfb=7144]="BIND_DEVICE";l[l.hib=7145]="GENERATE_SCREENSHOTS";l[l.bya=7146]="AD_EVENT";l[l.Lkb=7202]="PLAY_INIT_EXCEPTION";l[l.bda=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.Rkb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.cIa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.Skb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.cda=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.Qkb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.gIa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.bIa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.dda=7355]="PLAY_MSE_SOURCEADD";l[l.aIa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.MP=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.fIa=7361]="PLAY_MSE_EVENT_ERROR";l[l.QI=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.iq=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.Ukb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.Vkb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.Wkb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.Xkb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.alb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.$kb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.Zkb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.Ykb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.hIa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.Mkb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.Nkb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.Okb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.dIa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.Tkb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.eIa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.Pkb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.t_=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.vCa=7400]="EXTERNAL";l[l.s_=7500]="PAUSE_TIMEOUT";l[l.ZZ=7502]="INACTIVITY_TIMEOUT";l[l.kfb=7510]="AUTHORIZATION_EXPIRED";l[l.Nhb=7700]="EME_INVALID_KEYSYSTEM";l[l.iCa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.YO=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.WY=7703]="EME_GENERATEREQUEST_FAILED";l[l.pCa=7704]="EME_UPDATE_FAILED";l[l.nCa=7705]="EME_KEYSESSION_ERROR";l[l.mCa=7706]="EME_KEYMESSAGE_EMPTY";l[l.Rhb=7707]="EME_REMOVE_FAILED";l[l.Phb=7708]="EME_LOAD_FAILED";l[l.Jhb=7709]="EME_CREATE_SESSION_FAILED";l[l.yba=7710]="EME_LDL_RENEWAL_ERROR";l[l.kCa=7711]="EME_INVALID_INITDATA_DATA";l[l.lCa=7712]="EME_INVALID_LICENSE_DATA";l[l.Ohb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.hCa=7716]="EME_CLOSE_FAILED";l[l.zba=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.Thb=7718]="EME_SET_SERVER_CERTIFICATE";l[l.Ikb=7800]="PLAYDATA_STORE_FAILURE";l[l.HO=7900]="BRANCH_PLAY_FAILURE";l[l.IO=7901]="BRANCH_QUEUE_FAILURE";l[l.Fza=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.Kfb=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.skb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.U || (b.U={}));(function(l){l[l.Go=1001]="UNKNOWN";l[l.ol=1003]="EXCEPTION";l[l.Sib=1004]="INVALID_DI";l[l.efb=1011]="ASYNCLOAD_EXCEPTION";l[l.ffb=1013]="ASYNCLOAD_TIMEOUT";l[l.s7b=1015]="ASYNCLOAD_BADCONFIG";l[l.cfb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.dfb=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.kP=1101]="HTTP_UNKNOWN";l[l.Wba=1102]="HTTP_XHR";l[l.hP=1103]="HTTP_PROTOCOL";l[l.gP=1104]="HTTP_OFFLINE";l[l.jP=1105]="HTTP_TIMEOUT";l[l.hD=1106]="HTTP_READTIMEOUT";l[l.gD=1107]="HTTP_ABORT";l[l.ODa=1108]="HTTP_PARSE";l[l.KDa=1110]="HTTP_BAD_URL";l[l.iP=1111]="HTTP_PROXY";l[l.Cca=1203]="MSE_AUDIO";l[l.Dca=1204]="MSE_VIDEO";l[l.xjb=1250]="MSE_MEDIA_ERR_BASE";l[l.I9b=1251]="MSE_MEDIA_ERR_ABORTED";l[l.L9b=1252]="MSE_MEDIA_ERR_NETWORK";l[l.J9b=1253]="MSE_MEDIA_ERR_DECODE";l[l.M9b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.K9b=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.Ir=1260]="EME_MEDIA_KEYERR_BASE";l[l.H8b=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.C8b=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.G8b=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.F8b=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.E8b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.D8b=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.I8b=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.Mhb=1270]="EME_INTERNAL_ERROR";l[l.Ihb=1271]="EME_CLOSED_BY_APPLICATION";l[l.Qhb=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.xba=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.Shb=1274]="EME_RESOURCE_EVICTED";l[l.Lhb=1280]="EME_ERROR_NODRMSESSSION";l[l.Khb=1281]="EME_ERROR_NODRMREQUESTS";l[l.z8b=1282]="EME_ERROR_INDIV_FAILED";l[l.A8b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.Uhb=1284]="EME_TIMEOUT_MESSAGE";l[l.J8b=1285]="EME_TIMEOUT_KEYCHANGE";l[l.oCa=1286]="EME_UNDEFINED_DATA";l[l.yI=1287]="EME_INVALID_STATE";l[l.B8b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.jCa=1289]="EME_EMPTY_DATA";l[l.ZO=1290]="EME_TIMEOUT";l[l.a$b=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.d$b=1305]="NCCP_PARSEXML";l[l.dlb=1309]="PROCESS_EXCEPTION";l[l.c$b=1311]="NCCP_NETFLIXID_MISSING";l[l.e$b=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.Y9b=1313]="NCCP_HMAC_MISSING";l[l.X9b=1315]="NCCP_HMAC_MISMATCH";l[l.W9b=1317]="NCCP_HMAC_FAILED";l[l.V9b=1321]="NCCP_CLIENTTIME_MISSING";l[l.U9b=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.fDa=1331]="GENERIC";l[l.Ojb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.Pjb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.f$b=1341]="NCCP_TRANSACTION";l[l.Z9b=1343]="NCCP_INVALID_DRMTYPE";l[l.$9b=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.b$b=1345]="NCCP_MISSING_PAYLOAD";l[l.N$b=1346]="PROTOCOL_NOT_INITIALIZED";l[l.M$b=1347]="PROTOCOL_MISSING_FIELD";l[l.L$b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.Ow=1402]="STORAGE_NODATA";l[l.gac=1403]="STORAGE_EXCEPTION";l[l.oac=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.pac=1407]="STORAGE_QUOTA_TO_SMALL";l[l.lLa=1411]="STORAGE_LOAD_ERROR";l[l.Vlb=1412]="STORAGE_LOAD_TIMEOUT";l[l.mLa=1414]="STORAGE_SAVE_ERROR";l[l.Ylb=1415]="STORAGE_SAVE_TIMEOUT";l[l.$da=1417]="STORAGE_DELETE_ERROR";l[l.kLa=1418]="STORAGE_DELETE_TIMEOUT";l[l.nac=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.kac=1423]="STORAGE_FS_GETDIRECTORY";l[l.mac=1425]="STORAGE_FS_READENTRIES";l[l.hac=1427]="STORAGE_FS_FILEREAD";l[l.jac=1429]="STORAGE_FS_FILEWRITE";l[l.iac=1431]="STORAGE_FS_FILEREMOVE";l[l.lac=1432]="STORAGE_FS_PARSEJSON";l[l.Xlb=1451]="STORAGE_NO_LOCALSTORAGE";l[l.Wlb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.p$b=1501]="NTBA_UNKNOWN";l[l.o$b=1502]="NTBA_EXCEPTION";l[l.k$b=1504]="NTBA_CRYPTO_KEY";l[l.m$b=1506]="NTBA_CRYPTO_OPERATION";l[l.l$b=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.n$b=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.nBa=1553]="DEVICE_NO_ESN";l[l.Rgb=1555]="DEVICE_ERROR_GETTING_ESN";l[l.k9b=1701]="FORMAT_UNKNOWN";l[l.cib=1713]="FORMAT_XML";l[l.l9b=1715]="FORMAT_XML_CONTENT";l[l.i9b=1721]="FORMAT_BASE64";l[l.j9b=1723]="FORMAT_DFXP";l[l.uib=1801]="INDEXDB_OPEN_EXCEPTION";l[l.mEa=1802]="INDEXDB_NOT_SUPPORTED";l[l.tib=1803]="INDEXDB_OPEN_ERROR";l[l.nEa=1804]="INDEXDB_OPEN_NULL";l[l.sib=1805]="INDEXDB_OPEN_BLOCKED";l[l.vib=1807]="INDEXDB_OPEN_TIMEOUT";l[l.rib=1808]="INDEXDB_INVALID_STORE_STATE";l[l.$Z=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.Hjb=1901]="MSL_UNKNOWN";l[l.Ajb=1911]="MSL_INIT_NO_MSL";l[l.jGa=1913]="MSL_INIT_ERROR";l[l.Bjb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.yjb=1931]="MSL_ERROR";l[l.Gjb=1933]="MSL_REQUEST_TIMEOUT";l[l.Fjb=1934]="MSL_READ_TIMEOUT";l[l.zjb=1935]="MSL_ERROR_HEADER";l[l.N9b=1936]="MSL_ERROR_ENVELOPE";l[l.O9b=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.iGa=1957]="MSL_ERROR_REAUTH";l[l.Aea=2103]="WEBCRYPTO_MISSING";l[l.Uac=2105]="WEBCRYPTOKEYS_MISSING";l[l.umb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.X7b=2200]="CACHEDDATA_PARSEJSON";l[l.hAa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.Y7b=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.vz=2203]="CACHEDDATA_INVALID_FORMAT";l[l.p7b=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.q7b=3001]="ACCOUNT_INVALID";l[l.t8b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.s8b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.q8b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.r8b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.p8b=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.qac=3300]="STORAGE_VA_LOAD_ERROR";l[l.rac=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.uac=3302]="STORAGE_VA_SAVE_ERROR";l[l.vac=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.sac=3304]="STORAGE_VA_REMOVE_ERROR";l[l.tac=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.Zca=3077]="PBO_DEVICE_EOL_WARNING";l[l.THa=3078]="PBO_DEVICE_EOL_FINAL";l[l.WHa=3100]="PBO_DEVICE_RESET";l[l.VHa=3101]="PBO_DEVICE_RELOAD";l[l.UHa=3102]="PBO_DEVICE_EXIT";l[l.Fkb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.ikb=5005]="PBO_ACCOUNT_ON_HOLD";l[l.rkb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.XHa=5007]="PBO_INCORRECT_PIN";l[l.Ckb=5008]="PBO_MOBILE_ONLY";l[l.Gkb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.jkb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.mkb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.kkb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.lkb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.nkb=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.zkb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.ykb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.wkb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.pkb=5059]="PBO_BLACKLISTED_IP";l[l.okb=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.qkb=5080]="PBO_CHOICE_MAP_ERROR";l[l.Dkb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.Akb=5091]="PBO_MALFORMED_REQUEST";l[l.xkb=5092]="PBO_INVALID_SERVICE_VERSION";l[l.Bkb=5093]="PBO_MDX_INVALID_CTICKET";l[l.vkb=5094]="PBO_FREE_PREVIEW_ENDED";l[l.Ekb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.ukb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.tkb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.Mgb=5100]="DECODER_TIMEOUT_BUFFERING";l[l.Ogb=5101]="DECODER_TIMEOUT_PRESENTING";l[l.Ngb=5102]="DECODER_TIMEOUT_PLAYING";l[l.rhb=5200]="DOWNLOADER_IO_ERROR";l[l.Eza=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.Gfb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.C7b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.Qaa=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.y7b=5304]="BRANCHING_ASE_FAILURE";l[l.z7b=5305]="BRANCHING_MOMENT_FAILURE";l[l.Efb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.B7b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.Hfb=5308]="BRANCHING_SEEK_THREW";l[l.A7b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.Ffb=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.Ifb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.Jfb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.Zlb=5500]="STUDIO_MUXED_MANIFEST";l[l.yca=5600]="MANIFEST_HYDRATION_FAILURE";l[l.mfb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.nfb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";l[l.lfb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(c=b.R || (b.R={}));(function(l){l[l.N7b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.D7b=5005]="BR_ACCOUNT_ON_HOLD";l[l.H7b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.K7b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.G7b=5059]="BR_BLACKLISTED_IP";l[l.E7b=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.L7b=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.I7b=2205]="BR_DRM_LICENSE_AQUISITION";l[l.M7b=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.J7b=2207]="BR_ENDPOINT_ERROR";l[l.F7b=2208]="BR_AUTHORIZATION_ERROR";})(b.JCa || (b.JCa={}));b.XZ={Rfb:"400",Pac:"401",pIa:"413"};b.i_={g9b:1,Hac:2,M8b:3,Nac:4,z9b:5,L8b:6,vea:7,O8b:8,X$b:9,dac:10};b.YY=function(l,f,k,d){return l == a.s_ || l == a.ZZ || l == a.bda && 432E5 <= k || l == a.zba && f === c.xba && 0 < Number(d);};b.KCa=function(l){return 1100 <= l && 1199 >= l;};b.Eba=function(l,f){return 1 <= l && 9 >= l?f + l:f;};b.LCa=function(l){return (0,b.Eba)(l,c.xjb);};b.MCa=function(l){return (0,b.Eba)(l,c.Ir);};b.zw=function(l){var f,k,d;f={};k=l.errorExternalCode || l.Ee;d=l.errorDetails || l.Kb;f.ErrorSubCode=l.errorSubCode || l.xa || c.Go;k && (f.ErrorExternalCode=k);d && (f.ErrorDetails=d);return f;};},10787:function(r,b,a){var l,f,k,d;function c(g,m){this.qa=g;this.t4=this.qa.fe.ba(k.na) - 1;this.nPb=this.s6=0;this.id="" + m.IA();}Object.defineProperty(b,"__esModule",{value:!0});b.Vya=void 0;r=a(70655);l=a(86700);f=a(35664);k=a(2467);a=a(24166);c.prototype.Fb=function(){var g,m;g=this.qa.fe.ba(k.na) - this.t4;if(g < this.s6){m=this.s6 + 1;this.t4-=m - g;g=m;}this.s6=g;return (0,k.Hb)(this.s6);};c.prototype.gIb=function(){return this.nPb++;};Xa.Object.defineProperties(c.prototype,{my:{configurable:!0,enumerable:!0,get:function(){return (0,k.Hb)(this.t4);}}});d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.gg)),r.__param(1,(0,l.l)(a.Bw))],d);b.Vya=d;},52275:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Raa=void 0;r=a(70655);a=a(86700);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(k){for(var d=new Uint8Array(k.length / 2),g=0;g < d.length;g++){d[g]=this.vcb(k.substr(2 * g,2));}return d;};c.prototype.encode=function(k){var h;for(var d="",g=k.length,m=0;m < g;m++){h=k[m];d+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return d;};c.prototype.wF=function(k,d){var g;g="";for(d<<=1;d--;){g=(("0123456789ABCDEF")[k & 15] || "0") + g;k>>>=4;}return g;};c.prototype.vcb=function(k){var d;d=k.length;if(7 < d)throw Error("hex to long");for(var g=0,m=0;m < d;m++){g=16 * g + l[k[m]];}return g;};f=c;f=r.__decorate([(0,a.T)()],f);b.Raa=f;},81880:function(r,b,a){var l,f,k,d,g,m,h,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Jza=void 0;r=a(70655);a=a(86700);f=Array.prototype.slice;k=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");f=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};m={};h={};n=/\s+/g;[k,f].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;g[u]=q << 12;m[u]=q << 6;h[u]=q;}});c.prototype.encode=function(p){return l.Gka(p,k,"=");};c.prototype.decode=function(p){return l.Sja(p);};c.Sja=function(p){var q,u,t;p=p.replace(n,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var w=0,v=0,y;v < u;){y=d[p[w++]] + g[p[w++]] + m[p[w++]] + h[p[w++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[v++]=y >>> 16;q[v++]=y >>> 8 & 255;q[v++]=y & 255;}if(0 < t && (y=d[p[w++]] + g[p[w++]],q[v++]=y >>> 16,1 < t && (y+=m[p[w++]],q[v++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.Gka=function(p,q,u){for(var t="",w=0,v=p.length,y=v - 2,x;w < y;){x=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(w == y){x=(p[w++] << 8) + p[w++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + u;}else if(w == v - 1){x=p[w++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + u + u;}return t;};f=l=c;f=l=r.__decorate([(0,a.T)()],f);b.Jza=f;},19604:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){this.userAgentData=p;this.od=this.aEb(h,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.fNa=b.Yza=void 0;r=a(70655);l=a(86700);f=a(17244);k=a(59578);d=a(63088);a=a(64615);c.prototype.f5=function(h,n){var p;if(n=this.ZJb(n))switch(h){case m.ry:p=0 < n.length?Number(n[0]):0;break;case m.kM:p=1 < n.length?Number(n[1]):0;break;case m.DM:p=2 < n.length?Number(n[2]):0;break;case m.o9:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.ZJb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.bG=function(h){return this.od.name === h;};c.prototype.dG=function(h){return this.od.g8.name === h;};c.prototype.YMb=function(h){return this.od.CKb === h;};c.prototype.aEb=function(h,n){return Object.assign(Object.assign({CKb:this.cEb(h,n)},this.$Db(h,n)),{g8:this.dEb(h,n)});};c.prototype.cEb=function(h,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(h)?f.WZ.phone:(/Android/).test(h)?f.WZ.T2b:f.WZ.Cwb;};c.prototype.$Db=function(h,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(h)?{name:f.mm.opera,version:""}:(/Tesla/).test(h)?{name:f.mm.Wbb,version:""}:(n=h.match(/Edge\/(\d*)\./))?{name:f.mm.kp,version:n[1]}:(n=h.match(/Edg\/(\d*)\./))?{name:f.mm.iWa,version:n[1]}:(n=h.match(/Chrome\/(\d*)\./))?{name:f.mm.Jia,version:n[1]}:(n=h.match(/Firefox\/(\d*)\./))?{name:f.mm.LXa,version:n[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:f.mm.$9a,version:h[1]}:{name:f.mm.Jia,version:""};};c.prototype.dEb=function(h,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(h)?{name:f.rn.eTa,version:""}:(n=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:f.rn.I3a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(h)?{name:f.rn.Wxa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:f.rn.gha,version:""}:(/Linux/).test(h)?{name:f.rn.g3a,version:""}:(/iPhone/).test(h)?{name:f.rn.w1a,version:""}:{name:f.rn.Wxa,version:""};};Xa.Object.defineProperties(c.prototype,{G1a:{configurable:!0,enumerable:!0,get:function(){return this.bG(f.mm.Jia);}},cU:{configurable:!0,enumerable:!0,get:function(){return this.bG(f.mm.kp);}},hy:{configurable:!0,enumerable:!0,get:function(){return this.bG(f.mm.iWa);}},X5:{configurable:!0,enumerable:!0,get:function(){return this.bG(f.mm.LXa);}},Qoa:{configurable:!0,enumerable:!0,get:function(){return this.bG(f.mm.opera);}},hU:{configurable:!0,enumerable:!0,get:function(){return this.bG(f.mm.$9a);}},d2a:{configurable:!0,enumerable:!0,get:function(){return this.bG(f.mm.Wbb);}},ZT:{configurable:!0,enumerable:!0,get:function(){return this.dG(f.rn.gha);}},KL:{configurable:!0,enumerable:!0,get:function(){return this.dG(f.rn.w1a);}},R5:{configurable:!0,enumerable:!0,get:function(){return this.dG(f.rn.gha) && this.YMb(f.WZ.phone);}},aU:{configurable:!0,enumerable:!0,get:function(){return this.dG(f.rn.eTa);}},dNb:{configurable:!0,enumerable:!0,get:function(){return this.dG(f.rn.g3a);}},DB:{configurable:!0,enumerable:!0,get:function(){return this.dG(f.rn.I3a);}},iy:{configurable:!0,enumerable:!0,get:function(){return this.dG(f.rn.Wxa);}},Cm:{configurable:!0,enumerable:!0,get:function(){return this.f5(m.ry,this.od.version);}},STb:{configurable:!0,enumerable:!0,get:function(){return this.f5(m.ry,this.od.g8.version);}},TTb:{configurable:!0,enumerable:!0,get:function(){return this.f5(m.kM,this.od.g8.version);}},UTb:{configurable:!0,enumerable:!0,get:function(){return this.f5(m.DM,this.od.g8.version);}}});g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.$Ma)),r.__param(1,(0,l.l)(k.mP)),r.__param(2,(0,l.l)(a.d0))],g);b.Yza=g;(function(h){h[h.ry=0]="major";h[h.kM=1]="minor";h[h.DM=2]="patch";h[h.o9=3]="revision";})(m=b.fNa || (b.fNa={}));},85121:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t;function c(w,v,y,x,z,A){this.fl=w;this.config=y;this.mo=x;this.qa=z;this.is=A;this.log=v.Ua("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.DAa=b.$aa=void 0;r=a(70655);f=a(86700);k=a(68172);d=a(71163);g=a(2467);m=a(7336);h=a(17244);n=a(29853);p=a(35664);q=a(89542);u=a(13329);t=a(85060);b.$aa="errors";c.prototype.load=function(){var w,v;w=this;if(!this.config().tWa)return Promise.resolve([]);v=(0,g.Hb)(this.config().uub);return this.mo.Pp(v,this.k3a([])).catch(function(y){w.log.error("Load failed.",y);return [];});};c.prototype.add=function(w,v,y,x,z){var A;A=this;return this.config().tWa && v && y && (v === u.$a.sda || v === u.$a.dQ + "." + t.Jr)?this.k3a([{time:w,keySystem:v,code:y,ic:x,Tc:z}]).then(function(){}).catch(function(B){A.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.$Ob=function(){var w;w=this;return this.fl.create().then(function(v){return v.load(b.$aa).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.xa === k.R.Ow)return (w.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.NFb=function(w){return {time:(0,g.xh)(w[0]),keySystem:w[1],code:w[2],ic:w[3],Tc:w[4]};};c.D3b=function(w){return [w.time.ba(g.rm),w.keySystem,w.code,w.ic,w.Tc];};c.prototype.MZb=function(w){var v;v={version:1,errors:w.map(l.D3b)};return this.fl.create().then(function(y){return y.save(b.$aa,v,!1);}).then(function(){return w;});};c.prototype.zEb=function(w){var v,y;v=(0,g.xh)(this.config().tub);y=this.qa.fe.wa(v);return w.filter(function(x){return x.time.wa(y).Z1a();});};c.prototype.Q5b=function(w){return w.filter(this.JMb.bind(this)).map(this.NFb);};c.prototype.JMb=function(w){return this.is.ak(w[0]) && this.is.Xo(w[1]) && this.is.ak(w[2]) && (this.is.ak(w[3]) || void 0 === w[3]) && (this.is.Xo(w[4]) || void 0 === w[4])?!0:!1;};c.prototype.uEb=function(w){var v;v=this;return w.filter(function(y){return v.config().DDb.includes(y.code);});};c.prototype.vEb=function(w){return w.slice(-this.config().qub);};c.prototype.k3a=function(w){var v;v=this;return this.$Ob().then(function(y){return v.Q5b(y);}).then(function(y){return v.zEb(y);}).then(function(y){return y.concat(w);}).then(function(y){return v.uEb(y);}).then(function(y){return v.vEb(y);}).then(function(y){return v.MZb(y);});};a=l=c;a=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.nw)),r.__param(1,(0,f.l)(d.Xa)),r.__param(2,(0,f.l)(h.ac)),r.__param(3,(0,f.l)(n.Jz)),r.__param(4,(0,f.l)(p.gg)),r.__param(5,(0,f.l)(q.Wf))],a);b.DAa=a;},56003:function(r,b,a){var l;function c(f,k,d,g,m,h,n,p,q,u,t,w){this.code=void 0 === f?l.U.Go:f;this.ic=k;this.Tc=d;this.Om=g;this.xy=m;this.message=h;this.details=n;this.data=p;this.wj=q;this.dVb=u;this.alert=t;this.aha=w;this.ha=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=void 0;l=a(68172);c.ve=function(f){var k,d,g;if(f){k=f.stack;d=f.number;g=f.message;g || (g="" + f);k?(f="" + k,0 !== f.indexOf(g) && (f=g + "\n" + f)):f=g;d && (f+="\nnumber:" + d);return f;}return "";};c.prototype.kS=function(f){this.details=c.ve(f);this.data=f;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.ic,extCode:this.Tc,edgeCode:this.Om,mslCode:this.xy,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.wj,playbackServiceError:this.dVb};};c.Ula=function(f,k){return new c(f,l.R.ol,void 0,void 0,void 0,void 0,k.message,k.stack);};c.Ceb=function(f,k){return new c(f,k,void 0,void 0,void 0,void 0,void 0,void 0);};c.H6b=function(f,k,d){return new c(f,k,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Mc=c;},77300:function(r,b,a){var l,f,k,d;function c(g){return f.JO.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;r=a(70655);l=a(54662);f=a(90187);k=a(86700);a=a(59578);ea(c,f.JO);Xa.Object.defineProperties(c.prototype,{Odb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.bd,"usePerformanceApi")],d.prototype,"Odb",null);d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.cba))],d);b.RAa=d;},14600:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u){var t;t=this;this.config=n;this.$zb=p;this.Eb=q;this.performance=u;this.zTb=function(w){t.ova=w.wa(t.fe);};(0,l.ao)(this,"date");(0,l.ao)(this,"performance");this.Orb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.ova=f.Ia;this.Eb.addListener(h.cca.D$a,this.zTb);}Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;r=a(70655);l=a(60920);f=a(2467);k=a(86700);d=a(63088);g=a(69716);m=a(1265);h=a(34202);c.prototype.wrb=function(n){return n.add(this.ova);};Xa.Object.defineProperties(c.prototype,{fe:{configurable:!0,enumerable:!0,get:function(){return this.h5a?(0,f.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,f.Hb)(this.$zb.now());}},uH:{configurable:!0,enumerable:!0,get:function(){return this.fe.add(this.ova);}},h5a:{configurable:!0,enumerable:!0,get:function(){return this.config.Odb && this.Orb;}}});a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.SAa)),r.__param(1,(0,k.l)(d.uBa)),r.__param(2,(0,k.l)(m.Kba)),r.__param(3,(0,k.l)(d.oda)),r.__param(3,(0,k.optional)())],a);b.TAa=a;},81454:function(r,b,a){var l,f,k,d;function c(g,m){this.is=g;this.Yd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.hBa=void 0;r=a(70655);f=a(86700);k=a(89542);a=a(89682);c.prototype.encode=function(g){var m,h;m=this;h="";this.Yd.$A(g,function(n,p){n=m.LWa(n) + "=" + m.LWa(p);h=h?h + ("," + n):n;});return h;};c.prototype.LWa=function(g){return this.is.aF(g)?this.is.ak(g)?"" + g:this.is.Xo(g)?(g=g.replace(l.Pta,this.dqa.bind(this)),!l.kXb.test(g) && l.ERb.test(g) && (g='"' + g + '"'),g):this.is.v1(g)?"" + g:this.is.tga(g)?"NaN":"":"";};c.prototype.dqa=function(g){return l.map[g];};d=l=c;d.map={'"':'""',"\r":"","\n":" "};d.Pta=/(?!^.+)["\r\n](?=.+$)/g;d.kXb=/["].*["]/g;d.ERb=/[", ]/;d=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Wf)),r.__param(1,(0,f.l)(a.jh))],d);b.hBa=d;},33999:function(r,b,a){var l,f;function c(k,d){this.wc=k;this.V2=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;r=a(70655);l=a(86700);a=a(65428);c.prototype.Zi=function(k){this.wg();this.$i=this.wc.Lj(this.V2,k);};c.prototype.wg=function(){this.$i && this.$i.cancel();this.$i=void 0;};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Ci))],f);b.vBa=f;},52632:function(r,b,a){var l,f,k,d;function c(g){g=f.JO.call(this,g,"DebugConfigImpl") || this;g.tcc=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.wBa=void 0;r=a(70655);l=a(54662);f=a(90187);k=a(86700);a=a(59578);ea(c,f.JO);Xa.Object.defineProperties(c.prototype,{Ltb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.bd,"breakOnError")],d.prototype,"Ltb",null);d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.cba))],d);b.wBa=d;},47202:function(r,b,a){var l,f,k,d;function c(g,m,h){this.config=g;this.ub=m;this.la=h.Ua("General");}Object.defineProperty(b,"__esModule",{value:!0});b.zBa=void 0;r=a(70655);l=a(86700);f=a(89542);k=a(78616);a=a(71163);c.prototype.assert=function(){};c.prototype.rsb=function(g,m){this.assert(this.ub.aF(g),m);};c.prototype.ssb=function(g,m){this.assert(this.ub.vg(g),m);};c.prototype.Z1=function(g,m){this.assert(this.ub.Xo(g),m);};c.prototype.zsb=function(g,m){this.assert(this.ub.ym(g),m);};c.prototype.xsb=function(g,m){this.assert(this.ub.Xo(g) || null === g || void 0 === g,m);};c.prototype.Y1=function(g,m){this.assert(this.ub.ak(g),m);};c.prototype.usb=function(g,m){this.assert(this.ub.eha(g),m);};c.prototype.ysb=function(g,m){this.assert(this.ub.tR(g),m);};c.prototype.wsb=function(g,m){this.assert(this.ub.dR(g),m);};c.prototype.qsb=function(g,m){this.assert(this.ub.v1(g),m);};c.prototype.tsb=function(g,m){this.assert(this.ub.x1(g),m);};c.prototype.yMb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.xBa)),r.__param(1,(0,l.l)(f.Wf)),r.__param(2,(0,l.l)(a.Xa))],d);b.zBa=d;},32265:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u){this.Ea=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=void 0;r=a(70655);f=a(86700);k=a(58998);d=a(56003);g=a(68172);m=a(34202);h=a(2467);n=a(50876);a=a(83577);c.prototype.HVa=function(q){var u,t,w,v,y,x,z,A,B,D;u=this;v=q.mediaTime.value;y=q.tq.value;x=q.lb.value;z=q.state.value;A={segmentId:q.Vma(),mediaTime:v,segmentTime:q.jB(),bufferingState:l.$tb[y],presentingState:l.kWb[x],playbackState:l.eVb[z],mseBuffersBusy:this.vJb(q),intBuffersBusy:this.PHb(q),tabVisible:this.S2b(),decodedFrameCount:this.wAb(q),videoElementInDom:this.e6b(q),lastVideoSync:this.Ea.Fb().wa((0,h.Hb)(q.gX)).ba(h.na)};B=x === m.cb.Ef?q.Wa.ag?this.config.s6a:this.config.r6a:this.config.$4a;if(y !== m.uf.$d){if((y=g.R.Mgb,this.fSa(A.mseBuffersBusy,A.intBuffersBusy)))D=l.Gza;}else (x !== m.cb.me?y=g.R.Ogb:(y=g.R.Ngb,(x=q.je) && 0 === x.E4() && (D=l.ymb)),(x=q.je) && x.Pb.sourceBuffers.forEach(function(C){var F,G;F=l.bg[C.mediaType];A[F + "Ranges"]=C.w4();try{G=C.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(C=1E3 * G.end(0) - v,A[F + "Undecoded"]=C,1 < G.length && (D=l.Mfb),v < 1E3 * G.start(0) || v > 1E3 * G.end(0)?D=l.Nfb:C < B.ba(h.na)?D=l.Ofb:u.fSa(A.mseBuffersBusy,A.intBuffersBusy) && (D=l.Gza)):(A[F + "Undecoded"]=0,D=l.Lfb);}));x=q.u9a.y_a();z=v === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=q.Za) || void 0 === w?void 0:w.Vwa;Object.assign(A,x);q="";try{q=JSON.stringify(A);}catch(C){q="Cannot stringify details: " + C;}return new d.Mc(g.U.bIa,y,D,void 0,void 0,void 0,q,void 0);};c.prototype.vJb=function(q){var u;if(q.Pb){u={};q.Pb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.PHb=function(q){var u;if(q.Pb){u={};q.Pb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.sh()};});return u;}};c.prototype.S2b=function(){return !n.Og.hidden;};c.prototype.wAb=function(q){return (q=q.je) && (q=q.Pb.$) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.e6b=function(q){if(q=q.je)if(q=q.Pb.$)return n.Og.body.contains(q);return !1;};c.prototype.fSa=function(q,u){var t,w,v,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=u.audio) || void 0 === w?void 0:w.updating) && (null === (v=q.video) || void 0 === v?void 0:v.updating) === (null === (y=u.video) || void 0 === y?void 0:y.updating));};p=l=c;p.Lfb="1";p.Mfb="2";p.Nfb="3";p.Gza="4";p.Ofb="5";p.ymb="6";p.bg=["Audio","Video"];p.$tb=["","NORMAL","BUFFERING","STALLED"];p.kWb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.eVb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Jc)),r.__param(1,(0,f.l)(a.Nca))],p);b.BBa=p;},56138:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.GCa=void 0;r=a(70655);l=a(86700);f=a(99423);c.prototype.OK=function(k,d){var g;g=this;k && Object.entries(d).forEach(function(m){var h,n,p;h=la(m);m=h.next().value;h=h.next().value;if(g.MMb(h)){n=la(h);h=n.next().value;p=n.next().value;n=k[h];Array.isArray(n)?(g.bka(k,m,h),n.forEach(function(q){g.OK(q,p);})):h === f.kj?Object.values(k).forEach(function(q){g.OK(q,p);}):(g.bka(k,m,h),"object" === typeof n && g.OK(n,p));}else g.bka(k,m,h);});};c.prototype.MMb=function(k){return Array.isArray(k);};c.prototype.bka=function(k,d,g){k.hasOwnProperty(d) || d === g || Object.defineProperty(k,d,{get:function(){return k[g];},set:function(m){return k[g]=m;},enumerable:!0});};a=c;a=r.__decorate([(0,l.T)()],a);b.GCa=a;},62380:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$O=b.OCa=void 0;r=a(70655);l=a(661);a=a(86700);c.prototype.create=function(){return new l.Tj();};f=c;f=r.__decorate([(0,a.T)()],f);b.OCa=f;b.$O="EventSourceFactorySymbol";},661:function(r,b,a){var l,f;function c(){this.mp={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Tj=void 0;r=a(70655);a=a(86700);c.prototype.addListener=function(k,d,g){var m,h;m="$netflix$player$order" + this.id + "$" + k;if(this.mp){h=this.mp[k]?this.mp[k].slice():[];g && (d[m]=g);0 > h.indexOf(d) && (h.push(d),h.sort(function(n,p){return (n[m] || 0) - (p[m] || 0);}));this.mp[k]=h;}};c.prototype.removeListener=function(k,d){if(this.mp && this.mp[k]){for(var g=this.mp[k].slice(),m;0 <= (m=g.indexOf(d));){g.splice(m,1);}this.mp[k]=g;}};c.prototype.Dc=function(k,d,g){var m;if(this.mp){m=this.sma(k);for(k={kI:0};k.kI < m.length;(k={kI:k.kI},k.kI++)){g?(function(h){return function(){var n;n=m[h.kI];setTimeout(function(){n(d);},0);};})(k)():m[k.kI].call(this,d);}}};c.prototype.wg=function(){this.mp=void 0;};c.prototype.on=function(k,d,g){this.addListener(k,d,g);};c.prototype.sma=function(k){var d;return null !== (d=this.mp && (this.mp[k] || (this.mp[k]=[]))) && void 0 !== d?d:[];};f=l=c;f.counter=0;f=l=r.__decorate([(0,a.T)()],f);b.Tj=f;},10846:function(r,b,a){var l,f,k,d,g;function c(m,h){this.qa=m;this.random=h;}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;r=a(70655);f=a(86700);k=a(2467);d=a(35664);a=a(16690);c.prototype.IA=function(){return this.qa.fe.ba(k.rm) * l.xAa + Math.floor(this.random.random() * l.xAa);};g=l=c;g.xAa=1E8;g=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.gg)),r.__param(1,(0,f.l)(a.I_))],g);b.JEa=g;},133:function(r,b,a){var l;function c(f,k,d,g,m){this.version=f;this.TG=k;this.nwa=d;this.fl=g;this.Nt=m;this.qk=new l.KEa(f,k,d,g,m);this.Hl=[];}Object.defineProperty(b,"__esModule",{value:!0});b.aca=void 0;l=a(13717);c.prototype.load=function(f){var k;k=this;return this.qk.load(f).then(function(){var d;k.Hl=null !== (d=k.qk.Hl) && void 0 !== d?d:[];});};c.prototype.add=function(f){this.Hl.push(f);return this.qk.set(this.Hl);};c.prototype.remove=function(f,k){f=this.HYa(this.dL(f,k));return 0 <= f?(this.Hl.splice(f,1),this.qk.set(this.Hl)):Promise.resolve();};c.prototype.update=function(f,k){k=this.HYa(this.dL(f,k));return 0 <= k?(this.Hl[k]=f,this.qk.set(this.Hl)):Promise.resolve();};c.prototype.dL=function(f,k){for(var d=0;d < this.Hl.length;++d){if(k(this.Hl[d],f))return this.Hl[d];}};c.prototype.HYa=function(f){return f?this.Hl.indexOf(f):-1;};b.aca=c;},13717:function(r,b,a){var l,f;function c(k,d,g,m,h){this.version=k;this.TG=d;this.nwa=g;this.fl=m;this.Nt=h;}Object.defineProperty(b,"__esModule",{value:!0});b.KEa=void 0;l=a(68172);f=a(56003);c.prototype.load=function(k){return this.ZOb(k);};c.prototype.set=function(k){this.Hl=k;return this.MUb();};c.prototype.ZOb=function(k){var d;d=this;this.o3a || (this.o3a=new Promise(function(g,m){function h(n){d.WAb().then(function(){m(n);}).catch(function(){m(n);});}d.ina().then(function(n){d.storage=n;return d.storage.load(d.TG);}).then(function(n){var p;n=n.value;try{p=k(n);d.version=p.version;d.Hl=p.data;g();}catch(q){h(q);}}).catch(function(n){n.xa !== l.R.Ow?m(n):g();});}));return this.o3a;};c.prototype.MUb=function(){var k,d,g,m,h;k=this;if(!this.nwa)return Promise.resolve();if(this.i$){m=new Promise(function(n,p){d=n;g=p;});h=function(){k.i$=m;k.jbb().then(function(){d();}).catch(function(n){g(n);});};this.i$.then(h).catch(h);return m;}return this.i$=this.jbb();};c.prototype.jbb=function(){var k,d;k=this;d=this.Nt();return new Promise(function(g,m){k.ina().then(function(h){return h.save(k.TG,d,!1);}).then(function(){g();}).catch(function(h){m(c.E3b(l.U.Ikb,h));});});};c.prototype.WAb=function(){var k;k=this;return this.nwa?new Promise(function(d,g){k.ina().then(function(m){return m.remove(k.TG);}).then(function(){d();}).catch(function(m){g(m);});}):Promise.resolve();};c.prototype.ina=function(){return this.storage?Promise.resolve(this.storage):this.fl.create();};c.E3b=function(k,d){var g;if(d.xa && d.cc)return new f.Mc(k,d.xa,void 0,void 0,void 0,void 0,void 0,d.cc);if(void 0 !== d.ic){g=d.message?d.message + " ":"";d.code=k;d.message="" === g?void 0:g;return d;}return d instanceof Error?new f.Mc(k,l.R.ol,void 0,void 0,void 0,void 0,d.stack,d):new f.Mc(k,l.R.Go,void 0,void 0,void 0,void 0,void 0,d);};b.KEa=c;},36447:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.jD=void 0;c=/^\S+$/;a.prototype.aF=function(l){return void 0 !== l;};a.prototype.vg=function(l){return null !== l && void 0 !== l;};a.prototype.sR=function(l){return a.WQa(l);};a.prototype.uga=function(l){return !(!l || !a.WQa(l));};a.prototype.tA=function(l){return Array.isArray(l);};a.prototype.XQa=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.ak=function(l,f,k){return a.$Pa(l,f,k);};a.prototype.tga=function(l){return a.tga(l);};a.prototype.eha=function(l,f,k){return a.N1(l,f,k) && 0 === l % 1;};a.prototype.tR=function(l,f,k){return a.N1(l,f || 0,k);};a.prototype.dR=function(l){return a.N1(l,1);};a.prototype.lqb=function(l){return a.N1(l,0,255);};a.prototype.mqb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.YQa=function(l){return !(!l || !c.test(l));};a.prototype.Xo=function(l){return a.aQa(l);};a.prototype.ym=function(l){return !(!a.aQa(l) || !l);};a.prototype.v1=function(l){return !0 === l || !1 === l;};a.prototype.x1=function(l){return "function" == typeof l;};a.aQa=function(l){return "string" == typeof l;};a.$Pa=function(l,f,k){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === f || l >= f) && (void 0 === k || l <= k);};a.tga=function(l){return "number" == typeof l && isNaN(l);};a.N1=function(l,f,k){return a.$Pa(l,f,k) && 0 === l % 1;};a.WQa=function(l){return "object" == typeof l;};b.jD=new a();},14414:function(r,b,a){var l,f,k;function c(d,g){this.Bu=g?[g]:[];this.wfa="$op$" + k++;this.Oa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Ib=void 0;l=a(7942);f=a(70633);k=0;c.prototype.addListener=function(d,g){var m;m=this;(0,f.Oja)(d);(0,f.oa)(0 > this.Bu.indexOf(d));d[l.r_ + this.wfa]=g;this.Bu=this.Bu.slice();this.Bu.push(d);this.Bu.sort(function(h,n){return m.v1b(h,n);});};c.prototype.removeListener=function(d){var g;(0,f.Oja)(d);this.Bu=this.Bu.slice();0 <= (g=this.Bu.indexOf(d)) && this.Bu.splice(g,1);};c.prototype.set=function(d,g){var m;if(this.Oa !== d){m={oldValue:this.Oa,newValue:d,Hh:g};this.Oa=d;this.gnb=g;d=this.Bu;g=d.length;for(var h=0;h < g;h++){d[h](m);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(m){function h(n){if(d(n.newValue))return (g.removeListener(h),m(n.newValue));}if(d(g.Oa))return m(g.Oa);g.addListener(h);});};c.prototype.v1b=function(d,g){return (d[l.r_ + this.wfa] || 0) - (g[l.r_ + this.wfa] || 0);};Xa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Oa;}},Hh:{configurable:!0,enumerable:!0,get:function(){return this.gnb;}}});b.Ib=c;},60196:function(r,b,a){var l;function c(f){this.mGb=f;this.n5=!1;this.z5=this.Uf=this.WN=0;this.PT=!1;this.A5=0;}Object.defineProperty(b,"__esModule",{value:!0});b.PHa=void 0;l=a(95919);c.prototype.Oga=function(f){f < this.WN && (this.Uf+=this.WN);this.WN=f;this.n5=!0;};c.prototype.ZGb=function(){if(this.n5)return this.PT?this.A5 - this.z5:this.Uf + this.WN - this.z5;};c.prototype.refresh=function(){var f;f=this.mGb();(0,l.tb)(f) && this.Oga(f);};c.prototype.F1b=function(){this.PT || (this.n5 && (this.A5=this.Uf + this.WN),this.PT=!0);};c.prototype.U1b=function(){this.PT && (this.n5 && (this.z5+=this.Uf + this.WN - this.A5),this.A5=0,this.PT=!1);};b.PHa=c;},78479:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Xca=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Xca=a;},82328:function(r,b,a){var l;function c(f){this.Znb=void 0 === f?!1:f;this.Ve={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Lda=void 0;r=a(70655);a=a(86700);c.prototype.add=function(f,k){var d;k=void 0 === k?0:k;d=this.Ve[k];d?this.Znb && -1 !== d.indexOf(f) || d.push(f):this.Ve[k]=[f];};c.prototype.remove=function(f,k){this.fx(f,void 0 === k?0:k);};c.prototype.removeAll=function(f){this.fx(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Ve).sort().reduce(function(k,d){return k.concat(f.Ve[d]);},[]);};c.prototype.fx=function(f,k){Object.entries(this.Ve).forEach(function(d){var g,m;g=la(d);d=g.next().value;g=g.next().value;if(void 0 === k || k === parseInt(d)){-1 < (m=g.indexOf(f)) && g.splice(m,1);}});};l=c;l=r.__decorate([(0,a.T)()],l);b.Lda=l;},86684:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A_=void 0;b.A_=function(){var a;a=this;this.promise=new Promise(function(c,l){a.resolve=c;a.reject=l;});};},10234:function(r,b,a){var l,f,k;function c(d){this.wc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;r=a(70655);l=a(86700);f=a(65428);k=a(29853);c.prototype.Pp=function(d,g){var m;m=this;return new Promise(function(h,n){var p;p=m.wc.Lj(d,function(){n(new k.jq(d));});g.then(function(q){h(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Ci))],a);b.EKa=a;},68903:function(r,b,a){var l,f;function c(k){this.R2b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;r=a(70655);l=a(86700);a=a(16690);c.prototype.random=function(){return this.R2b.random();};c.prototype.w8a=function(k,d){if("number" !== typeof k)(d=k.end,k=k.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(k + this.random() * (d - k));};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.lMa))],f);b.MKa=f;},39784:function(r,b){function a(c,l,f){if(null != f){if(0 < f(c,l))throw a.CUa(c,l);}else if(c.Ik && 0 < c.Ik(l))throw a.CUa(c,l);this.start=c;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Sda=void 0;a.CUa=function(c,l){return new RangeError("end [" + l + "] must be >= start [" + c + "]");};b.Sda=a;},19791:function(r,b,a){var f,k,d,g;function c(m){this.qo=m;(0,k.ao)(this,"timers");}function l(m,h){this.qo=m;this.Zub=h;}Object.defineProperty(b,"__esModule",{value:!0});b.qLa=void 0;r=a(70655);f=a(86700);k=a(60920);d=a(63088);g=a(2467);l.prototype.cancel=function(){this.Zub(this.qo);};c.prototype.Zi=function(m){return this.Lj(g.Ia,m);};c.prototype.Lj=function(m,h){var n;n=this.qo.setTimeout(h,m.ba(g.na));return new l(this.qo,function(p){p.clearTimeout(n);});};c.prototype.uN=function(m,h){var n;n=this.qo.setInterval(h,m.ba(g.na));return new l(this.qo,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.yNa))],a);b.qLa=a;},84540:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.CD=void 0;r=a(70655);a=a(86700);c.prototype.format=function(f,k){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(m,h){return "undefined" != typeof g[h]?g[h]:m;});};c.prototype.ubb=function(f){for(var k=f.length,d=new Uint16Array(k),g=0;g < k;g++){d[g]=f.charCodeAt(g);}return d.buffer;};c.prototype.xbb=function(f){return JSON.stringify(f,null,"  ");};l=c;l=r.__decorate([(0,a.T)()],l);b.CD=l;},43766:function(r,b,a){var l,f,k,d;function c(g,m,h){var n;n=this;this.Yf=g;this.wc=m;this.V2=h;this.xM=function(p){n.$i=void 0;n.i4b(p || n.V2);};this.H2a=(0,k.Hb)(-this.V2.ba(k.na));}Object.defineProperty(b,"__esModule",{value:!0});b.uMa=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(2467);a=a(65428);c.prototype.Zi=function(g){this.Uua=g;this.$i=this.$i || this.Lf(this.xM);};c.prototype.wg=function(){this.$i && this.$i.cancel();this.$i=void 0;};c.prototype.i4b=function(g){var m,h;m=this.Yf.Fb();if(this.Uua){h=g.wa(m.wa(this.H2a));0 >= h.Ik(k.Ia)?(g=this.Uua,this.Uua=void 0,this.H2a=m,g()):this.$i=this.$i || this.wc.Lj(h,this.xM.bind(this,g));}};c.prototype.Lf=function(g){return this.wc.Lj(k.Ia,g);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(a.Ci))],d);b.uMa=d;},14072:function(r,b,a){var l,f,k;function c(d,g,m){this.wc=d;this.Owa=g;this.ov=m;}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;r=a(70655);l=a(65428);f=a(86700);k=a(2467);c.prototype.YA=function(){this.$i || (this.$i=this.wc.Lj((0,k.Hb)(this.Owa),this.ov));};c.prototype.Vp=function(){this.$i && this.$i.cancel();this.$i=void 0;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Ci))],a);b.FMa=a;},50430:function(r,b,a){var l,f,k,d;function c(g,m){this.Ea=g;this.entries=new Set();this.la=m.Ua("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.rea=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(2467);a=a(71163);c.prototype.mark=function(g,m,h){g={name:g,xr:this.Ea.Fb()};m && (g.ma=m);h && (g.Af=h);this.entries.add(g);return g;};c.prototype.Gma=function(){var g;g=[];this.entries.forEach(function(m){return g.push(m);});return g;};c.prototype.JZa=function(g){return this.Gma().filter(function(m){return m.ma === g;});};c.prototype.jIb=function(){var g;g={};try{g=this.Gma().filter(function(m){return !m.ma;}).reduce(function(m,h){m[h.name]=h.xr.ba(k.na);return m;},{});}catch(m){this.la.error(" getMapOfCommonMarks exception",m);}return g;};c.prototype.f9a=function(g){var m;m=this;this.Gma().forEach(function(h){h.ma === g && m.entries.delete(h);});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(a.Xa))],d);b.rea=d;},65275:function(r,b){function a(){this.searchParams={};}function c(l){this.ep=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.YMa=void 0;c.prototype.toString=function(){return this.href;};Xa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.ep + this.searchParams.toString();}}});b.YMa=c;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,f){this.searchParams[l]=f;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,f,k){var d;d=la(f);f=d.next().value;d=d.next().value;return "" + l + (0 == k?"?":"&") + f + "=" + d;},"");};},73653:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;r=a(70655);a=a(86700);c.prototype.encode=function(k){return l.Gka(k);};c.prototype.decode=function(k){return l.Sja(k);};c.Gka=function(k){if(!k)throw new TypeError("Invalid byte array");for(var d=0,g,m=k.length,h="";d < m;){g=k[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (k[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((k[d++] & 63) << 6) + (k[d++] & 63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(g);}return h;};c.Sja=function(k){var d,g,m,h,n;d=k.length;g=0;h=0;if(!(0 <= d))throw Error("bad string");for(m=d;m--;){n=k.charCodeAt(m);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(m=0;m < d;m++){n=k.charCodeAt(m);128 > n?g[h++]=n:(2048 > n?g[h++]=192 | n >>> 6:(g[h++]=224 | n >>> 12,g[h++]=128 | n >>> 6 & 63),g[h++]=128 | n & 63);}return g;};f=l=c;f=l=r.__decorate([(0,a.T)()],f);b.aNa=f;},67330:function(r,b,a){var l,f,k,d;function c(g,m){this.is=g;this.Li=m;}Object.defineProperty(b,"__esModule",{value:!0});b.bNa=void 0;r=a(70655);l=a(86700);a(68172);f=a(89542);k=a(5266);d=a(50876);c.prototype.YB=function(g,m,h){var n,p,q,u;n=this;if(m)if(h){p=h.EU;q=h.prefix;u=h.d8;this.$A(m,function(t,w){if(!u || n.is.vg(w))g[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.$A(m,function(t,w){g[t]=w;});return g;};c.prototype.$A=function(g,m){for(var h in g){g.hasOwnProperty(h) && m(h,g[h]);}};c.prototype.FA=function(g,m){if(g.length == m.length){for(var h=g.length;h--;){if(g[h] != m[h])return !1;}return !0;}return !1;};c.prototype.$Ta=function(g,m){if(g.length != m.length)return !1;g.sort();m.sort();for(var h=g.length;h--;){if(g[h] !== m[h])return !1;}return !0;};c.prototype.ve=function(g){var m,h,n;if(g){m=g.stack;h=g.number;n=g.message;n || (n="" + g);m?(g="" + m,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;h && (g+="\nnumber:" + h);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.jma=function(g){return this.getFunctionName(g.constructor);};c.prototype.sra=function(g){var m,h;m=this;h="";this.is.tA(g) || this.is.XQa(g)?h=Array.prototype.reduce.call(g,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Xo(g)?h=g:this.$A(g,function(n,p){h+=(h?", ":"") + "{" + n + ": " + (m.is.x1(p)?m.getFunctionName(p) || "function":p) + "}";});return "[" + this.jma(g) + " " + h + "]";};c.prototype.createElement=function(g,m,h,n){var p;p=d.Og.createElement(g);m && (p.style.cssText=m);h && (p.innerHTML=h);n && this.$A(n,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.tEb=function(g,m){return function(h){return h[g] === m;};};c.prototype.CV=function(g){var m;m={};(g || "").split("&").forEach(function(h){var n,p;h=h.trim();n=h.indexOf("=");if(0 <= n){p=decodeURIComponent(h.substr(0,n)).toLowerCase();m[p]=decodeURIComponent(h.substr(n + 1));}else m[h.toLowerCase()]=void 0;});return m;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Wf)),r.__param(1,(0,l.l)(k.pw))],a);b.bNa=a;},23975:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.D3a=void 0;c=a(47795);l=a(6880);r=a(86700);f=a(33456);k=a(71163);d=a(19849);b.D3a=new r.ed(function(g){g(k.Xa).to(l.$Fa).da();g(f.II).to(c.aGa).da();g(k.qca).to(d.PFa).da();});},71163:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XO=b.Xa=b.qca=b.ej=void 0;r=b.ej || (b.ej={});r[r.aib=0]="FATAL";r[r.Sj=1]="ERROR";r[r.zea=2]="WARN";r[r.Xba=3]="INFO";r[r.pMa=4]="TRACE";r[r.K=5]="DEBUG";b.qca="LogFieldBuilderFactorySymbol";b.Xa="LoggerFactorySymbol";b.XO={};},33456:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.II="LoggerSinksSymbol";},97649:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.sca=void 0;b.sca=a;a.Sgb="display";a.ygb="console";},24217:function(r,b,a){var l,f;function c(k,d,g,m,h,n,p){this.level=k;this.Em=d;this.timestamp=g;this.message=m;this.Cc=h;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.eza=void 0;l=a(2467);f={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.y$=function(k,d){k=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.k2b(!!k));return (this.timestamp.ba(l.na) / 1E3).toFixed(3) + "|" + this.index + "|" + (f[this.level] || this.level) + "|" + this.Em + "| " + k;};c.prototype.k2b=function(k){var h;for(var d=this.Cc.length,g="",m=0;m < d;++m){h=this.Cc[m].zt;m && g.length && (g+=" ");if("object" === typeof h){if(null === h)g+="null";else if(h instanceof Error)g+=this.j2b(h,k);else try{g+=JSON.stringify(h);}catch(n){g+=this.i2b(h);}}else g+=h;}return g;};c.prototype.j2b=function(k,d){return k.toString() + (k.stack && !d?"\n" + k.stack:"") + "\n";};c.prototype.i2b=function(k){var d;d=[];return JSON.stringify(k,function(g,m){if("object" === typeof m && null !== m){if(-1 !== d.indexOf(m))return "<cycle>";d.push(m);}return m;});};b.eza=c;},15393:function(r,b,a){var l,f;function c(k,d,g,m,h,n){k=l.HI.call(this,k,d,g,m) || this;k.groups=h;Array.isArray(n)?k.prefix=n:n && "string" === typeof n && (k.prefix=[],k.prefix.push(n));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.fza=void 0;l=a(12736);f=a(24217);ea(c,l.HI);c.prototype.mA=function(k,d,g){k=new f.eza(k,this.Em,this.Ea.Fb(),d,g,this.prefix);d=la(this.jn.jn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(k);}};c.prototype.Z2=function(k){return new c(this.Ea,this.u2,this.jn,k,this.groups,this.prefix);};b.fza=c;},64565:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oSa=void 0;b.oSa=function(a,c){var f;a=a.dIb();for(var l=0;l < c.length;++l){f=c[l];void 0 != f && null != f && (f.zg && (f=f.zg),f.constructor === Uint8Array?a.lrb(f):"MediaRequest" === f.constructor.name?a.Yqb(f):"string" === typeof f?a.irb(f):"function" === typeof f?a.Sqb(f):f instanceof Error?a.Rqb(f):f instanceof Object && "function" === typeof f.toJSON?a.CQa(f.toJSON()):f instanceof Object?a.CQa(f):a.nrb(f));}return a.ph();};},77627:function(r,b,a){var l;function c(f,k,d,g,m,h){this.level=f;this.Em=k;this.timestamp=d;this.message=g;this.Cc=m;this.index=void 0 === h?0:h;this.hjb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.pca=void 0;l=a(2467);c.prototype.y$=function(f,k){var d;d="" + this.message;this.Cc.forEach(function(g){d+=g.TH(f,k);});return (this.timestamp.ba(l.na) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.hjb[this.level] || this.level) + "|" + this.Em + "| " + d;};b.pca=c;},19849:function(r,b,a){var l,f,k,d;function c(g,m){this.kc=g;this.Yd=m;}Object.defineProperty(b,"__esModule",{value:!0});b.PFa=void 0;r=a(70655);l=a(86700);f=a(5190);k=a(31224);a=a(89682);c.prototype.dIb=function(){return new f.QFa(this.kc,this.Yd);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.fh)),r.__param(1,(0,l.l)(a.jh))],d);b.PFa=d;},5190:function(r,b,a){var p,q,u;function c(t,w){this.kc=t;this.Yd=w;this.Cc=[];}function l(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function f(t){return n.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function k(t,w){w=n.call(this,w,function(v){return {Base64:t.encode(v)};}) || this;w.kc=t;return w;}function d(t,w){w=n.call(this,w,function(v){return v();}) || this;w.Yd=t;return w;}function g(t){return n.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function m(t,w,v){w=n.call(this,w,v) || this;w.Yd=t;return w;}function h(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function n(t,w){this.zt=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;r=a(70655);p=a(86700);q=a(89682);a=a(31224);n.prototype.DS=function(t){return this.zt === t;};ea(h,n);h.prototype.TH=function(t,w){return w?"":"\r\n" + this.zt;};ea(m,n);m.prototype.TH=function(){var t;t="";this.Yd.$A(this.value,function(w,v){try{t+=", " + w + ": " + v;}catch(y){try{t+=", " + w + ": " + JSON.stringify(v);}catch(x){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};ea(g,n);g.prototype.TH=function(t){var w;w="\r\n" + this.zt.message;t || (w+="\r\n" + this.zt.stack);return w;};ea(d,n);d.prototype.TH=function(){var t;t="";this.Yd.$A(this.value,function(w,v){t+=", " + w + ": " + v;});return t.replace(/[\r\n]+ */g," ");};ea(k,n);k.prototype.TH=function(t,w){return this.zt && !w?"\r\n" + this.kc.encode(this.zt):"";};ea(f,n);f.prototype.TH=function(){return this.zt?this.zt.toJSON():"";};ea(l,n);l.prototype.TH=function(){return ", " + (this.zt.toString?"" + this.zt.toString():"");};c.prototype.irb=function(t){this.Cc.push(new h(t));};c.prototype.CQa=function(t){this.Cc.push(new m(this.Yd,t));};c.prototype.Rqb=function(t){this.Cc.push(new g(t));};c.prototype.Sqb=function(t){this.Cc.push(new d(this.Yd,t));};c.prototype.lrb=function(t){this.Cc.push(new k(this.kc,t));};c.prototype.Yqb=function(t){this.Cc.push(new f(t));};c.prototype.nrb=function(t){this.Cc.push(new l(t));};c.prototype.ph=function(){return this.Cc;};u=c;u=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(a.fh)),r.__param(1,(0,p.l)(q.jh))],u);b.QFa=u;},6880:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q){this.Ea=n;this.jn=p;this.Ipa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=void 0;r=a(70655);l=a(12736);f=a(86700);k=a(5195);d=a(58998);g=a(33456);m=a(71163);h=a(15393);c.prototype.Ua=function(n,p,q,u,t){q=void 0 === q?this.jn:q;return p?new k.GJa(this.Ea,this.Ipa,q,p,n):t?new h.fza(this.Ea,this.Ipa,q,n,u || "",t):new l.HI(this.Ea,this.Ipa,q,n);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.Jc)),r.__param(1,(0,f.l)(g.II)),r.__param(2,(0,f.l)(m.qca))],a);b.$Fa=a;},12736:function(r,b,a){var l,f,k;function c(d,g,m,h){this.Ea=d;this.u2=g;this.jn=m;this.Em=void 0 === h?"General":h;this.Zia={};}Object.defineProperty(b,"__esModule",{value:!0});b.HI=void 0;l=a(71163);f=a(77627);k=a(64565);c.prototype.qQa=function(d,g){this.Zia[d]=g;};c.prototype.fatal=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.mA(l.ej.aib,d,this.qO(d,m));};c.prototype.error=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.mA(l.ej.Sj,d,this.qO(d,m));};c.prototype.warn=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.mA(l.ej.zea,d,this.qO(d,m));};c.prototype.info=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.mA(l.ej.Xba,d,this.qO(d,m));};c.prototype.trace=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.mA(l.ej.pMa,d,this.qO(d,m));};c.prototype.debug=function(d,g){for(var m=1;m < arguments.length;++m){;}!1;};c.prototype.log=function(d,g){for(var m=[],h=1;h < arguments.length;++h){m[h - 1]=arguments[h];}this.debug.apply(this,[d].concat(ca(m)));};c.prototype.write=function(d,g,m){for(var h=[],n=2;n < arguments.length;++n){h[n - 2]=arguments[n];}this.mA(d,g,this.qO(g,h));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Em};};c.prototype.Z2=function(d){return new c(this.Ea,this.u2,this.jn,d);};c.prototype.mA=function(d,g,m){d=new f.pca(d,this.Em,this.Ea.Fb(),g,m);g=la(this.jn.jn);for(m=g.next();!m.done;m=g.next()){m=m.value;m(d);}};c.prototype.TGb=function(d){return 0 < Object.keys(this.Zia).length?[this.Zia].concat(ca(d)):d;};c.prototype.qO=function(d,g){var m;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (m=Error("Empty message").stack) && void 0 !== m?m:"nostack"});return (0,k.oSa)(this.u2,this.TGb(g));};b.HI=c;},47795:function(r,b,a){var l;function c(){this.Fab={};this.jn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.aGa=void 0;r=a(70655);a=a(86700);c.prototype.a9=function(f,k){k && (this.Fab[f]=k,this.jn=Object.values(this.Fab));};l=c;l=r.__decorate([(0,a.T)()],l);b.aGa=l;},5195:function(r,b,a){var l,f,k;function c(d,g,m,h,n){d=k.HI.call(this,d,g,m,n) || this;d.j=h;(0,l.ao)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.GJa=void 0;l=a(60920);f=a(77627);k=a(12736);ea(c,k.HI);c.prototype.Z2=function(d){return new c(this.Ea,this.u2,this.jn,this.j,d);};c.prototype.mA=function(d,g,m){d=new f.pca(d,this.Em,this.Ea.Fb(),g,m,this.j.index);g=la(this.jn.jn);for(m=g.next();!m.done;m=g.next()){m=m.value;m(d,this.j);}};b.GJa=c;},26620:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.d5a=void 0;r=a(86700);c=a(18862);l=a(95428);b.d5a=new r.ed(function(f){f(c.eHa).to(l.dHa).da();});},18862:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eHa="MomentObserverFactory";},95428:function(r,b,a){var l,f,k;function c(d){this.wc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.dHa=void 0;r=a(70655);l=a(86700);f=a(86815);a=a(65428);c.prototype.vUa=function(d,g){return new f.fHa(this.wc,d,g);};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Ci))],k);b.dHa=k;},86815:function(r,b){function a(c,l,f){this.wc=c;this.config=l;this.getTime=f;}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;a.prototype.observe=function(c,l){var f;f=this;this.cancel();this.$i=this.wc.uN(this.config.f_a(),function(){f.getTime() >= c && (f.cancel(),l());});};a.prototype.cancel=function(){this.$i && (this.$i.cancel(),this.$i=void 0);};b.fHa=a;},40152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GPb=b.aM=b.EPb=void 0;b.EPb=function(a){return a;};b.aM=function(a){return a;};b.GPb=function(a){return Object.assign({},a);};},8436:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.M=void 0;r=a(86700);c=a(89895);l=a(8197);f=a(13477);k=a(9889);d=a(8988);g=a(17003);b.M=new r.ed(function(m){m(c.cea).to(f.BLa).da();m(l.xLa).to(k.wLa).da();m(d.JMa).to(g.IMa).da();});},8197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xLa="SegmentConfigFactorySymbol";},89895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cea="SegmentManagerFactorySymbol";},8988:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JMa="TransitionLoggerSymbol";},61115:function(r,b,a){var k,d,g,m;function c(h,n,p,q,u,t,w){var v;v=this;this.Z=n;this.j=p;this.lM=q;this.wc=u;this.WJ=t;this.config=w;this.gK=function(){v.eC && (v.eC.cancel(),v.eC=void 0);};this.log=h.Ua("SegmentManager",this.j);this.M=new Map();this.j.Wa.ag && (this.j.addEventListener(g.ea.qH,function(y){return v.Fv(y);}),this.j.addEventListener(g.ea.closed,this.gK));}function l(h,n){this.id=h;this.Iia=n;}function f(h,n,p,q){return d.Mc.call(this,h,p,void 0,void 0,void 0,n,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Xza=void 0;k=a(68172);d=a(56003);g=a(34202);m=a(2467);ea(f,d.Mc);f.prototype.toString=function(){return this.code + "-" + this.ic + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.sa,contentEndPts:this.ta};};Xa.Object.defineProperties(l.prototype,{sa:{configurable:!0,enumerable:!0,get:function(){return this.Iia.startTimeMs;}},ta:{configurable:!0,enumerable:!0,get:function(){return this.Iia.endTimeMs;}},yy:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Iia.next);}}});c.prototype.Fv=function(h){var n;n=this;!1;h=h.position.segmentId;0 === this.M.size && Object.entries(this.j.aT()).forEach(function(p){var q;q=la(p);p=q.next().value;q=q.next().value;n.M.set(p,new l(p,q));});this.aa=this.M.get(h);};c.prototype.play=function(h){this.ZM && (this.ZM=void 0);this.gK();this.log.trace("Playing segment",h);return this.Q1a(h)?this.aVb(h):this.GV(h);};c.prototype.YM=function(h){this.log.trace("Queueing segment",h);return this.Q1a(h)?this.hXb(h):this.iXb(h);};c.prototype.cj=function(h,n){var p,q;p=this;q=this.j.Za;if(null === q || void 0 === q || !q.Dh)return Promise.reject(this.getError(k.U.Fza,"ASE session manager is not yet initialized",k.R.Qaa,{segmentId:h,updates:n}));this.log.trace("Updating next segment weights",h,n);return new Promise(function(u,t){try{q.N4b(h,n);p.j.fireEvent(g.ea.rxa,{I:h,p5b:n});u();}catch(w){t(p.getError(k.U.Fza,"updateNextSegmentWeights threw an exception",k.R.Jfb,{segmentId:h,updates:n,error:w}));}});};c.prototype.Q1a=function(h){return this.aa?void 0 !== this.j.aT()[this.aa.id].next[h]:!1;};c.prototype.Yma=function(){var h;h=this.j.Za;if(null === h || void 0 === h?0:h.Dh)return h.Sn().iVb;};c.prototype.VIb=function(){var h;h=this.j.Za;if(null === h || void 0 === h?0:h.Dh)return h.Sn().id;};c.prototype.QGb=function(){var h;h=this.j.Za;if(null === h || void 0 === h?0:h.Dh)return (h={Wha:0},h.Wha);};c.prototype.aVb=function(h){var n,p;n=this;p=this.j.Za;return null !== p && void 0 !== p && p.Dh?this.aa && 1 === this.aa.yy.length?this.GV(h):this.j.je?void 0 === this.QGb()?(this.log.error("playNextSegment: branchOffset missing",{segment:h}),this.GV(h)):new Promise(function(q,u){var x,z,A,B,D,C;function t(){!A && z && x && (C.cancel(),A=!0,n.log.trace("Telling ASE to choose the next segment",{id:h,stopped:z,repositioned:x,completed:A}),p.D2(h,!1)?(q(),A=!0):(A=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:h}),n.GV(h).then(q).catch(u)));}function w(){x=!0;n.log.trace("Player is repositioned",{id:h,stopped:z,repositioned:x,completed:A});n.j.removeEventListener(g.ea.Ej,w);t();}function v(){n.j.removeEventListener(g.ea.wC,v);p.stop();}function y(){z=!0;n.log.trace("ASE is stopped",{id:h,stopped:z,repositioned:x,completed:A});p.removeEventListener("stop",y);t();}x=!1;z=!1;A=!1;B=n.M.get(h);D=n.Yma();if(void 0 === D)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:h}),n.GV(h));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:h,seekTo:D,currentSegment:n.aa,nextSegment:B},null,"  "));n.j.fireEvent(g.ea.E7,{qh:n.aa && n.aa.id,pM:h});p.addEventListener("stop",y);n.j.addEventListener(g.ea.wC,v);n.j.addEventListener(g.ea.Ej,w);C=n.wc.Lj((0,m.xh)(10),function(){A=!0;C.cancel();u(n.getError(k.U.HO,"Timed out waiting for the player to be repositioned and ASE to be stopped",k.R.Ffb,{id:h,stopped:z,repositioned:x,completed:A}));});n.Z.seek(D,g.Zc.YI);}):(this.log.warn("MediaPresenter is not initialized",h),Promise.reject(this.getError(k.U.HO,"MediaPresenter is not initialized",k.R.Gfb,{id:h}))):Promise.reject(this.getError(k.U.HO,"ASE session manager is not yet initialized",k.R.Qaa,{id:h}));};c.prototype.GV=function(h){var n;n=this.M.get(h);return n?this.wW(n,k.U.HO):Promise.reject(this.getError(k.U.HO,"Unable to find the separated segment",k.R.Eza,{id:h}));};c.prototype.hXb=function(h){var n;n=this.j.Za;if(null === n || void 0 === n || !n.Dh)return Promise.reject(this.getError(k.U.IO,"ASE session manager is not yet initialized",k.R.Qaa,{id:h}));this.j.fireEvent(g.ea.E7,{qh:this.aa && this.aa.id,pM:h});if(n.D2(h,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:h});return this.xVa(h);};c.prototype.iXb=function(h){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:h,mid:this.j.O,srcsegment:this.VIb()});return this.xVa(h);};c.prototype.xVa=function(h){var n,p;n=this;if(this.ZM)return Promise.reject(this.getError(k.U.IO,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",k.R.Ifb,{currentSegment:this.aa?this.aa.id:void 0,queuedSegment:this.ZM.id,failedSegment:h}));if(!this.aa)return Promise.reject(this.getError(k.U.IO,"Unable to queue segment for delayed seek because there is no currently playing segment",k.R.Efb,{nextSegmentid:h}));p=this.M.get(h);if(!p)return Promise.reject(this.getError(k.U.IO,"Unable to find the separated segment",k.R.Eza,{nextSegmentid:h,currentSegmentId:this.aa.id}));this.ZM={id:h,promise:new Promise(function(q,u){var t;n.eC=n.lM.vUa({f_a:function(){return (0,m.Hb)(100);}},function(){return n.Z.Jq() || 0;});t=n.Yma() - n.config().a5a;n.log.trace("Adding moment for queued segment for delayed seek",{segment:h,pts:t});n.eC.observe(t,function(){n.log.trace("Moment has arrived, seek to segment",{segment:h,currentSegment:n.aa.id,playerEndPts:n.Yma(),pts:t});n.ZM=void 0;n.gK();n.wW(p,k.U.IO).then(q).catch(u);});})};this.ZM.promise.catch(function(q){n.j.pd(q.code,q);});return Promise.resolve();};c.prototype.wW=function(h,n){var p;p=this;return new Promise(function(q,u){var t;try{t=h.sa;!1;p.Z.seek(t,g.Zc.Nw);q();}catch(w){u(p.getError(n,"Seek threw an exception",k.R.Hfb,{id:h.id,error:w}));}});};c.prototype.getError=function(h,n,p,q){this.log.warn(n,q);return new f(h,n,p,q);};b.Xza=c;},9889:function(r,b,a){var f,k;function c(){}function l(d,g,m,h,n){this.debug=d;this.version=g;this.QNb=m;this.YUb=h;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;r=a(70655);f=a(86700);k=a(2467);l.prototype.FHb=function(){return this.config().SF;};l.prototype.fma=function(){return this.config().bSa;};l.prototype.f_a=function(){return (0,k.Hb)(this.config().zVb);};l.prototype.FZa=function(){return this.config().dPb;};l.prototype.IZa=function(){return this.config().RPb;};c.prototype.BF=function(d,g,m,h,n){return new l(d,g,m,h,n);};a=c;a=r.__decorate([(0,f.T)()],a);b.wLa=a;},13477:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v;function c(y,x,z,A,B,D,C,F,G,E,J){this.Ea=y;this.Cf=x;this.lM=z;this.Lxa=A;this.HV=B;this.wc=D;this.WJ=C;this.vh=F;this.$ka=G;this.Ah=E;this.config=J;}Object.defineProperty(b,"__esModule",{value:!0});b.BLa=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(71163);d=a(18862);g=a(97636);m=a(8715);h=a(63034);n=a(88050);p=a(61115);q=a(5690);u=a(65428);t=a(62380);w=a(89682);a=a(17244);c.prototype.jzb=function(y,x,z){return new n.CLa(this.Ea,this.Cf,this.lM,this.Lxa,x,y,this.vh,this.HV,this.Ah,this.$ka,z);};c.prototype.Gyb=function(y,x){return new p.Xza(this.Cf,y,x,this.lM,this.wc,this.WJ,this.config);};v=c;v=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(k.Xa)),r.__param(2,(0,l.l)(d.eHa)),r.__param(3,(0,l.l)(h.kNa)),r.__param(4,(0,l.l)(m.CJa)),r.__param(5,(0,l.l)(u.Ci)),r.__param(6,(0,l.l)(q.FO)),r.__param(7,(0,l.l)(g.PP)),r.__param(8,(0,l.l)(t.$O)),r.__param(9,(0,l.l)(w.jh)),r.__param(10,(0,l.l)(a.ac))],v);b.BLa=v;},88050:function(r,b,a){var d,g,m;function c(h,n,p,q,u,t,w,v,y,x,z){var A;A=this;this.Ea=h;this.lM=p;this.Lsa=q;this.config=u;this.ib=t;this.vh=w;this.HV=v;this.Ah=y;this.Rj=z;this.KDb=Object.values(d.Ja).map(function(B){return {event:B,ov:function(D){return A.Eb.Dc(B,D);}};});this.Eb=x.create();this.sC=[];this.log=n.Ua("SegmentManager");this.sF=!0;this.pk=this.Ah.createElement("div",m.Rda);}function l(h,n,p,q,u,t,w,v,y,x,z){var A;A=this;this.log=h;this.config=n;this.CSb=p;this.Lsa=q;this.vh=u;this.HV=t;this.Dt=w;this.u=v;this.pk=y;this.ib=x;this.Rj=z;this.gK=function(){A.eC && (A.eC.cancel(),A.eC=void 0);};this.Bna=function(B){A.log.trace("Received the transition event",{movieId:B.O});A.tXb();};this.Bpa=function(){};this.log.debug("Constructing session data",f(v));this.A3b=new Promise(function(B){A.tXb=B;});}function f(h){return {movieId:h.O};}function k(h){return JSON.stringify({movieId:h.O,startPts:h.bb,logicalEnd:h.Ui,params:h.nb?{trackingId:h.nb.Pj,authParams:h.nb.i2,sessionParams:h.nb.cm,disableTrackStickiness:h.nb.kka,uiPlayStartTime:h.nb.OC,loadImmediately:h.nb.I6,playbackState:h.nb.playbackState?{currentTime:h.nb.playbackState.currentTime,volume:h.nb.playbackState.volume,muted:h.nb.playbackState.muted,playbackRate:h.nb.playbackState.playbackRate}:void 0,pin:h.nb.e7a,heartbeatCooldown:h.nb.Ona,uiLabel:h.nb.xd,uxLabels:h.nb.P$}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;d=a(34202);g=a(2467);m=a(7942);l.prototype.load=function(h){var n,p;n=this;this.log.trace("Loading new segment",f(this.u));this.Z=this.Lsa.rK(this.config,this.HV,this.vh,this.u,this.ib,this.Rj);this.Z.addEventListener(d.Ja.BL,function(q){n.log.trace("Segment is inactive",f(n.u));n.Dt.close(n.vh(q.errorCode));});this.Z.addEventListener(d.Ja.closed,this.gK);if(h)(this.log.debug("Pausing background segment",f(this.u)),this.Z.addEventListener(d.Ja.Xoa,this.Bna),this.Z.X6a());else {this.pk.appendChild(this.Z.Tm());p=function(q){n.Bna(q);n.Z.removeEventListener(d.Ja.loaded,p);};this.Z.addEventListener(d.Ja.loaded,p);}};l.prototype.observe=function(){var h,n,p;h=this;this.log.trace("Observing segment",k(this.u));if(this.eC)this.log.trace("Segment is currently observing",f(this.u));else if(this.u.nb && this.u.nb.I6)this.Bpa(this);else {n=this.CSb.vUa(this.config,function(){var q;if(h.Z){q=h.Z.Jq();if(q)return q;}return 0;});p=this.Bub(this.u);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){h.log.trace("Segment has reached its loading point",f(h.u));h.Bpa(h);h.gK();});}};l.prototype.close=function(h){this.log.info("Closing segment",{segment:k(this.u),error:h});return this.Z?(this.Z.removeEventListener(d.Ja.Xoa,this.Bna),this.Z.close(h)):Promise.resolve();};l.prototype.CTb=function(h){this.Bpa=h;};l.prototype.Bub=function(h){var n,p;n=h.Ui;h=h.nb?h.nb.I6:!1;p=0;n && !h && (p=n - this.config.FZa(),p < this.config.IZa() && (h=n - this.config.IZa(),p=n - h / 2));return p;};c.prototype.cJb=function(){return this.Rg && this.Rg.Z?this.Rg.Z.rv():!1;};c.prototype.Tm=function(){return this.pk;};c.prototype.KF=function(){if(!this.Rg || !this.Rg.Z)throw Error("Player not ready");return this.Rg.Z;};c.prototype.e5b=function(h){var n,p;p=this.ula(h);p?this.vdb(p,h):this.ib.Od(h.id) || this.log.error("Tried to update a non-existent segment",{segment:k(h),currentMovieId:this.Rg.u.O,queuedMovieIds:this.sC.map(function(q){return q.u.O;}),xid:null === (n=this.Rg.Z) || void 0 === n?void 0:n.Ss()});};c.prototype.gf=function(h){var n;this.log.info("Adding segment",k(h));if(this.sF){this.log.trace("First segment, loading",f(h));n=this.p3a(h);this.sF=!1;}else (this.log.trace("Subsequent segment, caching",f(h)),(n=this.ula(h))?this.vdb(n,h):(n=this.createSession(h),this.sC.push(n),this.Rg.observe()));return n?n.A3b:null;};c.prototype.transition=function(h,n){var p,q,u;q=this.EG;u=null === q || void 0 === q?void 0:q.Z;if(q && u)return (this.EG=void 0,this.log.info("Transitioning segment",k(q.u)),u.Hva(this.Ea.Fb().ba(g.na)),this.Hcb(q,n));n=null === q || void 0 === q?void 0:q.u;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Rg.u.O,xid:null === (p=this.Rg.Z) || void 0 === p?void 0:p.Ss(),nextSegmentId:h,currentSegment:k(this.Rg.u),nextSegment:n?k(n):void 0,queuedMovieIds:this.sC.map(function(t){return t.u.O;})});return Promise.reject();};c.prototype.close=function(h){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(f(this.Rg.u)),nextSession:this.EG?JSON.stringify(f(this.EG.u)):void 0});h=[this.Rg.close(h)];this.EG && h.push(this.EG.close());return Promise.all(h).then(function(){n.EG=void 0;n.sC=[];n.sF=!0;});};c.prototype.addListener=function(h,n,p){this.Eb.addListener(h,n,p);};c.prototype.removeListener=function(h,n){this.Eb.removeListener(h,n);};c.prototype.vdb=function(h,n){this.bUb(h.u,n);this.log.trace("Overwrote existing segment data",k(h.u));};c.prototype.p3a=function(h){var n,p;n=this;this.log.info("Loading the next episode",f(h));if(this.Rg){this.config.fma()[h.O]=h.bb;p=this.ula(h);}else p=this.createSession(h);if(p)return (this.log.trace("Found the next session",f(h)),p.CTb(function(q){n.jcb(q);}),this.Rg?(this.log.trace("Subsequent playback, caching player and pausing",f(h)),this.EG=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",f(h)),p.load(!1),this.Hcb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",f(h));};c.prototype.Hcb=function(h,n){var p,q,u,t,w;n=void 0 === n?{}:n;t=h.Z?null === (p=h.Z) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=h.Z) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Rg.u.O,mid:h.u.O,error:t,xid:null === (u=h.Z) || void 0 === u?void 0:u.Ss()}),Promise.reject());this.log.trace("Playing episode",f(h.u));p=this.Rg;this.Rg=h;h=this.Rg.Z;h.rva(!1);this.jI(h,p?p.Z:void 0);if(p && p.Z){w=p.Z.Tm();q=h.Tm();w.style.display="none";p=p.close();this.pk.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";h.J$(n);h.KN();h.play();}return Promise.resolve();};c.prototype.jcb=function(h){var n,p,q,u,t;if(this.sC.length && h.Z){n=h.Z.Jq();p=this.sC[0];q=this.Rg.u.Ui;u=this.Rg.u.nb?this.Rg.u.nb.I6:!1;if(q || u){u?t=0:q && (t=q - this.config.FZa());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",f(p.u)),this.p3a(p.u),this.sC.splice(0,1),this.jcb(h));}}};c.prototype.ula=function(h){return this.Rg.u.O === h.O?this.Rg:this.sC.find(function(n){return n.u.O === h.O;});};c.prototype.bUb=function(h,n){h.bb=n.bb || h.bb;h.Ui=n.Ui || h.Ui;h.nb=n.nb || h.nb;h.W=n.W || h.W;};c.prototype.createSession=function(h){return new l(this.log,this.config,this.lM,this.Lsa,this.vh,this.HV,this,h,this.pk,this.ib,this.Rj);};c.prototype.jI=function(h,n){this.KDb.forEach(function(p){n && n.removeEventListener(p.event,p.ov);h.addEventListener(p.event,p.ov);});this.Eb.Dc(d.zD.AW);};b.CLa=c;},17003:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;r=a(70655);l=a(86700);f=a(17244);k=a(30818);c.prototype.QWb=function(d,g,m,h){this.config().w_b && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (m={isBranching:h || void 0,isPlaygraph:!h || void 0,mid:g.O,xid:g.ma,srcxid:m.ma,srcmid:m.O,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!h && d.auxMid && d.auxMid !== g.O && (m.moffms=(0,k.$f)(g.cS)),g.ZL.eb.transition(m)));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ac))],a);b.IMa=a;},5690:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FO=b.xfb=b.$ya=b.bza=void 0;(function(a){a[a.WBb=0]="downloading";a[a.VBb=1]="downloaded";a[a.vR=2]="appended";a[a.buffered=3]="buffered";a[a.fN=4]="removed";a[a.bhc=5]="unused";})(b.bza || (b.bza={}));(function(a){a[a.waiting=1]="waiting";a[a.kfc=2]="ondeck";a[a.WBb=4]="downloading";a[a.VBb=8]="downloaded";a[a.WT=6]="inprogress";})(b.$ya || (b.$ya={}));b.xfb="AseBufferViewSymbol";b.FO="AseBufferAccountingSymbol";},7282:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p){return function(){return new Promise(function(q,u){var t;t=p.hb.get(f.eCa);t.va().then(function(){q(t);}).catch(function(w){u(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.dWa=void 0;r=a(86700);l=a(90029);f=a(3784);k=a(30796);d=a(5690);g=a(42338);m=a(32522);h=a(7636);n=a(2977);b.dWa=new r.ed(function(p){p(m.NFa).to(h.MFa).da();p(l.bCa).to(n.OFa);p(d.FO).to(g.Yya).da();p(f.eCa).to(k.cCa).da();p(f.dCa).sX(c);});},90029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bCa="DxDisplaySymbol";},3784:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eCa="DxManagerSymbol";b.dCa="DxManagerProviderSymbol";},32522:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NFa="LogDisplayConfigSymbol";},42338:function(r,b,a){var l;function c(){this.a_b="";this.m6b=[[],[],[]];this.Ka=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Yya=void 0;r=a(70655);l=a(86700);a(2467);a(5690);c.prototype.update=function(f){this.m6b[f.mediaType].forEach(function(k){k.chc(f);});};Xa.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.a_b;}}});a=c;a=r.__decorate([(0,l.T)()],a);b.Yya=a;},21770:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;l=a(50876);c.Zwb=function(f){var k;if(l.Og.queryCommandSupported && l.Og.queryCommandSupported("copy")){k=l.Og.createElement("textarea");k.textContent=f;k.style.position="fixed";l.Og.body.appendChild(k);k.select();try{l.Og.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{l.Og.body.removeChild(k);}}};b.QAa=c;},30796:function(r,b,a){var l,f;function c(k){this.FBb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;r=a(70655);l=a(86700);a=a(90029);c.prototype.va=function(){var k;k=this;this.wB || (this.wB=new Promise(function(d,g){var m;m=[];k.FBb.forEach(function(h){m.push(h.va());});Promise.all(m).then(function(){d();}).catch(function(h){g(h);});}));return this.wB;};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.CG)(a.bCa))],f);b.cCa=f;},7636:function(r,b,a){var l,f,k,d,g;function c(m,h){m=k.Se.call(this,m,"LogDisplayConfigImpl") || this;m.Kf=h;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;r=a(70655);l=a(86700);f=a(54662);k=a(90187);d=a(59578);a=a(65350);ea(c,k.Se);Xa.Object.defineProperties(c.prototype,{eW:{configurable:!0,enumerable:!0,get:function(){return !0;}},YL:{configurable:!0,enumerable:!0,get:function(){return this.Kf.YL;}},A3a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([f.config(f.bd,"renderDomDiagnostics")],g.prototype,"eW",null);r.__decorate([f.config(f.zB,"logDisplayMaxEntryCount")],g.prototype,"YL",null);r.__decorate([f.config(f.zB,"logDisplayAutoshowLevel")],g.prototype,"A3a",null);g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.wl)),r.__param(1,(0,l.l)(a.TI))],g);b.MFa=g;},2977:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A;function c(B,D,C,F,G,E,J,M,L,I){var P;P=this;this.qa=B;this.Yf=D;this.Ah=C;this.wc=F;this.jn=G;this.config=E;this.eF=J;this.Fwa=M;this.Nja=L;this.fl=I;this.h3b=function(){P.EX.Zi(function(){P.update();});};this.clear=function(){P.entries=[];P.update();};this.T4a=function(){P.ye.ML=!P.ye.ML;P.TB && P.WB && (P.ye.ML?(P.TB.style.display="inline-block",P.WB.style.display="none"):(P.WB.style.display="inline-block",P.TB.style.display="none"));P.xH(!1);};this.qPb=function(K){var H;P.entries.push(K);H=P.config.YL;0 <= H && P.entries.length > H && P.entries.shift();void 0 === P.ye.ux[K.Em] && (P.ye.ux[K.Em]=!0,P.xH(!1));P.ye.isVisible && !P.Zbb?P.h3b():P.EX.Zi();};this.NBb=function(){f.download("all",P.entries.map(function(K){return K.y$(!1,!1);})).catch(function(K){console.error("Unable to download all logs to the file",K);});};this.xB=!1;this.ye={isVisible:!1,ML:!0,y3:!0,Jpa:t.ej.Xba,ux:{}};this.EX=this.Fwa((0,p.xh)(1));this.wEb=this.Nja((0,p.Hb)(250));this.entries=[];!1;!1;}function l(B){var D;this.elements=[];D=document.createElementNS(l.eX,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;r=a(70655);k=a(86700);d=a(89682);g=a(74509);m=a(40781);h=a(65428);n=a(35664);p=a(2467);q=a(58998);u=a(15303);t=a(71163);w=a(33456);v=a(97649);y=a(32522);x=a(7336);z=a(50364);A=a(21770);f.download=function(B,D){return f.yHb(B).then(function(C){return f.LJb(C,D.join("\r\n")).then(function(F){return f.LBb(F.filename,F.text);});});};f.yHb=function(B){return new Promise(function(D,C){var F,G,E,J,M,L,I;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();J=F.getFullYear().toString();M=F.getHours().toString();L=F.getMinutes().toString();I=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === M.length && (M="0" + M);1 === L.length && (L="0" + L);1 === I.length && (I="0" + I);D(J + E + G + M + L + I + "." + B + ".log");}catch(P){C(P);}});};f.LJb=function(B,D){return new Promise(function(C,F){try{C({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(G){F(G);}});};f.LBb=function(B,D){var C;try{C=document.createElement("a");C.setAttribute("href",D);C.setAttribute("download",B);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(F){return Promise.reject(F);}};l.prototype.JN=function(){var B;B=document.createElementNS(l.eX,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};l.prototype.MN=function(B,D,C){var F;F=document.createElementNS(l.eX,"path");F.setAttribute("d",B);D && F.setAttribute("fill",D);C && F.setAttribute("fill-rule",C);this.addElement(F);return this;};l.prototype.TW=function(B,D,C,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(l.eX,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",D.toString());E.setAttribute("height",C.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};l.prototype.M1b=function(){var B;B=document.createElementNS(l.eX,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.ph=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Xa.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},YE:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.eX="http://www.w3.org/2000/svg";c.prototype.va=function(){var B;B=this;this.wB || (this.wB=new Promise(function(D){qb.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == z.Az.gjb?B.toggle():C.keyCode == z.Az.E && A.QAa.Zwb(B.eF().ek));});B.jn.a9(v.sca.Sgb,B.qPb);D();}));return this.wB;};c.prototype.show=function(){document.body && (this.element || (this.Nyb(),this.xB=!0),!this.ye.isVisible && this.element && (document.body.appendChild(this.element),this.ye.isVisible=!0,this.update(!0)));};c.prototype.pv=function(){this.xB && this.ye.isVisible && this.element && (document.body.removeChild(this.element),this.ye.isVisible=!1);};c.prototype.toggle=function(){this.ye.isVisible?this.pv():this.show();this.xH(!1);};c.prototype.Nyb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.po=this.Fzb());B.appendChild(this.Gzb());B.appendChild(this.Hyb());this.element=B;}catch(C){console.error("Unable to create the log console",C);}};c.prototype.Fzb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");D.setAttribute("wrap","off");D.setAttribute("readonly","readonly");D.addEventListener("focus",function(){B.Zbb=!0;B.update();B.po && (B.po.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});D.addEventListener("blur",function(){B.Zbb=!1;B.update();B.po && (B.po.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return D;};c.prototype.Gzb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.hzb());B.appendChild(this.Xyb());B.appendChild(this.Syb());B.appendChild(this.Hzb());B.appendChild(this.Lyb());B.appendChild(this.ozb());B.appendChild(this.lzb());B.appendChild(this.Tyb());B.appendChild(this.Myb());return B;};c.prototype.Hyb=function(){var B,D,C,F,G,E;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");F=this.createElement("select",this.kv(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(C);D.appendChild(G);C.appendChild(F);C.addEventListener("mousedown",function(J){J.preventDefault();});E=!1;C.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.ye.ux).sort()).forEach(function(J){G.appendChild(B.Iyb(J,C));}),G.style.display="block");E=!E;});return D;};c.prototype.Iyb=function(B,D){var C,F,G;C=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.ye.ux[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(C.ye.ux).forEach(function(E){C.ye.ux[E]="all" === B;}),D.click()):C.ye.ux[B]=!C.ye.ux[B];C.xH(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.hzb=function(){var B,D;B=this;D=this.createElement("select",this.kv(22,NaN,1,2),'<option value="' + t.ej.Sj + '">Error</option><option value="' + (t.ej.zea + '">Warn</option><option value="') + (t.ej.Xba + '">Info</option><option value="') + (t.ej.pMa + '">Trace</option><option value="') + (t.ej.K + '">Debug</option>'));D.value=this.ye.Jpa.toString();D.addEventListener("change",function(C){B.ye.Jpa=parseInt(C.target.value);B.xH(!0);},!1);return D;};c.prototype.Xyb=function(){var D,C;function B(F){return D.wEb.Zi(function(){var G;G=F.target.value;D.ye.filter=G?new RegExp(G):void 0;D.xH(!0);});}D=this;C=this.createElement("input",this.kv(14,150,1,2));C.value=this.ye.filter?this.ye.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",B,!1);C.addEventListener("change",B,!1);return C;};c.prototype.Syb=function(){var B,D,C,F;B=this;D=this.createElement("div",this.kv(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.ye.y3;C.addEventListener("change",function(G){B.ye.y3=G.target.checked;B.xH(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";D.appendChild(C);D.appendChild(F);return D;};c.prototype.Hzb=function(){var B,D,C;B=this;D=this.createElement("button",this.kv());C=new l("0 0 24 24").JN().M1b().end().MN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.YE,"nonzero").end().end().ph();D.appendChild(C);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.Lyb=function(){var B,D;B=this.createElement("button",this.kv());D=new l("0 0 24 24").JN().TW(0,0,24,24,l.background).end().MN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.YE).end().end().ph();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.ozb=function(){var B;this.WB=this.createElement("button",this.kv());this.WB.style.display=this.ye.ML?"none":"inline-block";B=new l("0 0 24 24").JN().TW(0,0,24,24,l.background).end().MN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.YE,"nonzero").end().end().ph();this.WB.addEventListener("click",this.T4a,!1);this.WB.appendChild(B);this.WB.setAttribute("title","Shrink the log console");return this.WB;};c.prototype.lzb=function(){var B;this.TB=this.createElement("button",this.kv());this.TB.style.display=this.ye.ML?"inline-block":"none";B=new l("0 0 24 24").JN().TW(4,4,16,16,l.background).end().MN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.YE,"nonzero").end().end().ph();this.TB.addEventListener("click",this.T4a,!1);this.TB.appendChild(B);this.TB.setAttribute("title","Expand the log console");return this.TB;};c.prototype.Tyb=function(){var B,D;B=this.createElement("button",this.kv());D=new l("0 0 26 26").JN().TW(0,0,24,24,l.background).end().MN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.YE,"nonzero").end().end().ph();B.appendChild(D);B.addEventListener("click",this.NBb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.Myb=function(){var B,D,C;B=this;D=this.createElement("button",this.kv());C=new l("0 0 24 24").JN().TW(0,0,24,24,l.background).end().MN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.YE,"nonzero").end().end().ph();D.appendChild(C);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.xH=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.eW && Promise.resolve(this.cub() + this.zHb().join("\r\n")).then(function(C){D.element && D.po && (D.po.value=C,D.element.style.cssText=D.ye.ML?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.wc.Lj(p.Ia,function(){D.po.scrollTop=D.po.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};c.prototype.zHb=function(){var B,D;B=this;D=[];this.entries.forEach(function(C){(C.level || C.level) <= B.ye.Jpa && B.ye.ux[C.Em] && (C=C.y$(!B.ye.y3,!B.ye.y3),B.ye.filter && !B.ye.filter.test(C) || D.push(C));});return D;};c.prototype.cub=function(){var B;B=this.eF();return "Version: 6.0041.573.911 \n" + ((B?"Esn: " + B.ek:"") + "\nJsSid: ") + (this.Yf.id + ", Epoch: " + this.qa.fe.ba(p.rm) + ", Start: " + this.Yf.my.ba(p.rm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,C,F){return this.Ah.createElement(B,D,C,F);};c.prototype.kv=function(B,D,C,F){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + l.YE + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.V1b="logDxDisplay";a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(n.gg)),r.__param(1,(0,k.l)(q.Jc)),r.__param(2,(0,k.l)(d.jh)),r.__param(3,(0,k.l)(h.Ci)),r.__param(4,(0,k.l)(w.II)),r.__param(5,(0,k.l)(y.NFa)),r.__param(6,(0,k.l)(u.vw)),r.__param(7,(0,k.l)(g.Nz)),r.__param(8,(0,k.l)(m.OY)),r.__param(9,(0,k.l)(x.nw))],a);b.OFa=a;},36845:function(r,b,a){var f;function c(){return f.$P.apply(this,arguments) || this;}function l(k){return new f.Or(k,b.WC);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.WGa=b.hca=b.Yt=b.WC=b.EQb=b.ZNb=b.Ba=b.wq=b.jgb=void 0;f=a(66205);ea(c,f.$P);b.jgb=c;b.wq=l;b.Ba=function(k){return new f.Or(k,b.Yt);};b.ZNb=function(k){return new f.Or(k,b.hca);};b.EQb=function(k){return new f.Or(k,b.WGa);};b.WC=new c(1,"b");b.Yt=new c(8 * b.WC.fg,"B",b.WC);b.hca=new c(1024 * b.Yt.fg,"KB",b.WC);b.WGa=new c(1024 * b.hca.fg,"MB",b.WC);b.Ia=l(0);},2467:function(r,b,a){var f;function c(){return f.$P.apply(this,arguments) || this;}function l(k){return new f.Or(k,b.na);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.$Da=b.Mca=b.rm=b.na=b.sD=b.timestamp=b.gLb=b.t7=b.xh=b.Hb=b.K7a=b.MQb=b.mmb=void 0;f=a(66205);ea(c,f.$P);b.mmb=c;b.MQb=function(k){return new f.Or(k,b.sD);};b.K7a=function(k){return new f.Or(k * b.rm.fg,b.sD);};b.Hb=l;b.xh=function(k){return new f.Or(k,b.rm);};b.t7=function(k){return new f.Or(k,b.Mca);};b.gLb=function(k){return new f.Or(k,b.$Da);};b.timestamp=function(k){return l(k);};b.sD=new c(1,"\u03bcs");b.na=new c(1E3,"ms",b.sD);b.rm=new c(1E3 * b.na.fg,"s",b.sD);b.Mca=new c(60 * b.rm.fg,"min",b.sD);b.$Da=new c(60 * b.Mca.fg,"hr",b.sD);b.Ia=l(0);},66205:function(r,b,a){var f;function c(k,d){this.fg=d;this.qy=Math.floor(k);this.display=this.qy + " " + this.fg.name;}function l(k,d,g){this.fg=k;this.name=d;this.ep=g?g:this;(0,f.ao)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Or=b.$P=void 0;f=a(60920);l.prototype.DS=function(k){return this.fg == k.fg;};l.prototype.toJSON=function(){return this.name;};b.$P=l;c.prototype.ba=function(k){return this.fg.DS(k)?this.qy:Math.floor(this.qy * this.fg.fg / k.fg);};c.prototype.J7a=function(k){return this.fg.DS(k)?this.qy:this.qy * this.fg.fg / k.fg;};c.prototype.as=function(k){return new c(this.ba(k),k);};c.prototype.to=function(k){return new c(this.ba(k),k);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.qy,units:this.fg.name};};c.prototype.add=function(k){return this.CTa(k);};c.prototype.wa=function(k){return this.CTa(k,function(d){return -d;});};c.prototype.scale=function(k){return new c(this.ba(this.fg.ep) * k,this.fg.ep);};c.prototype.Ik=function(k){return this.ba(this.fg.ep) - k.ba(this.fg.ep);};c.prototype.DS=function(k){return 0 == this.Ik(k);};c.prototype.k2a=function(){return 0 == this.qy;};c.prototype.Poa=function(){return 0 > this.qy;};c.prototype.Z1a=function(){return 0 < this.qy;};c.prototype.CTa=function(k,d){d=void 0 === d?function(g){return g;}:d;return new c(this.ba(this.fg.ep) + d(k.ba(this.fg.ep)),this.fg.ep);};b.Or=c;},17244:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mm={Zbc:"casttv",Jia:"chrome",ecc:"chromecast",kp:"edge",iWa:"edgeoss",LXa:"firefox",Vdc:"ie",opera:"opera",$9a:"safari",Wbb:"tesla"};b.rn={gha:"android",w1a:"ios",eTa:"chromeos",g3a:"linux",I3a:"mac",Wxa:"windows"};b.WZ={Cwb:"computer",phone:"phone",T2b:"tablet"};b.ac="ConfigSymbol";},54662:function(r,b,a){var k,d,g;function c(m){return function(h,n){return h.Hta(n,m);};}function l(m,h){return m.Q8.fXb[h] || f(m,h);}function f(m,h){m=m.cy.data[h];switch(typeof m){case "undefined":break;case "string":case "number":case "boolean":return m.toString();default:return JSON.stringify(m);}}Object.defineProperty(b,"__esModule",{value:!0});b.zE=b.Pta=b.object=b.xDb=b.url=b.Ba=b.lk=b.gxa=b.xMb=b.IH=b.string=b.dz=b.bd=b.zB=b.config=void 0;k=a(36845);d=a(2467);g=a(35032);b.config=function(m,h,n){n=void 0 === n?!1:n;return function(p,q,u){var t,w;t=void 0 !== h?h:q;w=u.get;void 0 !== w && (u.get=function(){var v;if(!this.oNb(q))return this.kJb(q);a:{v=(this.Hrb || n?l:f)(this,t.toString());if(void 0 !== v)if((v=m(this.jV,v),v instanceof g.Do))this.aYa(t,v);else break a;v=w.bind(this)();}this.wua(q,v);return v;});return u;};};b.zB=function(m,h){return m.E8a(h);};b.bd=function(m,h){return m.Dta(h);};b.dz=function(m,h){return m.Np(h);};b.string=function(m,h){return m.Hta(h);};b.IH=function(m,h){return m.Dj(h,b.string);};b.xMb=function(m,h){return m.Dj(h,b.zB);};b.gxa=function(m,h){return m.Dj(h,b.dz);};b.lk=function(m,h){m=m.Np(h);return m instanceof g.Do?m:(0,d.Hb)(m);};b.Ba=function(m,h){m=m.Np(h);return m instanceof g.Do?m:(0,k.Ba)(m);};b.url=c(/^\S+$/);b.xDb=function(m){return function(h,n){return h.D8a(n,m);};};b.object=function(){return function(m,h){return m.F8a(h);};};b.Pta=c;b.zE=function(m,h){return function(n,p){return n.Dj(p,m,h);};};},59578:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cba="ConfigurableInputsSymbol";b.wl="ValidatingConfigurableInputsSymbol";b.zY="ConfigNameSymbol";b.mP="InitParamsSymbol";},53685:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nn=b.hu=b.yw=void 0;(function(a){a[a.sMa=0]="Test";a[a.WEa=1]="Int";a[a.cmb=2]="Staging";a[a.slb=3]="Prod";})(b.yw || (b.yw={}));(function(a){a[a.QP=0]="PreferMsl";a[a.rKa=1]="PreferNoMsl";a[a.akb=2]="NoMsl";})(b.hu || (b.hu={}));b.nn="GeneralConfigSymbol";},65350:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TI="PlatformConfigDefaultsSymbol";},62106:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.qda=void 0;c=a(2467);l=a(36845);f=a(56261);k={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.qda=function(){this.mva=!0;this.BE=[];this.xk=[];this.Uq=[];this.HK=!1;this.Cka=!0;this.Lt=[f.vl.eba,f.vl.Nlb,f.vl.LI,f.vl.lEa];this.Vl=void 0;this.Mka=!0;this.N3=!1;this.U1=(0,l.Ba)(288E4);this.X1=(0,l.Ba)(335544320);this.sy=(0,c.Hb)(15E3);this.cQb=(0,l.Ba)(6291456);this.YL=1E3;this.pia=!0;this.w$=k;this.ZN=(0,l.Ba)(0);this.zL=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.E5=("ro zh-Hans zh-Hant vi ar he hi th").split(" ");this.F5=("ro zh-Hans zh-Hant ko vi ar he hi th").split(" ");this.A6=["th"];this.z$=(0,c.Hb)(0);this.OT=!0;this.M$=!1;this.JK=!0;this.dI=this.VA=this.Zu=!1;this.VE=["start"];this.q$=!0;};},98757:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mJa="PlatformConfigOverridesSymbol";},10459:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(86700);c=a(17244);l=a(86322);f=a(59578);k=a(53685);d=a(76545);g=a(30949);m=a(49873);h=a(65872);n=a(69673);p=a(23152);q=a(85291);b.config=new r.ed(function(u){u(c.ac).Vd(function(){return function(){return qb._cad_global.config;};});u(f.cba).to(l.YAa).da();u(f.wl).to(l.eNa).da();u(f.mP).to(l.SEa).da();u(k.nn).to(d.hDa).da();u(g.tHa).to(m.sHa).da();u(h.bDa).to(n.aDa).da();u(p.fq).to(q.yCa).da();});},90187:function(r,b,a){var f,k,d,g;function c(m,h){var n;n=g.call(this,m,h) || this;n.VTa=h;n.debug=m.debug;n.la=m.Cf.Ua(n.VTa);return n;}function l(m,h){this.VTa=h;this.pta={};this.cy=m.cy;this.jV=m.jV;this.Q8=m.Q8;}Object.defineProperty(b,"__esModule",{value:!0});b.Se=b.JO=b.oMa=void 0;r=a(70655);f=a(78479);k=a(86700);d=a(35032);b.oMa="isTestAccount";l.prototype.aYa=function(){};l.prototype.wua=function(m,h){this.pta[m]=[h,this.cy.o9];};l.prototype.oNb=function(m){return f.Xca.of(this.pta[m]).map(function(h){return h[1];}).or(-1) < this.cy.o9;};l.prototype.kJb=function(m){return f.Xca.of(this.pta[m]).map(function(h){return h[0];}).or(function(){throw Error("Invalid State Error");});};Xa.Object.defineProperties(l.prototype,{Hrb:{configurable:!0,enumerable:!0,get:function(){var m,h;if(this && this.cy && this.cy.data){m=this.cy.data[b.oMa];"undefined" !== typeof m && (h=m.toString());m=this.jV.Dta(h);m=m instanceof d.Do?!1:m;}else m=!1;return m;}}});g=l;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.ln)()),r.__param(1,(0,k.ln)())],g);b.JO=g;ea(c,g);c.prototype.aYa=function(m,h){this.la.error("Invalid configuration value.",{name:m},h);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,k.ln)()),r.__param(1,(0,k.ln)())],a);b.Se=a;},86322:function(r,b,a){var k,d,g,m,h;function c(){this.Jx={};this.T9a=0;}function l(n,p,q,u,t){this.debug=n;this.cy=p;this.jV=q;this.Cf=u;this.Q8=t;}function f(n,p,q){this.cy=n;this.jV=p;this.Q8=q;}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=b.eNa=b.YAa=void 0;r=a(70655);k=a(86700);d=a(78616);g=a(71163);m=a(35032);h=a(58236);a=a(59578);f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.mP)),r.__param(1,(0,k.l)(m.W_)),r.__param(2,(0,k.l)(h.Oda))],f);b.YAa=f;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.rw)),r.__param(1,(0,k.l)(a.mP)),r.__param(2,(0,k.l)(m.W_)),r.__param(3,(0,k.l)(g.Xa)),r.__param(4,(0,k.l)(h.Oda))],l);b.eNa=l;c.prototype.JQb=function(n){this.Jx=Object.assign({},this.Jx,n);this.T9a++;};Xa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Jx;}},o9:{configurable:!0,enumerable:!0,get:function(){return this.T9a;}}});a=c;a=r.__decorate([(0,k.T)()],a);b.SEa=a;},76545:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u){p=d.Se.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.Kf=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.hDa=b.QK=void 0;r=a(70655);l=a(2467);f=a(86700);k=a(54662);d=a(90187);g=a(53685);m=a(59578);a=a(65350);h={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.QK=function(p,q){return p.D8a(h[q] || q,g.yw);};ea(c,d.Se);Xa.Object.defineProperties(c.prototype,{QK:{configurable:!0,enumerable:!0,get:function(){return g.yw.slb;}},ibb:{configurable:!0,enumerable:!0,get:function(){return (0,l.xh)(8);}},SF:{configurable:!0,enumerable:!0,get:function(){return "";}},fK:{configurable:!0,enumerable:!0,get:function(){return "";}},AX:{configurable:!0,enumerable:!0,get:function(){return "";}},S1:{configurable:!0,enumerable:!0,get:function(){return !0;}},OT:{configurable:!0,enumerable:!0,get:function(){return this.Kf.OT;}},NDb:{configurable:!0,enumerable:!0,get:function(){return !1;}},od:{configurable:!0,enumerable:!0,get:function(){return {};}},$oa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Cr:{configurable:!0,enumerable:!0,get:function(){return !1;}},AS:{configurable:!0,enumerable:!0,get:function(){return !0;}},GC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Px:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.yw.sMa,g.yw.WEa].indexOf(this.QK);}}});n=c;r.__decorate([k.config(b.QK,"environment")],n.prototype,"QK",null);r.__decorate([k.config(k.lk,"storageTimeout")],n.prototype,"ibb",null);r.__decorate([k.config(k.string,"groupName")],n.prototype,"SF",null);r.__decorate([k.config(k.string,"canaryGroupName",!0)],n.prototype,"fK",null);r.__decorate([k.config(k.string,"uiGroupName")],n.prototype,"AX",null);r.__decorate([k.config(k.bd,"applyIndexedDbOpenWorkaround")],n.prototype,"S1",null);r.__decorate([k.config(k.bd,"ignoreIdbOpenError")],n.prototype,"OT",null);r.__decorate([k.config(k.bd,"executeStorageMigration")],n.prototype,"NDb",null);r.__decorate([k.config(k.object(),"browserInfo")],n.prototype,"od",null);r.__decorate([k.config(k.bd,"isTestAccount")],n.prototype,"$oa",null);r.__decorate([k.config(k.bd,"useRangeHeader")],n.prototype,"Cr",null);r.__decorate([k.config(k.bd,"enableMilestoneEventList")],n.prototype,"AS",null);r.__decorate([k.config(k.object,"storageRules")],n.prototype,"GC",null);n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(m.wl)),r.__param(1,(0,f.l)(a.TI)),r.__param(2,(0,f.l)(m.zY)),r.__param(2,(0,f.optional)())],n);b.hDa=n;},40409:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GAa="CapabilityDetectorFactorySymbol";},83931:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.zd=void 0;b.zd=a;a.Nba=/^hevc-main/;a.CDa=/^hevc-hdr-|hevc-dv/;a.DI=/^hevc-hdr-/;a.au=/^hevc-dv/;a.aP=/h264mpl/;a.cD=/h264mpl30/;a.dD=/h264mpl31/;a.oz=/h264hpl.*-dash$/;a.mya=/h264hpl.*-live$/;a.Oz=/^vp9-/;a.Ai=/^av1-/;a.bib=/[l|L]4[0-1]-/;a.bJ=/-L5[0-1]-/;a.kFa=/-live/;a.jaa=/^heaac-2-/;a.mib=/^heaac-2hq-dash/;a.Sw=/^xheaac-dash/;a.Jgb=/ddplus-2/;a.Kgb=/ddplus-5/;a.Lgb=/ddplus-atmos/;},39780:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dd=void 0;l=a(77003);c.MUa=function(f){var k;k={};k[l.Te.TP]=c.aP;k[l.Te.kZ]=c.aP;k[l.Te.bJ]=c.jZ;k[l.Te.DI]=c.DI;k[l.Te.au]=f || c.au;k[l.Te.oz]=c.aP;k[l.Te.Oz]=c.aQ;k[l.Te.Ai]=c.Ai;return k;};b.dd=c;c.Gqa='video/mp4; codecs="avc1.4d0028"';c.aP="avc1.4d0028";c.jZ="hev1.1.6.L93.B0";c.gba="dvhe.05.01";c.sBa="dvhe.05.04";c.hba="dvhe.05.05";c.iba="dvhe.05.06";c.jba="dvhe.05.07";c.kba="dvhe.05.09";c.au=c.gba;c.DI=c.jZ;c.jaa="mp4a.40.2";c.Sw="mp4a.40.42";c.Igb="ec-3";c.aQ="vp09.00.11.08.02";c.Ai="av01.0.04M.08";},74039:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C;Object.defineProperty(b,"__esModule",{value:!0});b.Lm=void 0;r=a(86700);c=a(77003);l=a(17244);f=a(75977);k=a(65146);d=a(50563);g=a(72014);m=a(21788);h=a(51080);n=a(37239);p=a(40409);q=a(60885);u=a(50876);t=a(63626);w=a(43784);v=a(43101);y=a(82226);x=a(14756);z=a(86229);A=a(36875);B=a(63088);D=a(62470);C=a(41826);b.Lm=new r.ed(function(F){F(d.VP).to(g.OLa).da();F(c.uw).to(f.FBa).da();F(m.aFa).to(h.$Ea).da();F(p.GAa).to(q.FAa).da();F(m.nJa).ll({isTypeSupported:u.Ez && u.Ez.isTypeSupported});F(n.SCa).LC(function(G){return {wHb:function(){return G.hb.get(B.w_);}};});F(k.uI).LC(function(G){return G.hb.get(l.ac);});F(t.EGa).to(w.BGa).da();F(D.AGa).to(C.zGa).da();F(v.DGa).to(y.CGa).da();F(x.Hba).to(z.RCa).da();F(A.AKa).ll(qb);});},77003:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uw=b.oNa=b.smb=b.Ao=b.Te=b.xl=b.Xt=b.v=void 0;(function(a){a[a.Audio=0]="Audio";a[a.gNa=1]="Video";})(b.v || (b.v={}));(function(a){a[a.tw=0]="Default";a[a.Gw=1]="Microsoft";})(b.Xt || (b.Xt={}));(function(a){a[a.tw=0]="Default";a[a.tI=1]="Chrome";a[a.Gw=2]="Microsoft";})(b.xl || (b.xl={}));(function(a){a[a.TP=0]="SD";a[a.kZ=1]="HD";a[a.bJ=2]="UHD";a[a.au=3]="DV";a[a.DI=4]="HDR10";a[a.oz=5]="AVCHigh";a[a.Oz=6]="VP9";a[a.Ai=7]="AV1";})(b.Te || (b.Te={}));(function(a){a[a.c_=0]="Level_1_4";a[a.mD=1]="Level_2_2";})(b.Ao || (b.Ao={}));b.smb=function(){};(function(a){a[a.T$b=0]="Platform";a[a.l8b=1]="CurrentTitle";})(b.oNa || (b.oNa={}));b.uw="DeviceCapabilitiesSymbol";},65146:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.uI=b.yhb=void 0;c=a(77003);b.yhb=function(){this.BE=[];this.xk=[];this.Uq=[];this.OQa=[];this.Cha=c.Xt.tw;this.U$=c.xl.tw;};b.uI="DeviceCapabilitiesConfigSymbol";},14756:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hba=b.Aw=void 0;r=b.Aw || (b.Aw={});r.qmb="unknown";r.nya="absent";r.zKa="present";r.Error="error";b.Hba="ExternalDisplayLogHelperSymbol";},37239:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SCa="ExtraPlatformInfoProviderSymbol";},21788:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aFa="IsTypeSupportedProviderFactorySymbol";b.nJa="PlatformIsTypeSupportedSymbol";},13329:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wI=b.$a=void 0;l=a(56594);f=a(56003);k=a(68172);c.fT=function(d){if(d){if(d.includes(b.wI.Ey))return l.Ak.Ey;if(d.includes("fps"))return l.Ak.cB;if(d.includes(b.wI.TX))return l.Ak.TX;}throw new f.Mc(k.U.Nhb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.pma=function(d){switch(d){case l.Ak.Ey:return b.wI.Ey;case l.Ak.cB:return b.wI.cB;default:return b.wI.TX;}};b.$a=c;c.Mw="com.microsoft.playready";c.ud="com.microsoft.playready.hardware";c.xD="com.microsoft.playready.software";c.dib="com.apple.fps.2_0";c.dQ="com.widevine.alpha";c.wNa="com.widevine.alpha.experiment";c.sda="com.microsoft.playready.recommendation.3000";c.tJa="com.microsoft.playready.recommendation.2000";c.gEa=[c.sda];b.wI={cB:"fairplay",TX:"widevine",Ey:"playready"};},63626:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EGa="MediaCapabilitiesSymbol";},62470:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AGa="MediaCapabilitiesDetectorSymbol";},43101:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DGa="MediaCapabilitiesLogHelperSymbol";},56261:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={cD:"playready-h264mpl30-dash",dD:"playready-h264mpl31-dash",iZ:"playready-h264mpl40-dash",nDa:"h264mpl30-dash-playready-prk-qc",oDa:"h264mpl31-dash-playready-prk-qc",pDa:"h264mpl40-dash-playready-prk-qc",lDa:"playready-h264hpl22-dash",cZ:"playready-h264hpl30-dash",eZ:"playready-h264hpl31-dash",gZ:"playready-h264hpl40-dash",mDa:"h264hpl22-dash-playready-live",dZ:"h264hpl30-dash-playready-live",fZ:"h264hpl31-dash-playready-live",hZ:"h264hpl40-dash-playready-live",wea:"vp9-profile0-L21-dash-cenc",e0:"vp9-profile0-L30-dash-cenc",f0:"vp9-profile0-L31-dash-cenc",bQ:"vp9-profile0-L40-dash-cenc",Oba:"hevc-main10-L30-dash-cenc",Pba:"hevc-main10-L31-dash-cenc",Qba:"hevc-main10-L40-dash-cenc",Rba:"hevc-main10-L41-dash-cenc",dP:"hevc-main10-L50-dash-cenc",eP:"hevc-main10-L51-dash-cenc",FZ:"hevc-main10-L30-dash-cenc-prk",IZ:"hevc-main10-L31-dash-cenc-prk",LZ:"hevc-main10-L40-dash-cenc-prk",OZ:"hevc-main10-L41-dash-cenc-prk",GZ:"hevc-main10-L30-dash-cenc-prk-do",JZ:"hevc-main10-L31-dash-cenc-prk-do",MZ:"hevc-main10-L40-dash-cenc-prk-do",PZ:"hevc-main10-L41-dash-cenc-prk-do",RZ:"hevc-main10-L50-dash-cenc-prk-do",TZ:"hevc-main10-L51-dash-cenc-prk-do",EZ:"hevc-main10-L30-dash-cenc-live",HZ:"hevc-main10-L31-dash-cenc-live",KZ:"hevc-main10-L40-dash-cenc-live",NZ:"hevc-main10-L41-dash-cenc-live",QZ:"hevc-main10-L50-dash-cenc-live",SZ:"hevc-main10-L51-dash-cenc-live",DY:"hevc-dv5-main10-L30-dash-cenc-prk",FY:"hevc-dv5-main10-L31-dash-cenc-prk",VO:"hevc-dv5-main10-L40-dash-cenc-prk",IY:"hevc-dv5-main10-L41-dash-cenc-prk",KY:"hevc-dv5-main10-L50-dash-cenc-prk",MY:"hevc-dv5-main10-L51-dash-cenc-prk",lba:"hevc-dv5-main10-L40-dash-cenc-prk-qc",mba:"hevc-dv5-main10-L41-dash-cenc-prk-qc",nba:"hevc-dv5-main10-L50-dash-cenc-prk-qc",oba:"hevc-dv5-main10-L51-dash-cenc-prk-qc",EY:"hevc-dv5-main10-L30-dash-cenc-prk-do",GY:"hevc-dv5-main10-L31-dash-cenc-prk-do",HY:"hevc-dv5-main10-L40-dash-cenc-prk-do",JY:"hevc-dv5-main10-L41-dash-cenc-prk-do",LY:"hevc-dv5-main10-L50-dash-cenc-prk-do",NY:"hevc-dv5-main10-L51-dash-cenc-prk-do",mZ:"hevc-hdr-main10-L30-dash-cenc-prk",pZ:"hevc-hdr-main10-L31-dash-cenc-prk",cP:"hevc-hdr-main10-L40-dash-cenc-prk",uZ:"hevc-hdr-main10-L41-dash-cenc-prk",xZ:"hevc-hdr-main10-L50-dash-cenc-prk",AZ:"hevc-hdr-main10-L51-dash-cenc-prk",nZ:"hevc-hdr-main10-L30-dash-cenc-prk-do",qZ:"hevc-hdr-main10-L31-dash-cenc-prk-do",sZ:"hevc-hdr-main10-L40-dash-cenc-prk-do",vZ:"hevc-hdr-main10-L41-dash-cenc-prk-do",yZ:"hevc-hdr-main10-L50-dash-cenc-prk-do",BZ:"hevc-hdr-main10-L51-dash-cenc-prk-do",lZ:"hevc-hdr-main10-L30-dash-cenc-live",oZ:"hevc-hdr-main10-L31-dash-cenc-live",rZ:"hevc-hdr-main10-L40-dash-cenc-live",tZ:"hevc-hdr-main10-L41-dash-cenc-live",wZ:"hevc-hdr-main10-L50-dash-cenc-live",zZ:"hevc-hdr-main10-L51-dash-cenc-live",gya:"av1-main-L20-dash-cbcs-prk",hya:"av1-main-L21-dash-cbcs-prk",mz:"av1-main-L30-dash-cbcs-prk",nz:"av1-main-L31-dash-cbcs-prk",nI:"av1-main-L40-dash-cbcs-prk",oI:"av1-main-L41-dash-cbcs-prk",fY:"av1-main-L50-dash-cbcs-prk",gY:"av1-main-L51-dash-cbcs-prk"};b.Kc={sY:[b.H.cD,b.H.dD,b.H.iZ],bY:[b.H.cZ,b.H.eZ,b.H.gZ],aY:[b.H.dZ,b.H.fZ,b.H.hZ],kaa:[b.H.e0,b.H.f0,b.H.bQ],mgb:[b.H.Oba,b.H.Pba,b.H.Qba,b.H.Rba,b.H.dP,b.H.eP],vY:[b.H.FZ,b.H.IZ,b.H.LZ,b.H.OZ,b.H.dP,b.H.eP],wY:[b.H.GZ,b.H.JZ,b.H.MZ,b.H.PZ,b.H.RZ,b.H.TZ],Waa:[b.H.EZ,b.H.HZ,b.H.KZ,b.H.NZ,b.H.QZ,b.H.SZ],tY:[b.H.mZ,b.H.pZ,b.H.cP,b.H.uZ,b.H.xZ,b.H.AZ],uY:[b.H.nZ,b.H.qZ,b.H.sZ,b.H.vZ,b.H.yZ,b.H.BZ],Vaa:[b.H.lZ,b.H.oZ,b.H.rZ,b.H.tZ,b.H.wZ,b.H.zZ],mAa:[b.H.DY,b.H.VO,b.H.KY,b.H.FY,b.H.IY,b.H.MY],nAa:[b.H.EY,b.H.HY,b.H.LY,b.H.GY,b.H.JY,b.H.NY],oAa:[b.H.mz,b.H.nz,b.H.nI,b.H.oI,b.H.fY,b.H.gY]};b.yd={eD:"heaac-2-dash",CZ:"heaac-5.1-dash",fD:"heaac-2hq-dash",Sw:"xheaac-dash",TO:"ddplus-2.0-dash",BY:"ddplus-5.1-dash",UO:"ddplus-atmos-dash"};b.vl={Nlb:"simplesdh",eba:"dfxp-ls-sdh",lEa:"imsc1.1",h0:"webvtt-lssdh-ios8",LI:"nflx-cmisc"};},36875:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AKa="PresentationAPISymbol";},50563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VP="SourceBufferTypeProviderSymbol";},60885:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z;function c(A,B,D,C,F,G,E,J,M,L){this.f2a=A;this.config=B;this.wc=D;this.qa=C;this.is=F;this.eo=G;this.Wl=E;this.platform=J;this.kc=M;this.uy=L;}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;r=a(70655);l=a(86700);f=a(77003);k=a(21788);d=a(65146);g=a(65168);m=a(33561);h=a(9045);n=a(55024);p=a(65428);q=a(35664);u=a(89542);t=a(44668);w=a(1092);v=a(71163);y=a(811);x=a(31224);a=a(62470);c.prototype.Dyb=function(A){var B;B=this.f2a.AUa();switch(A){case f.Xt.Gw:return new g.bHa(this.config,B,this.is,this.platform,this.uy);default:return new n.QY(this.config,B,this.uy);}};c.prototype.Kzb=function(A){var B;B=this.f2a.AUa();switch(A){case f.xl.tI:A=new t.NAa(this.config,B,this.is,this.eo,this.Wl,this.qa,this.uy);break;case f.xl.Gw:A=new m.kGa(this.config,B,this.is,this.wc,this.qa,this.Wl,this.kc,this.uy,this.eo);break;default:A=new h.xz(this.config,B,this.is,this.uy);}return A;};z=c;z=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.aFa)),r.__param(1,(0,l.l)(d.uI)),r.__param(2,(0,l.l)(p.Ci)),r.__param(3,(0,l.l)(q.gg)),r.__param(4,(0,l.l)(u.Wf)),r.__param(5,(0,l.l)(w.Fw)),r.__param(6,(0,l.l)(v.Xa)),r.__param(7,(0,l.l)(y.tn)),r.__param(8,(0,l.l)(x.fh)),r.__param(9,(0,l.l)(a.AGa))],z);b.FAa=z;},55700:function(r,b,a){var l,f,k,d,g;function c(m,h,n,p){this.config=m;this.fo=h;this.mediaType=n;this.uy=p;this.yqa={};this.yqa[l.v.Audio]="audio";this.yqa[l.v.gNa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.$C=void 0;l=a(77003);r=a(84540);f=a(83931);k=a(50876);d=a(59608);g=new r.CD().format;c.prototype.A_a=function(m){return this.pBb(this.XIb(this.i_a(),m));};c.prototype.LE=function(m){return this.fo.isTypeSupported(m);};c.prototype.bHb=function(){return [f.zd.jaa,f.zd.mib,f.zd.cD,f.zd.dD];};c.prototype.lMb=function(){this.lo=[];this.xt=[];this.config().aUb && this.xt.push(f.zd.Sw);this.config().G6a && this.xt.push(f.zd.Nba);this.config().F6a && this.xt.push(f.zd.CDa);this.config().E6a && this.xt.push(f.zd.au);this.config().C6a && this.xt.push(f.zd.oz);this.config().D6a && this.xt.push(f.zd.mya);this.config().H6a && this.xt.push(f.zd.Oz);this.config().B6a && this.xt.push(f.zd.Ai);this.xt=this.xt.concat(this.bHb());!this.config().fDb && this.lo.push(f.zd.Sw);!this.config().vWa && this.lo.push(f.zd.Jgb);!this.config().uWa && this.lo.push(f.zd.Kgb);!this.config().IK && this.lo.push(f.zd.Lgb);!this.config().SCb && this.lo.push(/prk$/);this.config().E6a || this.config().DCb || this.lo.push(f.zd.au);this.config().G6a || this.config().GCb || this.lo.push(f.zd.Nba);this.config().F6a || this.config().Eka || this.lo.push(f.zd.CDa);this.config().C6a || this.config().HK || this.lo.push(f.zd.oz);this.config().D6a || this.config().Cka || this.lo.push(f.zd.mya);this.config().H6a || this.config().bDb || this.lo.push(f.zd.Oz);this.config().B6a || this.config().tCb || this.lo.push(f.zd.Ai);!this.config().aDb && this.lo.push(f.zd.bJ);};c.prototype.XIb=function(m,h){var n;n=k.Be.hardwareConcurrency && k.Be.hardwareConcurrency;return m.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.xd) || !p.restrictToUILabels.includes(h.xd))?!1:!0;}).map(function(p){return p.name;});};c.prototype.JS=function(m){var h,n;h=this;n=m.map(function(p){for(var q=la(h.xt),u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!0});}q=la(h.lo);for(u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return h.IS(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.z_(m,p);});};c.prototype.IS=function(m){var h;h=this;return this.Voa(m).then(function(n){return n.supported?h.config().OCb?h.uy.IS(m):h.ola(m):n;});};c.prototype.ola=function(m){var h;m=this.TV[m];h="";return m?(Array.isArray(m) && (h=1 < m.length?" " + m[1]:"",m=m[0]),m=g("{0}/mp4;codecs={1};{2}",this.yqa[this.mediaType],m,h),this.LE(m)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.pBb=function(m){this.lMb();return this.JS(m);};c.prototype.Voa=function(){return Promise.resolve({supported:!0});};Xa.Object.defineProperties(c.prototype,{TV:{configurable:!0,enumerable:!0,get:function(){this.kPa || (this.kPa=this.Bq());return this.kPa;}}});b.$C=c;},44668:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u,t,w){h=l.xz.call(this,h,n,p,w) || this;h.eo=q;h.Wl=u;h.qa=t;h.uy=w;h.type=f.xl.tI;h.log=h.Wl.Ua("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;l=a(9045);f=a(77003);k=a(2467);d=a(85060);g=a(83931);m=a(13329);ea(c,l.xz);c.prototype.KH=function(h){switch(h){case f.Ao.mD:return this.H2b;default:return Promise.resolve(!1);}};c.prototype.sT=function(){var h;h=this;return this.KH(f.Ao.mD).then(function(n){return n?f.Ao.mD:void 0;}).then(function(n){return h.X2(n);});};c.prototype.Fga=function(h){this.Gp=h;};c.prototype.HNb=function(h){var n;return !(null === (n=h.getConfiguration().videoCapabilities) || void 0 === n || !n.some(function(p){return (null === p || void 0 === p?void 0:p.robustness) === d.Jr;}));};c.prototype.sdb=function(){var h;if(this.Gp){h=this.k0a && this.m0a && this.k0a.wa(this.m0a).ba(k.na);this.Gp.itshdcp=JSON.stringify({hdcp2:this.Ts,time2:h});}};c.prototype.Voa=function(h){var n;n=this;return this.eo.gB().then(function(p){var q;q=(0,d.O4)(p);p=q === d.Jr || m.$a.gEa.includes(p.keySystem);return [g.zd.oz,g.zd.Oz,g.zd.Ai].some(function(u){return u.test(h);}) && !g.zd.kFa.test(h) && n.config().I4a && p?{supported:!1,reason:"mcclearen-restricted"}:!p && g.zd.Nba.test(h) || g.zd.bib.test(h) && !(n.config().FCb || n.config().xWa && q === d.Jr) || g.zd.bJ.test(h) && (!n.config().xWa || q !== d.Jr)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Xa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.B4a || (this.B4a=this.eo.gB().then(function(h){return h.createMediaKeys();}));return this.B4a;}},H2b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.Awa || (this.config().HCb?this.Awa=Promise.all([this.eo.gB(),this.mediaKeys]).then(function(n){var p;p=la(n);n=p.next().value;p=p.next().value;if(!h.HNb(n))return (h.Ts="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.Ts),!1);if(p && p.getStatusForPolicy)return (h.m0a=h.qa.fe,p.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.k0a=h.qa.fe;h.Ts=q;h.log.trace("hdcpStatus: " + h.Ts);return "usable" === h.Ts;}));h.Ts="not available";h.log.trace("hdcpStatus: " + h.Ts);return !1;}).catch(function(n){h.Ts="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Ts},n);return !1;}).then(function(n){h.sdb();return n;}):(this.Ts="not enabled",this.log.trace("hdcpStatus: " + this.Ts),this.sdb(),this.Awa=Promise.resolve(!1)));return this.Awa;}}});b.NAa=c;},55024:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){p=f.$C.call(this,h,n,l.v.Audio,p) || this;p.config=h;p.fo=n;p.type=l.Xt.tw;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.QY=void 0;l=a(77003);f=a(55700);k=a(39780);r=a(84540);d=a(21973);g=a(59608);m=new r.CD().format;ea(c,f.$C);c.prototype.$W=function(){var h;h=m(c.F$,k.dd.Igb);return Promise.resolve(this.config().IK && this.fo.isTypeSupported(h));};c.prototype.Bq=function(){return d.rba.Bq();};c.prototype.i_a=function(){return this.config().BE;};c.prototype.JS=function(h){return this.config().ZTb?Promise.resolve(new g.z_(h,h.map(function(){return {supported:!0};}))):f.$C.prototype.JS.call(this,h);};b.QY=c;c.F$="audio/mp4;codecs={0};";},21973:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rba=void 0;l=a(56261);c.Bq=function(){var f;f={};return (f[l.yd.eD]="mp4a.40.2",f[l.yd.CZ]="mp4a.40.2",f[l.yd.fD]="mp4a.40.2",f[l.yd.Sw]="mp4a.40.42",f[l.yd.TO]="ec-3",f[l.yd.BY]="ec-3",f[l.yd.UO]="ec-3",f);};b.rba=c;},9045:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u){var t;t=k.$C.call(this,n,p,l.v.gNa,u) || this;t.config=n;t.fo=p;t.is=q;t.X6=u;t.type=l.xl.tw;t.k6b=d.dd.MUa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.xz=void 0;l=a(77003);f=a(56261);k=a(55700);r=a(84540);d=a(39780);g=a(73124);m=a(56170);h=a(59608);new r.CD();ea(c,k.$C);c.prototype.KH=function(){return Promise.resolve(!1);};c.prototype.GF=function(){return Promise.resolve("");};c.prototype.F4=function(){return Promise.resolve("");};c.prototype.bX=function(){return this.config().Eka?this.X6.Joa()?this.X6.IS(f.H.cP).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.r$=function(){return this.config().Eka?this.X6.Joa()?this.X6.IS(f.H.VO).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.cX=function(){return Promise.resolve(!1);};c.prototype.$W=function(){return Promise.resolve(!1);};c.prototype.bT=function(n){return this.k6b[n];};c.prototype.Fga=function(){};c.prototype.OPb=function(n){switch(n){case l.Ao.c_:return "1.4";case l.Ao.mD:return "2.2";}};c.prototype.Bq=function(){return g.RY.Bq();};c.prototype.i_a=function(){var p;function n(q,u){return (0,m.Ycb)(function(t,w){return t.name === w.name;},q,u);}p=n(this.config().OQa,this.config().xk);return n(p,this.config().Uq);};c.prototype.sT=function(){return Promise.resolve(void 0);};c.prototype.S4=function(){return Promise.resolve(void 0);};c.prototype.X2=function(n){var p;p=[];this.is.vg(n) && p.push(this.OPb(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.JS=function(n){return this.config().$Tb?Promise.resolve(new h.z_(n,n.map(function(){return {supported:!0};}))):k.$C.prototype.JS.call(this,n);};b.xz=c;c.F$="video/mp4;codecs={0};";},73124:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RY=void 0;l=a(56261);f=a(39780);c.Bq=function(){var k;k={};return (k[l.H.cD]="avc1.4D401E",k[l.H.dD]="avc1.4D401F",k[l.H.iZ]="avc1.4D4028",k[l.H.nDa]="avc1.4D401E",k[l.H.oDa]="avc1.4D401F",k[l.H.pDa]="avc1.4D4028",k[l.H.Oba]="hev1.2.6.L90.B0",k[l.H.Pba]="hev1.2.6.L93.B0",k[l.H.Qba]="hev1.2.6.L120.B0",k[l.H.Rba]="hev1.2.6.L123.B0",k[l.H.FZ]="hev1.2.6.L90.B0",k[l.H.IZ]="hev1.2.6.L93.B0",k[l.H.LZ]="hev1.2.6.L120.B0",k[l.H.OZ]="hev1.2.6.L123.B0",k[l.H.dP]="hev1.2.6.L150.B0",k[l.H.eP]="hev1.2.6.L153.B0",k[l.H.GZ]="hev1.2.6.L90.B0",k[l.H.JZ]="hev1.2.6.L93.B0",k[l.H.MZ]="hev1.2.6.L120.B0",k[l.H.PZ]="hev1.2.6.L123.B0",k[l.H.RZ]="hev1.2.6.L150.B0",k[l.H.TZ]="hev1.2.6.L153.B0",k[l.H.EZ]="hev1.2.6.L90.B0",k[l.H.HZ]="hev1.2.6.L93.B0",k[l.H.KZ]="hev1.2.6.L120.B0",k[l.H.NZ]="hev1.2.6.L123.B0",k[l.H.QZ]="hev1.2.6.L150.B0",k[l.H.SZ]="hev1.2.6.L153.B0",k[l.H.mZ]="hev1.2.6.L90.B0",k[l.H.pZ]="hev1.2.6.L93.B0",k[l.H.cP]="hev1.2.6.L120.B0",k[l.H.uZ]="hev1.2.6.L123.B0",k[l.H.xZ]="hev1.2.6.L150.B0",k[l.H.AZ]="hev1.2.6.L153.B0",k[l.H.nZ]="hev1.2.6.L90.B0",k[l.H.qZ]="hev1.2.6.L93.B0",k[l.H.sZ]="hev1.2.6.L120.B0",k[l.H.vZ]="hev1.2.6.L123.B0",k[l.H.yZ]="hev1.2.6.L150.B0",k[l.H.BZ]="hev1.2.6.L153.B0",k[l.H.lZ]="hev1.2.6.L90.B0",k[l.H.oZ]="hev1.2.6.L93.B0",k[l.H.rZ]="hev1.2.6.L120.B0",k[l.H.tZ]="hev1.2.6.L123.B0",k[l.H.wZ]="hev1.2.6.L150.B0",k[l.H.zZ]="hev1.2.6.L153.B0",k[l.H.DY]=f.dd.gba,k[l.H.FY]=f.dd.sBa,k[l.H.VO]=f.dd.hba,k[l.H.IY]=f.dd.iba,k[l.H.KY]=f.dd.jba,k[l.H.MY]=f.dd.kba,k[l.H.lba]=f.dd.hba,k[l.H.mba]=f.dd.iba,k[l.H.nba]=f.dd.jba,k[l.H.oba]=f.dd.kba,k[l.H.EY]=f.dd.gba,k[l.H.GY]=f.dd.sBa,k[l.H.HY]=f.dd.hba,k[l.H.JY]=f.dd.iba,k[l.H.LY]=f.dd.jba,k[l.H.NY]=f.dd.kba,k[l.H.lDa]="avc1.640016",k[l.H.cZ]="avc1.64001E",k[l.H.eZ]="avc1.64001F",k[l.H.gZ]="avc1.640028",k[l.H.mDa]="avc1.640016",k[l.H.dZ]="avc1.64001E",k[l.H.fZ]="avc1.64001F",k[l.H.hZ]="avc1.640028",k[l.H.wea]=f.dd.aQ,k[l.H.e0]=f.dd.aQ,k[l.H.f0]=f.dd.aQ,k[l.H.bQ]=f.dd.aQ,k[l.H.gya]=f.dd.Ai,k[l.H.hya]=f.dd.Ai,k[l.H.mz]=f.dd.Ai,k[l.H.nz]=f.dd.Ai,k[l.H.nI]=f.dd.Ai,k[l.H.oI]=f.dd.Ai,k[l.H.fY]=f.dd.Ai,k[l.H.gY]=f.dd.Ai,k);};b.RY=c;},75977:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){this.config=h;this.ISa=n;this.XUb=p;this.RWb=this.wzb();}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;r=a(70655);l=a(77003);f=a(65146);k=a(86700);d=a(56261);g=a(37239);a=a(40409);c.prototype.z_a=function(h){return this.sYa().A_a(h);};c.prototype.B_a=function(h){return this.Rs().A_a(h);};c.prototype.sYa=function(){this.Bha && this.Bha.type == this.config().Cha || (this.Bha=this.ISa.Dyb(this.config().Cha));return this.Bha;};c.prototype.Rs=function(){this.T$ && this.T$.type == this.config().U$ || (this.T$=this.ISa.Kzb(this.config().U$),this.T$.Fga(this.XUb.wHb()));return this.T$;};c.prototype.JHb=function(h){var q;if(!h || !h.length)return l.Te.kZ;h=this.VEb(h);for(var n=[l.Te.TP,l.Te.kZ,l.Te.bJ,l.Te.DI,l.Te.au,l.Te.oz,l.Te.Oz,l.Te.Ai],p=n.length;p--;){q=n[p];if((0,this.RWb[q])(h))return q;}return l.Te.TP;};c.prototype.KH=function(h){return this.Rs().KH(h);};c.prototype.LE=function(h){return this.Rs().LE(h);};c.prototype.GF=function(){return this.Rs().GF();};c.prototype.F4=function(){return this.Rs().F4();};c.prototype.bX=function(){return this.Rs().bX();};c.prototype.$W=function(){return this.sYa().$W();};c.prototype.r$=function(){return this.Rs().r$();};c.prototype.cX=function(){return this.Rs().cX();};c.prototype.bT=function(h){return this.Rs().bT(h);};c.prototype.sT=function(){return this.Rs().sT();};c.prototype.S4=function(){return this.Rs().S4();};c.prototype.VEb=function(h){var n;n={};h.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Ld]="";});return Object.keys(n);};c.prototype.wzb=function(){var h;h={};h[l.Te.Ai]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};h[l.Te.oz]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};h[l.Te.Oz]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};h[l.Te.au]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};h[l.Te.DI]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};h[l.Te.bJ]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};h[l.Te.kZ]=(function(n,p){var q;q={};n.forEach(function(u){return q[u]=1;});n=la(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.dD]);h[l.Te.TP]=function(){return !0;};return h;};m=c;m=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.uI)),r.__param(1,(0,k.l)(a.GAa)),r.__param(2,(0,k.l)(g.SCa))],m);b.FBa=m;},86229:function(r,b,a){var l,f,k;function c(d){this.gWb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.RCa=void 0;r=a(70655);l=a(86700);f=a(14756);a=a(36875);c.prototype.oEb=function(){var d,g;d={UK:f.Aw.qmb};try{g=this.gWb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(m){var h;d.UK=m.value?f.Aw.zKa:f.Aw.nya;if(d.UK === f.Aw.nya){h=function(){m.value && (d.UK=f.Aw.zKa);m.removeEventListener("change",h);};m.addEventListener("change",h);}}).catch(function(){d.UK=f.Aw.Error;});}catch(m){d.UK=f.Aw.Error;}return d;};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.AKa))],k);b.RCa=k;},51080:function(r,b,a){var l,f,k,d,g;function c(m,h){this.config=m;this.DAb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;r=a(70655);l=a(86700);f=a(21788);k=a(65146);d=a(77003);g=a(52825);c.prototype.AUa=function(){switch(this.config().U$){case d.xl.Gw:return g.Cz.ezb();default:return this.DAb;}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.uI)),r.__param(1,(0,l.l)(f.nJa))],a);b.$Ea=a;},33561:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F;function c(G,E,J,M,L,I,P,K,H){G=f.xz.call(this,G,E,J,K) || this;G.wc=M;G.qa=L;G.Wl=I;G.kc=P;G.uy=K;G.eo=H;G.type=k.xl.Gw;G.sI="hvc1";G.qAa="avc1";G.k7a={};G.log=G.Wl.Ua("MicrosoftVideoCapabilityDetector");G.L1b();G.aX && G.config().NQb?G.aWa=G.Vyb():(G.aWa=Promise.resolve(""),G.config().PQb?G.azb():G.config().OQb && G.$yb());return G;}Object.defineProperty(b,"__esModule",{value:!0});b.kGa=void 0;l=a(56261);f=a(9045);k=a(77003);r=a(84540);d=a(13329);g=a(2467);m=a(52275);h=a(39780);n=a(52825);p=a(85060);q=a(83931);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];D=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");C=new r.CD();F=new m.Raa();ea(c,f.xz);c.prototype.bT=function(G){return G === k.Te.au && this.config().x5b?h.dd.jZ:f.xz.prototype.bT.call(this,G);};c.prototype.KH=function(G){switch(G){case k.Ao.c_:return this.Jbb();case k.Ao.mD:return this.VV;default:return Promise.resolve(!1);}};c.prototype.GF=function(){var E;function G(){return E.aX?E.oLb?E.Jbb().then(function(J){return Promise.resolve(J?d.$a.ud:d.$a.xD);}):Promise.resolve(d.$a.xD):E.K2b?Promise.resolve(d.$a.xD):Promise.resolve(d.$a.Mw);}E=this;this.keySystem || (this.keySystem=this.config().Dr?this.eo.gB().then(function(J){return J.keySystem;}):G());return this.keySystem;};c.prototype.F4=function(){return this.aWa;};c.prototype.bX=function(){return Promise.resolve({result:this.Ibb(),reason:"is-type-supported"});};c.prototype.cX=function(){return this.aX && this.Lbb()?this.VV:Promise.resolve(!1);};c.prototype.r$=function(){return Promise.resolve(this.Hbb()).then(function(G){return {result:G,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Fga=function(G){this.Gp=G;Object.assign(this.Gp,this.k7a);G.itshwdrm=this.aX;G.itsqhd=this.Kbb();G.itshevc=this.Lbb();G.itshdr=this.Ibb();G.itsdv=this.Hbb();G.itsav1=this.G2b();G.itshevccl=this.I2b();G.itsavccl=this.E2b();this.sxa();};c.prototype.pR=function(G,E){(this.Gp?this.Gp:this.k7a)[G]=E;};c.prototype.sT=function(){var G;G=this;return this.KH(k.Ao.mD).then(function(E){return E?G.X2(k.Ao.mD):G.KH(k.Ao.c_).then(function(J){return J?G.X2(k.Ao.c_):G.X2(void 0);});});};c.prototype.S4=function(){return this.config().Dr?Promise.resolve(void 0):this.GF().then(function(G){return G === d.$a.ud?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.ola=function(G){var E;E=this;return this.GF().then(function(J){var M,L,I;M=E.TV[G];if(M){L=[];if(E.is.Xo(M))I=M;else (L=M.features,I=M.vd,J=M.keySystem);return E.xs(J,I,L)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Bq=function(){var G;G=f.xz.prototype.Bq.call(this);G[l.H.bQ]=G[l.H.f0]=G[l.H.e0]=G[l.H.wea]={vd:"vp09.00.11.08.02",keySystem:d.$a.ud,features:u};G[l.H.GZ]=G[l.H.FZ]=G[l.H.EZ]={vd:"hev1.2.6.L90.B0",keySystem:d.$a.ud,features:t};G[l.H.JZ]=G[l.H.IZ]=G[l.H.HZ]={vd:"hev1.2.6.L93.B0",keySystem:d.$a.ud,features:t};G[l.H.MZ]=G[l.H.LZ]=G[l.H.KZ]={vd:"hev1.2.6.L120.B0",keySystem:d.$a.ud,features:t};G[l.H.PZ]=G[l.H.OZ]=G[l.H.NZ]={vd:"hev1.2.6.L123.B0",keySystem:d.$a.ud,features:t};G[l.H.RZ]=G[l.H.dP]=G[l.H.QZ]={vd:"hev1.2.6.L150.B0",keySystem:d.$a.ud,features:t};G[l.H.TZ]=G[l.H.eP]=G[l.H.SZ]={vd:"hev1.2.6.L153.B0",keySystem:d.$a.ud,features:t};G[l.H.nZ]=G[l.H.mZ]=G[l.H.lZ]={vd:"hev1.2.6.L90.B0",keySystem:d.$a.ud,features:v};G[l.H.qZ]=G[l.H.pZ]=G[l.H.oZ]={vd:"hev1.2.6.L93.B0",keySystem:d.$a.ud,features:v};G[l.H.sZ]=G[l.H.cP]=G[l.H.rZ]={vd:"hev1.2.6.L120.B0",keySystem:d.$a.ud,features:v};G[l.H.vZ]=G[l.H.uZ]=G[l.H.tZ]={vd:"hev1.2.6.L123.B0",keySystem:d.$a.ud,features:y};G[l.H.yZ]=G[l.H.xZ]=G[l.H.wZ]={vd:"hev1.2.6.L150.B0",keySystem:d.$a.ud,features:y};G[l.H.BZ]=G[l.H.AZ]=G[l.H.zZ]={vd:"hev1.2.6.L153.B0",keySystem:d.$a.ud,features:y};G[l.H.EY]=G[l.H.DY]={vd:"hev1.2.6.L90.B0",keySystem:d.$a.ud,features:x};G[l.H.GY]=G[l.H.FY]={vd:"hev1.2.6.L93.B0",keySystem:d.$a.ud,features:x};G[l.H.HY]=G[l.H.lba]=G[l.H.VO]={vd:"hev1.2.6.L120.B0",keySystem:d.$a.ud,features:x};G[l.H.JY]=G[l.H.mba]=G[l.H.IY]={vd:"hev1.2.6.L123.B0",keySystem:d.$a.ud,features:z};G[l.H.LY]=G[l.H.nba]=G[l.H.KY]={vd:"hev1.2.6.L150.B0",keySystem:d.$a.ud,features:z};G[l.H.NY]=G[l.H.oba]=G[l.H.MY]={vd:"hev1.2.6.L153.B0",keySystem:d.$a.ud,features:z};G[l.H.mz]={vd:"av01.0.04M.10",keySystem:d.$a.ud,features:u};G[l.H.nz]={vd:"av01.0.05M.10",keySystem:d.$a.ud,features:u};G[l.H.nI]={vd:"av01.0.08M.10",keySystem:d.$a.ud,features:u};G[l.H.oI]={vd:"av01.0.09M.10",keySystem:d.$a.ud,features:u};G[l.H.fY]={vd:"av01.0.12M.10",keySystem:d.$a.ud,features:w};G[l.H.gY]={vd:"av01.0.13M.10",keySystem:d.$a.ud,features:w};return G;};c.prototype.xs=function(G,E,J){G=n.Cz.Y2(G,E,J);return this.LE(G);};c.prototype.Kbb=function(){return this.xs(d.$a.ud,this.sI,t);};c.prototype.Ibb=function(){return this.xs(d.$a.ud,this.sI,v);};c.prototype.Hbb=function(){return this.xs(d.$a.ud,this.sI,x);};c.prototype.G2b=function(){return this.xs(d.$a.ud,h.dd.Ai,u);};c.prototype.Lbb=function(){return this.xs(d.$a.ud,this.sI,w);};c.prototype.I2b=function(){return this.xs(d.$a.ud,this.sI,D);};c.prototype.E2b=function(){return this.xs(d.$a.ud,this.qAa,D);};c.prototype.Jbb=function(){var G;G=this;return this.VV.then(function(E){return E?Promise.resolve(E):G.i8a;});};c.prototype.sxa=function(){this.Gp && (this.Gp.itshdcp=JSON.stringify({hdcp1:this.i0a,time1:this.hcb - this.Yab,hdcp2:this.j0a,time2:this.icb - this.Zab}));};c.prototype.L1b=function(){var G;G=this;this.aX?(this.VV=this.e_a(this.config().J4a,this.config().RQb,function(){var E;E=G.HHb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;}),this.i8a=this.VV.then(function(E){return E?!0:G.e_a(G.config().J4a,G.config().QQb,function(){var J;J=G.GHb();return ["maybe" !== J,J];}).then(function(J){return "probably" === J;});})):(this.i8a=Promise.resolve(!0),this.VV=Promise.resolve(!1));};c.prototype.e_a=function(G,E,J){var M;M=this;return new Promise(function(L){var I,P,K,H;I=la(J());P=I.next().value;I=I.next().value;if(P)return L(I);K=M.wc.uN((0,g.Hb)(G),function(){var N,R;N=la(J());R=N.next().value;N=N.next().value;R && (K.cancel(),H.cancel(),L(N));});H=M.wc.Lj((0,g.Hb)(E),function(){K.cancel();H.cancel();L("timeout");});});};c.prototype.GHb=function(){var G;G=n.Cz.Y2(d.$a.xD,this.qAa,A).split("|");this.i0a=n.Cz.zwa(G[0],G[1]);this.hcb=this.qa.fe.ba(g.na);this.Yab=this.Yab || this.hcb;this.sxa();return this.i0a;};c.prototype.HHb=function(){var G;G=n.Cz.Y2(d.$a.ud,this.sI,B).split("|");this.j0a=n.Cz.zwa(G[0],G[1]);this.icb=this.qa.fe.ba(g.na);this.Zab=this.Zab || this.icb;this.sxa();return this.j0a;};c.prototype.Vyb=function(){var G;G=this;return this.yja(d.$a.ud,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.$Ha + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(E){G.log.debug("DriverInfo: " + E);return E;}).catch(function(E){G.pR("itsDriverInfo","exception");G.log.error("DriverInfo exception",E);throw E;});};c.prototype.$yb=function(){var G;G=this;this.yja(d.$a.Mw,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(E){var J;J=String.fromCharCode.apply(void 0,G.kc.decode(E));G.pR("itsHardwareInfo",J);G.log.debug("HardwareInfo: " + J);return E;}).catch(function(E){G.pR("itsHardwareInfo","exception");G.log.error("HardwareInfo exception",E);throw E;});};c.prototype.azb=function(){var G;G=this;this.yja(d.$a.Mw,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(E){var J;J=String.fromCharCode.apply(void 0,G.kc.decode(E));G.pR("itsHardwareReset",J);G.log.debug("ResetHardwareDRMDisabled: " + J);return E;}).catch(function(E){G.pR("itsHardwareReset","exception");G.log.error("ResetHardwareDRMDisabled exception",E);throw E;});};c.prototype.yja=function(G,E){var J;J=this;return new Promise(function(M,L){var R,Y,ma;function I(ia){try{H(ia.target,"Unexpectedly got an mskeyerror event: 0x" + F.wF(ia && ia.target && ia.target.error && ia.target.error.Igc || 0,4));}catch(ja){H(ia.target,ja);}}function P(ia){H(ia.target,"Unexpectedly got an mskeyadded event");}function K(ia){var ja;try{ja=J.jla(ia.message,"PlayReadyKeyMessage","Challenge");N(ia.target);M(ja);}catch(Ca){H(ia.target,Ca);}}function H(ia,ja){J.log.error("PlayReadyChallenge error",{cdmData:E});N(ia);L(ja);}function N(ia){ia.removeEventListener("mskeymessage",K);ia.removeEventListener("mskeyadded",P);ia.removeEventListener("mskeyerror",I);ma && ma.cancel();}try{R=new Uint8Array(C.ubb(E));Y=new qb.MSMediaKeys(G).createSession("video/mp4",new Uint8Array(0),R);Y.addEventListener("mskeymessage",K);Y.addEventListener("mskeyadded",P);Y.addEventListener("mskeyerror",I);ma=J.wc.Lj((0,g.Hb)(1E3),function(){H(Y,Error("timeout"));});}catch(ia){L(ia);}});};c.prototype.jla=function(G,E){var M,L,I;for(var J=1;J < arguments.length;++J){;}J="";L=G.length;for(M=0;M < L;M++){I=G[M];0 < I && (J+=String.fromCharCode(I));}L="\\s*(.*)\\s*";for(M=arguments.length - 1;0 < M;M--){I=arguments[M];if(0 > J.search(I))return;I="(?:[^:].*:|)" + I;L="[\\s\\S]*<" + I + "[^>]*>" + L + "</" + I + ">[\\s\\S]*";}if(J=J.match(new RegExp(L)))return J[1];};c.prototype.Voa=function(G){var E;E=this;return this.GF().then(function(J){return [q.zd.oz,q.zd.Oz,q.zd.Ai].some(function(M){return M.test(G);}) && !q.zd.kFa.test(G) && E.config().I4a && ![d.$a.xD,d.$a.tJa].some(function(M){return M === J;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Xa.Object.defineProperties(c.prototype,{oLb:{configurable:!0,enumerable:!0,get:function(){return this.config().yWa && (!this.config().K4a || this.Kbb());}},aX:{configurable:!0,enumerable:!0,get:function(){try{return this.LE(d.$a.ud + "|" + h.dd.Gqa);}catch(G){return !1;}}},K2b:{configurable:!0,enumerable:!0,get:function(){try{return this.LE(d.$a.xD);}catch(G){return !1;}}}});b.kGa=c;},41826:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t){this.config=p;this.navigator=q;this.Wl=u;this.fM=t;this.FRa={};this.ceb={};this.Sga={};this.log=this.Wl.Ua("MediaCapabilityDetector");this.FRa=this.Cyb();this.ceb=this.Jzb();}Object.defineProperty(b,"__esModule",{value:!0});b.zGa=void 0;r=a(70655);l=a(86700);f=a(56261);k=a(71163);d=a(63088);g=a(1092);m=a(65146);h=a(85060);n=a(50876);c.prototype.IS=function(p){var q;q=this;return this.fM.gB().then(function(u){return q.CEb(p,u);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.ZMb=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.Joa=function(){return qb.matchMedia("(dynamic-range: high)").matches;};c.prototype.CEb=function(p,q){var u,t,w;try{u={type:"media-source"};t=this.FRa[p];w=this.ceb[p];if(t)u.audio=t;else if(w){u.video=w;if(this.ZMb(w) && !this.Joa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (u.keySystemConfiguration=this.WHb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.qvb(u),this.ovb((t || w).contentType)]).then(function(v){var y;y=la(v);v=y.next().value;y=y.next().value;return v?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(v){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",v),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.qvb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(u){var t;u.configuration || (u.configuration=p);t=q.yNb(p,u);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(u)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(u));return t;}).catch(function(u){q.log.error("mediaCapabilities.decodingInfo failed",u);return !1;});};c.prototype.ovb=function(p){var q;q=this;if(!this.config().PCb)return Promise.resolve(!0);this.Sga[p] || (this.Sga[p]=new Promise(function(u){var t;try{t=new n.Ez();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);u(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}}));return this.Sga[p];};c.prototype.WHb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,h.O4)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.Cyb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[f.yd.eD]=q;p[f.yd.CZ]=q;p[f.yd.fD]=q;p[f.yd.Sw]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[f.yd.TO]=q;p[f.yd.BY]=q;p[f.yd.UO]=q;return p;};c.prototype.Jzb=function(){var p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});v=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);D=Object.assign(Object.assign({},p),w);C=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),v);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);E=Object.assign(Object.assign(Object.assign({},p),w),z);J=Object.assign(Object.assign(Object.assign({},p),v),z);M=Object.assign(Object.assign(Object.assign({},p),y),z);p=Object.assign(Object.assign(Object.assign({},p),x),z);z=Object.assign(Object.assign(Object.assign({},q),w),A);L=Object.assign(Object.assign(Object.assign({},q),v),A);I=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),x),A);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),v);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);A={};return (A[f.H.cD]=t,A[f.H.dD]=t,A[f.H.iZ]=t,A[f.H.nDa]=t,A[f.H.oDa]=t,A[f.H.pDa]=t,A[f.H.lDa]=u,A[f.H.cZ]=u,A[f.H.eZ]=u,A[f.H.gZ]=u,A[f.H.mDa]=u,A[f.H.dZ]=u,A[f.H.fZ]=u,A[f.H.hZ]=u,A[f.H.wea]=B,A[f.H.e0]=B,A[f.H.f0]=B,A[f.H.bQ]=B,A[f.H.Oba]=D,A[f.H.Pba]=D,A[f.H.Qba]=D,A[f.H.Rba]=C,A[f.H.FZ]=D,A[f.H.IZ]=D,A[f.H.LZ]=D,A[f.H.OZ]=C,A[f.H.dP]=F,A[f.H.eP]=G,A[f.H.GZ]=D,A[f.H.JZ]=D,A[f.H.MZ]=D,A[f.H.PZ]=C,A[f.H.RZ]=F,A[f.H.TZ]=G,A[f.H.EZ]=D,A[f.H.HZ]=D,A[f.H.KZ]=D,A[f.H.NZ]=C,A[f.H.QZ]=F,A[f.H.SZ]=G,A[f.H.mZ]=E,A[f.H.pZ]=E,A[f.H.cP]=E,A[f.H.uZ]=J,A[f.H.xZ]=M,A[f.H.AZ]=p,A[f.H.nZ]=E,A[f.H.qZ]=E,A[f.H.sZ]=E,A[f.H.vZ]=J,A[f.H.yZ]=M,A[f.H.BZ]=p,A[f.H.lZ]=E,A[f.H.oZ]=E,A[f.H.rZ]=E,A[f.H.tZ]=J,A[f.H.wZ]=M,A[f.H.zZ]=p,A[f.H.DY]=z,A[f.H.FY]=z,A[f.H.VO]=z,A[f.H.IY]=L,A[f.H.KY]=I,A[f.H.MY]=q,A[f.H.lba]=z,A[f.H.mba]=L,A[f.H.nba]=I,A[f.H.oba]=q,A[f.H.EY]=z,A[f.H.GY]=z,A[f.H.HY]=z,A[f.H.JY]=L,A[f.H.LY]=I,A[f.H.NY]=q,A[f.H.gya]=w,A[f.H.hya]=w,A[f.H.mz]=w,A[f.H.nz]=w,A[f.H.nI]=w,A[f.H.oI]=v,A[f.H.fY]=y,A[f.H.gY]=x,A);};c.prototype.yNb=function(p,q){return p.video && this.config().FVb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(m.uI)),r.__param(1,(0,l.l)(d.NI)),r.__param(2,(0,l.l)(k.Xa)),r.__param(3,(0,l.l)(g.Fw))],a);b.zGa=a;},43784:function(r,b,a){var l,f;function c(k){this.navigator=k;this.z4a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;r=a(70655);l=a(86700);a=a(63088);c.prototype.nla=function(k){return this.z4a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:k.contentType,width:k.width,height:k.height,bitrate:k.bitrate,framerate:k.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.NI))],f);b.BGa=f;},82226:function(r,b,a){var l,f,k,d;function c(g,m){this.mediaCapabilities=g;this.log=m.Ua("MediaCapabilities");this.TV=d.RY.Bq();}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=void 0;r=a(70655);l=a(63626);f=a(71163);k=a(86700);d=a(73124);c.prototype.nla=function(g){var m,h,n,p;m=this;n={Jf:void 0};if(this.mediaCapabilities.z4a){p={contentType:'video/mp4;codecs="' + (null !== (h=this.TV[g.Ld]) && void 0 !== h?h:"avc1.640028") + '"',width:g.width,height:g.height,bitrate:1E3 * g.bitrate,framerate:24};this.mediaCapabilities.nla(p).then(function(q){return n.Jf=Object.assign(Object.assign({},q),p);}).catch(function(q){return m.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.EGa)),r.__param(1,(0,k.l)(f.Xa))],a);b.CGa=a;},65168:function(r,b,a){var l,f,k,d,g;function c(m,h,n,p,q){m=d.QY.call(this,m,h,q) || this;m.is=n;m.platform=p;m.type=l.Xt.Gw;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.bHa=void 0;l=a(77003);f=a(56261);k=a(13329);d=a(55024);g=a(52825);ea(c,d.QY);c.prototype.$W=function(){return Promise.resolve(this.config().IK && this.xs(k.$a.Mw,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Bq=function(){var m,h;m={};m=(m[f.yd.eD]="mp4a.40.2",m[f.yd.fD]="mp4a.40.2",m);if("browser" === this.platform.gka){h={};return Object.assign(Object.assign({},m),(h[f.yd.TO]=this.config().IK?{vd:"avc1",keySystem:k.$a.Mw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.yd.UO]=this.config().IK?{vd:"avc1",keySystem:k.$a.Mw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.yd.CZ]=void 0,h[f.yd.Sw]=void 0,h[f.yd.BY]=void 0,h));}h={};return Object.assign(Object.assign({},m),(h[f.yd.TO]=this.config().vWa?"ec-3":void 0,h[f.yd.BY]=this.config().uWa?"ec-3":void 0,h[f.yd.UO]=this.config().IK?{vd:"avc1",keySystem:k.$a.Mw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.yd.CZ]=void 0,h[f.yd.Sw]=void 0,h));};c.prototype.ola=function(m){var h,n,p;m=this.TV[m];h=[];n=k.$a.Mw;if(m){if(this.is.Xo(m))p=m;else (h=m.features,p=m.vd,n=m.keySystem);return this.xs(n,p,h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.xs=function(m,h,n){m=g.Cz.Y2(m,h,n);return this.LE(m);};b.bHa=c;},52825:function(r,b,a){var l,f,k;function c(){this.type=l.Xt.Gw;}Object.defineProperty(b,"__esModule",{value:!0});b.Cz=void 0;l=a(77003);r=a(84540);f=a(13329);k=new r.CD();c.ezb=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return qb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?qb.MSMediaKeys.isTypeSupported(f.$a.Mw,d):"probably" === c.zwa(g[0],g[1]);}catch(m){return !1;}}};};c.Y2=function(d,g,m){g=k.format(c.F$,g);if(0 === m.length)return g;m=k.format('features="{0}"',m.join());return k.format("{0}|{1}{2}",d,g,m);};c.zwa=function(d,g){var m;try{m=qb.MSMediaKeys.isTypeSupportedWithFeatures?qb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(h){m="exception";}return m;};b.Cz=c;c.F$='video/mp4;codecs="{0},mp4a";';},59608:function(r,b){function a(c,l){var f;f=this;this.status={};c.forEach(function(k,d){f.status[k]=l[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.z_=void 0;a.prototype.sL=function(){return this.status;};a.prototype.Z4=function(){return Object.entries(this.status).filter(function(c){c=la(c);c.next();return c.next().value.supported;}).map(function(c){var l;c=la(c);l=c.next().value;c.next();return l;});};b.z_=a;},72014:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u){this.Lm=p;this.ub=q;this.wbb=u;this.gqb="video/mp4;codecs={0}";this.Jmb="audio/mp4;codecs={0}";p=this.Lm.bT(f.Te.au);this.fqb=d.dd.MUa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.OLa=void 0;r=a(70655);f=a(77003);k=a(86700);d=a(39780);g=a(89542);m=a(91402);h=a(98330);n=a(7942);c.prototype.c3=function(p){p=this.Lm.JHb(p);p=this.ub.aF(p)?p:f.Te.TP;return this.wbb.format(this.gqb,this.fqb[p]);};c.prototype.W2=function(p){if(0 === p.length)return this.wbb.format(this.Jmb,d.dd.jaa);p=h.Aza[p[0].Ld] || l.eya;return p === l.eya?n.gGa:p === l.jfb?n.hGa:n.fGa;};a=l=c;a.eya="AAC";a.jfb="XHEAAC";a=l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.uw)),r.__param(1,(0,k.l)(g.Wf)),r.__param(2,(0,k.l)(m.mea))],a);b.OLa=a;},422:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Jk=void 0;r=a(86700);c=a(15303);l=a(65898);f=a(29344);k=a(39465);d=a(43931);b.Jk=new r.ed(function(g){g(c.vw).Vd(function(){return function(){return qb._cad_global.device;};});g(k.KBa).to(d.JBa).da();g(l.HBa).to(f.GBa).da();});},15303:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vw="DeviceFactorySymbol";},65898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HBa="DeviceIdGeneratorSymbol";},39465:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KBa="DeviceProviderSymbol";},29344:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.qa=h;this.Ata=n;}Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;r=a(70655);l=a(35664);f=a(2467);k=a(16690);d=a(39784);g=a(60920);a=a(86700);c.prototype.bGb=function(){for(var h="",n=this.qa.fe.ba(f.na),p=6;p--;){h=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + h;n=Math.floor(n / 32);}for(;30 > h.length;){h+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Ata.w8a(new d.Sda(0,31,g.X5a))];}return h;};m=c;m=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(l.gg)),r.__param(1,(0,a.l)(k.I_))],m);b.GBa=m;},98470:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IBa=void 0;b.IBa=function(a,c,l,f){this.ek=a;this.Kn=c;this.Q3=f;};},43931:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,w){this.qBb=p;this.fl=q;this.ub=t;this.CUb=w;this.qCa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=u.Ua("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=void 0;r=a(70655);l=a(68172);f=a(89542);k=a(98470);d=a(71163);g=a(65898);m=a(86700);h=a(7336);a=a(87005);c.prototype.fXa=function(p){try{return p.match(this.qCa)[2];}catch(q){}};c.prototype.eEb=function(p){try{return p.match(this.qCa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(u,t){q.fl.create().then(function(w){var y,x,z,A,B,D;function v(C){q.ub.ym(C) && q.ub.ym(y)?(x=new k.IBa(C,y,void 0,z,p.lS || "cadmium"),u(x)):t({xa:l.R.nBa});}y=p.Kn;if(p.nma){z="bind_device";q.CUb.Bf(q.log,{}).then(function(C){v(C.esn);}).catch(function(C){t(C);});}else if(p.bL){B=p.ek;if(q.ub.ym(B)){D=q.eEb(B);D != p.Kn && q.log.error("esn prefix from ui is different",{ui:D,cad:p.Kn,ua:p.userAgent});}else p.Hpa && q.log.error("esn from ui is missing");!p.oO && q.ub.ym(B)?(z="config",v(B)):w.load(p.GVa).then(function(C){A=C.value;q.ub.ym(A) && (!1,q.ub.ym(B)?(C=q.fXa(B),z=C === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",v(y + A));}).catch(function(C){var E;function F(){w.save(p.GVa,E,!1).then(function(){v(y + E);}).catch(function(J){t(J);});}function G(){E=q.qBb.bGb();!1;F();}if(C.xa === l.R.Ow){if(q.ub.ym(p.ek)){E=q.fXa(p.ek);q.ub.ym(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.ek),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(C);});}else v();}).catch(function(w){t(w);});});};n=c;n=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(g.HBa)),r.__param(1,(0,m.l)(h.nw)),r.__param(2,(0,m.l)(d.Xa)),r.__param(3,(0,m.l)(f.Wf)),r.__param(4,(0,m.l)(a.vIa))],n);b.JBa=n;},68511:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zaa="CachedDrmDataSymbol";},94773:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yY="CannedChallengeProvider";},40517:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D;Object.defineProperty(b,"__esModule",{value:!0});b.FK=b.mWa=void 0;r=a(86700);c=a(96630);l=a(69557);f=a(85957);k=a(68511);d=a(97355);g=a(67937);m=a(1092);h=a(26041);n=a(68262);p=a(94773);q=a(31863);u=a(79220);t=a(8425);w=a(35912);v=a(76353);y=a(31341);x=a(42032);z=a(33662);A=a(41535);B=a(21410);D=a(52490);b.mWa=new r.ed(function(C){C(l.UBa).to(f.TBa).da();C(k.Zaa).to(d.CAa).da();C(c.UY).sX(g.k8a);C(z.hFa).to(A.gFa).da();C(B.gca).to(D.iFa).da();C(m.Fw).LC(function(F){b.FK.parent=F.hb;return b.FK.get(m.Fw);});C(h.BP).Vd(function(){return function(){return new n.NGa();};});C(p.yY).to(q.EAa).da();C(u.Cba).to(t.xCa).da();C(w.vba).to(v.ZBa).da();C(y.KGa).to(x.JGa).da();});b.FK=new r.AY({zH:!0});},69557:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UBa="DrmDataFactorySymbol";},26984:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hoa=b.bu=void 0;(function(a){a.Gdb="usable";a.Gq="expired";a.released="released";a.x6a="output-restricted";a.WTb="output-downscaled";a.R1b="status-pending";a.uMb="internal-error";})(b.bu || (b.bu={}));b.Hoa=function(a){return !!a && !!a.keyStatuses;};},77960:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.cWa=b.Hr=void 0;(function(c){c[c.b3a=0]="licenseStarted";c[c.N8a=1]="receivedLicenseChallenge";c[c.M8a=2]="receivedLicense";c[c.O8a=3]="receivedRenewalChallengeComplete";c[c.P8a=4]="receivedRenewalLicenseComplete";c[c.Q8a=5]="receivedRenewalLicenseFailed";c[c.yXb=6]="receivedIndivChallengeComplete";c[c.zXb=7]="receivedIndivLicenseComplete";c[c.xQa=8]="addLicenseComplete";c[c.DQa=9]="addRenewalLicenseComplete";c[c.EQa=10]="addRenewalLicenseFailed";})(a=b.Hr || (b.Hr={}));b.cWa=function(c){switch(c){case a.b3a:return "lg";case a.N8a:return "lc";case a.M8a:return "lr";case a.O8a:return "renew_lc";case a.P8a:return "renew_lr";case a.Q8a:return "renew_lr_failed";case a.yXb:return "ilc";case a.zXb:return "ilr";case a.xQa:return "ld";case a.DQa:return "renew_ld";case a.EQa:return "renew_ld_failed";default:return "unknown";}};},96630:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YBa="DrmServicesSymbol";b.UY="DrmServicesProviderSymbol";},35912:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vba="DrmTraitsFactorySymbol";},56594:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hhb=b.Ak=void 0;r=b.Ak || (b.Ak={});r[r.Ey=0]="playready";r[r.TX=1]="widevine";r[r.cB=2]="fairplay";r[r.gcc=3]="clearkey";b.Hhb="DrmTypeSymbol";},99745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ED=void 0;r=b.ED || (b.ED={});r[r.Request=0]="Request";r[r.PKa=1]="Renewal";},79220:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cba="EmeApiFactorySymbol";},23152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fq="EmeConfigSymbol";},84131:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ACa="EmeSessionFactorySymbol";},33662:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hFa="KeySystemProviderSymbol";},21410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gca="KeySystemRestrictorSymbol";},31341:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KGa="MediaKeySystemAccessInternalFactorySymbol";},1092:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fw="MediaKeySystemAccessServicesSymbol";},26041:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BP="MediaKeysStorageFactorySymbol";},76427:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.nWa=void 0;r=a(86700);c=a(96630);l=a(66160);f=a(1092);k=a(96638);d=a(84131);g=a(51847);b.nWa=new r.ed(function(m){m(c.YBa).to(l.XBa).da();m(f.Fw).to(k.MGa).da();m(d.ACa).to(g.zCa);});},97355:function(r,b,a){var k,d,g,m,h,n,p,q;function c(u,t,w){var v;v=this;this.is=u;this.fl=t;this.config=w;this.Nt=function(){return {version:v.version,drmData:v.D3.map(function(y){return y.Nt();})};};this.Vla=function(y){var x;v.is.ym(y) && (y=l(y));1 === y.version && (y=f(v.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.TY(z);});}catch(z){throw new h.Mc(g.U.EI,g.R.vz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !v.is.ak(y.version))throw new h.Mc(g.U.EI,g.R.vz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new h.Mc(g.U.EI,g.R.hAa,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.qk=new n.aca(2,this.config.sS,this.is.ym(this.config.sS),this.fl,this.Nt);}function l(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new h.Mc(g.U.EI,g.R.vz);return {version:1,drmData:[u]};}function f(u,t){if(u.tA(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var v;v=w.keySessionIds;return new q.TY({keySessionData:(v && 0 < v.length?v:[void 0]).map(function(y){return {id:y,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).Nt();})};throw new h.Mc(g.U.EI,g.R.vz);}Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;r=a(70655);k=a(86700);d=a(23152);g=a(68172);m=a(89542);h=a(56003);n=a(133);p=a(7336);q=a(85957);c.prototype.C8a=function(){return this.N1b();};c.prototype.sQa=function(u){return this.qk.add(u);};c.prototype.dW=function(u){return this.qk.remove(u,function(t,w){return t.ma === w.ma;});};c.prototype.toString=function(){return JSON.stringify(this.Nt(),null,"  ");};c.prototype.N1b=function(){var u;u=this;this.G8a || (this.G8a=new Promise(function(t,w){u.qk.load(u.Vla).then(function(){t();}).catch(function(v){v.xa && v.cc?w(new h.Mc(g.U.EI,v.xa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.G8a;};Xa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.qk.version;}},D3:{configurable:!0,enumerable:!0,get:function(){return this.qk.Hl;}}});a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.Wf)),r.__param(1,(0,k.l)(p.nw)),r.__param(2,(0,k.l)(d.fq))],a);b.CAa=a;},31863:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,w){this.kF=p;this.kc=q;this.gM=t;this.eo=w;this.log=u.Ua("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;r=a(70655);l=a(86700);f=a(96630);k=a(31224);d=a(71163);g=a(26041);m=a(1092);h=a(56594);n=a(78165);c.prototype.ena=function(p){var q;q=this;return Promise.all([this.kF(),this.yma()]).then(function(u){var t;t=la(u);u=t.next().value;t=t.next().value;return u.cGb({type:p,initData:t,T5:!1},q.gM());}).then(function(u){var t;t=la(u);u=t.next().value;t=t.next().value;t=q.kc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {Vy:u,yia:t};});};c.prototype.yma=function(){var p;p=this;return this.eo.gB().then(function(q){return q.Ns();}).then(function(q){switch(q){case h.Ak.cB:return n.WCa;case h.Ak.Ey:return n.sJa;default:return n.xNa;}}).then(function(q){return q.map(p.kc.decode);});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.UY)),r.__param(1,(0,l.l)(k.fh)),r.__param(2,(0,l.l)(d.Xa)),r.__param(3,(0,l.l)(g.BP)),r.__param(4,(0,l.l)(m.Fw))],a);b.EAa=a;},85957:function(r,b,a){var f;function c(){}function l(k){k?(this.active=!1,this.Vla(k)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=b.TY=void 0;r=a(70655);a=a(86700);l.prototype.Vla=function(k){this.ie=k.keySessionData?k.keySessionData.map(function(d){return {id:d.id,pG:d.licenseContextId,sU:d.licenseId};}):[];this.ma=k.xid;this.O=k.movieId;};l.prototype.Nt=function(){return JSON.parse(JSON.stringify({keySessionData:this.ie?this.ie.map(function(k){return {id:k.id,licenseContextId:k.pG,licenseId:k.sU};}):[],xid:this.ma,movieId:this.O}));};b.TY=l;c.prototype.create=function(){return new l();};c.prototype.load=function(k){return new l(k);};f=c;f=r.__decorate([(0,a.T)()],f);b.TBa=f;},66160:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w;function c(v,y,x,z,A,B,D,C,F){var G;G=this;this.wc=y;this.Iy=x;this.config=z;this.Ls=A;this.mCb=B;this.dK=D;this.gM=C;this.Yl=F;this.o2b=function(E,J){var M;G.Yl.mark(w.Na.bZ,E.si.ma,"generate-challenge");M=!1;J.X_b(function(L){M || (M=!0,G.Yl.mark(w.Na.aZ,E.si.ma,"generate-challenge"));G.IF(E,J,L).then(function(I){J.wQa(I);G.mub(J);}).catch(function(I){return J.Xqb(I);});});};this.log=v.Ua("DrmServices");this.Ls().Dr && this.dK.C8a().then(function(){G.jYb();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.g1a && this.HA(C(),m.Bh.pm).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(65428);d=a(52022);g=a(85643);m=a(41047);h=a(23152);n=a(68511);p=a(85957);q=a(84131);u=a(17244);t=a(26041);w=a(3971);c.prototype.cGb=function(v,y){return this.HA(y,v.type,v.context).then(function(x){return x.fGb(v.initData,v.T5).then(function(z){return [x,{Nm:x.Ns(),data:z.tj}];});});};c.prototype.Vg=function(v,y){var x;x=this;this.log.info("Requesting challenges",this.BZa(v,v.type));return this.HA(y,v.type,v.context).then(function(z){x.e5a(v,z);return z.gGb(v.initData,v.T5).then(function(){return z;});});};c.prototype.e5a=function(v,y){y.b0b(v.si);this.o2b(v,y);};c.prototype.release=function(v,y){var x;x=this;this.log.info("Releasing server license",this.v_a(v));return this.eJb(v).then(function(){var z;z=Object.assign({active:!1,ie:[]},v.si);x.dK.dW(z);y.vYb();return v;});};c.prototype.BZa=function(v,y){return {movieId:v.si.O,xid:v.si.ma,type:(0,m.wpa)(y)};};c.prototype.v_a=function(v){return {movieId:v.si?v.si.O:void 0,xid:v.si?v.si.ma:void 0,keySessionId:v.Ux()};};c.prototype.IF=function(v,y,x){this.log.info("Sending license request",this.BZa(v,x.pf));return this.Iy.Vg({ma:v.si.ma,Df:v.si.Df,C3:[v.si.Kk],tj:[{sessionId:y.Ux() || "session",data:x.tj}],pf:x.pf,Nm:y.Ns(),NSa:x.NSa,ji:v.si.ji,eg:v.si.eg});};c.prototype.eJb=function(v){this.log.info("Sending release request",this.v_a(v));return this.Iy.release({ma:v.si.ma,ie:v.ie});};c.prototype.HA=function(v,y,x){return this.mCb.create().then(function(z){return z.createSession(v,y,x).then(function(){return z;});});};c.prototype.iYb=function(v){var y;y=this;return this.Iy.release({ma:v.ma,ie:v.ie}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.jYb=function(){var v;v=this;this.wc.Lj(this.config.zsa,function(){v.log.trace("Removing cached sessions",{"count:":v.dK.D3.length});v.dK.D3.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return v.iYb(x);}).then(function(){return v.dK.dW(x);});},Promise.resolve(void 0));});};c.prototype.mub=function(v){var y;if(v.Ux() && v.si){y=new p.TY();y.ie=v.ie;y.ma=v.si.ma;y.O=v.si.O;this.dK.sQa(y);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(k.Ci)),r.__param(2,(0,l.l)(d.WBa)),r.__param(3,(0,l.l)(h.fq)),r.__param(4,(0,l.l)(u.ac)),r.__param(5,(0,l.l)(q.ACa)),r.__param(6,(0,l.l)(n.Zaa)),r.__param(7,(0,l.l)(t.BP)),r.__param(8,(0,l.l)(g.GP))],a);b.XBa=a;},67937:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.k8a=void 0;c=a(68172);l=a(87704);f=a(96630);k=a(40517);b.k8a=function(g){k.FK.parent=g.hb;return function(){d || (d=new Promise(function(m,h){try{m(k.FK.get(f.YBa));}catch(n){h(new l.Ng(c.U.Iib,c.R.Sib,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},76353:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x,z){this.eh=t;this.Li=w;this.kc=v;this.config=y;this.ei=x;this.Wg=z;}Object.defineProperty(b,"__esModule",{value:!0});b.ZBa=void 0;r=a(70655);l=a(86700);f=a(5266);k=a(31224);d=a(53484);g=a(17244);m=a(95538);h=a(56594);n=a(23152);p=a(45165);q=a(48258);u=a(55783);c.prototype.create=function(t){switch(t){case h.Ak.Ey:return new q.wCa(this.Li,this.kc);case h.Ak.cB:return new u.pLa(this.Li,this.kc,this.eh,this.Wg);default:return new p.MAa(this.Li,this.kc,this.ei,this.config);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.lq)),r.__param(1,(0,l.l)(f.pw)),r.__param(2,(0,l.l)(k.fh)),r.__param(3,(0,l.l)(g.ac)),r.__param(4,(0,l.l)(n.fq)),r.__param(5,(0,l.l)(m.Lw))],a);b.ZBa=a;},8425:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x,z){this.Yd=t;this.eh=w;this.kc=v;this.is=y;this.aV=x;this.ei=z;}Object.defineProperty(b,"__esModule",{value:!0});b.xCa=void 0;r=a(70655);l=a(86700);f=a(31224);k=a(89542);d=a(63088);g=a(53484);m=a(89682);h=a(56594);n=a(23152);p=a(56452);q=a(41996);u=a(8574);c.prototype.create=function(t){switch(t){case h.Ak.Ey:return new q.qKa(this.aV,this.is,this.kc,this.Yd,this.ei,this.eh);case h.Ak.cB:return new p.VCa(this.aV,this.is,this.kc,this.Yd,this.ei,this.eh);default:return new u.lu(this.aV,this.is,this.kc,this.Yd,this.ei,this.eh);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(m.jh)),r.__param(1,(0,l.l)(g.lq)),r.__param(2,(0,l.l)(f.fh)),r.__param(3,(0,l.l)(k.Wf)),r.__param(4,(0,l.l)(d.NI)),r.__param(5,(0,l.l)(n.fq))],a);b.xCa=a;},85291:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){h=f.Se.call(this,h,void 0 === p?"EmeConfigImpl":p) || this;h.od=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.yCa=void 0;r=a(70655);l=a(86700);f=a(90187);k=a(59578);d=a(2467);g=a(54662);a=a(20642);ea(c,f.Se);Xa.Object.defineProperties(c.prototype,{d7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},g1a:{configurable:!0,enumerable:!0,get:function(){return this.od.G1a || this.od.X5 || this.od.hU?!0:!1;}},NB:{configurable:!0,enumerable:!0,get:function(){return (0,d.xh)(5);}},zsa:{configurable:!0,enumerable:!0,get:function(){return (0,d.xh)(10);}},sS:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},SS:{configurable:!0,enumerable:!0,get:function(){return !1;}},jka:{configurable:!0,enumerable:!0,get:function(){return !1;}},fr:{configurable:!0,enumerable:!0,get:function(){return !0;}},$Qa:{configurable:!0,enumerable:!0,get:function(){return (0,d.xh)(30);}},aRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.xh)(30);}},cRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.xh)(30);}},P1:{configurable:!0,enumerable:!0,get:function(){return (0,d.xh)(30);}},dRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.xh)(30);}},nva:{configurable:!0,enumerable:!0,get:function(){return "";}},y6a:{configurable:!0,enumerable:!0,get:function(){return this.od.hy?!1:!0;}},z6a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});m=c;r.__decorate([g.config(g.bd,"persistentStateRequired")],m.prototype,"d7a",null);r.__decorate([g.config(g.bd,"initializeKeySystemAtStartup")],m.prototype,"g1a",null);r.__decorate([g.config(g.lk,"licenseRenewalRequestDelay")],m.prototype,"NB",null);r.__decorate([g.config(g.lk,"persistedReleaseDelay")],m.prototype,"zsa",null);r.__decorate([g.config(g.string,"drmPersistKey")],m.prototype,"sS",null);r.__decorate([g.config(g.bd,"forceLimitedDurationLicense")],m.prototype,"SS",null);r.__decorate([g.config(g.bd,"disableLicenseRenewal")],m.prototype,"jka",null);r.__decorate([g.config(g.bd,"prepareCadmium")],m.prototype,"fr",null);r.__decorate([g.config(g.lk,"apiCloseTimeout")],m.prototype,"$Qa",null);r.__decorate([g.config(g.lk,"apiCreateMediaKeysTimeout")],m.prototype,"aRa",null);r.__decorate([g.config(g.lk,"apiSetServerCertificateTimeout")],m.prototype,"cRa",null);r.__decorate([g.config(g.lk,"apiGenerateRequestTimeout")],m.prototype,"P1",null);r.__decorate([g.config(g.lk,"apiUpdateTimeout")],m.prototype,"dRa",null);r.__decorate([g.config(g.string,"serverCertificate")],m.prototype,"nva",null);r.__decorate([g.config(g.bd,"outputRestrictedIsFatal")],m.prototype,"y6a",null);r.__decorate([g.config(g.bd,"outputRestrictedIsFatalForUhd")],m.prototype,"z6a",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl)),r.__param(1,(0,l.l)(a.YC)),r.__param(2,(0,l.l)(k.zY)),r.__param(2,(0,l.optional)())],m);b.yCa=m;},87704:function(r,b,a){var l,f;function c(k,d,g,m,h){k=void 0 === k?l.U.Go:k;return f.Mc.call(this,k,d,g,void 0,void 0,m,f.Mc.ve(h),h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Ng=void 0;l=a(68172);f=a(56003);ea(c,f.Mc);b.Ng=c;},51847:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,w,v){this.Wl=p;this.Ea=q;this.kc=u;this.config=t;this.mo=w;this.eo=v;}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(58998);d=a(31224);g=a(23152);m=a(29853);h=a(41901);a=a(1092);c.prototype.create=function(){var p;p=this;return this.eo.gB().then(function(q){return new h.BCa(p.Wl,p.Ea,p.kc,p.config,p.mo,q);});};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(k.Jc)),r.__param(2,(0,l.l)(d.fh)),r.__param(3,(0,l.l)(g.fq)),r.__param(4,(0,l.l)(m.Jz)),r.__param(5,(0,l.l)(a.Fw))],n);b.zCa=n;},41901:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v;function c(y,x,z,A,B,D){var C;C=this;this.Ea=x;this.xA=z;this.config=A;this.mo=B;this.ZB=D;this.keyStatuses=new p.Ib({});this.Gra=function(F){var G,E,J,M,L,I;try{E=C.ml.tja(F);J=E.xG;M=E.messageType;L=E.sessionId;C.tv=C.tv || E.tv;C.GW(L);C.log.trace("Received " + F.type + " event",{sessionId:L,messageType:M,keyIds:C.tv});if(M === b.Aca){if(C.config.jka){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.pf=k.Bh.pm;C.jo=t.hH;}C.jo === t.Vg && C.Yo(d.Hr.N8a);C.jo === t.hH && C.Yo(d.Hr.O8a);I={tj:J,NSa:M,pf:C.pf};null === (G=C.g6a) || void 0 === G?void 0:G.call(C,I);C.Hna(J)?C.JB(new n.Mc(f.U.mCa)):C.fk && !C.fk.ueb && C.m2a(I);}catch(P){C.JB(P);}};this.Era=function(F){var G,E,J,M,L,K,H,N,R,Y,ma,ia,Ba,Ka,Va,db,W;E=F.target;J=E.keyStatuses;C.GW(E.sessionId);C.log.trace("Received event: " + F.type);try{L=null === (G=C.context) || void 0 === G?void 0:G.m6;F=[];for(var I=la(J),P=I.next();!P.done;P=I.next()){K=la(P.value);H=K.next().value;N=K.next().value;R=C.xA.encode(new Uint8Array(H));F.push({Xn:R,status:N,height:null === L || void 0 === L?void 0:L[R]});}F.sort(function(ha,ta){return (ha.height || 0) - (ta.height || 0);});Y=F.map(function(ha){return ha.Xn;});ma=F.map(function(ha){return ha.height;});ia=F.map(function(ha){return ha.status;});C.ipa=Y + ", " + ma + ", " + ia;C.log.trace("KeyStatus: " + C.ipa);L={};for(var ja=la(J),Ca=ja.next();!Ca.done;Ca=ja.next()){Ba=la(Ca.value);Ka=Ba.next().value;Va=Ba.next().value;db=C.xA.encode(new Uint8Array(Ka));W=w[Va];L[db]=W.status;C.cG(db,W.error) && (M=new m.Ng(W.error));}C.keyStatuses.set(L);}catch(ha){M=new m.Ng(f.U.Skb);M.kS(ha);}M?C.Tq?C.f6(M):C.jU(M):(C.ml.L2() || C.n2a(),C.pf !== k.Bh.pn || C.ml.Eha() || (C.config.jka?C.log.trace("Disabling license renewal"):C.AYb()));};this.Zm=function(F){var G;G=C.ml.Gx(F);C.log.error("Received event: " + F.type,G);C.JB(G);C.f6(G);C.fk || C.Tq || C.jU(G);};this.YSb=function(F){C.log.error("MediaKeySession closed unexpectedly: " + F);C.jU(new n.Mc(f.U.zba,v[F]));};this.JB=function(F){C.close().then(function(){var G;C.log.trace("Issuing a generate challenge error");null === (G=C.fk) || void 0 === G?void 0:G.RN.reject(F);C.fk=void 0;},function(G){var E;C.log.error("EmeSession closed with an error.",C.ml.Gx(G));null === (E=C.fk) || void 0 === E?void 0:E.RN.reject(F);C.fk=void 0;});};this.m2a=function(F){var G;null === (G=C.fk) || void 0 === G?void 0:G.RN.resolve(F);C.fk=void 0;};this.f6=function(F){C.log.error("Failed to add license",F);C.close().then(function(){var G,E;C.log.trace("Issuing a license error");null === (G=C.fk) || void 0 === G?void 0:G.RN.reject(F);C.fk=void 0;null === (E=C.Tq) || void 0 === E?void 0:E.reject(F);C.Tq=void 0;},function(G){var E,J;C.log.error("EmeSession closed with an error.",C.ml.Gx(G));C.jo === t.hH && C.Yo(d.Hr.EQa);null === (E=C.fk) || void 0 === E?void 0:E.RN.reject(F);C.fk=void 0;null === (J=C.Tq) || void 0 === J?void 0:J.reject(F);C.Tq=void 0;});};this.n2a=function(){C.Tq && (C.log.info("Successfully added license"),C.jo === t.Vg?C.Yo(d.Hr.xQa):C.jo === t.hH && C.Yo(d.Hr.DQa),C.Tq.resolve(),C.Tq=void 0);};this.jU=function(F){C.close().then(function(){var G;C.log.trace("Issuing a CDM error");C.fk=void 0;C.Tq=void 0;null === (G=C.d6a) || void 0 === G?void 0:G.call(C,F);},function(G){var E;C.log.error("EmeSession closed with an error.",C.ml.Gx(G));C.fk=void 0;C.Tq=void 0;null === (E=C.d6a) || void 0 === E?void 0:E.call(C,F);});};this.Yo=function(F){C.Vc.push({time:C.Ea.Fb(),UU:F});};this.o9a=!1;this.log=y.Ua("EmeSession");this.jo=t.x4b;this.oh=D.rUa();this.ml=D.qUa();this.Vc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.BCa=b.Aca=b.Bca=void 0;l=a(2467);f=a(68172);k=a(41047);d=a(77960);r=a(26984);g=a(99745);m=a(87704);h=a(29853);n=a(56003);p=a(14414);q=a(86684);u=a(85060);(function(y){y[y.x4b=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.Vg=3]="license";y[y.hH=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.Bca="license-request";b.Aca="license-renewal";w={usable:{status:r.bu.Gdb},expired:{status:r.bu.Gq,error:f.U.bda},released:{status:r.bu.released},"output-not-allowed":{status:r.bu.x6a,error:f.U.cIa},"output-restricted":{status:r.bu.x6a,error:f.U.cda},"output-downscaled":{status:r.bu.WTb},"status-pending":{status:r.bu.R1b},"internal-error":{status:r.bu.uMb,error:f.U.Rkb}};v={"internal-error":f.R.Mhb,"closed-by-application":f.R.Ihb,"release-acknowledged":f.R.Qhb,"hardware-context-reset":f.R.xba,"resource-evicted":f.R.Shb};c.prototype.kL=function(){return this.ZB.o6;};c.prototype.xZa=function(){return this.ipa;};c.prototype.Ux=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.g6a=this.context=void 0;this.jo=t.closed;this.Vc=[];void 0 !== this.f9 && (qb.clearTimeout(this.f9),this.f9=void 0);return this.oh.tNb()?(this.log.trace("Closing the session"),this.oh.g9a(this.Gra),this.oh.d9a(this.Era),this.oh.b9a(this.Zm),this.mediaKeys=void 0,this.mo.Pp(this.config.$Qa,this.oh.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.ml.Gx(x).code=f.U.Ukb;throw x;})):Promise.resolve(void 0);};c.prototype.Ns=function(){return this.ZB.Ns();};c.prototype.$_a=function(){return void 0 !== this.Rk;};c.prototype.createSession=function(y,x,z){var A;A=this;this.context=z;this.pf=x;this.jo=t.create;this.Yo(d.Hr.b3a);return (y.a0a()?Promise.resolve():this.mo.Pp(this.config.aRa,this.oh.createMediaKeys(this.ZB)).then(function(B){A.log.trace("Created media keys");return A.csb(B).then(function(){return y.yQa(B);}).catch(function(D){return Promise.reject(A.kta(D,f.U.Thb));});})).then(function(){A.mediaKeys=y.mediaKeys;try{A.oh.createSession(A.mediaKeys,u.TEMPORARY);A.oh.zQa(A.Gra);A.oh.vQa(A.Era);A.oh.tQa(A.Zm);A.oh.Nqb(A.YSb);A.GW(A.oh.Ux());}catch(B){return Promise.reject(A.kta(B,f.U.Jhb));}}).catch(function(B){return Promise.reject(A.kta(B,f.U.YO));});};c.prototype.b0b=function(y){this.si=y;this.log.qQa("xid",y.ma);};c.prototype.fGb=function(y,x){return this.generateRequest(y,x,!1).then(function(z){return z;});};c.prototype.gGb=function(y,x){return this.generateRequest(y,x,!0).then(function(){});};c.prototype.wQa=function(y){this.ie=y.ie;y=y.Rk.map(function(x){return x.data;});this.Hna(y)?(this.log.error("The license buffer is empty"),this.JB(new m.Ng(f.U.lCa,f.R.jCa))):(this.jo === t.Vg && (this.Yo(d.Hr.M8a),this.Rk=y,this.bWa=this.ml.iL(this.tv,y),this.fk && this.fk.ueb && this.m2a()),this.jo === t.hH && (this.Yo(d.Hr.P8a),this.Rk=y,this.bWa=this.ml.iL(this.tv,y),this.nha()));};c.prototype.Xqb=function(y){this.jo === t.hH?(this.Yo(d.Hr.Q8a),this.jU(y)):this.JB(y);};c.prototype.nha=function(){var y,x;y=this;if(!this.Rk){x=new m.Ng(f.U.lCa,f.R.oCa);this.f6(x);return Promise.reject(x);}this.Tq=new q.A_();x=this.Rk;this.Rk=void 0;this.mo.Pp(this.config.dRa,this.oh.update(x,this.jo === t.Vg?g.ED.Request:g.ED.PKa,this.tv)).then(function(){y.ml.L2() && y.n2a();}).catch(function(z){z=y.ml.Gx(z);z.code=f.U.t_;z.message="Unable to update the EME";y.log.error(z.message,z);y.f6(z);});return this.Tq.promise;};c.prototype.X_b=function(y){this.g6a=y;};c.prototype.Q_b=function(y){this.d6a=y;};c.prototype.iL=function(){return this.bWa;};c.prototype.generateRequest=function(y,x,z){var A;A=this;this.jo=t.Vg;this.log.trace("Generating a license challenge");if(!y)return (y=new m.Ng(f.U.kCa,f.R.oCa),this.JB(y),Promise.reject(y));if(this.Hna(y))return (y=new m.Ng(f.U.kCa,f.R.jCa),this.JB(y),Promise.reject(y));this.fk={RN:new q.A_(),ueb:z};this.mo.Pp(this.config.P1,this.oh.generateRequest(this.ml.zma(),y,x)).then(function(){A.GW(A.oh.Ux());}).catch(function(B){var D,C;D=new m.Ng(f.U.WY,B instanceof h.jq?f.R.ZO:f.R.ol);try{C=A.ml.Gx(B);D.Tc=C.Tc;D.message="Unable to generate request.";D.kS(B);}catch(F){}A.log.error("Unable to generate a license request",D);A.JB(D);});return this.fk.RN.promise;};c.prototype.csb=function(y){return this.mo.Pp(this.config.cRa,this.oh.setServerCertificate(y,this.ml.z4()));};c.prototype.GW=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.qQa("sessionId",y));};c.prototype.AYb=function(){var y;y=this;this.o9a || (this.o9a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.NB}),this.f9=qb.setTimeout(function(){y.f9=void 0;y.gH();},this.config.NB.ba(l.na)));};c.prototype.ANb=function(y){var x,z,A;return 1080 < (null !== (A=null === (z=null === (x=this.context) || void 0 === x?void 0:x.m6) || void 0 === z?void 0:z[y]) && void 0 !== A?A:0);};c.prototype.cG=function(y,x){return x === f.U.cda?this.ANb(y)?this.config.z6a:this.config.y6a:!!x;};c.prototype.gH=function(){this.log.trace("Initiating a renewal request");this.pf=k.Bh.pm;this.jo=t.hH;this.ml.qia()?this.ml.zoa(this.oh):this.b3();};c.prototype.b3=function(){var y;y=this;this.oh.b3(this.mediaKeys,u.TEMPORARY,this.Gra,this.Era,this.Zm).then(function(){y.log.debug("Creating session to renew license");y.GW(y.oh.Ux());}).catch(function(){y.jU(new m.Ng(f.U.WY));});};c.prototype.Hna=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.kta=function(y,x){var z,A;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.ic))return y;A=(0,u.Rma)(null === y || void 0 === y?void 0:y.message);return new m.Ng(x,y instanceof h.jq?f.R.ZO:f.R.ol,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.BCa=c;},78165:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xNa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.WCa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.sJa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},41535:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t){this.Wl=p;this.config=q;this.uS=u;this.KB=t;this.log=this.Wl.Ua("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(70655);l=a(86700);f=a(60920);k=a(71163);d=a(17244);g=a(13329);m=a(85060);h=a(35912);a=a(21410);c.prototype.get=function(){var p,q,u;p=this;try{q=(this.config().C2a || [this.config().Vl]).map(function(t){var w;w=g.$a.fT(t);w=p.uS.create(w).bna();return (0 < w.length?w:[void 0]).map(function(v){return {keySystem:t,robustness:v};});});u=(0,f.flatten)(q).filter(function(t){return p.AEb(t);});return this.KB.get().then(function(t){return p.DEb(u,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.AEb=function(p){var q;return g.$a.gEa.includes(p.keySystem) || m.hEa.includes(null !== (q=p.robustness) && void 0 !== q?q:"")?this.config().SQb && 1440 > qb.screen.height * qb.devicePixelRatio?!1:this.config().yWa:!0;};c.prototype.DEb=function(p,q){var u;u=this;return p.reduce(function(t,w,v){var y;y=u.BKb(w);v=p.length - 1 === v;y=(0,m.PTa)(y);q.includes(y) && !v || t.push(w);return t;},[]);};c.prototype.BKb=function(p){var q;q={keySystem:p.keySystem === g.$a.wNa?g.$a.dQ:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(d.ac)),r.__param(2,(0,l.l)(h.vba)),r.__param(3,(0,l.l)(a.gca))],n);b.gFa=n;},52490:function(r,b,a){var l,f,k,d;function c(g,m,h){this.config=g;this.Wl=m;this.iia=h;this.log=this.Wl.Ua("KeySystemRestrictor");this.bPb=this.config().BWa?this.iia.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(17244);a=a(24060);c.prototype.get=function(){var g;g=this;try{return this.config().BWa?this.bPb.then(function(m){return g.KEb(m);}):Promise.resolve([]);}catch(m){return (this.log.error("KeySystemRestrictor failed.",m),Promise.resolve([]));}};c.prototype.KEb=function(g){var m,n;this.P9a={};m=g.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(m));g=[];m=la(Object.entries(m));for(var h=m.next();!h.done;h=m.next()){n=la(h.value);h=n.next().value;n=n.next().value;this.TKb(n) && g.push(h);}g.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + g);return this.oZb=g;};c.prototype.TKb=function(g){var m,h;m=this;h=g.reduce(function(n,p){m.config().EDb.includes(p.code) && (p=m.Wyb(p),n[p] || (n[p]=0),n[p]++);return n;},{});this.P9a[g[0].keySystem]=h;return Object.values(h).some(function(n){return n >= m.config().FDb;});};c.prototype.Wyb=function(g){return [g.code,g.ic,g.Tc].filter(Boolean).join(".");};Xa.Object.defineProperties(c.prototype,{D2a:{configurable:!0,enumerable:!0,get:function(){return this.oZb;}},E2a:{configurable:!0,enumerable:!0,get:function(){return this.P9a;}}});d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.ac)),r.__param(1,(0,l.l)(f.Xa)),r.__param(2,(0,l.l)(a.aba))],d);b.iFa=d;},42032:function(r,b,a){var l,f,k,d;function c(g,m){this.uS=g;this.wS=m;}Object.defineProperty(b,"__esModule",{value:!0});b.JGa=void 0;r=a(70655);l=a(86700);f=a(35912);k=a(79220);d=a(1214);c.prototype.create=function(g,m,h){return new d.LGa(g,this.uS,this.wS,m,h);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.vba)),r.__param(1,(0,l.l)(k.Cba))],a);b.JGa=a;},1214:function(r,b,a){var l,f;function c(k,d,g,m,h){this.keySystem=k;this.uS=d;this.wS=g;this.ZB=m;this.Nm=h;}Object.defineProperty(b,"__esModule",{value:!0});b.LGa=void 0;l=a(13329);f=a(85060);c.prototype.createMediaKeys=function(){return this.ZB.createMediaKeys();};c.prototype.getConfiguration=function(){return this.ZB.getConfiguration();};c.prototype.Ns=function(){return l.$a.fT(this.ZB.keySystem);};c.prototype.rUa=function(){return this.wS.create(this.Nm);};c.prototype.qUa=function(){return this.uS.create(this.Nm);};Xa.Object.defineProperties(c.prototype,{o6:{configurable:!0,enumerable:!0,get:function(){var k,d;k=this.keySystem;d=(0,f.O4)(this.ZB);d && (k+="." + d);return k;}}});b.LGa=c;},96638:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F){this.Wl=x;this.kc=z;this.config=A;this.ei=B;this.nRb=D;this.wS=C;this.VNb=F;this.log=this.Wl.Ua("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(71163);d=a(87704);g=a(56594);m=a(31224);h=a(17244);n=a(13329);p=a(85060);q=a(78165);u=a(31341);t=a(79220);w=a(33662);v=a(23152);y=a(39780);c.prototype.gB=function(){this.promise || (this.promise=this.BZb());return this.promise;};c.prototype.mzb=function(x,z){var A;A="video/mp4;codecs=" + (z === p.Jr && this.config().K4a?y.dd.jZ:y.dd.aP);A={initDataTypes:[p.Zt],videoCapabilities:[{contentType:A}],sessionTypes:[p.TEMPORARY]};x === g.Ak.TX && this.ei.d7a && (A.persistentState="required");x=A.videoCapabilities[0];z && (x.robustness=z);return [A];};c.prototype.fzb=function(x,z){var A;A=this;return new Promise(function(B,D){var C;C=n.$a.fT(x);A.wS.create(C).MYb(x,A.mzb(C,z)).then(function(F){A.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:F.getConfiguration?JSON.stringify(F.getConfiguration()):void 0});F=A.nRb.create(x,F,C);A.o6=F.o6;B(F);}).catch(function(F){A.log.warn("Unable to create the media key system access object",{keySystem:x,error:F.message});D(new d.Ng(f.U.iCa,f.R.ol,void 0,"Unable to create media keys system access. " + F.message,F));});});};c.prototype.pHb=function(){var x;x=this.config().C2a || [this.config().Vl];if(1 < x.length)return (x=x.map(function(z){return n.$a.pma(n.$a.fT(z));}),1 === new Set(x).size?Promise.resolve(x[0]):this.gB().then(function(z){return z.Ns();}).then(function(z){return n.$a.pma(z);}));x=n.$a.fT(x[0]);return Promise.resolve(n.$a.pma(x));};c.prototype.Gxa=function(x){var z,A,B,D;z=this;A=x.Ns();B=x.rUa();D=x.qUa();return x.createMediaKeys().then(function(C){B.createSession(C,p.TEMPORARY);return B.setServerCertificate(C,D.z4());}).then(function(){return B.generateRequest(p.Zt,z.yma(A),!1);}).then(function(){return B.close();}).then(function(){return x;}).catch(function(C){z.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.yma=function(x){switch(x){case g.Ak.cB:x=q.WCa;break;case g.Ak.Ey:x=q.sJa;break;default:x=q.xNa;}return x.map(this.kc.decode);};c.prototype.BZb=function(){var x;x=this;try{return this.VNb.get().then(function(z){return z.map(function(A,B){return function(){var D,C;D=B === z.length - 1;C=x.config().Gxa && !D;return x.fzb(A.keySystem,A.robustness).then(function(F){return C?x.Gxa(F):Promise.resolve(F);});};});}).then(function(z){return x.CZb(z);});}catch(z){return Promise.reject(z);}};c.prototype.CZb=function(x){return x.reduce(function(z,A){return z.then(function(B){return Promise.resolve(B);}).catch(function(){return A();});},Promise.reject(Error("keySystem missing")));};Xa.Object.defineProperties(c.prototype,{B2a:{configurable:!0,enumerable:!0,get:function(){return this.o6;}}});a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(m.fh)),r.__param(2,(0,l.l)(h.ac)),r.__param(3,(0,l.l)(v.fq)),r.__param(4,(0,l.l)(u.KGa)),r.__param(5,(0,l.l)(t.Cba)),r.__param(6,(0,l.l)(w.hFa))],a);b.MGa=a;},68262:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.NGa=void 0;a.prototype.a0a=function(){return void 0 !== this.mediaKeys;};a.prototype.yQa=function(c){this.mediaKeys=c;};a.prototype.vYb=function(){this.a0a() && (this.mediaKeys=void 0);};b.NGa=a;},17664:function(r,b){function a(c,l,f){var k;k=this;this.kc=c;this.Ah=l;this.eh=f;this.VHb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=k.kc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.YCa={Zt:1667591779,lgb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;a.prototype.Lwb=function(c,l){l=l?this.YCa.lgb:this.YCa.Zt;c=c.map(function(f){return {iec:"",WNb:f,xha:f,C1b:f,W5b:[1]};});return this.DPb(l,c);};a.prototype.CPb=function(c){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,c);return this.Zpa("fpsi",[l]);};a.prototype.BPb=function(c,l,f,k){c=[this.Zpa("fkri",[c])];l.byteLength && c.push(this.DU("fkai",[l]));f.byteLength && c.push(this.DU("fkcx",[f]));k.length && c.push(this.DU("fkvl",[new Uint8Array(new Uint32Array(k).buffer)]));return this.DU("fpsk",c);};a.prototype.DPb=function(c,l){var f,d;f=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.CPb(c)];for(var k in l){d=l[k];c.push(this.BPb(d.WNb,d.xha,d.C1b,d.W5b));}l=this.DU("fpsd",c);k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,l.byteLength);return this.Zpa("pssh",[f,k,l]);};a.prototype.Zpa=function(c,l){var f,k,d;f=0;for(d in l){f+=l[d].byteLength;}f=new Uint8Array(12 + f);k=new DataView(f.buffer);d=0;k.setUint32(d,f.byteLength);d+=4;f.set(this.eh.decode(c),d);d+=4;k.setUint32(d,0);d+=4;for(var g in l){c=l[g];f.set(c,d);d+=c.byteLength;}return f;};a.prototype.DU=function(c,l){var f,k;f=0;for(k in l){f+=l[k].byteLength;}f=new Uint8Array(8 + f);k=0;new DataView(f.buffer).setUint32(k,f.byteLength);k+=4;f.set(this.eh.decode(c),k);k+=4;for(var d in l){c=l[d];f.set(c,k);k+=c.byteLength;}return f;};b.UCa=a;},56452:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x,z){t=f.lu.call(this,t,w,v,y,x,z) || this;t.kc=v;t.Ah=y;t.ei=x;t.eh=z;t.p0a=new k.UCa(t.kc,t.Ah,t.eh);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.VCa=void 0;r=a(70655);l=a(86700);f=a(8574);k=a(17664);d=a(63088);g=a(89542);m=a(31224);h=a(89682);n=a(23152);p=a(53484);q=a(99745);u=a(26271);ea(c,f.lu);c.prototype.generateRequest=function(t,w,v){var y,x,z;y=this;try{x=w.map(function(A){return y.p0a.VHb(A);});this.Y0a=x.map(function(A){return y.kc.encode(A);});z=this.p0a.Lwb(x,v);return f.lu.prototype.generateRequest.call(this,t,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(t,w,v){var y,x,z,A,B;y=this;if(v)try{x=this.eh.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(D){var C;C=u.R_.vbb(D.ID);return {keyID:w === q.ED.PKa?y.Y0a[y.Y0a.length - 1]:v[C],payload:D.PAYLOAD};});if(w === q.ED.Request){A=z.map(function(D){return D.keyID;});v.forEach(function(D){-1 === A.indexOf(D) && z.push({keyID:D,error:1});});}B=JSON.stringify(z);t=[this.eh.decode(B)];}catch(D){return Promise.reject(D);}return f.lu.prototype.update.call(this,t,w);};c.prototype.gH=function(){return f.lu.prototype.update.call(this,[this.eh.decode("renew")],q.ED.Request);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.NI)),r.__param(1,(0,l.l)(g.Wf)),r.__param(2,(0,l.l)(m.fh)),r.__param(3,(0,l.l)(h.jh)),r.__param(4,(0,l.l)(n.fq)),r.__param(5,(0,l.l)(p.lq))],a);b.VCa=a;},41996:function(r,b,a){var l,f,k,d;function c(){return f.lu.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qKa=void 0;r=a(70655);l=a(86700);f=a(8574);k=a(87704);d=a(68172);ea(c,f.lu);c.prototype.b3=function(g,m,h,n,p){this.g9a(h);this.d9a(n);this.b9a(p);this.HOa=this.pe;this.pe=g.createSession(m);this.zQa(h);this.vQa(n);this.tQa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var m;function g(h){return h && h.sessionId?h.close():Promise.resolve();}m=this;this.Wia=void 0;return this.pe?Promise.all([g(this.pe),g(this.HOa)]).then(function(){}).finally(function(){m.pe=void 0;m.HOa=void 0;}):Promise.reject(new k.Ng(d.U.hCa,d.R.yI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,m,h){this.initDataType=g;this.initData=m;return f.lu.prototype.generateRequest.call(this,g,m,h);};a=c;a=r.__decorate([(0,l.T)()],a);b.qKa=a;},8574:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x,z){this.aV=t;this.is=w;this.kc=v;this.Ah=y;this.ei=x;this.eh=z;(0,k.ao)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.lu=void 0;r=a(70655);f=a(86700);k=a(60920);d=a(68172);g=a(63088);m=a(89542);h=a(87704);n=a(89682);p=a(31224);q=a(23152);a=a(53484);c.prototype.Ux=function(){if(this.pe)return this.pe.sessionId;};c.prototype.MYb=function(t,w){return this.aV.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.pe=t.createSession(w);};c.prototype.b3=function(){return Promise.reject(new h.Ng(d.U.WY));};c.prototype.tNb=function(){return !!this.pe;};c.prototype.setServerCertificate=function(t,w){return this.is.x1(t.setServerCertificate) && w?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.pe?this.pe.generateRequest(t,w[0]):Promise.reject(new h.Ng(d.U.WY,d.R.yI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.pe?this.pe.update(t[0]):Promise.reject(new h.Ng(d.U.pCa,d.R.yI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.pe?this.pe.load(t):Promise.reject(new h.Ng(d.U.Phb,d.R.yI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Wia=void 0;if(!this.pe)return Promise.reject(new h.Ng(d.U.hCa,d.R.yI,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.Ux() && (t=this.pe.close());this.pe=void 0;return t;};c.prototype.remove=function(){return this.pe?this.pe.remove():Promise.reject(new h.Ng(d.U.Rhb,d.R.yI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.gH=function(){return Promise.reject(new h.Ng(d.U.yba,void 0,"Unable to renew a key session, not supported"));};c.prototype.zQa=function(t){if(!this.pe)throw ReferenceError("Unable to add message handler, key session is not valid");this.pe.addEventListener(l.tCa,t);};c.prototype.vQa=function(t){if(!this.pe)throw ReferenceError("Unable to add key status handler, key session is not valid");this.pe.addEventListener(l.sCa,t);};c.prototype.tQa=function(t){if(!this.pe)throw ReferenceError("Unable to add error handler, key session is not valid");this.pe.addEventListener(l.rCa,t);};c.prototype.Nqb=function(t){var w;w=this;if(!this.pe)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Wia=t;this.pe.closed.then(function(v){var y;return null === (y=w.Wia) || void 0 === y?void 0:y.call(w,v);});};c.prototype.g9a=function(t){if(!this.pe)throw ReferenceError("Unable to remove message handler, key session is not valid");this.pe.removeEventListener(l.tCa,t);};c.prototype.d9a=function(t){if(!this.pe)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.pe.removeEventListener(l.sCa,t);};c.prototype.b9a=function(t){if(!this.pe)throw ReferenceError("Unable to remove error handler, key session is not valid");this.pe.removeEventListener(l.rCa,t);};u=l=c;u.tCa="message";u.sCa="keystatuseschange";u.rCa="error";u=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.NI)),r.__param(1,(0,f.l)(m.Wf)),r.__param(2,(0,f.l)(p.fh)),r.__param(3,(0,f.l)(n.jh)),r.__param(4,(0,f.l)(q.fq)),r.__param(5,(0,f.l)(a.lq))],u);b.lu=u;},45165:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,w,v){this.Li=u;this.kc=t;this.ei=w;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(5266);d=a(31224);g=a(87704);m=a(29853);h=a(23152);n=a(17244);p=a(56003);q=a(85060);c.prototype.L2=function(){return !1;};c.prototype.Eha=function(){return !0;};c.prototype.qia=function(){return !0;};c.prototype.zma=function(){return q.Zt;};c.prototype.z4=function(){return this.ei.nva?this.kc.decode(this.ei.nva):this.kc.decode(q.vNa);};c.prototype.bna=function(){return [q.Jr,q.Q_,q.P_];};c.prototype.zoa=function(){Promise.reject(new p.Mc(f.U.yba));};c.prototype.tja=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,xG:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Gx=function(u){var t,w,v;t=new g.Ng(f.U.iq);w=null === u || void 0 === u?void 0:u.code;null != w && void 0 !== w?(w=parseInt(w,10),t.ic=1 <= w && 9 >= w?f.R.Ir + w:f.R.Ir):t.ic=u instanceof m.jq?f.R.ZO:f.R.ol;try{v=u.message.match(/\((\d*)\)/)[1];t.Tc=this.Li.wF(v,4);}catch(y){}t.kS(u);return t;};c.prototype.iL=function(){};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.pw)),r.__param(1,(0,l.l)(d.fh)),r.__param(2,(0,l.l)(h.fq)),r.__param(3,(0,l.l)(n.ac))],a);b.MAa=a;},48258:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q){this.Li=p;this.kc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(5266);d=a(31224);g=a(87704);m=a(29853);h=a(56003);n=a(85060);c.prototype.L2=function(){return !0;};c.prototype.Eha=function(){return !1;};c.prototype.qia=function(){return !1;};c.prototype.zma=function(){return n.Zt;};c.prototype.z4=function(){};c.prototype.bna=function(){return [];};c.prototype.zoa=function(){Promise.reject(new h.Mc(f.U.yba));};c.prototype.tja=function(p){var q;q=new Uint8Array(p.message);q=this.jla(q,"PlayReadyKeyMessage","Challenge");q=this.kc.decode(q);return {type:p.type,sessionId:p.target.sessionId,xG:[q],messageType:p.messageType};};c.prototype.Gx=function(p){var q,u,t;q=new g.Ng(f.U.iq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),q.ic=1 <= u && 9 >= u?f.R.Ir + u:f.R.Ir):q.ic=p instanceof m.jq?f.R.ZO:f.R.ol;try{t=(/\((\d+)\)/).exec(p.message);q.Tc=this.Li.wF(Number(t && t[1]),4);}catch(w){}q.kS(p);return q;};c.prototype.jla=function(p,q){var t,w,v;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";w=p.length;for(t=0;t < w;t++){v=p[t];0 < v && (u+=String.fromCharCode(v));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){v=arguments[t];if(0 > u.search(v))return "";v="(?:[^:].*:|)" + v;w="[\\s\\S]*<" + v + "[^>]*>" + w + "</" + v + ">[\\s\\S]*";}return (u=u.match(new RegExp(w)))?u[1]:"";};c.prototype.iL=function(){};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.pw)),r.__param(1,(0,l.l)(d.fh))],a);b.wCa=a;},26271:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.R_=void 0;a.RLb=function(c){return "ID" + (c + 1);};a.vbb=function(c){return Number(c.substr(2)) - 1;};b.R_=a;},55783:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t;function c(w,v,y,x){this.Li=w;this.kc=v;this.eh=y;this.Wg=x;}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(5266);d=a(53484);g=a(87704);m=a(29853);h=a(31224);n=a(85060);p=a(41901);q=a(56003);u=a(95538);t=a(26271);c.prototype.L2=function(){return !1;};c.prototype.Eha=function(){return !1;};c.prototype.qia=function(){return !0;};c.prototype.zma=function(){return n.Zt;};c.prototype.z4=function(){return this.kc.decode(n.ZY);};c.prototype.bna=function(){return [];};c.prototype.zoa=function(w){w.gH();};c.prototype.tja=function(w){var v,y;v=[];if(w.messageType === p.Bca || w.messageType === p.Aca){if(w.messageType === p.Bca){y=this.eh.encode(new Uint8Array(w.message));v=JSON.parse(y);y=v.map(function(x){return x.keyID;});v=v.map(function(x){return x.payload;});}else v=[this.kc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(x){return x && x.length;}))throw new q.Mc(f.U.mCa);v=this.C3b(v);v=this.eh.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,xG:[v],messageType:w.messageType,tv:y};};c.prototype.Gx=function(w){var v,y,x,z;y=null === (v=w.target) || void 0 === v?void 0:v.error;if(y)(x=y.systemCode,z=y.code);v=new g.Ng(f.U.iq,w instanceof m.jq?f.R.ZO:f.R.Ir,x?this.Li.wF(x,4):z,"",y);v.kS(w);return v;};c.prototype.C3b=function(w){w=w.map(function(v,y){return {ID:t.R_.RLb(y),PAYLOAD:v};});return {VERSION:this.Wg.Zu?3:1,CHALLENGES:w};};c.prototype.iL=function(w,v){var y,x;y=this;if(v && this.Wg.Zu)try{x=this.eh.encode(v[0]);return JSON.parse(x).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.R_.vbb(z.ID);z=y.kc.decode(z.DHB).subarray(4,12);A=y.kc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.Ng(f.U.Qkb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.pw)),r.__param(1,(0,l.l)(h.fh)),r.__param(2,(0,l.l)(d.lq)),r.__param(3,(0,l.l)(u.Lw))],a);b.pLa=a;},83245:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.gYa=void 0;r=a(86700);c=a(61597);l=a(71490);f=a(45168);k=a(91705);d=a(34703);g=a(24935);m=a(73240);h=a(65872);b.gYa=new r.ed(function(n){n(h.dDa).to(c.cDa).da();n(h.TKa).to(l.SKa).da();n(h.RKa).to(f.QKa).da();n(g.$Ca).to(k.ZCa).da();n(m.eEa).to(d.dEa).da();});},24935:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ca="FtlDataParserSymbol";},65872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TKa="ReportSyncSymbol";b.RKa="ReportApiErrorSyncSymbol";b.bDa="FtlProbeConfigSymbol";b.dDa="FtlProbeSymbol";},73240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eEa="HttpRequesterSymbol";},91705:function(r,b,a){var l,f,k,d,g;function c(m,h){this.is=m;this.json=h;(0,f.ao)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;r=a(70655);l=a(86700);f=a(60920);k=a(63088);d=a(2467);a=a(89542);c.prototype.parse=function(m){var n;m=this.json.parse(m);if(!this.is.uga(m))throw Error("FtlProbe: param: not an object");if(m.next && !this.is.dR(m.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.dR(m.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(m.pulse_delays && !this.is.tA(m.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.dR(m.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.tA(m.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.ym(m.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.sR(m.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var h=0;h < m.urls.length;++h){n=m.urls[h];if(!this.is.uga(n))throw Error("FtlProbe: param.urls[" + h + "]: not an object");if(!this.is.Xo(n.name))throw Error("FtlProbe: param.urls[" + h + "].name: not a string");if(!this.is.Xo(n.url))throw Error("FtlProbe: param.urls[" + h + "].url: not a string");}return {bXb:m.pulses,o8a:m.pulse_delays?m.pulse_delays.map(d.Hb):[],aXb:(0,d.Hb)(m.pulse_timeout),w2a:m.next?(0,d.Hb)(m.next):void 0,urls:m.urls,Opa:m.logblob,context:m.ctx};};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Wf)),r.__param(1,(0,l.l)(k.kD))],g);b.ZCa=g;},69673:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q){n=d.Se.call(this,n,"FtlProbeConfigImpl") || this;n.oh=p;n.qa=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=void 0;r=a(70655);l=a(35664);f=a(86700);k=a(2467);d=a(90187);g=a(39141);m=a(54662);a=a(59578);ea(c,d.Se);Xa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Wla + (-1 === this.Wla.indexOf("?")?"?":"&") + "monotonic=" + this.qa.h5a + "&device=web";}},Tab:{configurable:!0,enumerable:!0,get:function(){return k.Ia;}},Ola:{configurable:!0,enumerable:!0,get:function(){return "";}},Wla:{configurable:!0,enumerable:!0,get:function(){return this.oh.endpoint + "/ftl/probe" + (this.Ola?"?force=" + this.Ola:"");}}});h=c;r.__decorate([m.config(m.bd,"ftlEnabled")],h.prototype,"enabled",null);r.__decorate([m.config(m.lk,"ftlStartDelay")],h.prototype,"Tab",null);r.__decorate([m.config(m.string,"ftlEndpointForceParam")],h.prototype,"Ola",null);r.__decorate([m.config(m.url,"ftlEndpoint")],h.prototype,"Wla",null);h=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.wl)),r.__param(1,(0,f.l)(g.iY)),r.__param(2,(0,f.l)(l.gg))],h);b.aDa=h;},61597:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,w,v,y){this.config=p;this.z0a=q;this.wc=u;this.qf=t;this.IYb=w;this.cua=v;this.KNb=0;this.la=y.Ua("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.cDa=void 0;r=a(70655);f=a(86700);k=a(2467);d=a(65428);g=a(71163);m=a(24935);h=a(73240);a=a(65872);c.prototype.start=function(){this.config.enabled && !this.mr && (this.mr=this.wc.Lj(this.config.Tab,this.rN.bind(this)));};c.prototype.stop=function(){this.mr && (this.mr.cancel(),this.mr=void 0);};c.prototype.rN=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.KNb++;this.KJb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.AKb(u,t.url,t.name);})).then(function(t){0 < t.length && p.IYb.gW({data:t,context:u.context,Opa:u.Opa});}).then(function(){return u;});}).then(function(u){p.mr && (u.w2a?p.mr=p.wc.Lj(u.w2a,p.rN.bind(p)):p.stop());}).catch(function(u){return p.la.error("FTL run failed",u);});};c.prototype.KJb=function(p){var q;q=this;return this.z0a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.cua.gW({url:p,status:u.status,Asa:"FTL API request failed",ho:u.ho}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.qf.parse(u.body);return t instanceof Error?(q.cua.gW({url:p,status:4,Asa:"FTL Probe API JSON parsing error",ho:u.ho}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.cua.gW({url:p,status:0,Asa:u.message}),q.la.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.AKb=function(p,q,u){var t;t=this;return new Promise(function(w,v){var F;for(var y,x,z,A,B=[],D={},C=0;C < p.bXb;(D={haa:D.haa,iaa:D.iaa},++C)){D.haa=C < p.o8a.length?p.o8a[C]:k.Ia;D.iaa="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (C + 1);F=(function(G){return function(){return new Promise(function(E,J){t.wc.Lj(G.haa,function(){l.AWb(t.z0a,G.iaa,p.aXb).then(function(M){function L(I,P,K){I || (I=K.headers[P]);return I;}y=L(y,"via",M);x=L(x,"x-ftl-probe-data",M);z=L(z,"x-ftl-error",M);A=L(A,"latency-trace",M);M={status:M.status,ho:M.ho,Z5b:y || "",Jvb:x || "",ES:z || "",jOb:t.wUb(A)};E(M);}).catch(function(M){J(M);});});});};})(D);B.push(0 < C?B[C - 1].then(F):F());}Promise.all(B).then(function(G){w({url:q,name:u,data:G});}).catch(function(G){v(G);});});};c.prototype.wUb=function(p){var q;if(p){q={};p=la(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return q;}};c.AWb=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};n=l=c;n=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.bDa)),r.__param(1,(0,f.l)(h.eEa)),r.__param(2,(0,f.l)(d.Ci)),r.__param(3,(0,f.l)(m.$Ca)),r.__param(4,(0,f.l)(a.TKa)),r.__param(5,(0,f.l)(a.RKa)),r.__param(6,(0,f.l)(g.Xa))],n);b.cDa=n;},34703:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t){this.qa=q;this.N6b=u;this.performance=t;(0,f.ao)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.dEa=void 0;r=a(70655);f=a(60920);k=a(40152);d=a(36845);g=a(63088);m=a(35664);h=a(86700);n=a(55749);p=a(2467);c.prototype.get=function(q,u,t){var w;w=this;return new Promise(function(v,y){var x,z,A;try{x=w.N6b.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);u && (x.withCredentials=!0);t && (x.timeout=t.ba(p.na));z=w.qa.fe;A=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.qa.fe.wa(z);break;case XMLHttpRequest.DONE:B=w.qa.fe.wa(z);B={body:x.responseText,status:x.status,headers:l.isa(x.getAllResponseHeaders()),ho:w.Jma(q,(0,d.Ba)(x.responseText.length),B,A)};v(B);}};x.send();}catch(B){y(B);}});};c.isa=function(q){var u,w,v;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];v=w.indexOf(": ");0 < v && (u[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return u;};c.prototype.Jma=function(q,u,t,w){u={size:u,duration:t,Lwa:w};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,k.aM)(u);q.decodedBodySize && (u.size=(0,d.Ba)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.PVa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.Dwa=(0,p.timestamp)(q.connectEnd - q.connectStart),u.Lwa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.Rwa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.Rwa=(0,p.timestamp)(t),u.Dwa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)));return u;};a=l=c;a=l=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(m.gg)),r.__param(1,(0,h.l)(n.DNa)),r.__param(2,(0,h.l)(g.oda)),r.__param(2,(0,h.optional)())],a);b.dEa=a;},45168:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.Of=h;this.Bqa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;r=a(70655);f=a(86700);k=a(36845);d=a(2467);g=a(14959);a=a(91022);c.prototype.gW=function(h){h=this.Bqa.As("ftlProbeError","info",l.I6b({url:h.url,sc:h.status,pf_err:h.Asa},h));this.Of.vc(h);};c.I6b=function(h,n){n.ho && (n=n.ho,l.Qu(h,"d",n.duration),l.Qu(h,"dns",n.PVa),l.Qu(h,"tcp",n.Dwa),l.Qu(h,"tls",n.Rwa),l.Qu(h,"ttfb",n.Lwa),h.sz=n.size.ba(k.Yt));return h;};c.Qu=function(h,n,p){p && (h[n]=p.ba(d.na));};m=l=c;m=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.pl)),r.__param(1,(0,f.l)(a.Cw))],m);b.QKa=m;},71490:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.Of=h;this.Bqa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;r=a(70655);f=a(86700);k=a(36845);d=a(2467);g=a(14959);a=a(91022);c.prototype.gW=function(h){var n;n={ctx:h.context,data:h.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.J6b({d:q.ho.duration.ba(d.na),sc:q.status,sz:q.ho.size.ba(k.Yt),via:q.Z5b,cip:q.Jvb,err:q.ES},q);})};})};h=this.Bqa.As(h.Opa,"info",n);this.Of.vc(h);};c.J6b=function(h,n){l.Qu(h,"dns",n.ho.PVa);l.Qu(h,"tcp",n.ho.Dwa);l.Qu(h,"tls",n.ho.Rwa);l.Qu(h,"ttfb",n.ho.Lwa);l.$qb(h,n.jOb);return h;};c.$qb=function(h,n){n && (h.rtts=n);};c.Qu=function(h,n,p){p && (h[n]=p.ba(d.na));};m=l=c;m=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.pl)),r.__param(1,(0,f.l)(a.Cw))],m);b.SKa=m;},10561:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Qk=void 0;r=a(86700);c=a(55463);l=a(77053);b.Qk=new r.ed(function(f){f(c.qFa).to(l.pFa);});},55463:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qFa="LicenseBrokerFactorySymbol";},70219:function(r,b,a){var l,f,k,d,g;function c(m,h){this.Pb=m;this.j=h;this.qU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.KO=void 0;r=a(70655);l=a(68172);f=a(86700);k=a(95919);d=a(30818);g=a(89082);c.prototype.h4=function(m){this.qU.forEach(function(h){return h(m);});};c.prototype.pd=function(m,h,n){this.j.pd(m,h,n);};c.prototype.Wqb=function(m){-1 === this.qU.indexOf(m) && this.qU.push(m);};c.prototype.uYb=function(m){m=this.qU.indexOf(m);0 <= m && this.qU.splice(m,1);};c.prototype.I_a=function(m){var h,n;h={};(0,k.Uc)(m.code)?h.xa=(0,l.MCa)(m.code):h.xa=l.R.ol;try{n=m.message.match(/\((\d*)\)/)[1];h.Ee=(0,g.Oha)(n,4);}catch(p){}h.Kb=(0,d.ve)(m);return h;};a=c;a=r.__decorate([(0,f.T)()],a);b.KO=a;},89868:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t;function c(w,v,y,x,z){x=p.KO.call(this,x,z) || this;x.config=w;x.ei=v;x.cd=y;x.log=(0,f.Ih)(x.j,"LegacyLicenseBroker");x.Vl=x.config().Vl;x.config().h8a?(0,d.$1a)()?x.O$=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:g.uD}):x.O$=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.lFa=void 0;r=a(70655);l=a(68172);f=a(89082);k=a(50563);d=a(24133);g=a(50876);m=a(86700);h=a(42029);n=a(811);p=a(70219);q=a(41047);u=a(2467);ea(c,p.KO);c.prototype.pUa=function(w){var v;v=void 0 === v?this.j:v;return new this.dr.xI(w,function(y){return v.U2.IF(y);},function(y){return v.U2.release(y);},{mf:!1,hk:!1});};c.prototype.HA=function(w){var v,y,x,z,A,B;v=this;w=void 0 === w?this.j:w;y=a(61831).Fn;this.dr.xI || this.pd(l.U.GI,l.R.Khb);x=(0,f.Ih)(w,"Eme");z=this.pUa(x);A=f.za.get(k.VP);B=A.W2(w.tc.value.streams);A=A.c3(w.Mg.value.streams);return this.dr.zI(x,function(D){return w.ke(D);},{mf:!1,hk:!1,qa:{getTime:y},kd:z,UV:!!this.O$,$:this.Pb.$,iz:this.config().wWa,onerror:function(D,C,F){return v.pd(D,C,F);},lra:function(){},UG:!0,Nsb:B,d6b:A,vpa:this.ei.P1.ba(u.na)});};c.prototype.setMediaKeys=function(w){var v;v=this;return this.O$?new Promise(function(y,x){if(v.Pb.$)v.Pb.$.setMediaKeys(w).then(function(){y();}).catch(function(z){var A;A=v.I_a(z);x({ha:!1,code:l.U.QI,ic:A.xa,Tc:A.Ee,Kb:A.Kb,message:"Set media keys is a failure",cc:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.VWa=function(w){return {code:w.code,subCode:w.ic,extCode:w.Tc,edgeCode:w.Om,message:w.message,errorDetails:w.Kb,errorData:w.aB,state:w.state};};c.prototype.uva=function(w,v,y){var z,A,B;function x(){A.gH().catch(function(D){z.log.error("Unable to set the license",z.VWa(D));D.cc && D.cc.Kb && (D.Kb=D.Kb?D.Kb + D.cc.Kb:D.cc.Kb);z.pd(D.code,D,D.Tc);});}z=this;y=void 0 === y?this.j:y;A=y.ee;this.log.info("Setting the license");B=v?function(){return Promise.resolve();}:function(){return A.Vg(z.M4(!1),w);};return (v?function(){return A.R1(z.Pb.$);}:function(){return A.create(z.Vl).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.h4(y.O);z.Pb.veb.then(function(){z.config().NB && (v || z.config().SS) && (z.p9a=qb.setTimeout(x,z.config().NB));});}).catch(function(D){z.log.error("Unable to set the license",z.VWa(D));D.cc && D.cc.Kb && (D.Kb=D.Kb?D.Kb + D.cc.Kb:D.cc.Kb);if(v)throw Error(D && D.message?D.message:"failed to set license");z.pd(D.code,D,D.Tc);});};c.prototype.My=function(){return Promise.resolve();};c.prototype.Z7=function(){var v;function w(){var y;v.j.ee=v.HA();y=[];v.j.yt.forEach(function(x){y.push((0,f.uq)(x));});v.uva(y);}v=this;this.rU || (this.rU=!0,this.dr.zI?this.j.yt?this.config().zS && this.config().fr?this.cd.GYa(this.j.O).then(function(y){v.j.ee=y;return y.Qxa.then(function(){var x;x=[];v.j.yt.forEach(function(z){x.push((0,f.uq)(z));});return v.uva(x,!0).then(function(){var z;if(y.hcc)v.pd(l.U.Ohb);else {z=(0,f.Ih)(v.j,"Eme");y.udb({log:z,$m:function(A){return v.j.ke(A);}},{kd:v.pUa(z),onerror:function(A,B,D){return v.pd(A,B,D);}});v.j.by(y.Vc || ({}));v.j.JE="videopreparer";}});});}).catch(function(y){v.log.warn("eme not in cache",y);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.pd(l.U.Tkb)):this.pd(l.U.GI,l.R.Lhb));};c.prototype.v9a=function(w){var v;w=void 0 === w?this.j:w;w.ee=this.HA();v=[];w.yt.forEach(function(y){v.push((0,f.uq)(y));});return this.uva(v,!1,w);};c.prototype.M4=function(w){return this.config().SS?q.Bh.pn:w?q.Bh.pn:q.Bh.pm;};Xa.Object.defineProperties(c.prototype,{dr:{configurable:!0,enumerable:!0,get:function(){return f.za.get(n.x_);}},bC:{configurable:!0,enumerable:!0,get:function(){return this.O$?"encrypted":this.Pb.uCa + "needkey";}}});t=c;r.__decorate([h.z6],t.prototype,"dr",null);r.__decorate([h.z6],t.prototype,"bC",null);t=r.__decorate([(0,m.T)()],t);b.lFa=t;},77053:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t,w){this.kF=p;this.ei=q;this.config=u;this.gM=t;this.cd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;r=a(70655);l=a(86700);f=a(96630);k=a(31134);d=a(89868);g=a(23152);m=a(17244);h=a(26041);a=a(76820);c.prototype.create=function(p,q,u){return p?new k.rFa(this.config(),this.ei,this.cd,q,u,this.kF,this.gM()):new d.lFa(this.config,this.ei,this.cd,q,u);};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.UY)),r.__param(1,(0,l.l)(g.fq)),r.__param(2,(0,l.l)(m.ac)),r.__param(3,(0,l.l)(h.BP)),r.__param(4,(0,l.l)(a.GD))],n);b.pFa=n;},31134:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x,z,A){y=h.KO.call(this,y,x) || this;y.config=t;y.ei=w;y.cd=v;y.kF=z;y.b7=A;y.log=(0,f.Ih)(y.j,"LicenseBroker");y.rU=new Set();y.xqa=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.rFa=void 0;r=a(70655);l=a(68172);f=a(89082);k=a(77960);d=a(2467);g=a(86700);m=a(42029);h=a(70219);n=a(41047);p=a(34202);q=a(85060);u=a(34902);ea(c,h.KO);c.prototype.Z7=function(){var t,w;t=this;w=this.j.aa;this.rU.has(w.O) || (this.rU.add(w.O),this.bsb(w).catch(function(){return t.w9a(w);}).then(function(){return t.oRa(w);}).catch(function(v){return t.nRa(w,v);}).catch(function(v){return t.pd(v.code,v,v.Tc);}));};c.prototype.bsb=function(t){var w;w=this;return Promise.all([this.cd.GYa(t.O),this.kF()]).then(function(v){var y,x;v=la(v);y=v.next().value;x=v.next().value;return y.J9.then(function(z){var A;A=w.b7.mediaKeys;if(A && A !== z.mediaKeys)return (w.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === y.source && (A=w.CZa(t),x.e5a(A,z));return z;}).then(function(z){return w.R1(z,t,y.source);});}).catch(function(v){w.log.warn("eme not in cache",v);throw v;});};c.prototype.R1=function(t,w,v){this.$7a(t,w);w.JE=v;this.b7.yQa(t.mediaKeys);return t.nha();};c.prototype.zFb=function(t){var w;w={};t.forEach(function(v){w[(0,k.cWa)(v.UU)]=v.time.ba(d.na);});return w;};c.prototype.$7a=function(t,w){var v;v=this;w.ee=t;t.Q_b(function(y){v.pd(y.code,y,y.Tc);});};c.prototype.oRa=function(t){this.log.info("Successfully applied license for xid: " + t.ma + ", viewable: " + t.O + ", segment: " + t.I);this.by(t);this.xqa?this.h4(t.O):this.setMediaKeys(t);};c.prototype.nRa=function(t,w){this.by(t);throw w;};c.prototype.by=function(t){t.ee && t.by(this.zFb(t.ee.Vc));};c.prototype.CZa=function(t){var w,v;w=t.gw[0];v=w.streams[0].Ld;v=(0,q.Foa)(v);w=(0,u.Ema)(w.streams);return {type:this.M4(!1),initData:t.yt.map(function(y){return (0,f.uq)(y);}),T5:v,context:{$:this.Pb.$,m6:w},si:{O:t.O,ma:t.ma,Df:t.Df,Kk:t.Kk,ji:t.W.ji,eg:t.W.Fa.eg}};};c.prototype.w9a=function(t){var w;w=this;return this.kF().then(function(v){var y;y=w.CZa(t);w.rU.add(t.O);return v.Vg(y,w.b7).then(function(x){w.$7a(x,t);w.j.fireEvent(p.ea.tU,{O:t.O});return x.nha();});});};c.prototype.setMediaKeys=function(t){var w;w=this;if(this.xqa)this.log.trace("Media Keys already set");else try{this.Pb.$?(this.xqa=!0,this.Pb.$.setMediaKeys(t.ee.mediaKeys).then(function(){w.h4(t.O);}).catch(function(v){v=w.I_a(v);w.pd(l.U.QI,v,v.Ee);})):this.h4(t.O);}catch(v){this.pd(l.U.QI,v,void 0);}};c.prototype.My=function(){var t,w;t=this;w=this.j.aa.ee;return w?this.kF().then(function(v){return v.release(w,t.b7).then(function(y){t.log.trace("Successfully released the license");return y.close();}).catch(function(y){t.log.error("Unable to release the license",y);});}):Promise.resolve();};c.prototype.v9a=function(t){var w;w=this;t=void 0 === t?this.j:t;return this.w9a(t).then(function(){return w.oRa(t);}).catch(function(v){return w.nRa(t,v);});};c.prototype.M4=function(t){return this.ei.SS?n.Bh.pn:t?n.Bh.pn:n.Bh.pm;};Xa.Object.defineProperties(c.prototype,{bC:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Vl:{configurable:!0,enumerable:!0,get:function(){return this.config.Vl;}}});a=c;r.__decorate([m.z6],a.prototype,"bC",null);a=r.__decorate([(0,g.T)()],a);b.rFa=a;},55714:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tya="AppLogSinkSymbol";},99088:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.C3a=void 0;r=a(86700);c=a(53713);l=a(21745);f=a(99530);k=a(30927);d=a(37856);g=a(29588);m=a(17244);h=a(75448);n=a(72464);p=a(20278);q=a(65428);u=a(15303);t=a(55714);w=a(32411);v=a(51340);y=a(91022);x=a(32841);z=a(14959);A=a(95114);B=a(2052);D=a(86491);C=a(49976);F=a(61952);G=a(14697);E=a(58031);b.C3a=new r.ed(function(J){J(z.pl).to(f.KFa).da();J(w.aHa).to(k.$Ga).da();J(v.ZFa).to(d.YFa).da();J(x.VFa).to(g.UFa).da();J(z.oca).to(h.JFa).da();J(y.Cw).to(n.RFa).da();J(x.TFa).to(p.SFa).da();J(A.tP).to(B.sP).da();J(A.rca).to(F.WFa).da();J(G.wP).to(E.vP).da();J(D.QBa).to(C.PBa).da();J(t.Tya).to(l.Sya).da();J(z.LFa).sX(function(M){return function(){return M.hb.get(c.HP)().then(function(L){return new Promise(function(I){var K,H,N;function P(){H() && N() && L.$U?I(M.hb.get(z.pl)):K.Zi(P);}K=M.hb.get(q.Ci);H=M.hb.get(m.ac);N=M.hb.get(u.vw);K.Zi(P);});});};});});},86491:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QBa="DownloadReportBuilderSymbol";},14959:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oca="LogBatcherConfigSymbol";b.pl="LogBatcherSymbol";b.LFa="LogBatcherProviderSymbol";},51340:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZFa="LogblobSenderSymbol";},91022:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cw="LogMessageFactorySymbol";},32841:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TFa="LogMessageRulerConfigSymbol";b.VFa="LogMessageRulerSymbol";},95114:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tP="LogblobBuilderFactorySymbol";b.rca="LogblobBuilderCommonSymbol";},63563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ec=void 0;r=b.Ec || (b.Ec={});r.Btb="bitraterestriction";r.LSa="cdnsel";r.wx="chgstrm";r.debug="debug";r.HBb="dlreport";r.Nx="endplay";r.YT="intrplay";r.vy="midplay";r.JM="playbackaborted";r.fW="renderstrmswitch";r.vC="repos";r.Ct="resumeplay";r.C_b="serversel";r.vr="startplay";r.WW="statechanged";r.transition="transition";r.dva="segmentdropped";r.osb="asereport";r.YOb="livereport";r.XOb="livepipelinefailover";r.IRa="audioswitch";r.aSa="blockedautoplay";r.config="config";r.qdc="ftlProbeError";r.w2b="subtitleerror";r.x2b="subtitleqoe";r.y3b="timedtextrebuffer";r.ncb="timedtextswitch";r.Qab="speedchanged";},14697:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wP="LogblobMonitorFactorySymbol";},32411:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aHa="MessageQueueSymbol";},21745:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u){var t;t=this;this.rPb=n;this.ny=p;this.config=u;this.Nta=[];this.rPb.a9(l.Veb,this.qKb.bind(this));q().then(function(w){var v;v=u().kp.qFb;t.eQb=v?h.ej[v.toUpperCase()]:h.ej.Sj;t.Of=w;t.t_b();});}Object.defineProperty(b,"__esModule",{value:!0});b.Sya=void 0;r=a(70655);f=a(86700);k=a(17244);d=a(33456);g=a(14959);m=a(91022);h=a(71163);c.prototype.qKb=function(n,p){this.Of?this.r8a(n,p):this.Nta.push([n,p]);};c.prototype.t_b=function(){var n,p;n=this;p=this.Nta;this.Nta=[];p.forEach(function(q){n.r8a(q[0],q[1]);});};c.prototype.r8a=function(n,p){var q;if(this.Of && this.J0b(n)){q={debugMessage:n.message,debugCategory:n.Em};n.Cc.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.ny.As("debug",h.ej[n.level].toLowerCase(),q,p);this.Of.vc(n);}};c.prototype.J0b=function(n){var p;p=this.eQb;return void 0 !== p && n.level <= p && !n.Cc.find(function(q){return q.DS(h.XO);});};a=l=c;a.Veb="adaptorAll";a=l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.II)),r.__param(1,(0,f.l)(m.Cw)),r.__param(2,(0,f.l)(g.LFa)),r.__param(3,(0,f.l)(k.ac))],a);b.Sya=a;},49976:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;r=a(70655);l=a(12648);f=a(20736);k=a(30818);d=a(68172);g=a(70633);m=a(50876);h=a(86700);a=a(17244);c.prototype.construct=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.url;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,k.Zf)(t,function(v,y){w.push(u.YJb(y,q));});return {urls:w};};c.prototype.YJb=function(p,q){var u,t,w,v,y;u=this;w=p[0];v={url:w.url,bitrate:w.bitrate,cdnid:null === (t=w.Ac) || void 0 === t?void 0:t.id,dltype:w.JBb,id:w.Vb};y={};p.forEach(function(x){var z;z=u.TMb(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,k.Zf)(y,function(x,z){"fail" === x?v.failures=u.xHb(z,q):"success" === x && (v.downloads=u.nHb(z,q));});return v;};c.prototype.nHb=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.awb;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,k.Zf)(t,function(v,y){var x;x=[];y.forEach(function(z){x.push(z);u.BMb(z) && (w.push(u.ZYa(x,q,v)),x=[]);});0 < x.length && w.push(u.ZYa(x,q,v));});return w;};c.prototype.ZYa=function(p,q,u){var t,w,v,y,z;t=p.sort(function(A,B){return A.Xl.Yi < B.Xl.Yi?-1:A.Xl.Yi > B.Xl.Yi?1:0;});w=t[0].Xl;v=w.Qy;y=w.Yi;w=w.Qp;for(var x=1;x < p.length;x++){z=p[x].Xl;z.Qy < v && (v=z.Qy);z.Yi < y && (y=z.Yi);z.Qp > w && (w=z.Qp);}x=this.aJb(t);z=t[t.length - 1];return {time:v - q,tcpid:u?parseInt(u):-1,tresp:y - v,first:x,ranges:this.bJb(t,x),dur:w - y,trace:this.lB(p),status:this.sL(z),enctimeinfo:z.Hka};};c.prototype.aJb=function(p){var q;q=0;p.forEach(function(u){u.Nv && (q=(0,m.Ew)(q,u.Nv[0]));});return q;};c.prototype.bJb=function(p,q){var u;u=[];p.forEach(function(t){t.Nv?u.push([t.Nv[0] - q,t.Nv[1] - q]):u.push([0,-1]);});return u;};c.prototype.lB=function(p){var q,u;q=[];p.forEach(function(t){var w;t=t.Xl;if(u){w=t.Qy - u.Qp;0 < w && q.push([w,-2]);w=(0,m.Nr)(u.Qp,t.Qy);w=t.Yi - w;0 < w && q.push([w,-3]);}q.push([t.Qp - t.Yi,t.S2 || 0]);u=t;});return q;};c.prototype.BMb=function(p){if(p.xa === d.R.gD || p.xa === d.R.hD)return !0;};c.prototype.sL=function(p){if(p.ha)return "complete";if(p.xa === d.R.gD)return "abort";if(p.xa === d.R.hD)return "stall";(0,g.oa)(!1,"download status should never be: other");return "other";};c.prototype.xHb=function(p,q){var u,t;u=this;t=[];p.forEach(function(w){var v;v=w.Xl;w={time:v.Yi - q,tresp:v.Yi - v.Qy,dur:v.Qp - v.Yi,range:w.Nv,reason:u.dJb(w),httpcode:w.Ml,nwerr:(0,l.RZa)(w.xa),enctimeinfo:w.Hka};t.push(w);});return t;};c.prototype.dJb=function(p){return p.Ml || p.xa === d.R.hP?"http":p.xa === d.R.jP?"timeout":"network";};c.prototype.TMb=function(p){return p.ha || void 0 === p.ha || p.xa === d.R.gD || p.xa === d.R.hD?!1:!0;};c.prototype.Uwb=function(p){var q,u,t,w,v,y;q=p.request;u=q.stream;t=q.track;w=q.url;v=this.kHb(t,w);switch(v){case f.Uj.audio:case f.Uj.video:y=q.stream.Vb;break;case f.Uj.Nwa:case f.Uj.axa:y=t.Vb;}p={bitrate:u && u.bitrate,JBb:v,Vb:y,Xl:p.Xl,Ac:q.Ac,url:w,Ee:p.Ee,Ml:p.Ml,xa:p.xa,ha:p.ha,awb:this.bEb(p),Hka:q.MK};void 0 !== q.offset && void 0 != q.length && (p.Nv=[q.offset,q.offset + q.length - 1]);return p;};c.prototype.kHb=function(p,q){if(p)return p.type;if(0 <= q.indexOf("netflix.com")){if(0 <= q.indexOf("nccp"))return "nccp";if(0 <= q.indexOf("api"))return "api";}return "other";};c.prototype.bEb=function(p){if(p.headers && (p=p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(q){return 0 == q.indexOf("port=");}).map(function(q){return q.split("=")[1];})[0])?(0,k.Vi)(p):p;};n=c;n=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(a.ac))],n);b.PBa=n;},75448:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p){n=m.Se.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.$Pb=(0,l.Ba)(5E5);n.r_b=(0,f.t7)(1);n.k4a=(0,l.Ba)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.JFa=void 0;r=a(70655);l=a(36845);f=a(2467);k=a(86700);d=a(17244);g=a(54662);m=a(90187);a=a(59578);ea(c,m.Se);Xa.Object.defineProperties(c.prototype,{Gga:{configurable:!0,enumerable:!0,get:function(){return this.config().Gga;}},tab:{configurable:!0,enumerable:!0,get:function(){return [];}},sab:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});h=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],h.prototype,"tab",null);r.__decorate([g.config(g.zE("string"),"shedDebugTypes")],h.prototype,"sab",null);h=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.wl)),r.__param(1,(0,k.l)(d.ac))],h);b.JFa=h;},99530:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x,z){this.config=t;this.json=w;this.wc=v;this.jPb=y;this.TU=z;this.Z5=this.xB=!1;this.listeners=[];(0,f.ao)(this,"json");this.la=x.Ua("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;r=a(70655);l=a(86700);f=a(60920);k=a(63088);d=a(51340);g=a(65428);m=a(71163);h=a(14959);n=a(32411);p=a(68172);q=a(1265);a(64168);u=a(63563);c.prototype.va=function(){this.xB=!0;};c.prototype.vc=function(t){var w;w=this;this.U0b(t) || (!1,0 < t.size.Ik(this.config.$Pb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(v){return v.KQb(t);}),!1,this.TU.Mga(t),this.wc.Zi(function(){w.ZEb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.Z5?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,y){w.la.trace("Flushing",m.XO);w.Vp();w.wc.Zi(function(){w.iva(t).then(function(){v();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.iva=function(t){var w,v;w=this;t=void 0 === t?!1:t;if(!this.xB)return (this.la.trace("LogBatcher is not initialized"),Promise.resolve());if(this.Z5)return (this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.TU.DGb();if(0 === v.length && !t)return (this.la.trace("No logblobs to send"),Promise.resolve());!1;this.Vp();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=la(v),z=x.next();!z.done;(y={gaa:y.gaa},z=x.next())){y.gaa=z.value;t=t.then((function(A){return function(){return w.q_b(A.gaa);};})(y));}return t.then(function(){return w.YA();}).catch(function(A){v.filter(function(B){return !B.gy;}).forEach(function(B){return B.Hs();});w.YA();throw Error("Send failure. " + A);});};c.prototype.q_b=function(t){var w;w=this;this.la.trace("Sending batch: " + t.size,m.XO);return Promise.resolve(this.TU.oYb(t)).then(function(){return w.jPb.send(t.xG);}).then(function(){return t.TN();}).catch(function(v){w.la.warn("Failed to send batch of logblobs.",v,m.XO);t.Hs();w.G0b(v) && w.TU.Lqb(t);w.V0b(v) && (w.Z5=!0);throw v;});};c.prototype.G0b=function(t){return t.Tc === p.XZ.pIa?!1:this.config.Gga;};c.prototype.V0b=function(t){return t.ic === p.R.fDa || t.ic === p.R.gP || t.ic === p.R.kP?!0:!1;};c.prototype.ZEb=function(){var t;t=this;0 < this.TU.size.Ik(this.config.k4a)?this.iva().catch(function(w){return t.la.warn("Failed to send log messages on size threshold. " + w);}):this.YA();};c.prototype.Vp=function(){this.k6 && (!1,this.k6.cancel(),this.k6=void 0);};c.prototype.YA=function(){this.k6 || (!1,this.k6=this.wc.Lj(this.config.r_b,this.xM.bind(this)));};c.prototype.xM=function(){var t;t=this;this.Z5=!1;this.Vp();this.iva().catch(function(w){return t.la.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(v){}return w;};c.prototype.U0b=function(t){return 0 <= this.config.tab.indexOf(t.type)?!0:t.type === u.Ec.debug?0 <= this.config.sab.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(h.oca)),r.__param(1,(0,l.l)(k.kD)),r.__param(2,(0,l.l)(g.Ci)),r.__param(3,(0,l.l)(d.ZFa)),r.__param(4,(0,l.l)(m.Xa)),r.__param(5,(0,l.l)(n.aHa)),r.__param(6,(0,l.l)(q.PY))],a);b.KFa=a;},72464:function(r,b,a){var f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x,z,A,B,D,C,F){this.platform=w;this.Fja=v;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=A;this.Ea=D;this.data=B;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.OA;this.data.clver=this.platform.version;t && t.od && (t.od.os && (this.data.osplatform=t.od.os.name,this.data.osver=y.platformVersion.lU?y.platformVersion.version:t.od.os.version),this.data.browsername=t.od.name,this.data.browserver=t.od.version);t.$oa && (this.data.tester=!0);t.SF && !this.data.groupname && (this.data.groupname=t.SF);t.fK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.fK:t.fK);t.AX && (this.data.uigroupname=t.AX);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.gIb();this.data.uniqueLogId=C.mYa();this.data.appId=this.Ea.id;F && (t=this.Ea.Fb(),this.data.soffms=t.wa(F.Qh).ba(g.na),this.data.mid=this.data.mid || F.O,this.data.lvpi=F.B3a,this.data.uiLabel=F.xd,this.data.uxLabels=F.P$,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || F.ma,F.wH && (x=F.wH,(F=F.wH.split(".")) && 1 < F.length && "S" !== F[0][0] && (x="SABTest" + F[0] + ".Cell" + F[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function l(t,w,v,y,x,z,A){this.qa=t;this.Fja=w;this.config=v;this.Ea=y;this.M5b=x;this.platform=z;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.RFa=void 0;r=a(70655);f=a(36845);k=a(86700);d=a(35664);g=a(2467);m=a(50746);h=a(53685);n=a(58998);p=a(91026);q=a(811);a=a(64615);l.prototype.As=function(t,w,v,y){return new c(this.config,this.platform,this.Fja,this.userAgentData,t,w,this.qa.fe,v,this.Ea,this.M5b,y);};u=l;u=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.gg)),r.__param(1,(0,k.l)(m.iBa)),r.__param(2,(0,k.l)(h.nn)),r.__param(3,(0,k.l)(n.Jc)),r.__param(4,(0,k.l)(p.dNa)),r.__param(5,(0,k.l)(q.tn)),r.__param(6,(0,k.l)(a.d0))],u);b.RFa=u;Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.tSa || (this.tSa=(0,f.Ba)(this.Fja.encode(this.data).length));return this.tSa;}}});},20278:function(r,b,a){var l,f,k;function c(d){this.Jk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.SFa=void 0;r=a(70655);l=a(86700);f=a(36845);a=a(15303);c.prototype.lPb=function(){var d;d=this.Jk()?this.Jk().ek.length:40;return (0,f.Ba)(d + 33);};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.vw))],k);b.SFa=k;},29588:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.UFa=void 0;r=a(70655);l=a(86700);f=a(32841);k=a(36845);c.prototype.measure=function(d){var g;g=this;return d.map(function(m){return m.size.add(g.config.lPb());}).reduce(function(m,h){return m.add(h);},(0,k.Ba)(0));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.TFa))],a);b.UFa=a;},61952:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y){this.platform=t;this.config=w;this.Ea=v;this.userAgentData=y;this.nNa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(68172);d=a(811);g=a(2467);m=a(17244);h=a(30818);n=a(50876);p=a(12648);q=a(64615);u=a(18920);c.prototype.up=function(t,w,v){v && (t.adlid=v.Vb,t.abitrate=v.bitrate);w && (t.vdlid=w.Vb,t.vbitrate=w.bitrate);};c.prototype.P0a=function(t,w,v){v?t=Object.assign(t,(0,p.b_a)(this.platform.Dq,v)):t.errorcode=k.U.Go;t.errorcode === this.platform.Dq + k.U.bIa && (t.lastSyncWithVideoElement=this.getTime() - w.gX);};c.prototype.U0a=function(t,w){var v;try{Object.assign(t,(0,p.cna)());v=w.getBoundingClientRect();t.rendersize=v.width + "x" + v.height;t.renderpos=v.left + "x" + v.top;}catch(y){}};c.prototype.T0a=function(t,w){var v,y,x;v=w.Ac[u.v.X].value;y=w.Ac[u.v.fa].value;x=w.rf.value;w=w.Td.value;v && (t.cdnid=v.id,t.cdnname=v.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Vb,t.abitrate=x.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(t.vdlid=w.stream.Vb,t.vbitrate=w.stream.bitrate,t.vheight=w.stream.height,t.vwidth=w.stream.width);};c.prototype.R0a=function(t,w,v){0 <= w.mediaTime.value && (w=v && !w.Wa.ag?w.cS:w.mediaTime.value,t.moff=(0,h.Ol)(w),t.moffms=(0,h.$f)(w));};c.prototype.N0a=function(t,w){w.Af && (t.pbcid=w.Af);w.Df && (t.playbackcontextid=w.Df);};c.prototype.ioa=function(t){var w,v;t.browserua=n.uD;t.browseruad=null === (v=null === (w=n.Be.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === v?void 0:v.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.lU?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(w=n.Be && n.Be.connection && n.Be.connection.type) && (t.nettype=w);};c.prototype.DL=function(t){var w,v,y,x,z;if(this.config().VCb){z=null === (w=null === n.Be || void 0 === n.Be?void 0:n.Be.connection) || void 0 === w?void 0:w.effectiveType;w=null === n.Be || void 0 === n.Be?void 0:n.Be.deviceMemory;z && (t.effectiveType=z);w && (t.deviceMemory=w);}(z=null === (v=null === n.Be || void 0 === n.Be?void 0:n.Be.connection) || void 0 === v?void 0:v.type) && (t.connectionType=z);v=null === (y=null === n.Be || void 0 === n.Be?void 0:n.Be.connection) || void 0 === y?void 0:y.downlink;"number" === typeof v && isFinite(v) && (t.downlink=v);y=null === (x=null === n.Be || void 0 === n.Be?void 0:n.Be.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.D5=function(t,w){if(w=w.Wa.cm)(w.isUIAutoPlay && (t.isUIAutoPlay=!0),w.clLogId && (t.cl_log_id=w.clLogId));};c.prototype.EL=function(t,w,v,y){var x,z,A,B,D;x=this;if(v=v && v.streams){A=new Set();B=new Set();D=new Set();v.forEach(function(C){C=C.Ld;A.add(C);B.add(C.replace(x.nNa,""));(C=C.match(x.nNa)) && 0 < C.length && D.add(C[1]);});t.videoProfiles=[].concat(ca(A));t.videoProfile=0 === B.size?"none":[].concat(ca(B))[0];t.videoProfileLevels=[].concat(ca(D));v && v.length && (t.isMcClearen=!!v[0].zi.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=y.W) || void 0 === z?0:z.MX) && (t.videoProfilesStatus=this.U3a(y.W.MX));};c.prototype.U3a=function(t){return this.QPb(t.sL(),function(w){return w.supported?!0:w.reason;});};c.prototype.QPb=function(t,w){return Object.entries(t).reduce(function(v,y){var x;x=la(y);y=x.next().value;x=x.next().value;v[y]=w(x);return v;},{});};c.prototype.K0a=function(t,w,v){var y,x;if(w=w && w.streams){x={};w.forEach(function(z){x[z.Ld]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=v.W) || void 0 === y?0:y.AR) && (t.audioProfilesStatus=this.U3a(v.W.AR));};c.prototype.O0a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Fb().ba(g.na);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.tn)),r.__param(1,(0,l.l)(m.ac)),r.__param(2,(0,l.l)(f.Jc)),r.__param(3,(0,l.l)(q.d0))],a);b.WFa=a;},2052:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F;function c(G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db){this.gcb=G;this.Of=E;this.uqa=J;this.ila=M;this.Yd=L;this.z3=I;this.Ie=P;this.config=K;this.cd=H;this.qa=N;this.Ea=R;this.platform=Y;this.Gp=ma;this.ny=ia;this.ti=ja;this.Ls=Ca;this.yG=Ba;this.uc=Ka;this.fM=Va;this.KB=db;}Object.defineProperty(b,"__esModule",{value:!0});b.sP=void 0;r=a(70655);l=a(59415);f=a(14959);k=a(89682);d=a(43101);g=a(14756);m=a(86700);h=a(95114);n=a(61087);p=a(86491);q=a(5485);u=a(17244);t=a(35664);w=a(58998);v=a(811);y=a(91022);x=a(76820);z=a(72611);A=a(63088);B=a(53685);D=a(4988);C=a(1092);a=a(21410);c.prototype.create=function(G,E){return new n.uP(G,E,this.gcb,this.Of,this.uqa,this.ila,this.Yd,this.z3,this.Ie,this.config,this.cd,this.qa,this.Ea,this.Gp,this.ny,this.ti,this.Ls,this.yG,this.uc,this.fM,this.KB);};F=c;F=r.__decorate([(0,m.T)(),r.__param(0,(0,m.l)(l.xMa)),r.__param(1,(0,m.l)(f.pl)),r.__param(2,(0,m.l)(d.DGa)),r.__param(3,(0,m.l)(g.Hba)),r.__param(4,(0,m.l)(k.jh)),r.__param(5,(0,m.l)(p.QBa)),r.__param(6,(0,m.l)(q.eu)),r.__param(7,(0,m.l)(u.ac)),r.__param(8,(0,m.l)(x.GD)),r.__param(9,(0,m.l)(t.gg)),r.__param(10,(0,m.l)(w.Jc)),r.__param(11,(0,m.l)(v.tn)),r.__param(12,(0,m.l)(A.w_)),r.__param(13,(0,m.l)(y.Cw)),r.__param(14,(0,m.l)(z.yD)),r.__param(15,(0,m.l)(B.nn)),r.__param(16,(0,m.l)(D.Lca)),r.__param(17,(0,m.l)(h.rca)),r.__param(18,(0,m.l)(C.Fw)),r.__param(19,(0,m.l)(a.gca))],F);b.sP=F;},61087:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J;function c(M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha,ta,Q){var O;O=this;this.j=M;this.Ca=L;this.gcb=I;this.Of=P;this.uqa=K;this.ila=H;this.Yd=N;this.z3=R;this.Ie=Y;this.config=ma;this.cd=ia;this.qa=ja;this.Ea=Ca;this.Gp=Ba;this.ny=Ka;this.ti=Va;this.Ls=db;this.yG=W;this.uc=ha;this.fM=ta;this.KB=Q;this.oX=[];this.Eqa=this.AB=this.iW=0;this.AK=[];this.Qga=!1;this.vr=function(Z){var oa,qa,Ha,Ya,Wa,rb;qa={};try{qa={playdelaysdk:(0,n.$f)(O.j.OR()),applicationPlaydelay:(0,n.$f)(O.j.kia()),playdelay:(0,n.$f)(O.j.lia()),trackid:O.j.Pj,bookmark:(0,n.$f)(O.j.Gl || 0),pbnum:O.j.index,endianness:(0,g.eZa)()};O.config().cDb && (qa.transitiontime=O.j.im,qa.uiplaystarttime=O.j.Wa.OC,qa.playbackrequestedat=O.j.Qh.ba(p.na),qa.clockgettime=O.getTime(),qa.clockgetpreciseepoch=O.qa.fe.ba(p.na),qa.clockgetpreciseappepoch=O.Ea.my.ba(p.na),qa.absolutestarttime=O.j.yF(),qa.relativetime=O.j.l_a());O.u4(qa,"startplay");}catch(nb){O.log.error("error in startplay log fields",nb);}O.j.Fh && (qa.blocked=O.j.Fh);O.uc.O0a(qa);(0,x.tb)(O.j.dSa) && (qa.bookmarkact=(0,n.$f)(O.j.dSa));Ha=O.j.Vc.at && O.j.Vc.ats?O.j.Vc.at - O.j.Vc.ats:void 0;Ha && (qa.nccpat=Ha);(Ha=O.j.Vc.lr && O.j.Vc.lc?O.j.Vc.lr - O.j.Vc.lc:void 0) && (qa.nccplt=Ha);(Ha=O.j.Vc.lc && O.j.Vc.lg?O.j.Vc.lc - O.j.Vc.lg:void 0) && (qa.lct=Ha);(Ha=O.iF()) && (qa.downloadables=Ha);qb._cad_global.device && (0,x.Uc)(qb._cad_global.device.Q3) && (qa.esnSource=qb._cad_global.device.Q3);(0,n.Sd)(qa,O.Gp,{prefix:"pi_"});O.j.En && O.j.En.initBitrate && (qa.initvbitrate=O.j.En.initBitrate);O.j.En && O.j.En.selector && (qa.selector=O.j.En.selector);qa.fullDlreports=O.Kdb;if(O.j.state.value >= y.Ub.$d)try{Ya=O.j.zs();if(Ya){O.maxBitrate=(0,g.EO)(Ya.map(function(nb){return nb.bitrate;}));O.s4a=(0,g.EO)(Ya.map(function(nb){return nb.height;}));Wa=0 < Ya.length?(0,D.Q_a)(function(nb,Fb){return nb.height === Fb.height;},Ya).map(function(nb){return (0,z.jqa)(nb,function(Fb){return Fb.bitrate;});}):void 0;qa.maxbitrate=O.maxBitrate;qa.maxresheight=O.s4a;}}catch(nb){O.log.error("Exception computing max bitrate",nb);}try{rb=(0,g.LF)();rb && (qa.pdltime=rb);}catch(nb){}try{(0,n.Sd)(qa,O.j.Vc,{prefix:"sm_"});(0,n.Sd)(qa,O.j.g5(),{prefix:"vd_"});}catch(nb){}Z && O.j.yt && (qa.pssh=O.j.yt);O.S0a(O.j,qa);qa.avtp=O.PH.Vm().Iwa;(null === (oa=O.j.Za) || void 0 === oa?0:oa.Xw) && O.C5(qa);if(O.j.wb.value)try{qa.ttTrackFields=O.j.wb.value.zg;}catch(nb){}O.uc.K0a(qa,O.j.tc.value,O.Ca);O.uc.EL(qa,!0,O.j.Mg.value,O.Ca);O.j.W && (qa.packageId=O.j.W.Fa.en);O.j.W && O.j.W.Fa.hp && (qa.hasChoiceMap=!0);O.YNb(Wa);O.XNb();Z && (O.joa(qa),O.loa(qa));O.M0a(O.j,qa);O.XF(O.j,qa);O.YF(O.j,qa);O.Pq(O.j,qa);O.vB(O.j,qa,O.Qga);O.RT(O.j,qa);O.HLb(O.j,qa);O.koa(qa);O.noa(qa);O.uc.DL(qa);O.L0a(qa);O.uc.D5(qa,O.Ca);O.moa(qa);O.vc(A.Ec.vr,Z,J.Jd | J.Qr | J.Bi | J.Sr | J.ZC | J.rY | J.bD | J.yo,qa);};this.Ct=function(Z,oa,qa){oa={playdelay:(0,n.$f)(Z),reason:qa,intrplayseq:O.AB - 1,skipped:oa};"repos" === qa && (oa.prstate=!0 === O.j.paused.value?"paused":"playing");O.CL(oa,f.Vh.Ct);O.YF(O.j,oa);O.Pq(O.j,oa);O.vc(A.Ec.Ct,!1,J.Jd | J.Qr | J.Bi,oa);"rebuffer" !== qa && "force_rebuffer" !== qa || O.j.Vk.Uqb(Number((0,n.$f)(Z)));};this.wx=function(Z,oa,qa,Ha){Z={moff:(0,n.Ol)(qa),moffms:(0,n.$f)(qa),vbitrate:oa.bitrate,vbitrateold:Z.bitrate,vdlid:oa.Vb,vdlidold:Z.Vb,vheight:oa.height,vheightold:Z.height,vwidth:oa.width,vwidthold:Z.width,bw:Ha};O.YF(O.j,Z);O.Pq(O.j,Z);O.vB(O.j,Z);O.CL(Z,f.Vh.wx);O.vc(A.Ec.wx,!1,J.Bi,Z);};this.Zta=function(Z,oa,qa){Z={moff:(0,n.Ol)(qa),moffms:(0,n.$f)(qa),vdlidold:Z.Vb,vbitrateold:Z.bitrate};O.YF(O.j,Z);O.Pq(O.j,Z);O.vB(O.j,Z);O.uc.up(Z,oa,O.j.rf.value && O.j.rf.value.stream);O.CL(Z,f.Vh.fW);O.vc(A.Ec.fW,!1,J.Bi,Z);};this.Esa=function(){var Z,oa;Z={waittime:(0,n.$f)(O.j.l_a()),abortedevent:"startplay",trackid:O.j.Pj,prstate:O.Wx(),paustate:O.j.paused.value};O.u4(Z,"endplay");O.CL(Z,f.Vh.JM);O.Ls.AS && (Z.eventlist_version=1,Z.eventlist=O.yG.$Za(O.j));O.j.En && O.j.En.initBitrate && (Z.initvbitrate=O.j.En.initBitrate);try{oa=(0,g.LF)();oa && (Z.pdltime=oa);(0,n.Sd)(Z,O.j.Vc,{prefix:"sm_"});}catch(qa){}O.goa(Z);O.uc.D5(Z,O.Ca);O.uc.EL(Z,!1,O.j.Mg.value,O.Ca);O.joa(Z);O.uc.up(Z,O.j.Oe.value,O.j.Qg.value);O.S0a(O.j,Z);O.XF(O.j,Z);O.RT(O.j,Z);O.moa(Z);O.loa(Z);O.Pq(O.j,Z);O.vc(A.Ec.JM,!1,J.Jd | J.Bi | J.ZC | J.Sr | J.yo,Z);};this.Dsa=function(Z,oa){Z={waittime:(0,n.$f)(Z),abortedevent:"resumeplay",resumeplayreason:oa};O.j.En && O.j.En.initBitrate && (Z.initvbitrate=O.j.En.initBitrate);O.uc.up(Z,O.j.Oe.value,O.j.Qg.value);O.RT(O.j,Z);O.Pq(O.j,Z);O.vc(A.Ec.JM,!1,J.Jd | J.Bi | J.yo,Z);};this.iwa=function(Z,oa,qa){Z={newstate:oa?"Paused":"Playing",oldstate:Z?"Paused":"Playing",reason:qa};O.YF(O.j,Z);O.Pq(O.j,Z);O.vB(O.j,Z);O.uc.up(Z,O.j.Td.value && O.j.Td.value.stream,O.j.rf.value && O.j.rf.value.stream);O.CL(Z,f.Vh.WW);O.vc(A.Ec.WW,!1,J.Jd | J.Bi,Z);};this.YT=function(Z,oa,qa){var Ha,Ya;Z=(0,n.Sd)({vdlid:O.j.Oe.value.Vb,playingms:Z,pausedms:oa,intrplayseq:O.AB++,prstate:O.Wx(),paustate:O.j.paused.value},qa);O.u4(Z,"intrplay");oa=O.j.Ac[C.v.X].value;qa=O.j.Ac[C.v.fa].value;Z.cdnid=Z.vcdnid=oa && oa.id;Z.acdnid=qa && qa.id;Z.locid=O.mU && O.mU.Gpa;Z.loclv=O.mU && O.mU.y3a;Z.avtp=O.PH.Vm().Iwa;Z.mediabuffered=null === (Ha=O.j.je) || void 0 === Ha?void 0:Ha.v4();if(null === (Ya=O.j.Za) || void 0 === Ya?0:Ya.Xw)(O.goa(Z),O.C5(Z),O.Q0a(Z));try{(0,n.Sd)(Z,O.j.g5(),{prefix:"vd_"});}catch(Wa){}O.YF(O.j,Z);O.Pq(O.j,Z);O.vB(O.j,Z);O.uc.up(Z,O.j.Td.value && O.j.Td.value.stream,O.j.rf.value && O.j.rf.value.stream);O.vc(A.Ec.YT,!1,J.Jd | J.Bi,Z);};this.vC=function(Z,oa,qa){Z={moffold:(0,n.Ol)(Z),reposseq:O.iW++,prstate:O.Wx(),paustate:O.j.paused.value};O.vB(O.j,Z);O.uc.up(Z,qa && qa.stream,oa && oa.stream);O.CL(Z,f.Vh.vC);O.vc(A.Ec.vC,!1,J.Jd | J.Bi,Z);};this.Dha=function(){var Z,oa,qa,Ha;oa=O.j.tc.value;qa=O.j.Qg.value.Vb;oa=oa?{trackId:oa.trackId,bcp47:oa.re,downloadableId:qa,rank:oa.ec,chan:oa.channels}:{};qa=O.jy;Ha=null === (Z=O.jpa) || void 0 === Z?void 0:Z.Vb;Z=qa?{trackId:qa.trackId,bcp47:qa.re,downloadableId:Ha,rank:qa.ec,chan:qa.channels}:{};O.vc(A.Ec.IRa,!1,J.Jd | J.Bi,{switchdelay:(0,n.$f)(O.getTime() - O.kpa),track:oa,oldtrack:Z});};this.RW=function(Z){O.vc(A.Ec.Qab,!1,J.Jd | J.Bi,{speedold:Math.floor(1E3 * Z.oldValue),speed:Math.floor(1E3 * Z.newValue)});};this.YN=function(){O.vc(A.Ec.y3b,!1,J.Jd | J.Bi,{track:O.j.wb.value.zg});};this.az=function(Z){var oa,qa;oa=O.j.wb.value;if(Z.newValue || oa && oa.Wn() && !oa.Ym()){qa=(Z=null !== (qa=Z.newValue) && void 0 !== qa?qa:oa)?{trackId:Z.trackId,bcp47:Z.re,downloadableId:Z.Vb,rank:Z.ec,isImageBased:Z.ik}:{};Z=(Z=O.rpa)?{trackId:Z.trackId,bcp47:Z.re,downloadableId:Z.Vb,rank:Z.ec,isImageBased:Z.ik}:{};qa={switchdelay:(0,n.$f)(O.getTime() - O.qpa),track:qa,oldtrack:Z};O.uc.up(qa,O.j.Td.value && O.j.Td.value.stream,O.j.rf.value && O.j.rf.value.stream);O.vc(A.Ec.ncb,!1,J.Jd | J.Bi,qa);}};this.fp=function(Z){O.vc(A.Ec.Btb,!1,J.Jd | J.Bi,Z.newValue);};this.evb=function(Z,oa){var qa,Ha;qa=oa.serverid;Ha={locid:oa.location,loclv:oa.locationlv,selocaid:qa,selcdnid:qa,selocaname:oa.servername};Ha.mediatype=oa.mediatype;Ha.selreason=oa.selreason || "unknown";Ha.seldetail=oa.seldetail;Ha.cdnbwdata=JSON.stringify([{id:qa}]);Z && (Ha.oldlocid=Z.Gpa,Ha.oldloclv=Z.y3a,Ha.oldocaid=Z.A_b,Ha.oldocaname=Z.FW);O.vc(A.Ec.LSa,!1,J.rY,Ha);};this.NVa=function(){var Z,oa,qa;if(O.j.sg)try{Z=!1;O.Kdb || (Z=!0,O.AK=O.AK.filter(function(Ha){return !Ha.ha;}));if(0 < O.AK.length){oa=O.z3.construct(O.AK,O.j.Qh.ba(p.na));O.AK=[];oa.erroronly=Z;qa={};(0,n.Zf)(oa,function(Ha,Ya){qa[Ha]=JSON.stringify(Ya);});O.vc(A.Ec.HBb,!1,J.Bi,qa);}}catch(Ha){O.log.error("Exception in dlreport.",Ha);}};this.Wx=function(){var Z;Z=O.j.lb.value;return Z === y.cb.me?"playing":Z === y.cb.Wh?"paused":Z === y.cb.cq?"ended":"waiting";};this.vy=function(){var Z,oa,qa;if(O.j.state.value == y.Ub.$d){qa=O.IV();O.config().eua && (qa.avtp=O.PH.Vm().Iwa,(null === (Z=O.j.Za) || void 0 === Z?0:Z.Xw) && O.C5(qa));qa.mediabuffered=null === (oa=O.j.je) || void 0 === oa?void 0:oa.v4();qa.midplayseq=O.Eqa++;qa.prstate=O.Wx();qa.paustate=O.j.paused.value;O.config().v_b && O.Bbb("midplay");O.config().fr && O.ooa(qa);O.koa(qa);O.noa(qa);O.Pq(O.j,qa);O.uc.DL(qa);O.vc(A.Ec.vy,!1,J.Jd | J.Bi | J.ZC | J.Sr,qa);}};this.Bbb=function(Z){var oa,qa;oa={};oa.trigger=Z;try{qa=O.j.Uma();oa.subtitleqoescore=O.j.kn.IJb(qa);oa.metrics=JSON.stringify(O.j.kn.nna(qa));}catch(Ha){O.log.error("error getting subtitle qoe data",Ha);}O.vc(A.Ec.x2b,!1,J.Jd | J.ZC | J.Qr,oa);};this.transition=function(Z){O.vB(O.j,Z);O.RT(O.j,Z);O.vc(A.Ec.transition,!1,0,Z);};this.dva=function(Z,oa){O.vc(A.Ec.dva,oa,0,Z);};this.Nx=function(Z){var oa,qa,Ha,Ya,Wa,rb,nb;qa=O.IV();O.u4(qa,"endplay");qa.prstate=O.Wx();qa.paustate=O.j.paused.value;qa.muted=O.j.muted.value;O.j.bz && "downloaded" === O.j.bz.sL() && (qa.trickplay_ms=O.j.yX.offset,qa.trickplay_res=O.j.yX.C9a);O.config().Qdb && (qa.rtinfo=O.j.lJb());O.config().eua && (null === (oa=O.j.Za) || void 0 === oa?0:oa.Xw) && O.C5(qa);qa.endreason=Z?"error":O.j.lb.value === y.cb.cq?"ended":"stopped";(oa=O.Gp) && (0,n.Sd)(qa,oa,{prefix:"pi_"});try{(0,n.Sd)(qa,O.j.Vc,{prefix:"sm_"});}catch(Ta){}O.j.foa && (qa.inactivityTime=O.j.foa);O.goa(qa);O.Q0a(qa);if(O.j.r2){oa=O.j.r2;Ha=O.config().hSa;Ya=O.j.loadTime;Wa={iv:Ha,seg:[]};rb=function(Ta,$a,ib){return 0 === $a || void 0 === ib[$a - 1]?Ta:Ta - ib[$a - 1];};nb=oa.Vsb.map(rb);rb=oa.i6b.map(rb);for(var Fb,Kb=0;Kb < nb.length;Kb++){if(nb[Kb] || rb[Kb])Fb?(Fb.ams.push(nb[Kb]),Fb.vms.push(rb[Kb])):Fb={ams:[oa.Vsb[Kb]],vms:[oa.i6b[Kb]],soffms:oa.startTime + Kb * Ha - Ya};Kb !== nb.length - 1 && nb[Kb] && rb[Kb] || !Fb || (Wa.seg.push(Fb),Fb=void 0);}qa.bt=JSON.stringify(Wa);}Z && (O.joa(qa),O.loa(qa));O.Bbb("endplay");O.config().fr && O.ooa(qa);O.uc.EL(qa,!1,O.j.Mg.value,O.Ca);O.M0a(O.j,qa);O.XF(O.j,qa);O.YF(O.j,qa);O.vB(O.j,qa,O.Qga);O.Pq(O.j,qa);O.RT(O.j,qa);O.koa(qa);O.noa(qa);O.uc.DL(qa);O.JLb(qa);O.L0a(qa);O.LLb(qa);O.KLb(qa);O.NLb(qa);O.moa(qa);O.OLb(qa);O.vc(A.Ec.Nx,Z,J.Jd | J.Qr | J.Bi | J.ZC | J.Sr | J.bD | J.yo,qa);};this.OBb=function(Z){O.AK.push(O.z3.Uwb(Z.response));};this.Fh=function(){O.vc(A.Ec.aSa,!1,J.Jd | J.ZC | J.yo,{});};this.nwb=function(Z){var oa,qa;oa=Z.response.Xl;Z=(0,p.Hb)(oa.Yi);qa=(0,p.Hb)(oa.Qp);oa=(0,u.Ba)(oa.S2 || 0);oa.k2a() || oa.Poa() || (Z=new t.Sda(Z,qa),O.PH.Oqb(new w.OBa(Z,oa)));};this.m8=function(Z){var oa,qa,Ha;Ha=Z.newValue;Z.Hh && Z.Hh.rM && Ha && (null === (oa=Z.Hh) || void 0 === oa || !oa.reason) || Ha == O.kG || (O.iwa(O.kG,Ha,null === (qa=Z.Hh) || void 0 === qa?void 0:qa.reason),O.kG=Ha);};this.rx=function(Z){function oa(qa){var Ha;if(O.j.Pb && O.j.Pb.sourceBuffers){Ha=O.j.Pb.sourceBuffers.filter(function(Ya){return Ya.type === qa;}).pop();if(Ha)return {busy:Ha.sh(),updating:Ha.updating(),ranges:Ha.w4()};}}Z={cause:Z.cc};Z.cause && Z.cause === d.tda && (Z.mediaTime=O.j.mediaTime.value,Z.buf_audio=oa(k.e_),Z.buf_video=oa(k.zP));O.YT(O.oX[y.cb.me] || 0,O.oX[y.cb.Wh] || 0,Z);};this.Ccb=function(Z){var oa;Z=Z.oldValue;oa=O.getTime();Z === y.cb.Ef?O.oX=[]:O.oX[Z]=(O.oX[Z] || 0) + (oa - O.fOb);O.fOb=oa;};this.Fl=function(Z){O.kpa=O.getTime();O.jy=Z.oldValue;};this.kl=function(Z){O.qpa=O.getTime();O.rpa=Z.oldValue;};this.BR=function(Z){O.jpa=Z.oldValue;};this.zU=function(Z){function oa(qa,Ha){var Ya;if(!qa || qa.Gpa !== Ha.location){Ya={Gpa:Ha.location,y3a:Ha.locationlv,A_b:Ha.serverid,FW:Ha.servername};O.evb(qa,Ha);return Ya;}}if("audio" === Z.mediatype){if(Z=oa(O.aOb,Z))O.aOb=Z;}else if(Z=oa(O.mU,Z))O.mU=Z;};this.EW=function(Z){var oa,qa;oa=Z.mediatype;qa=Z.reason;"video" === oa?"serverswitchaway" === qa?(O.bj.summary.qeb++,O.bj.x6=O.qa.fe.ba(p.na)):"serverswitchback" === qa && (O.bj.summary.reb++,O.bj.x6 && (O.bj.summary.seb.push(O.qa.fe.ba(p.na) - O.bj.x6),O.bj.x6=void 0)):"audio" === oa && ("serverswitchaway" === qa?(O.bj.summary.vRa++,O.bj.p6=O.qa.fe.ba(p.na)):"serverswitchback" === qa && (O.bj.summary.wRa++,O.bj.p6 && (O.bj.summary.xRa.push(O.qa.fe.ba(p.na) - O.bj.p6),O.bj.p6=void 0)));O.vc(A.Ec.C_b,!1,J.Jd | J.Bi,{mediatype:Z.mediatype,server:Z.server,selreason:Z.reason,location:Z.location,bitrate:Z.bitrate,confidence:Z.confidence,throughput:Z.throughput,oldserver:Z.oldserver});};this.AE=function(Z){O.vc(A.Ec.osb,!1,J.Bi,{strmsel:Z.strmsel});};this.G6=function(Z){Z=l.__rest(Z,["type"]);O.Pq(O.j,Z);O.vc(A.Ec.YOb,!1,J.Jd,Z);};this.F6=function(Z){var oa,qa;oa=Z.mediaType;qa=Z.current;Z=Z.$l;oa === C.v.X && (oa={mediatype:(0,E.wG)(oa),curr:{enc:qa.XA,origin:qa.WA},prev:{enc:Z.XA,origin:Z.WA}},O.Pq(O.j,oa),O.vc(A.Ec.XOb,!1,J.Jd,oa));};this.SN=function(Z){Z=Object.assign({},Z);Z.details && (Z.details=JSON.stringify(Z.details));O.vc(A.Ec.w2b,!0,J.Jd | J.Qr | J.rY,Z);};this.Qga=Va.Exa || Va.N$ || Va.VXa;this.PH=I();this.log=(0,m.Ih)(M,"LogblobBuilder");this.kG=M.paused.value;this.ma=this.Ca.ma;this.bj={summary:{qeb:0,reb:0,seb:[],vRa:0,wRa:0,xRa:[]},x6:void 0,p6:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.uP=void 0;l=a(70655);f=a(91854);k=a(7942);d=a(58680);g=a(24133);m=a(89082);h=a(70633);n=a(30818);p=a(2467);q=a(68172);u=a(36845);t=a(39784);w=a(5099);v=a(50876);y=a(34202);x=a(95919);z=a(99275);A=a(63563);B=a(73374);D=a(56170);C=a(18920);F=a(79426);G=a(75183);E=a(91854);c.prototype.S0a=function(M,L){var I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha;if(this.config().fr)try{I={};P=this.cd.getStats(void 0,void 0,M.O);K=M.yF();H=P.OH.zwb || [];I.attempts=P.C8 || 0;I.num_completed_tasks=H.length;N=this.Yd.tEb;R={};Y=B.gj.TN;ma=B.gj.Hs;ia=B.gj.ria;P.Lk && (R.scheduled=P.Lk - K);ja=M.W;ja && (0,x.tb)(ja.jH) && (R.preauthsent=ja.jH - M.loadTime,R.preauthreceived=ja.kN - M.loadTime);Ca=H.filter(function(ta){return "manifest" === ta.type;});I.mf_succ=Ca.filter(N("status",Y)).length;I.mf_fail=Ca.filter(N("status",ma)).length;Ba=M.Vc;(0,x.Uc)(Ba.lg) && 0 > Ba.lg && M.loadTime && (R.ldlsent=Ba.lc,R.ldlreceived=Ba.lr);Ka=H.filter(function(ta){return "ldl" === ta.type;});I.ldl_succ=Ka.filter(N("status",Y)).length;I.ldl_fail=Ka.filter(N("status",ma)).length;P=!0;K=[];"notcached" === M.KE && (P=!1,K.push("Missing cached manifest"));this.config().zS || (P=!1,K.push("LDL prefetch disabled"));Va=Ka.filter(N("status",ia)).length;this.config().zS && 0 === Va && (!R.ldlreceived || 0 <= R.ldlreceived) && (P=!1,K.push("LDL received after start"));if(this.config().FWa)if(L.isPrefetchItem){db=L.prefetchedAudioMs / L.bcABufferLevelMs;if(1 > L.prefetchedVideoMs / L.bcVBufferLevelMs || 1 > db)(P=!1,K.push("Insufficient media fetched"));}else (P=!1,K.push("aseStats not initialized"));W=H.filter(function(ta){return "getHeaders" === ta.type;});I.header_succ=W.filter(N("status",Y)).length;I.header_fail=W.filter(N("status",ma)).length;ha=H.filter(function(ta){return "getMedia" === ta.type;});I.media_succ=ha.filter(N("status",Y)).length;I.media_fail=ha.filter(N("status",ma)).length;I.hm_succ=I.header_succ + I.media_succ;I.hm_fail=I.header_fail + I.media_fail;(0,n.Sd)(L,I,{prefix:"pr_"});this.Ls.AS && (L.eventlist_version=1,L.eventlist=this.yG.$Za(M));(L.prefetchCompleted=P) || (L.prefetchFailed=K,(0,n.Sd)(L,R,{prefix:"pe_"}));this.ooa(L);}catch(ta){this.log.warn("error in collecting video prepare data",ta);}};c.prototype.qJb=function(M,L){if(M=M.aT())if(L=M[L])return L.sa;};c.prototype.M0a=function(M,L){M.Wa.ag && (L.isBranching=!0);};c.prototype.XF=function(M,L){var I,P;P=(null === (I=M.W) || void 0 === I?void 0:I.Moa) || "videopreparer" === M.JE;L.cachedManifest=M.KE;L.cachedLicense=M.JE;L.usedldl=this.config().zS?P.toString():"not_capable";};c.prototype.YF=function(M,L){var I,P;if(this.config().MLb){I=M.Vma();P=M.aa.W;I && P && (L.segment=I,P=M.jB(),L.segmenttime=P,M=this.qJb(M,I),null !== P && void 0 !== M && (L.segmentoffset=P - M));}};c.prototype.vB=function(M,L,I){L.pxid=M.x8;(void 0 === I?0:I) && (L.playgraph_trace=M.B7a);};c.prototype.RT=function(M,L){L.hasContentPlaygraph=M.m5();};c.prototype.HLb=function(M,L){var I,P;if(M.m5()){I=M.LA;P=M.W.Fa.Im.ga;L.auxViewables=Object.keys(P.M).map(function(K){return P.M[K].J;}).filter(function(K,H,N){return K !== I && N.indexOf(K) === H;});}};c.prototype.Q0a=function(M){var L,I;L=this.j.Ndc;I=L && L.Jfc;L && L.nLb && (M.htwbr=L.nLb,M.pbtwbr=L.tfc,M.hptwbr=L.Rdc);L && L.zZb && (M.rr=L.zZb,M.ra=L.Gfc);L && I && 0 < (I.length || 0) && (M.qe=JSON.stringify(I));};c.prototype.joa=function(M){var L,I,P;try{L=this.Yd.createElement("canvas");I=L.getContext("webgl") || L.getContext("experimental-webgl");if(I){P=I.getExtension("WEBGL_debug_renderer_info");P && (M.WebGLRenderer=I.getParameter(P.UNMASKED_RENDERER_WEBGL),M.WebGLVendor=I.getParameter(P.UNMASKED_VENDOR_WEBGL));}}catch(K){}};c.prototype.NLb=function(M){M.switchAwaySummary={vsa:this.bj.summary.qeb,vsb:this.bj.summary.reb,vsbt:this.bj.summary.seb,asa:this.bj.summary.vRa,asb:this.bj.summary.wRa,asbt:this.bj.summary.xRa};};c.prototype.vnb=function(M){var L;L=[];return M?Object.keys(M).map(function(I){return +I;}):L;};c.prototype.iF=function(){var M,L;M=this;if(this.j.gw && this.j.bi){L=[];this.j.gw.concat(this.j.bi).forEach(function(I){I.streams.forEach(function(P){L.push({dlid:P.Vb,type:P.type,bitrate:P.bitrate,vmaf:P.zb,cdn_ids:M.vnb(P.nka)});});});return JSON.stringify(L);}};c.prototype.dvb=function(){var L,I,P;function M(K,H){var N,R,Y;N=K.cdnId + "$" + K.correlationId;R=P[N];R || (R={cdnid:K.cdnId,pbcid:K.correlationId,dls:[]},P[N]=R,I.push(R));(0,h.wK)(K.bitrate);(0,h.wK)(K.duration);N={bitrate:K.bitrate,tm:(0,v.qn)(K.duration)};Y=K.vmaf;Y && ((0,h.wK)(K.vmaf),N.vf=Y);N[H]=(0,n.Vi)(K.downloadableId);R.dls.push(N);}L=this.j.Vk.zGb();I=[];P={};L.audio.forEach(function(K){M(K,"adlid");});L.video.forEach(function(K){M(K,"dlid");});return JSON.stringify(I);};c.prototype.IV=function(){var M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca;M=this.j.Vk;L={totaltime:(0,n.Ol)(M.pp("content")),totalcontenttime:(0,n.Ol)(M.zT("content")),totaladtime:(0,n.Ol)(M.pp("ads")),totalothertime:(0,n.Ol)(M.pp("other")),cdndldist:this.dvb(),reposcount:this.iW,intrplaycount:this.AB};try{I={numskip:0,numlowqual:0};P=this.j.je;K=P.mv();(0,x.tb)(K) && (L.totfr=K,I.numren=K);K=P.DF();(0,x.tb)(K) && (L.totdfr=K,I.numrendrop=K);K=P.eT();(0,x.tb)(K) && (L.totcfr=K,I.numrenerr=K);L.playqualvideo=JSON.stringify(I);H=this.j.Oe.value;H && (L.videofr=H.framerate.toFixed(3));N=M.dma();N && (L.abrdel=N);R=M.t5() && M.yYa();R && (L.tw_vmaf=R);Y=M.wYa();Y && (0,n.Sd)(L,Y);L.rbfrs=this.AB;L.maxbitrate=this.maxBitrate;L.maxresheight=this.s4a;ma=this.j.mB();for(M=0;M < ma.length;M++){ia=ma[M];ja=this.Ca.iM.Xy(ia);if(ja){(0,h.oa)(Ca);L.maxbitrate=Ca?Ca.bitrate:0;L.maxresheight=Ca?Ca.height:0;L.bitratefilters=ja.join("|");break;}Ca=ia;}this.j.bz && (L.trickplay=this.j.bz.sL());null !== this.j.kn.QRa && (L.avg_subt_delay=this.j.kn.QRa);}catch(Ba){this.log.error("Exception reading some of the endplay fields",Ba);}(0,n.Sd)(L,this.j.g5(),{prefix:"vd_"});return L;};c.prototype.getTime=function(){return this.Ea.Fb().ba(p.na);};c.prototype.fna=function(){return this.getTime() - this.Ca.Qh.ba(p.na);};c.prototype.ooa=function(M){var L;try{L=this.cd.getStats();M.pr_cache_size=JSON.stringify(L.cache);M.pr_stats=JSON.stringify(L.aGb);}catch(I){}};c.prototype.koa=function(M){this.log.debug("httpstats",this.Ie.Tf);(0,n.Sd)(M,this.Ie.Tf,{prefix:"http_"});};c.prototype.Pq=function(M,L){M=M.fd;M.ia && (L.intenttoplayatedge=M.HT(),M=M.iB(),L.livestage=this.bIb(M));};c.prototype.bIb=function(M){switch(M){case F.Lr.UP:case F.Lr.jca:case F.Lr.Aba:return M.toLowerCase();default:return (0,G.FS)(M);}};c.prototype.goa=function(M){var L,I,P;L=this.config().dVa && !(this.ma % this.config().dVa);I=this.j.Za;P=null === I || void 0 === I?void 0:I.Dh;L && P && (M.ASEstats=JSON.stringify(I.t1a()));};c.prototype.C5=function(M){Object.assign(M,this.j.Za.Ic.PJb());};c.prototype.noa=function(M){var L;try{L=v.ju.memory;(0,x.h2a)(L) && (M.totalJSHeapSize=L.totalJSHeapSize,M.usedJSHeapSize=L.usedJSHeapSize,M.jsHeapSizeLimit=L.jsHeapSizeLimit);}catch(I){}};c.prototype.L0a=function(M){var L;try{if(this.config().QR){L=this.j.FGb();M.battery=L;this.log.trace("batterystatuses",L);}}catch(I){}};c.prototype.JLb=function(M){this.j.j3 && (M.dqec=this.j.j3);};c.prototype.moa=function(M){var L,I,P;(null === (L=this.j.ee) || void 0 === L?0:L.kL)?M.keysys=this.j.ee.kL():(null === (P=null === (I=this.j.ee) || void 0 === I?void 0:I.mediaKeys) || void 0 === P?0:P.keySystem)?M.keysys=this.j.ee.mediaKeys.keySystem:this.fM.B2a && (M.keysys=this.fM.B2a);this.KB.D2a && (M.keySystemRestrictions=this.KB.D2a);this.KB.E2a && (M.keySystemRestrictionsDebug=this.KB.E2a);};c.prototype.loa=function(M){var L;if(null === (L=this.j.ee) || void 0 === L?0:L.xZa)M.keystatus=this.j.ee.ipa;};c.prototype.KLb=function(M){this.hla && (M.externaldisplay=this.hla.UK);};c.prototype.LLb=function(M){var L,I;if(this.Jxa){L=this.Jxa.map(function(P){return P.Jf;}).filter(function(P){return void 0 !== P;});I=(0,z.jqa)(L,function(P){return P.height;});I && (M.media_capabilities_smooth=I.smooth,M.media_capabilities_efficient=I.powerEfficient,M.media_capabilities_bitrate=I.bitrate,M.media_capabilities_height=I.height,M.media_capabilities_width=I.width);M.media_capabilities=L.map(function(P){return {smooth:P.smooth,efficient:P.powerEfficient,bitrate:P.bitrate,height:P.height,width:P.width};});}};c.prototype.OLb=function(M){M.didHydrateTracks=this.j.v3;};c.prototype.XNb=function(){void 0 === this.hla && (this.hla=this.ila.oEb());};c.prototype.YNb=function(M){var L;L=this;void 0 === this.Jxa && void 0 !== M && (this.Jxa=M.map(function(I){return L.uqa.nla(I);}));};c.prototype.u4=function(M,L){(L=this.j.mL(L)) && Object.entries(L).forEach(function(I){var P;P=la(I);I=P.next().value;P=P.next().value;M[I]=P;});};c.prototype.CL=function(M,L){var I;(L=null === (I=this.j.Za) || void 0 === I?void 0:I.N4(void 0,L)) && Object.entries(L).forEach(function(P){var K;K=la(P);P=K.next().value;K=K.next().value;M[P]=K;});};c.prototype.vc=function(M,L,I,P){var K,H;H=L?"error":"info";L && this.j.rh && (0,q.YY)(this.j.rh.errorCode,this.j.rh.xa,this.fna(),null === (K=this.j.je) || void 0 === K?void 0:K.mv()) && (H="info");this.Dga(P,this.j,L,I);M=this.ny.As(M,H,P,this.Ca);this.Of.vc(M);};c.prototype.ILb=function(M,L){var I,P;P=null === (I=L.Za) || void 0 === I?void 0:I.Wzb;P && (null === P || void 0 === P?void 0:P.J) !== L.LA && (M.auxMid || (M.auxMid=P.J),M.auxPlaybackcontextid || (M.auxPlaybackcontextid=L.Mk(P.J).Df));};c.prototype.Dga=function(M,L,I,P){var K,H,N,R,Y;this.uc.N0a(M,L);this.ILb(M,L);P & J.Jd && ((0,h.oa)(!M || void 0 === M.moff),this.uc.R0a(M,L,L.m5()));P & J.Qr && this.uc.T0a(M,L);P & J.Bi && (null === (K=L.Za) || void 0 === K?0:K.Dh) && (M.abuflbytes=null !== (H=M.abuflbytes) && void 0 !== H?H:L.zha(),M.abuflmsec=null !== (N=M.abuflmsec) && void 0 !== N?N:L.yR(),M.vbuflbytes=null !== (R=M.vbuflbytes) && void 0 !== R?R:L.Hxa(),M.vbuflmsec=null !== (Y=M.vbuflmsec) && void 0 !== Y?Y:L.KX());P & J.Sr && this.uc.U0a(M,L.pk);P & J.ZC && (K=v.Be.hardwareConcurrency,0 <= K && (M.numcores=K),K=this.Ca.uka) && (H=K.ema(),M.droppedFrames=JSON.stringify(H),K=K.rT(this.config().eCb),(0,n.Zf)(K,function(ma,ia){M["droppedFramesP" + ma]=JSON.stringify(ia);}));if(P & J.rY)try{L.sg && (M.cdninfo=JSON.stringify(L.sg.map(function(ma){return {id:ma.id,nm:ma.name,rk:ma.ec,wt:ma.location.weight,lv:ma.location.level};})));}catch(ma){}I && P & J.bD && ((0,h.oa)(L.rh),this.uc.P0a(M,L,L.rh));P & J.yo && this.uc.ioa(M);};Xa.Object.defineProperties(c.prototype,{Kdb:{configurable:!0,enumerable:!0,get:function(){return this.j.UA || this.j.xS;}}});b.uP=c;(function(M){M[M.Jd=1]="MOFF";M[M.Qr=2]="PRESENTEDSTREAMS";M[M.Bi=4]="BUFFER";M[M.Sr=8]="SCREEN";M[M.ZC=16]="CPU";M[M.rY=32]="CDN";M[M.bD=64]="FATALERROR";M[M.yo=128]="BROWSERINFO";})(J || (J={}));},58031:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t){this.Of=n;this.config=p;this.qa=q;this.Ea=u;this.Npa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.vP=void 0;r=a(70655);l=a(14959);f=a(86700);k=a(95114);d=a(17244);g=a(35664);m=a(58998);h=a(17899);c.prototype.create=function(n,p,q,u){var t;t=this.Npa.create(n,p);return new h.xP(n,p,q,u,this.Of,this.config,this.Ea,t);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.pl)),r.__param(1,(0,f.l)(d.ac)),r.__param(2,(0,f.l)(g.gg)),r.__param(3,(0,f.l)(m.Jc)),r.__param(4,(0,f.l)(k.tP))],a);b.vP=a;},17899:function(r,b,a){var l,f,k,d;function c(g,m,h,n,p,q,u,t){var w;w=this;this.j=g;this.Ca=m;this.OF=n;this.Of=p;this.config=q;this.Ea=u;this.eb=t;this.OB=function(v,y){return function(x){var z;z=y(x);if("number" !== typeof z)throw Error("Event " + JSON.stringify(x) + " does not have movie Id");z === w.O && v(x);};};this.S3a=this.OB(function(v){w.c$(v.cG);},function(v){return v.O;});this.P3a=this.OB(function(){w.RR();},function(v){return v.O;});this.vTa=this.OB(function(){w.RR();},function(v){return v.movieId;});this.Dia=this.OB(function(){w.j.lb.value === d.cb.me && (w.j.lb.removeListener(w.Dia),w.st());},function(){return w.j.O;});this.az=function(v){w.Hp && w.eb.az(v);};this.ATa=this.OB(this.eb.nwb,function(v){return v.O;});this.VVa=this.OB(this.eb.OBb,function(v){return v.O;});this.v3a=this.OB(this.eb.zU,function(v){return w.j.fi(v.segmentId).O;});this.C$a=this.OB(this.eb.EW,function(v){return w.j.fi(v.segmentId).O;});this.Ej=function(v){v.skip && (w.BH=!0);switch(v.cc){case d.Zc.Nw:case d.Zc.pP:case d.Zc.X_:w.kr && w.wo && w.eb.Dsa(w.getTime() - w.wo,w.kr);w.kr="repos";w.eb.vC(v.ura,v.rf,v.Td);w.wo=w.getTime();(0,k.Lf)(w.Xu);break;case d.Zc.$Y:(w.kr="force_rebuffer",w.wo=w.getTime(),(0,k.Lf)(w.Xu));}};this.Fl=function(v){w.jy=v.oldValue;w.eb.Fl(v);};this.Xu=function(){var v;if(w.wo && w.j.lb.value !== d.cb.Ef){v=w.getTime() - w.wo;w.eb.Ct(v,w.BH,w.kr);w.jy && w.jy != w.j.tc.value && w.eb.Dha();w.wo=void 0;w.kr=void 0;w.BH=void 0;}};this.st=function(){w.Hp || (w.Hp=!0,w.eb.vr(!1),w.roa(),w.config().L5 && (w.dy=qb.setTimeout(function(){w.Of.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.dy=void 0;},w.config().L5)));};this.tg=function(){w.dy && (qb.clearTimeout(w.dy),w.dy=void 0);if(w.config().A3 || w.config().xR)(w.mka && (qb.clearInterval(w.mka),w.mka=void 0),w.eb.NVa());w.CX && w.CX();w.Hp?w.eb.Nx(!!w.j.rh):w.j.rh?w.eb.vr(!0):w.Ca.background.value || w.eb.Esa();};this.OX=function(v){v.oldValue && v.Hh && v.Hh.OE && w.eb.wx(v.oldValue,v.newValue,v.Hh.OE,v.Hh.GR);};this.QV=function(v){var y;if(v.newValue){y=v.newValue.stream;w.lG != y && (w.lG && y && w.eb.Zta(w.lG,y,w.OF(v.newValue.iK.startTime)),w.lG=y);}};this.O=m.O;this.log=(0,l.Ih)(g,"LogblobBuilder");this.va();h && this.c$();}Object.defineProperty(b,"__esModule",{value:!0});b.xP=void 0;l=a(89082);f=a(2467);k=a(66052);d=a(34202);c.prototype.va=function(){this.j.addEventListener(d.ea.rG,this.S3a);this.j.addEventListener(d.ea.aqa,this.P3a);this.j.addEventListener(d.ea.zU,this.v3a);this.j.addEventListener(d.ea.EW,this.C$a);this.j.addEventListener(d.ea.tg,this.vTa);if(this.config().A3 || this.config().xR)(this.j.addEventListener(d.ea.gF,this.VVa),this.mka=qb.setInterval(this.eb.NVa,this.config().SBb));this.config().eua && this.j.addEventListener(d.ea.gF,this.ATa);};c.prototype.c$=function(g){var m;m=this;this.f5a || (this.j.lb.value !== d.cb.me || (void 0 === g?0:g)?this.j.lb.addListener(this.Dia):this.st(),this.j.Zh.addListener(this.az),this.j.wb.addListener(this.eb.kl),this.j.tc.addListener(this.Fl),this.j.Qg.addListener(this.eb.BR),this.j.paused.addListener(this.eb.m8),this.j.Td.addListener(this.QV),this.j.lb.addListener(this.Xu),this.j.lb.addListener(this.eb.Ccb),this.j.Oe.addListener(this.OX),this.j.playbackRate.addListener(this.eb.RW),this.j.addEventListener(d.ea.Fh,this.eb.Fh),this.j.addEventListener(d.ea.AE,this.eb.AE),this.j.addEventListener(d.ea.G6,this.eb.G6),this.j.addEventListener(d.ea.F6,this.eb.F6),this.j.addEventListener(d.ea.SN,this.eb.SN),this.j.addEventListener(d.ea.rx,function(h){m.kr="rebuffer";m.eb.rx(h);m.wo=m.getTime();(0,k.Lf)(m.Xu);}),this.j.addEventListener(d.ea.Ej,this.Ej),this.j.addEventListener(d.ea.YN,this.eb.YN),this.Ca.fp && this.Ca.fp.addListener(this.eb.fp),this.f5a=!0);};c.prototype.RR=function(){this.tg();this.f5a && (this.j.removeEventListener(d.ea.rG,this.S3a),this.j.removeEventListener(d.ea.aqa,this.P3a),this.j.removeEventListener(d.ea.zU,this.v3a),this.j.removeEventListener(d.ea.EW,this.C$a),this.j.Zh.removeListener(this.az),this.j.wb.removeListener(this.eb.kl),this.j.tc.removeListener(this.Fl),this.j.Qg.removeListener(this.eb.BR),this.j.paused.removeListener(this.eb.m8),this.j.Td.removeListener(this.QV),this.j.lb.removeListener(this.Xu),this.j.lb.removeListener(this.Dia),this.j.lb.removeListener(this.eb.Ccb),this.j.Oe.removeListener(this.OX),this.j.playbackRate.removeListener(this.eb.RW),this.j.removeEventListener(d.ea.tg,this.vTa),this.j.removeEventListener(d.ea.Fh,this.eb.Fh),this.j.removeEventListener(d.ea.AE,this.eb.AE),this.j.removeEventListener(d.ea.SN,this.eb.SN),this.j.removeEventListener(d.ea.rx,this.eb.rx),this.j.removeEventListener(d.ea.Ej,this.Ej),this.j.removeEventListener(d.ea.YN,this.eb.YN),this.Ca.fp && this.Ca.fp.removeListener(this.eb.fp),this.j.removeEventListener(d.ea.gF,this.VVa),this.j.removeEventListener(d.ea.gF,this.ATa));};c.prototype.getTime=function(){return this.Ea.Fb().ba(f.na);};c.prototype.roa=function(){var g,m,h;g=this;h=[];this.config().L4a && (this.config().M4a.forEach(function(n){h.push(qb.setTimeout(g.eb.vy,n));}),this.config().i7 && (m=qb.setInterval(this.eb.vy,this.config().i7)),this.CX=function(){h.forEach(function(n){qb.clearTimeout(n);});m && qb.clearInterval(m);});};b.xP=c;},37856:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t;function c(w,v,y,x,z,A,B,D){this.Ea=w;this.platform=y;this.Jk=x;this.json=z;this.Ah=A;this.Wg=B;this.pPb=D;(0,k.ao)(this,"json");this.la=v.Ua("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;r=a(70655);f=a(86700);k=a(60920);d=a(63088);g=a(2467);m=a(89682);h=a(58998);n=a(811);p=a(15303);q=a(71163);u=a(4048);a=a(95538);c.prototype.send=function(w){var v;v=this;return new Promise(function(y,x){var z;try{z=w.reduce(function(A,B){A.entries.push(v.izb(B));return A;},new l());y(v.eGb(z));}catch(A){v.la.error(A.message);x(A);}}).then(function(y){return v.kva(y);});};c.prototype.izb=function(w){return this.Ah.YB(this.Ah.YB({},w.data),{esn:this.Jk().ek,sev:w.severity,type:w.type,lver:this.platform.Lpa,jssid:this.Ea.id,devmod:this.platform.OA,jsoffms:w.timestamp.wa(this.Ea.my).ba(g.na),clienttime:w.timestamp.ba(g.na),client_utc:w.timestamp.ba(g.rm),uiver:this.Wg.cw});};c.prototype.eGb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var y={},x=0;x < w.entries.length;(y={BO:y.BO,Vt:y.Vt},++x)){y.Vt=Object.assign({},w.entries[x]);try{this.json.stringify(y.Vt);}catch(A){y.BO=void 0;this.Ah.$A(y.Vt,(function(B){return function(D,C){try{v.json.stringify(C);}catch(F){B.BO=F.message;B.Vt[D]=B.BO;}};})(y));y.Vt.stringifyException=y.BO;y.Vt.originalType=y.Vt.type;y.Vt.type="debug";y.Vt.sev="error";}}return this.json.stringify(w);}};c.prototype.kva=function(w){var v;v=this;return this.pPb.Bf(this.la,{logblobs:w}).then(function(){!1;}).catch(function(y){v.la.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(h.Jc)),r.__param(1,(0,f.l)(q.Xa)),r.__param(2,(0,f.l)(n.tn)),r.__param(3,(0,f.l)(p.vw)),r.__param(4,(0,f.l)(d.kD)),r.__param(5,(0,f.l)(m.jh)),r.__param(6,(0,f.l)(a.Lw)),r.__param(7,(0,f.l)(u.NIa))],t);b.YFa=t;},12648:function(r,b,a){var l,f;function c(k){switch(k){case l.R.hP:return "http";case l.R.jP:return "connectiontimeout";case l.R.hD:return "readtimeout";case l.R.ODa:return "corruptcontent";case l.R.gD:return "abort";case l.R.kP:case l.R.Wba:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.cna=b.b_a=b.RZa=void 0;l=a(68172);f=a(50876);b.RZa=c;b.b_a=function(k,d){k={errorcode:k + (d.errorCode || l.U.Go)};d.xa && (k.errorsubcode=d.xa);d.Ee && (k.errorextcode=d.Ee);d.Pka && (k.erroredgecode=d.Pka);d.Kb && (k.errordetails=d.Kb);d.Ml && (k.httperr=d.Ml);d.z7 && (k.aseneterr=d.z7);d.aB && (k.errordata=d.aB);d.SU && (k.mediaerrormessage=d.SU);(d=c(Number(d.xa))) && (k.nwerr=d);return k;};b.cna=function(){return {screensize:f.ku.width + "x" + f.ku.height,screenavailsize:f.ku.availWidth + "x" + f.ku.availHeight,clientsize:qb.innerWidth + "x" + qb.innerHeight,devicePixelRatio:f.nHa};};},30927:function(r,b,a){var f,k,d,g,m,h,n;function c(p){this.HJ=d.Ia;this.Ofa=[];this.DQ=this.H0=!1;p && (this.HJ=p.size,this.Ofa=p.xG);}function l(p,q,u,t){this.LQb=p;this.config=q;this.Cf=u;this.json=t;(0,k.ao)(this,"json");this.la=this.Cf.Ua("MessageQueue");this.us=[];}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;r=a(70655);f=a(86700);k=a(60920);d=a(36845);g=a(32841);m=a(71163);h=a(63088);a=a(14959);l.prototype.Mga=function(p){var q,u;0 === this.us.length && this.us.push(this.rma());if(p=this.nJb(p)){q=this.LQb.measure([p]);u=this.us[this.us.length - 1];0 < u.size.add(q).Ik(this.config.k4a) && (u=this.rma(),this.us.push(u));u.Mga(p);}};l.prototype.DGb=function(){var p;p=this.us.filter(function(q){return q.Yub;});this.us.push(this.rma());p.forEach(function(q){return q.TPb();});return p;};l.prototype.Lqb=function(p){p.gy || this.us.unshift(new c(p));};l.prototype.oYb=function(p){p=this.us.indexOf(p);0 <= p && this.us.splice(p,1);};l.prototype.nJb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.la.error("JSON.stringify error: " + t.message,q);}};l.prototype.rma=function(){return new c();};Xa.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.us.reduce(function(p,q){return p.add(q.size);},d.Ia);}}});n=l;n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.VFa)),r.__param(1,(0,f.l)(a.oca)),r.__param(2,(0,f.l)(m.Xa)),r.__param(3,(0,f.l)(h.kD))],n);b.$Ga=n;c.prototype.TN=function(){this.H0=!1;this.DQ=!0;};c.prototype.Hs=function(){this.H0=!1;};c.prototype.Mga=function(p){this.Ofa.push(p);this.HJ=this.HJ.add(p.size);};c.prototype.TPb=function(){this.H0=!0;};Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.HJ;}},xG:{configurable:!0,enumerable:!0,get:function(){return this.Ofa;}},Yub:{configurable:!0,enumerable:!0,get:function(){return 0 < this.xG.length && !1 === this.H0;}},gy:{configurable:!0,enumerable:!0,get:function(){return this.DQ;}}});},98330:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aza={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},65906:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.R3a=void 0;r=a(86700);c=a(69379);l=a(62722);f=a(87286);k=a(81818);d=a(67443);g=a(93592);m=a(65840);h=a(23251);n=a(29350);p=a(78927);q=a(31451);b.R3a=new r.ed(function(u){u(f.qGa).to(k.pGa).da();u(c.Eca).to(l.rGa).da();u(d.WJa).ll(function(t){for(var w=[],v=0;v < arguments.length;++v){w[v - 0]=arguments[v];}v=a(31360).DD;return new (Function.prototype.bind.apply(v,[null].concat(ca(w))))();});u(g.uGa).Vd(function(){return function(t){return new m.vGa(t);};});u(h.JI).to(n.nGa).da();u(p.mGa).to(q.lGa).da();});},87286:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qGa="ManifestProviderConfigSymbol";},69379:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eca="ManifestParserFactorySymbol";},93592:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uGa="ManifestVerifyErrorFactorySymbol";},67443:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WJa="PlayerTextTrackFactorySymbol";},95562:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q){n=f.DP.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.zza=void 0;l=a(98330);f=a(87450);k=a(56170);d=a(20736);g=a(65853);m=a(68172);h=a(56003);ea(c,f.DP);c.prototype.Q6a=function(n,p,q){var u,t;u=this;t=this.config.p$;p=p.filter(function(w){var v,y;v=w.EB || !w.xg || w.streams && 0 < w.streams.length;v || u.log.warn("Audio track is missing streams",u.a5(w));y=0 === t.length || 0 <= t.indexOf(w.zh);y || u.log.warn("Audio track is not supported",u.a5(w));return v && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return u.P6a(n,w,u.sGb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.rUb=function(n,p,q,u){var t,w,v,y;t=this;w=la((0,k.gC)(function(x){return x.EB;},p));p=w.next().value;w=w.next().value;w=la((0,k.gC)(function(x){return x.streams && 0 < x.streams.length;},w));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.a5(x));});y=this.config.p$;w=la((0,k.gC)(function(x){return 0 === y.length || 0 <= y.indexOf(x.zh);},v));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.a5(x));});p=[].concat(ca(v),ca(p)).map(function(x){return t.P6a(n,x,t.ZHb(x.cg,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.btb=function(n){var p,q;p=this;q=this.config.Lla;if(q){if(n=la(n.filter(function(u){return u.re == q || u.trackId == q;})).next().value)return n;}else if(this.j.n4 && (n=la(n.filter(function(u){return u.trackId == p.j.n4;})).next().value))return n;};c.prototype.BEb=function(n,p){this.config.ORa.forEach(function(q){var u,t,w;u=p.rs.filter(function(v){return v.profile === q;}).reduce(function(v,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){v.add(x);});return v;},new Set());t=!1;w=n.Fa.rs.map(function(v){var y;if(v.profile === q){y=v.streams.filter(function(x){return u.has(x.bitrate);});if(y.length === v.streams.length)return v;t=!0;if(0 === y.length)throw new h.Mc(m.U.cGa,m.R.nfb);return Object.assign(Object.assign({},v),{streams:y});}return v;});t && (n.Fa=Object.assign(Object.assign({},n.Fa),{rs:w}));});return n;};c.prototype.P6a=function(n,p,q){var u,t,w,v;v=p.zh;n=Object.assign(Object.assign({},n),{type:d.Uj.audio,JH:p.JH,variant:p.variant,trackId:p.cg,aG:p.iO,zh:g.$_[v.toLowerCase()] || g.Eo.SI,uC:v,re:p.language,displayName:p.LB,ec:null !== (u=p.ec) && void 0 !== u?u:-1,xg:null !== (t=p.xg) && void 0 !== t?t:!0,channels:p.channels,dcc:p.channels,bh:q,zg:{Bcp47:p.language,TrackId:p.cg},streams:[],isNative:p.isNative,Wn:p.EB,dX:p.dX});n.streams=this.Gcb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.bh.length});n.jwb=l.Aza[null === (w=n.streams[0]) || void 0 === w?void 0:w.Ld];return n;};c.prototype.a5=function(n){return {language:n.LB,bcp47:n.language,type:n.zh};};c.prototype.sGb=function(n,p){return p.filter(function(q){if(0 <= n.CBb.indexOf(q.aG))return !1;if(n.rVa){if(n.rVa !== q.aG && (q.Wn() || q.Ym()))return !1;}else if(n.HSb){if(q.Wn() || q.Ym())return !1;}else if(q.Ym())return !1;return !0;});};c.prototype.ZHb=function(n,p,q){return p.filter(function(u){return u.Wd.fa === n;}).map(function(u){return u.Wd.Ya;}).map(function(u){return q.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.zza=c;},17668:function(r,b,a){var l,f;function c(k,d){this.log=k;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.JAa=void 0;l=a(56170);f=a(40152);c.prototype.R6a=function(k,d){var g,m,h,n;g=this;m=this.config.wia;h=this.config.uia;k=la((0,l.gC)(function(p){return (!m.length || 0 <= m.indexOf(p.id)) && 0 > h.indexOf(p.id);},k || []));n=k.next().value;k.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});k=n.map(function(p){var q;q=(d?d.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,ec:p.ec,type:p.type,t3a:p.key,eNb:p.H3a,location:{id:q.key,ec:q.ec,level:q.level,weight:q.weight}};});k.sort(function(p,q){return p.ec - q.ec;});this.log.trace("Transformed cdns",{Count:k.length});if(!k.length)throw Error("no valid cdns");return k;};c.prototype.sLb=function(k,d,g,m){var h;h=k.filter(function(n){return -1 === g.findIndex(function(p){return p.id === n.id;});}).map(function(n){return {t6a:!0,$b:n};}).concat(g.map(function(n){return {t6a:!1,$b:n};})).sort(function(n,p){return n.$b.ec === p.$b.ec?n.t6a?-1:1:n.$b.ec - p.$b.ec;}).map(function(n,p){(0,f.aM)(n.$b).ec=p + 1;return n.$b;});k=d.filter(function(n){return -1 === m.findIndex(function(p){return p.key === n.key;});}).concat(m).map(function(n){var p;p=h.findIndex(function(q){return q.key === n.key;});if(-1 !== p)return (p=h[p],(0,f.aM)(n).ec=p.ec,n);}).filter(function(n){return void 0 !== n;});return {z_b:h,gPb:k};};b.JAa=c;},81818:function(r,b,a){var l,f,k,d,g,m;function c(h,n){h=f.Se.call(this,h,"ManifestParserConfigImpl") || this;h.Kf=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.pGa=void 0;r=a(70655);l=a(86700);f=a(90187);k=a(59578);d=a(54662);g=a(65350);m=a(36845);ea(c,f.Se);Xa.Object.defineProperties(c.prototype,{p$:{configurable:!0,enumerable:!0,get:function(){return [];}},Lla:{configurable:!0,enumerable:!0,get:function(){return "";}},wia:{configurable:!0,enumerable:!0,get:function(){return [];}},uia:{configurable:!0,enumerable:!0,get:function(){return [];}},Pla:{configurable:!0,enumerable:!0,get:function(){return "";}},aoa:{configurable:!0,enumerable:!0,get:function(){return 0;}},ZN:{configurable:!0,enumerable:!0,get:function(){return this.Kf.ZN.ba(m.Yt);}},Lt:{configurable:!0,enumerable:!0,get:function(){return this.Kf.Lt;}},zL:{configurable:!0,enumerable:!0,get:function(){return this.Kf.zL;}},ORa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.IH,"supportedAudioTrackTypes")],a.prototype,"p$",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Lla",null);r.__decorate([d.config(d.gxa,"cdnIdWhiteList")],a.prototype,"wia",null);r.__decorate([d.config(d.gxa,"cdnIdBlackList")],a.prototype,"uia",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Pla",null);r.__decorate([d.config(d.dz,"imageSubsResolution")],a.prototype,"aoa",null);r.__decorate([d.config(d.dz,"timedTextSimpleFallbackThreshold")],a.prototype,"ZN",null);r.__decorate([d.config(d.IH,"timedTextProfiles")],a.prototype,"Lt",null);r.__decorate([d.config(d.IH,"imscLanguageList")],a.prototype,"zL",null);r.__decorate([d.config(d.IH,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"ORa",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl)),r.__param(1,(0,l.l)(g.TI))],a);b.pGa=a;},62722:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y){this.Cf=t;this.config=w;this.Psa=v;this.Zwa=y;}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(87286);d=a(17668);g=a(87216);m=a(89509);h=a(36779);n=a(95562);p=a(25864);q=a(67443);a=a(51017);c.prototype.create=function(t){var w,v;w=this.Cf.Ua("ManifestParser",t);v=new d.JAa(w,this.config);return new m.sGa(v,new g.tMa(w,this.config,t,this.Psa),new h.NMa(w,t,this.Zwa),new n.zza(w,this.config,t),new p.qNa(w));};u=c;u=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(k.qGa)),r.__param(2,(0,l.l)(q.WJa)),r.__param(3,(0,l.l)(a.MMa))],u);b.rGa=u;},89509:function(r,b,a){var l;function c(f,k,d,g,m){this.xia=f;this.Ewa=k;this.a4b=d;this.DR=g;this.jeb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;l=a(40152);c.prototype.T6a=function(f){var k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B;g=f.Fa;m={Af:null !== (d=null === (k=g.DA) || void 0 === k?void 0:k.Fp) && void 0 !== d?d:"",kC:g.Doa?"ads":"content"};h=!!g.aW;k=this.xia.R6a(g.sk,g.ki);d=this.Ewa.V6a(m,g.aO);f=this.a4b.xUb(g.d4b);n=h?this.DR.Q6a(m,g.rs,d):this.DR.rUb(m,g.rs,g.media,d);m=this.jeb.yUb(m,g.St);p=m[0];q=this.DR.btb(n) || n.find(function(D){return h?D.trackId === g.aW.ap:D.aG === g.n3[0].ap;}) || n[0];u=this.Ewa.x3b(q.bh) || d.find(function(D){return h?D.trackId === g.aW.$N:D.aG === g.n3[0].Cbb;}) || q.bh[0];t=this.jeb.uUb(g.St);w=g.Df;v=g.$vb;y=g.pB;x=g.Kk;z=g.rs.findIndex(function(D){return D.cg == q.trackId;});A=g.St.findIndex(function(D){return D.cg == p.trackId;});B=g.aO.findIndex(function(D){return D.cg == u.trackId;});return {yt:t,sg:k,bi:n,gw:m,bh:d,cz:f,Df:w,D_b:v,gG:y,Kk:x,zAb:z,GAb:A,FAb:B,o3:p,hS:q,iS:u};};c.prototype.tLb=function(f,k,d){var g,m,h,n,p,q;g=this;n=this.xia.sLb(f.Fa.sk,f.Fa.ki,d.Fa.sk,d.Fa.ki);p=n.z_b;n=n.gPb;(0,l.aM)(f.Fa).sk=p;(0,l.aM)(f.Fa).ki=n;k.sg=this.xia.R6a(p,n);q={Af:null !== (h=null === (m=d.Fa.DA) || void 0 === m?void 0:m.Fp) && void 0 !== h?h:"",kC:d.Fa.Doa?"ads":"content"};d=d.Fa;m=d.rs;d.aO.forEach(function(u){var t;if(u.xg){t=g.r9a(f.Fa.aO,k.bh,u,function(w){return g.Ewa.V6a(q,[w])[0];});t && k.bi.forEach(function(w){var v;w=w.bh;v=w.findIndex(function(y){return y.trackId === t.trackId;});-1 !== v && (w[v]=t);});}});m.forEach(function(u){u.xg && g.r9a(f.Fa.rs,k.bi,u,function(t){return g.DR.Q6a(q,[t],k.bh)[0];});});return {W:f,zc:k};};c.prototype.KZb=function(f,k){return this.DR.BEb(f,k);};c.prototype.r9a=function(f,k,d,g){var m,h,n,p;m=f.findIndex(function(q){return q.cg === d.cg;});h=-1 !== m?f[m]:void 0;n=k.findIndex(function(q){return q.trackId === d.cg;});p=-1 !== n?k[n]:void 0;if(h && !h.xg && p && !p.xg)return (g=g(d),f[m]=d,k[n]=g);};b.sGa=c;},65840:function(r,b){function a(c){this.zc=c;this.Kb=JSON.stringify(this.iIb());}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;a.prototype.iIb=function(){var c;c=[];(!this.zc.sg || 0 >= this.zc.sg.length) && c.push({error:"No CDN."});this.zc.hS || c.push({error:"No default audio track.",foundTracks:this.tma(this.zc.bi)});this.zc.o3 || c.push({error:"No default video track.",foundTracks:this.tma(this.zc.gw)});this.zc.iS || c.push({error:"No default subtitle track.",foundTracks:this.tma(this.zc.bh)});return c;};a.prototype.tma=function(c){return c && 0 < c.length?c.map(function(l){return l.trackId;}):"No tracks found.";};b.vGa=a;},87450:function(r,b,a){var l;function c(f){this.log=f;}Object.defineProperty(b,"__esModule",{value:!0});b.DP=void 0;l=a(94181);c.prototype.Gcb=function(f,k){var d,g;d=this;if(!f)return (this.log.warn("There are no media streams for " + k.type + " track - " + k.trackId),[]);g=f.map(function(m){var h,n,p,q,u,t,w,v;v=new l.MediaStream(k,k.type,m.Mm,m.bitrate,m.zb,m.size,d.lHb(m.urls),m.GA,m.eYa / m.dYa,m.Kh,m.zi);v.u0b(m.D9a,m.rua,m.h7a,m.g7a);v.J_b(null !== (h=m.Tzb) && void 0 !== h?h:void 0,null !== (n=m.Uzb) && void 0 !== n?n:void 0,null !== (p=m.Szb) && void 0 !== p?p:void 0,null !== (q=m.Rzb) && void 0 !== q?q:void 0,null !== (u=m.h7a) && void 0 !== u?u:void 0,null !== (t=m.g7a) && void 0 !== t?t:void 0);k.Kk && (v.Kk=k.Kk);m.jF && (v.jF=null !== (w=m.jF) && void 0 !== w?w:void 0);m.GA && (v.Ld=m.GA);return v;});g.sort(function(m,h){return m.bitrate - h.bitrate;});g.forEach(function(m,h){m.lower=g[h - 1];m.Mdc=g[h + 1];});return g;};c.prototype.lHb=function(f){return f.reduce(function(k,d){k[d.Ig]=d.url;return k;},{});};b.DP=c;},87216:function(r,b,a){var l,f,k,d;function c(g,m,h,n){this.log=g;this.config=m;this.j=h;this.Psa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.tMa=void 0;l=a(56261);f=a(50876);k=a(65853);d=a(36437);c.prototype.V6a=function(g,m){var h;h=this;m=m.map(function(n){var p,q,u,t,w;t=h.S3b(n);n.EB || !n.xg || t && 0 < t.length || h.log.error("track without downloadables",h.fIb(n));w={};0 < t.length && (w=n.language && 0 <= h.config.zL.indexOf(n.language)?null !== (p=t.find(function(v){return v.profile === l.vl.lEa;})) && void 0 !== p?p:t[0]:t[0],w.profile == l.vl.LI && (w=h.i_b(t),!1));n=h.Psa(h.j,n.cg,n.id,null !== (q=n.ec) && void 0 !== q?q:-1,null !== (u=n.xg) && void 0 !== u?u:!0,g,w.Vb,w.urls || [],n.language,n.LB,k.$_[n.zh.toLowerCase()] || k.Eo.SI,n.JH,n.variant,n.uC.toUpperCase(),w.profile,h.qIb(w) || ({}),n.EB,n.Y5,n.a6,n.Us);h.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:m.length});return m;};c.prototype.x3b=function(g){var m,h;m=this;h=this.config.Pla;if(h){if(g=la(g.filter(function(n){return n.re == h || n.trackId == h;})).next().value)return g;}else if(this.j.o4 && (g=la(g.filter(function(n){return n.trackId == m.j.o4;})).next().value))return g;};c.prototype.S3b=function(g){var m,h;m=this;h=g.$Va;g=Object.entries(g.exa || ({})).map(function(n){var p;p=la(n);n=p.next().value;p=p.next().value;return {Vb:h[n],profile:n,size:p.size || 0,priority:m.mHb(n,p),offset:p.Fqa || 0,RUb:p.width,f7a:p.height,urls:p.urls};});g.sort(function(n,p){return n.priority - p.priority;});return g;};c.prototype.mHb=function(g,m){var h,n;h=this.config.Lt.indexOf(g);m=m.size;n=this.config.ZN;return g === l.vl.eba && 0 < n && m > n?this.config.Lt.length + 1:0 <= h?h:this.config.Lt.length;};c.prototype.qIb=function(g){if(g.profile === l.vl.LI)return {offset:g.offset,length:g.size,al:{width:g.RUb,height:g.f7a}};};c.prototype.i_b=function(g){var m,h;m=this.config.aoa || d.nea.h_a();h=la(g.filter(function(n){return n.profile === l.vl.LI;}).filter(function(n){return n.f7a === m;})).next().value;if(h)return h;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:f.ku.height,intendedResolution:m});return g[0];};c.prototype.fIb=function(g){return {isNone:g.EB,isForced:g.Y5,bcp47:g.language,id:g.cg};};b.tMa=c;},36779:function(r,b){function a(c,l,f){this.log=c;this.j=l;this.Zwa=f;}Object.defineProperty(b,"__esModule",{value:!0});b.NMa=void 0;a.prototype.xUb=function(c){var l;l=this;c=(c || []).filter(function(f){return f.urls && 0 < f.urls.length;}).map(function(f){return l.Zwa(l.j,f.id,f.height,f.width,f.UUb,f.VUb,f.size,f.Us,{unknown:f.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(f,k){return f.size - k.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.NMa=a;},25864:function(r,b,a){var l,f,k,d;function c(g){return f.DP.call(this,g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qNa=void 0;l=a(56170);f=a(87450);k=a(20736);d=a(65853);ea(c,f.DP);c.prototype.yUb=function(g,m){var h,n;h=this;m=la((0,l.gC)(function(p){return p.streams && 0 < p.streams.length;},m));n=m.next().value;m.next().value.forEach(function(p){return h.log.warn("Video track is missing streams",{trackId:p.cg});});m=n.map(function(p){var q;q=p.zh;q=Object.assign(Object.assign({},g),{type:k.Uj.video,trackId:p.cg,aG:p.iO,zh:d.$_[q.toLowerCase()] || d.Eo.SI,uC:q,streams:[],zg:{},SV:p.SV});q.streams=h.Gcb(p.streams,q);h.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!m.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:m.length});return m;};c.prototype.uUb=function(g){var m;m=g.map(function(h){return h.SV;}).filter(Boolean);m=[].concat.apply([],ca(m)).map(function(h){return h.Ba;});g=g.map(function(h){return h.rka;}).filter(Boolean).map(function(h){return h.Ba;});return 0 < m.length?m:g;};b.qNa=c;},3797:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.W=void 0;r=a(86700);c=a(3774);l=a(76586);b.W=new r.ed(function(f){f(l.rD).to(c.oGa).da();});},78927:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mGa="ManifestEnricherSymbol";},23251:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JI="ManifestFactorySymbol";},76586:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rD="ManifestFetcherSymbol";},11430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qza="BookmarkSymbol";},47403:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oza="BookmarkConfigSymbol";},44906:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nza="BookmarkConfigParserSymbol";},31731:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.ZJ=void 0;r=a(86700);c=a(11430);l=a(47403);f=a(44906);k=a(10657);d=a(70880);g=a(88901);b.ZJ=new r.ed(function(m){m(c.Qza).to(k.Pza).da();m(l.Oza).to(d.Lza).da();m(f.Nza).to(g.Mza).da();});},70880:function(r,b,a){var l,f;function c(k){this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Lza=void 0;r=a(70655);l=a(86700);a=a(17244);c.prototype.wma=function(){return this.BF().Dtb;};c.prototype.xma=function(){return this.BF().Etb;};c.prototype.MHb=function(){return this.BF().Ftb;};c.prototype.fma=function(){return this.BF().bSa;};c.prototype.BF=function(){return this.config();};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ac))],f);b.Lza=f;},88901:function(r,b,a){var l,f,k;function c(d){this.ub=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Mza=void 0;r=a(70655);l=a(86700);f=a(89542);k=a(2467);c.prototype.h2b=function(d,g){var m,h;m=parseFloat(d);h=0;"%" === d[d.length - 1] && this.ub.ak(m)?h=Math.round(m * g.ba(k.na) / 100):(d=parseInt(d),this.ub.tR(d) && (h=d));return (0,k.Hb)(Math.min(h,g.ba(k.na)));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Wf))],a);b.Mza=a;},10657:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q){this.o2=n;this.ub=p;this.Ctb=q;this.la=h.Ua("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Pza=void 0;r=a(70655);l=a(86700);f=a(47403);k=a(44906);d=a(71163);g=a(89542);m=a(2467);c.prototype.xrb=function(h){var n,p;n=h.Wa.playbackState && h.Wa.playbackState.currentTime;p=this.UGb(h.O);n=this.ub.aF(n)?(0,m.Hb)(n):p;p=0;this.ub.vg(n)?(this.la.info("Overriding bookmark",{From:h.fz.ba(m.na),To:n.ba(m.na)}),n=Object.assign({},h,{fz:n})):n=h;h.fd.ia && (h=h.fd.Fma(h.fz.ba(m.na)),n=Object.assign({},n,{fz:(0,m.Hb)(h.Gl),lC:(0,m.Hb)(h.lC)}),p=h.pVa);return n.fz.Poa()?(this.la.trace("Ignoring bookmark because it's negative"),(0,m.Hb)(p)):this.ALb(n)?(this.la.trace("Ignoring bookmark because it's too close to beginning"),(0,m.Hb)(p)):this.zLb(n)?(this.la.trace("Ignoring bookmark because it's too close to end"),(0,m.Hb)(p)):this.yLb(n)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,m.Hb)(p)):n.fz;};c.prototype.ALb=function(h){return 0 > h.fz.Ik(this.wma(h));};c.prototype.wma=function(h){return this.cSa(this.o2.wma(),h.lC);};c.prototype.zLb=function(h){return 0 < h.fz.Ik(this.xma(h));};c.prototype.xma=function(h){var n;n=h.Wa.ag?this.o2.MHb():this.o2.xma();return h.lC.wa(this.cSa(n,h.lC));};c.prototype.yLb=function(h){return 0 < h.fz.Ik(this.tHb(h));};c.prototype.tHb=function(h){return h.lC.wa((0,m.Hb)(h.fC));};c.prototype.UGb=function(h){var n;h=this.o2.fma()[h];n=-1;this.ub.Xo(h)?n=parseInt(h):this.ub.ak(h) && (n=h);if(this.ub.tR(n))return (0,m.Hb)(n);};c.prototype.cSa=function(h,n){return this.Ctb.h2b(h,n);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.Xa)),r.__param(1,(0,l.l)(f.Oza)),r.__param(2,(0,l.l)(g.Wf)),r.__param(3,(0,l.l)(k.Nza))],a);b.Pza=a;},5872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lAa="CDMAttestedDescriptorProvider";},23541:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.uSa=void 0;r=a(86700);c=a(5872);l=a(76396);b.uSa=new r.ed(function(f){f(c.lAa).to(l.kAa).da();});},76396:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,w,v,y){this.config=q;this.aC=t;this.profile=w;this.C$=v;this.PR=y;this.log=u.Ua("CDMAttestedDescriptor");this.LYa(n.hu.QP);}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;r=a(70655);l=a(86700);f=a(17244);k=a(71163);d=a(53713);g=a(60070);m=a(98540);h=a(94773);n=a(53685);p=a(41047);c.prototype.LYa=function(q){var u;u=this;return this.C$.T9(q)?this.config().zCb?this.JYa().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.a3a || (!1,u.a3a=u.PR.ena(p.Bh.pn));return u.a3a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.Vy.close();return null === t || void 0 === t?void 0:t.yia;}).then(function(t){return Promise.all([Promise.resolve(t),u.JYa()]);}).then(function(t){var w;t=la(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.aC().then(function(t){t.$U.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.JYa=function(){var q;q=this;return this.aC().then(function(u){return (u=u.$U.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.ac)),r.__param(1,(0,l.l)(k.Xa)),r.__param(2,(0,l.l)(d.HP)),r.__param(3,(0,l.l)(m.WI)),r.__param(4,(0,l.l)(g.b0)),r.__param(5,(0,l.l)(h.yY))],a);b.kAa=a;},31451:function(r,b,a){var l,f;function c(k){this.sDb=k;this.O3a={Nm:"drmType",Pcc:"drmVersion",expiration:"expiration",O:"movieId",en:"packageId",duration:"duration",Df:"playbackContextId",n3:["defaultTrackOrderList",{eM:"mediaId",sO:"videoTrackId",Cbb:"subtitleTrackId",ap:"audioTrackId",Afc:"preferenceOrder"}],Tcc:["eligibleABTestMap",{kj:f.kj}],Kbc:["badgingInfo",{Kcc:"dolbyDigitalAudio",Hdc:"hdrVideo",Lcc:"dolbyVisionVideo",ahc:"ultraHdVideo","3dVideo":"3dVideo",Jcc:"dolbyAtmosAudio",zbc:"assistiveAudio",bgc:"sdVideo",Gdc:"hdVideo"}],type:"type",Fbc:["audioTextShortcuts",{id:"id",ap:"audioTrackId",Ybb:"textTrackId"}],sfc:"partiallyHydrated",q4a:"maxRecommendedAudioRank",r4a:"maxRecommendedTextRank",Kk:"drmContextId",HKb:"hasDrmProfile",FKb:"hasClearProfile",pB:"hasDrmStreams",l5:"hasClearStreams",ki:["locations",{ec:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],sk:["servers",{id:"id",name:"name",type:"type",ec:"rank",H3a:"lowgrade",KBb:["dns",{host:"host",zMb:"ipv4",AMb:"ipv6",uFb:"forceLookup"}],key:"key"}],rs:["audio_tracks",{type:"type",JH:"subType",variant:"variant",zh:"trackType",cg:"new_track_id",iO:"track_id",SWb:"profileType",T1b:"stereo",profile:"profile",channels:"channels",language:"language",nvb:"channelsFormat",dX:"surroundFormatLabel",LB:"languageDescription",CBb:"disallowedSubtitleTracks",rVa:"defaultTimedText",isNative:"isNative",EB:"isNoneTrack",streams:["streams",{Mm:"downloadable_id",size:"size",GA:"content_profile",zh:"trackType",bitrate:"bitrate",Kh:"isDrm",urls:["urls",{Ig:"cdn_id",url:"url",E6:"liveOcaCapabilities"}],PRb:"new_stream_id",type:"type",channels:"channels",nvb:"channelsFormat",dX:"surroundFormatLabel",language:"language",Dbc:"audioKey",sRb:["moov",{size:"size",offset:"offset"}],tk:["sidx",{size:"size",offset:"offset"}],D1b:["ssix",{size:"size",offset:"offset"}],zi:"tags",KYb:"representationId"}],jwb:"codecName",uC:"rawTrackType",id:"id",ec:"rank",xg:"hydrated",HSb:"offTrackDisallowed"}],St:["video_tracks",{zh:"trackType",cg:"new_track_id",type:"type",iO:"track_id",HKb:"hasDrmProfile",FKb:"hasClearProfile",pB:"hasDrmStreams",l5:"hasClearStreams",SF:"groupName",streams:["streams",{Mm:"downloadable_id",size:"size",GA:"content_profile",zh:"trackType",jF:"drmHeaderId",bitrate:"bitrate",Kh:"isDrm",urls:["urls",{Ig:"cdn_id",url:"url",E6:"liveOcaCapabilities"}],PRb:"new_stream_id",type:"type",ufc:"peakBitrate",vBb:"dimensionsCount",wBb:"dimensionsLabel",h7a:"pix_w",g7a:"pix_h",D9a:"res_w",rua:"res_h",Tzb:"crop_x",Uzb:"crop_y",Szb:"crop_w",Rzb:"crop_h",eYa:"framerate_value",dYa:"framerate_scale",Sab:"startByteOffset",zb:"vmaf",sRb:["moov",{size:"size",offset:"offset"}],tk:["sidx",{size:"size",offset:"offset"}],D1b:["ssix",{size:"size",offset:"offset"}],sH:["segmentVmaf",{offset:"offset",zb:"vmaf"}],zi:"tags",KYb:"representationId"}],SWb:"profileType",T1b:"stereo",profile:"profile",vBb:"dimensionsCount",wBb:"dimensionsLabel",wgc:["snippets",{kj:[f.kj,{vgc:"snippetSpec",sa:"startTimeMs",ta:"endTimeMs"}]}],rka:["drmHeader",{Ba:"bytes",Hvb:"checksum",jF:"drmHeaderId",Xn:"keyId",al:["resolution",{height:"height",width:"width"}]}],SV:["prkDrmHeaders",{Ba:"bytes",Hvb:"checksum",jF:"drmHeaderId",Xn:"keyId",al:["resolution",{height:"height",width:"width"}]}],Hq:"flavor",Tdc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",Bsa:"pixelAspectX",Csa:"pixelAspectY",zec:"maxCroppedWidth",yec:"maxCroppedHeight",Aec:"maxCroppedX",Bec:"maxCroppedY",tqa:"max_framerate_value",sqa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Sec:"minCroppedWidth",Rec:"minCroppedHeight",Tec:"minCroppedX",Uec:"minCroppedY",Vg:["license",{nOb:"licenseResponseBase64",Efc:"providerSessionToken",fgc:"secureStopExpected",Occ:"drmSessionId",links:["links",{}]}]}],DA:["cdnResponseData",{wH:"sessionABTestCell",Fp:"pbcid"}],hp:["choiceMap",{we:"initialSegment",type:"type",J:"viewableId",M:["segments",{kj:[f.kj,{sa:"startTimeMs",ta:"endTimeMs",next:["next",{kj:[f.kj,{weight:"weight"}]}],Db:"defaultNext",Fq:"exitZones"}]}]}],Im:["contentPlaygraph",{ga:["playgraph",{we:"initialSegment",M:["segments",{kj:[f.kj,{J:"viewableId",sa:"startTimeMs",ta:"endTimeMs",next:["next",{kj:[f.kj,{weight:"weight"}]}],Db:"defaultNext"}]}]}],xgc:["startIdent",{Udc:"identToken",J:"viewableId"}]}],media:["media",{id:"id",Wd:["tracks",{fa:"AUDIO",Ya:"TEXT",X:"VIDEO"}]}],aW:["recommendedMedia",{sO:"videoTrackId",ap:"audioTrackId",$N:"timedTextTrackId"}],aO:["timedtexttracks",{zh:"trackType",cg:"new_track_id",type:"type",JH:"subType",variant:"variant",uC:"rawTrackType",LB:"languageDescription",language:"language",id:"id",EB:"isNoneTrack",Y5:"isForcedNarrative",$Va:["downloadableIds",{}],$bc:["cdnlist",{id:"id",name:"name",type:"type",ec:"rank",H3a:"lowgrade",KBb:["dns",{host:"host",zMb:"ipv4",AMb:"ipv6",uFb:"forceLookup"}],key:"key"}],exa:["ttDownloadables",{kj:[f.kj,{id:"id",size:"size",Ngc:"textKey",Fdc:"hashValue",Edc:"hashAlgo",cec:"isImage",Fqa:"midxOffset",N4a:"midxSize",height:"height",width:"width",nka:["downloadUrls",{}],urls:["urls",{url:"url",Ig:"cdn_id",E6:"liveOcaCapabilities"}]}]}],a6:"isLanguageLeftToRight",Us:"headIdentDuration",ec:"rank",xg:"hydrated"}],d4b:["trickplays",{Mm:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",VUb:"pixelsAspectY",UUb:"pixelsAspectX",width:"width",height:"height",Us:"headIdentDuration"}],zeb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Ncc:"dpsid",ag:"isBranching",ohc:"viewableType",Doa:"isAd",OL:"isSupplemental",$vb:"clientIpAddress",dhc:"urlExpirationDuration",tec:"manifestExpirationDuration",zgc:["steeringAdditionalInfo",{Agc:"steeringId",ubc:"additionalGroupNames",Bgc:["streamingClientConfig",{}]}],bc:"auxiliaryManifestToken",Aj:["liveMetadata",{oka:["downloadableIdToSegmentTemplateId",{kj:f.kj}],eva:["segmentTemplateIdToSegmentTemplate",{kj:[f.kj,{l2:"availabilityStartTime",hMb:"initialization",media:"media",hWb:"presentationTimeOffset",LN:"startNumber",duration:"duration",S:"timescale"}]}],GSb:"ocLiveWindowDurationSeconds",T3:"eventAvailabilityOffsetMs",ala:"eventStartTime",U3:"eventEndTime",yBb:"disableLiveUi"}],eg:"streamingType"};this.JPb=Object.assign(Object.assign({},this.O3a),{cp:["auxiliaryManifests",this.O3a],zm:["adverts",{ce:["adBreaks",{jk:"locationMs",mh:"adBreakToken",Ze:["ads",{id:"id",sa:"startTimeMs",ta:"endTimeMs",v$:["timedAdEvents",{event:"event",Lu:"adEventToken",Kwa:"timeMs"}],nA:["actionAdEvents",{start:["start",{event:"event",Lu:"adEventToken"}],complete:["complete",{event:"event",Lu:"adEventToken"}],stop:["stop",{event:"event",Lu:"adEventToken"}]}],Xs:"is3pVerificationEnabled",VN:"thirdPartyVerificationToken"}],xga:["actionAdBreakEvents",{complete:["complete",{event:"event",Lu:"adEventToken"}]}],h2:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=void 0;r=a(70655);l=a(86700);f=a(99423);c.prototype.OK=function(k){this.sDb.OK(k,this.JPb);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.HCa))],a);b.lGa=a;},29350:function(r,b,a){var l,f,k,d,g;function c(m,h){this.f3a=m;this.IPb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;r=a(70655);l=a(86700);f=a(98011);k=a(78927);d=a(56003);g=a(68172);c.prototype.create=function(m){var h,n,p,q;h=this;if(m && !this.cNb(m)){if(this.hNb(m))throw d.Mc.H6b(g.U.pD,g.R.Zlb,m);q=this.f3a();q.Iga(m.links);this.IPb.OK(m);return {Fa:m,ji:q,Moa:!1,Loa:!1,cp:null !== (p=null === (n=m.cp) || void 0 === n?void 0:n.map(function(u){var t;t=h.f3a();t.Iga(u.links);return {Fa:u,ji:t,Moa:!1,Loa:!1,cp:[]};})) && void 0 !== p?p:[]};}};c.prototype.hNb=function(m){return ("type" in m) && "muxed" === m.type;};c.prototype.cNb=function(m){return ("runtime" in m) && !!m.runtime;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.JIa)),r.__param(1,(0,l.l)(k.mGa))],a);b.nGa=a;},3774:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,w,v,y,x,z){this.Yf=t;this.Q3a=v;this.GU=x;this.qa=z;this.cW=new Map();this.log=u.Ua("ManifestFetcher");this.rg=w.rg;this.nub=y().NCb;}Object.defineProperty(b,"__esModule",{value:!0});b.oGa=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(35664);d=a(56003);g=a(71163);m=a(2467);h=a(17244);n=a(93);p=a(19419);a=a(23251);c.prototype.Vx=function(u,t,w){var v;v=this;t=void 0 === t?!0:t;w && this.frb(u.J,w);return t && this.k5(u.J)?this.x4(u.J).catch(function(){return v.x9a(u,t);}):this.x9a(u,t);};c.prototype.k5=function(u){return this.rg.GT(u,"manifest");};c.prototype.YW=function(u,t){var w;w=this;this.nub && this.rg.setData(u,"manifest",t,function(){return w.rKb(u,t?Promise.resolve(t):void 0);});};c.prototype.x4=function(u){var t;t=this;return this.rg.getData(u,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Fa.expiration <= t.qa.fe.ba(m.na))throw (t.rg.clearData(u,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.rKb=function(u,t){var w;null === (w=this.cW.get(u)) || void 0 === w?void 0:w.forEach(function(v){return v(t);});this.cW.delete(u);};c.prototype.frb=function(u,t){this.cW.has(u) || this.cW.set(u,[]);this.cW.get(u).push(t);};c.prototype.x9a=function(u,t){var w,v,y;w=this;this.log.trace("Requesting a new manifest",u.J);v=this.Yf.Fb().ba(m.na);y=(u.Hf && !u.Hf.mh?this.n4b(u).catch(function(x){w.log.warn(x.message);return w.Q3a.Bf(w.log,u);}):this.Q3a.Bf(this.log,u)).then(function(x){var z,A;if(x.Mx && (null === (z=u.Hf) || void 0 === z || !z.mh)){A=x.Mx;z={J9:Promise.resolve(A),source:"manifest"};delete x.Mx;w.rg.setData(u.J,"ldl",z,function(){A.close().catch(function(B){w.log.info("Unable to cleanup LDL session.",B);});});}u.Hq === n.ql.RI && (x.jH=v,x.kN=w.Yf.Fb().ba(m.na));return x;}).catch(function(x){t && w.YW(u.J,void 0);w.log.error("Failed to fetch manifest",d.Mc.ve(x));throw x;});t && this.YW(u.J,y);return y;};c.prototype.n4b=function(u){var t;t=this;return new Promise(function(w,v){var y,x,z,A,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.J);A=null === (y=u.Hf) || void 0 === y?void 0:y.BV;if(!A)return v(Error("Parent manifest does not exist."));B=null === (x=u.Hf) || void 0 === x?void 0:x.bc;y=null === (z=A.cp) || void 0 === z?void 0:z.find(function(D){return D.O === u.J && (void 0 === B || D.bc === B);});if(!y)return v(Error("Auxiliary manifest not found in parent manifest."));w(t.GU.create(y));});};q=c;q=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.Xa)),r.__param(1,(0,l.l)(f.Jc)),r.__param(2,(0,l.l)(p.Yaa)),r.__param(3,(0,l.l)(n.lda)),r.__param(4,(0,l.l)(h.ac)),r.__param(5,(0,l.l)(a.JI)),r.__param(6,(0,l.l)(k.gg))],q);b.oGa=q;},99230:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fj=void 0;r=b.fj || (b.fj={});r[r.Pab=1]="sourceopen";r[r.In=2]="currentTimeChanged";r[r.xW=3]="seeked";r[r.c3a=5]="licenseadded";r[r.Nab=6]="sourceBuffersAdded";r[r.Z7=7]="onNeedKey";},43357:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.k5a=void 0;r=a(86700);c=a(83577);l=a(96699);b.k5a=new r.ed(function(f){f(c.Nca).to(l.gHa).da();});},83577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nca=b.Njb=void 0;b.Njb=function(){};b.Nca="MseConfigSymbol";},96699:function(r,b,a){var l,f,k,d,g;function c(m){return f.Se.call(this,m,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gHa=void 0;r=a(70655);l=a(54662);f=a(90187);k=a(86700);d=a(59578);g=a(2467);ea(c,f.Se);Xa.Object.defineProperties(c.prototype,{$4a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Hb)(5E3);}},r6a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Hb)(1E3);}},s6a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Hb)(1E3);}}});a=c;r.__decorate([l.config(l.lk,"minDecoderBufferMilliseconds")],a.prototype,"$4a",null);r.__decorate([l.config(l.lk,"optimalDecoderBufferMilliseconds")],a.prototype,"r6a",null);r.__decorate([l.config(l.lk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"s6a",null);a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.wl))],a);b.gHa=a;},56243:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.aC=void 0;r=a(86700);c=a(55689);l=a(36217);f=a(53713);b.aC=new r.ed(function(k){k(c.Oca).to(l.hHa).da();k(f.HP).sX(function(d){return function(){return d.hb.get(c.Oca).BRb;};});});},53713:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HP="MslProviderSymbol";},55689:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oca="MslReadyNotifierSymbol";},36217:function(r,b,a){var l;function c(){var f;f=this;this.ready=!1;this.BRb=new Promise(function(k){f.fZb=k;});}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;r=a(70655);a=a(86700);c.prototype.CRb=function(f){this.ready || (this.fZb(f),this.ready=!0);};c.prototype.rv=function(){return this.ready;};l=c;l=r.__decorate([(0,a.T)()],l);b.hHa=l;},78113:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.s5a=void 0;r=a(86700);c=a(56116);l=a(5485);f=a(55749);k=a(31329);d=a(51943);g=a(72976);m=a(24865);h=a(2381);n=a(77049);b.s5a=new r.ed(function(p){p(f.DNa).to(c.CNa).da();p(l.eu).LC(function(){return qb._cad_global.http;});p(d.vHa).to(k.uHa).da();p(g.wHa).ll(m.default);p(h.bEa).to(n.aEa).da();});},2381:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bEa="HttpDispatcherSymbol";},5485:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eu=b.JP=b.ResponseType=void 0;b.ResponseType={Text:1,Wac:2,Sfb:3};b.JP="OPEN_CONNECT_APPLIANCE";b.eu="LegacyHttpSymbol";},72976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wHa="NetworkMonitorSymbol";},30949:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tHa="NetworkMonitorConfigSymbol";},51943:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vHa="NetworkMonitorFactorySymbol";},55749:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DNa="XhrFactorySymbol";},77049:function(r,b,a){var l,f,k;function c(d,g){this.Ie=g;this.la=d.Ua("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.aEa=void 0;r=a(70655);l=a(86700);f=a(71163);a=a(5485);c.prototype.download=function(d,g){var m;m=this;g=void 0 === g?{t4a:0}:g;return new Promise(function(h,n){var q;function p(u){if(u.ha)return h(u.content);if(q === g.t4a)return n({xa:u.xa,$x:u.Ml});q++;!1;m.Ie.download(d,p);}q=0;m.Ie.download(d,p);});};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(a.eu))],k);b.aEa=k;},49873:function(r,b,a){var l,f,k,d;function c(g,m){return k.Se.call(this,g,void 0 === m?"NetworkMonitorConfigImpl":m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;r=a(70655);l=a(86700);f=a(54662);k=a(90187);a=a(59578);ea(c,k.Se);Xa.Object.defineProperties(c.prototype,{Ndb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([f.config(f.bd,"useNetworkMonitor")],d.prototype,"Ndb",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.wl)),r.__param(1,(0,l.l)(a.zY)),r.__param(1,(0,l.optional)())],d);b.sHa=d;},31329:function(r,b,a){var l,f,k,d;function c(g,m,h){this.config=g;this.fPb=m;this.Ic=h;}Object.defineProperty(b,"__esModule",{value:!0});b.uHa=void 0;r=a(70655);l=a(30949);f=a(86700);k=a(56646);a=a(72976);c.prototype.qzb=function(){if(this.config.Ndb)return this.Ic(this.fPb());};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.tHa)),r.__param(1,(0,f.l)(k.pHa)),r.__param(2,(0,f.l)(a.wHa))],d);b.uHa=d;},56116:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.CNa=void 0;r=a(70655);a=a(86700);c.prototype.create=function(){return new XMLHttpRequest();};l=c;l=r.__decorate([(0,a.T)()],l);b.CNa=l;},73475:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q){this.log=h;this.IF=n;this.My=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(68172);f=a(89082);k=a(89682);d=a(53484);g=a(31224);m=a(85060);c.prototype.Vg=function(h){var n,p;n=this;(this.context.mf || this.context.hk) && this.log.debug("Requesting a license",h);if(f.za.get(k.jh).FA(f.za.get(d.lq).decode("certificate"),h.tj[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Rk:[{sessionId:h.tj[0].sessionId,data:f.za.get(g.fh).decode(m.ZY)}]});}else p=f.za.get(k.jh).FA(f.za.get(d.lq).decode("content"),h.tj[0].data)?Promise.resolve({Rk:[{sessionId:h.tj[0].sessionId,data:h.Xn}]}):(function(){n.log.trace("Requesting license",{drmType:h.Nm});return n.IF(h).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:l.U.GI,ic:q.ic,Tc:q.Tc,Om:q.Om,wj:q.message || q.wj,aB:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.wj),cc:q};});})();return p;};c.prototype.release=function(h){var n;n=this;this.log.trace("Requesting stop data");return this.My(h).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.ic,extCode:p.Tc,edgeCode:p.Om,message:p.message || p.wj});throw {ha:!1,code:l.U.Qda,ic:p.ic,Tc:p.Tc,Om:p.Om,wj:p.message || p.wj,message:"Unable to release the FairPlay license. " + (p.message || p.wj),cc:p};});};r.exports=c;},92975:function(r,b,a){var l;function c(f,k,d,g){this.log=f;this.IF=k;this.My=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.BNa=void 0;l=a(68172);c.prototype.Vg=function(f){var k;k=this;(this.context.mf || this.context.hk) && this.log.trace("Requesting license",{drmType:f.Nm});return this.IF(f).catch(function(d){k.log.error("Unable to get the Playready license",d);if(k.context.ehc)throw d;throw {ha:!1,code:l.U.GI,ic:d.ic,Tc:d.Tc,Om:d.Om,wj:d.message || d.wj,aB:d.data,message:"Unable to send the Playready license request. " + (d.message || d.wj)};});};c.prototype.release=function(f){var k;k=this;this.log.trace("Requesting stop data");return this.My(f).catch(function(d){k.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.ic,extCode:d.Tc,edgeCode:d.Om,message:d.message || d.wj});throw {ha:!1,code:l.U.Qda,ic:d.ic,Tc:d.Tc,Om:d.Om,wj:d.message || d.wj,message:"Unable to release the PlayReady license. " + (d.message || d.wj)};});};b.BNa=c;qb._cad_global.WindowsDrmRequests=c;},72186:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.Bea=void 0;c=a(68172);l=a(84722);f=a(91402);k=a(89682);d=a(5266);g=a(31224);m=a(77003);h=a(3971);(function(){var z;function n(A,B,D){var C;C=this;this.log=A;this.$m=B || x.bind(this);this.context=D;this.DV=this.challenge=this.keySystem=this.n6=this.Ab=this.mediaKeys=void 0;this.Vc={};this.ypa=this.mwa=!1;this.pV=t.bind(this);this.DV=void 0;this.Qxa=new Promise(function(F,G){C.vua=F;C.Sta=G;});this.Qxa.catch(function(F){C.log.error("wait for license rejected",F);});l.dc.get(m.uw).F4().then(function(F){(C.context.mf || C.context.hk) && C.log.debug("DRIVERINFO: ",F);}).catch(function(F){C.log.error("DRIVERINFO",F);});this.Zm=function(F,G){C.Sta(F,G);C.context.onerror(F,G);};this.Fra=function(){C.vua();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.dc.get(g.fh);}function q(){return l.dc.get(k.jh);}function u(A){var B,D;B=l.dc.get(f.mea);D="";A.forEach(function(C){D+="<KeyID>" + C + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + D + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.ubb(A));(this.context.mf || this.context.hk) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Ab.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Vf.iq,z.Mz.Ir,B);this.Ab=void 0;}function w(A,B,D){var F,G,E;for(var C=2;C < arguments.length;++C){;}C="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (C+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > C.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(C=C.match(new RegExp(G)))return C[1];}function v(A,B,D,C){var F,G;F=A.target && A.target.sessionId;G=p().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));D.state=12;D.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(D.context.mf || D.context.hk || D.context.iz) && D.log.debug("LICENSE: License challenge",p().encode(G));D.n6=F;A={pf:B,messageType:"license-request",Nm:(/clearkey/i).test(D.keySystem)?"clearkey":"playready",tj:[{data:G,sessionId:F}]};12 === D.state && (D.$m("lc"),G={data:G,Nm:(/clearkey/i).test(D.keySystem)?"clearkey":"playready"},D.context.UG || (D.DV=G));D.context.kd.Vg(A).then(function(E){if(12 === D.state && (D.$m("lr"),D.Fra(),!D.context.UG))(D.EV=E.Rk[0].data,D.state=13,C({ha:!0,state:D.state}));else if(D.Ab)return y(D,E.Rk[0].data,D.Ab).then(function(){D.state=30;C({ha:!0,state:D.state});});}).catch(function(E){C(q().YB(E,{state:D.state}));});}function y(A,B,D){A.U5() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:D.sessionId,license:p().encode(B)});return new Promise(function(C,F){try{A.Ab.update(B);C(void 0);A.U5() && A.log.trace("LICENSE: Update succeeded",{sessionId:D.sessionId});}catch(G){F({ha:!1,code:z.Vf.t_,message:"Unable to update the EME.",Kb:q().ve(G)});}});}function x(A){this.context.qa && (this.Vc[A]=this.context.qa.getTime(),this.log.trace("Milestone: " + A + ", " + this.Vc[A]));}z={Vf:c.U,Mz:c.R};n.prototype.kL=function(){return this.keySystem;};n.prototype.udb=function(A,B){A.log && (this.log=A.log);A.$m && (this.$m=A.$m);B.kd && (this.context.kd=B.kd);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):l.dc.get(m.uw).GF()).then(function(D){B.$m("lg");B.log.trace("Creating the media keys",{keySystem:D});B.keySystem=D;if(B.context.UV)D=Promise.reject({ha:!1,code:z.Vf.YO,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new qb.MSMediaKeys(D);}catch(C){D=Promise.reject({ha:!1,code:z.Vf.aIa,message:"create MSMediaKeys(" + D + ") failed",Kb:q().ve(C)});break a;}try{B.context.$ && B.context.$.msSetMediaKeys(B.mediaKeys);}catch(C){D=Promise.reject({ha:!1,code:z.Vf.QI,message:"set MSMediaKeys failed",Kb:q().ve(C)});break a;}D=Promise.resolve({ha:!0,mediaKeys:B.mediaKeys});}return D;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.$=void 0;if(this.Ab){this.log.info("Closing the session",{sessionId:this.Ab.sessionId});this.Ab.removeEventListener("mskeyerror",this.pV);try{this.Ab.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Ab=void 0;}};n.prototype.Vg=function(A,B,D){var C;if(1 < B.length)return Promise.reject({code:z.Vf.eIa});if(0 === B.length)return Promise.reject({code:z.Vf.dIa});B=B[0];C=this;C.context.mf && C.log.trace("LICENSE: Setting license");return C.context.UV?Promise.reject({ha:!1,code:z.Vf.nCa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,J,M,L,I,P,K;try{J=function(H){C.Ab && (C.Ab.removeEventListener("mskeymessage",L),C.Ab.removeEventListener("mskeyadded",I),C.Ab.removeEventListener("mskeyerror",P),C.Ab.addEventListener("mskeyerror",C.pV));H.state=11;H.ha?F(H):(C.close(),G(H));};M=function(H){var N,R;N=[];R=Array.prototype.map.call(H,function(ma){return ma?String.fromCharCode(ma):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(R)N.push(R[1]);else {H=w(H,"KIDS");R=/VALUE="(.+?)">/g;for(var Y=R.exec(H);null != Y;){N.push(Y[1]);Y=R.exec(H);}}return N;};L=function(H){E && clearTimeout(E);v(H,A,C,J);};I=function(H){(C.context.mf || C.context.hk) && C.log.trace("LICENSE: Received " + H.type + " event",{keySystem:H.target.keySystem,sessionId:H.target.sessionId});J({ha:!0});};P=function(H){var N,R;E && clearTimeout(E);if(H.target && H.target.error)(N=H.target.error.systemCode,R=H.target.error.code);N={code:z.Vf.iq,ic:z.Mz.Ir,Tc:N?l.dc.get(d.pw).wF(N,4):R,details:q().ve(H),cc:H.target && H.target.error,s$:N,W3:R};C.log.error("LICENSE: Received " + H.type + " event",{sessionId:C.Ab && C.Ab.sessionId,keySystem:H.target.keySystem,systemCode:N.s$,code:N.W3});C.$m("le");C.Zm && C.Zm(z.Vf.iq,N);J({ha:!1,code:z.Vf.iq,ic:z.Mz.Ir,Tc:N.Tc,message:"Received a key error.",Kb:N.details,cc:N.cc});};C.log.trace("LICENSE: Executing prefix based EME");(C.context.mf || C.context.hk) && C.log.debug("LICENSE: PSSH",p().encode(B));C.tv || (C.tv=M(B));if(D){K=u.call(C,C.tv);C.Ab=C.mediaKeys.createSession("video/mp4",new Uint8Array(0),K);}else C.Ab=C.mediaKeys.createSession("video/mp4",B,null);(C.context.mf || C.context.hk) && C.log.debug("LICENSE: Created the media keys sessions",{keySystem:C.Ab.keySystem,sessionId:C.Ab.sessionId});C.Ab.addEventListener("mskeymessage",L);C.Ab.addEventListener("mskeyadded",I);C.Ab.addEventListener("mskeyerror",P);C.context.vpa && (E=setTimeout(function(){J({ha:!1,code:z.Vf.MP,ic:z.Mz.Uhb});},C.context.vpa));}catch(H){G({code:z.Vf.MP,ic:z.Mz.ol});}});})();};n.prototype.gH=function(){var A;(this.context.mf || this.context.hk) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Vg(h.om.ica.pm,A,!0);};n.prototype.R1=function(A){this.EV || this.log.error("pending license must exist at this point");this.context.UG=!0;try{A && (this.context.$=A,this.context.$.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ha:!1,code:z.Vf.QI,message:"setMediaKeys failed",Kb:q().ve(B)});}return y(this,this.EV,this.Ab);};n.prototype.bXa=function(A){var B,D;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));D={ma:A.ma,ie:A.ie};return new Promise(function(C,F){(function(){B.context.kd.release.call(B.context.kd,D).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ha:!0};B.close();G.ha?C(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.n6,code:G.code,subCode:G.ic,extCode:G.Tc,edgeCode:G.Om,message:G.wj});B.close();G.ha?C(G):F(G);});})();});};n.prototype.U5=function(){return this.context.mf || this.context.hk;};b.Bea=n;qb._cad_global.WindowsEmeSession=b.Bea;})();},4497:function(r,b,a){var v,y,x,z,A,B,D,C,F,G,E,J;function c(M,L,I){var P;P=this;this.log=M;this.$m=L || w.bind(this);this.context=I;this.DV=this.challenge=this.keySystem=this.n6=this.mediaKeys=void 0;this.Vc={};this.fo=void 0;this.url="";this.ypa=this.mwa=!1;this.pV=h.bind(this);this.pk=this.DV=void 0;this.Qxa=new Promise(function(K,H){P.vua=K;P.Sta=H;});this.Zm=function(K,H){P.Sta(K,H);P.context.onerror(K,H);};this.Fra=function(){P.vua();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return v.za.get(A.lq);}function f(){return v.za.get(z.fh);}function k(){return v.za.get(y.jh);}function d(M){return (/com.apple.fps/).test(M) && !(/com.apple.fps.2_0/).test(M);}function g(M){var L;M=(function(I){var K,H;function P(N,R,Y,ma){var ia,ja;ia=new Uint8Array("piff" == R?88:72);ja=new G.WO(ia);ja.lz(12);ja.kz("frma");ja.kz(N);ja.lz(20);ja.kz("schm");ja.WX(0);ja.WX(0);ja.kz(R);ja.lz(Y);"piff" == R?(ja.lz(56),ja.kz("schi"),ja.lz(48),ja.kz("uuid"),ja.VX([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(ja.lz(40),ja.kz("schi"),ja.lz(32),ja.kz("tenc"));ja.WX(0);ja.WX(0);ja.lz(264);ja.VX(ma);return ia;}K=P("avc1","piff",65537,I);K=l().decode(f().encode(K));I=P("avc1",E.Zt,65536,I);I=l().decode(f().encode(I));H=new Uint8Array(7 + K.length + 8 + I.length + 5);H.set([91,10,32,32,32,32,34],0);H.set(K,7);H.set([34,44,10,32,32,32,32,34],7 + K.length);H.set(I,7 + K.length + 8);H.set([34,10,32,32,93],7 + K.length + 8 + I.length);return H;})(M);L=new Uint8Array(13 + M.length + 2);L.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);L.set(M,13);L.set([10,125],13 + M.length);return L;}function m(M){var L;M=M.subarray(14,30);M=String.fromCharCode.apply(null,M);M=f().decode(M);M=M.subarray(4);L=new Uint8Array(16);L.set(M);return L;}function h(M){var L;L=n(M);this.log.error("LICENSE Error: Received event: " + M.type,{sessionId:this.Ab?this.Ab.sessionId:void 0,keySystem:M.target.keySystem,systemCode:L.s$,code:L.W3});this.Zm && this.Zm(J.Vf.iq,L);this.Ab=void 0;}function n(M){var L,I;if(M.target.error)(L=M.target.error.systemCode,I=M.target.error.code);return {code:J.Vf.iq,ic:J.Mz.Ir,Tc:L?v.za.get(x.pw).wF(L,4):I,details:k().ve(M),cc:M.target.error,s$:L,W3:I};}function p(M,L,I,P){var K,H,N;K=M.target.sessionId;H=M.message;N=k().FA(H,l().decode("certificate"));I.ypa=L === F.om.ica.pn;I.state=N?2:12;I.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:K});(I.context.mf || I.context.hk || I.context.iz) && I.log.debug("LICENSE: License challenge",f().encode(H));I.n6=K;M={Xn:I.Xn,pf:L,messageType:"license-request",Nm:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",tj:[{data:H,sessionId:K}]};12 === I.state && (I.$m("lc"),H={data:H,Nm:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.UG || (I.DV=H));I.context.kd.Vg(M).then(function(R){if(12 === I.state && (I.$m("lr"),I.Fra(),!I.context.UG))(I.EV=R.Rk[0].data,I.state=13,P({ha:!0,state:I.state}));else if(I.Ab)return (R=t(I,N,R.Rk[0].data,I.Ab),2 === I.state?R:R.then(function(){I.state=30;P({ha:!0,state:I.state});}));}).catch(function(R){P(k().YB(R,{state:I.state}));});}function q(M,L,I){L.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:M.target.sessionId});I({ha:!0});}function u(M,L,I){var P;P=n(M);L.Zm && L.Zm(J.Vf.iq,P);L.log.error("LICENSE Error: Received event: " + M.type,{sessionId:L.Ab?L.Ab.sessionId:void 0,keySystem:M.target.keySystem,systemCode:P.s$,code:P.W3});I({ha:!1,code:J.Vf.iq,ic:J.Mz.Ir,Tc:P.Tc,message:"Received a key error.",Kb:P.details,cc:P.cc});}function t(M,L,I,P){P={sessionId:P.sessionId};M.U5() && (P.license=f().encode(I));M.log.trace("calling keysession update",P);return new Promise(function(K,H){function N(){M.Ab.removeEventListener("webkitkeyadded",N);K(void 0);}try{L || M.Ab.addEventListener("webkitkeyadded",N);M.Ab.update(I);L && K(void 0);}catch(R){H({ha:!1,code:J.Vf.t_,message:"Unable to update the EME.",e:R});}});}function w(M){this.Vc[M]=v.za.get(B.Jc).Fb().ba(D.na);this.log.trace("Milestone: " + M + ", " + this.Vc[M]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(89082);b=a(68172);y=a(89682);x=a(5266);z=a(31224);A=a(53484);B=a(58998);D=a(2467);C=a(50876);F=a(3971);G=a(70834);E=a(85060);J={Vf:b.U,Mz:b.R};c.prototype.kL=function(){return this.keySystem;};c.prototype.udb=function(M,L){M.log && (this.log=M.log);M.$m && (this.$m=M.$m);L.kd && (this.context.kd=L.kd);L.onerror && (this.context.onerror=L.onerror);};c.prototype.create=function(M){var L;L=this;L.$m("lg");L.log.trace("CREATE: Creating the media keys",{keySystem:M});L.keySystem=M;return L.context.UV?Promise.reject({ha:!1,code:J.Vf.YO,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var P,K;P=k().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");K=P.lastChild;L.pk=P;L.context.$=C.Og.createElement("VIDEO");K?L.pk.insertBefore(L.context.$,K):L.pk.appendChild(L.context.$);}return new Promise(function(P,K){function H(N){(L.context.mf || L.context.hk || L.context.iz) && L.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{L.mediaKeys=new qb.WebKitMediaKeys(M);L.context.$.webkitSetMediaKeys(L.mediaKeys);P({ha:!0,mediaKeys:L.mediaKeys});}catch(R){L.log.error("CREATE: Exception on webkitSetMediaKeys",R);K({ha:!1,code:J.Vf.MP,Kb:k().ve(R)});}}if(d(L.keySystem))try{L.mediaKeys=new qb.WebKitMediaKeys(M);L.context.$ && (L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.$.webkitSetMediaKeys(L.mediaKeys));P({ha:!0,mediaKeys:L.mediaKeys});}catch(N){K({ha:!1,code:J.Vf.MP,Kb:k().ve(N)});}else (L.mediaKeys=new qb.WebKitMediaKeys(M),L.context.$?(L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.$.webkitSetMediaKeys(L.mediaKeys)):(I(),L.fo=new C.Ez(),L.fo.addEventListener("sourceopen",H),L.url=URL.createObjectURL(L.fo),L.context.$.src=L.url),P({ha:!0,mediaKeys:L.mediaKeys}));});})();};c.prototype.close=function(){this.Ab && (this.log.info("Closing the session",{sessionId:this.Ab.sessionId}),this.Ab.removeEventListener("webkitkeyerror",this.pV),this.Ab.close(),this.Ab=void 0);};c.prototype.Vg=function(M,L){var I;if(1 < L.length)return Promise.reject({code:J.Vf.eIa});if(0 === L.length)return Promise.reject({code:J.Vf.dIa});L=L[0];I=this;I.context.mf && I.log.trace("LICENSE: Setting license",{initData:f().encode(L)});return I.context.UV?Promise.reject({ha:!1,code:J.Vf.nCa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(P,K){var N,R,Y;function H(ma){I.Ab && (I.Ab.removeEventListener("webkitkeymessage",N),I.Ab.removeEventListener("webkitkeyadded",R),I.Ab.removeEventListener("webkitkeyerror",Y),I.Ab.addEventListener("webkitkeyerror",I.pV));ma.ha?P(ma):(I.close(),K(ma));}N=function(ma){p(ma,M,I,H);};R=function(ma){q(ma,I,H);};Y=function(ma){u(ma,I,H);};d(I.keySystem) && (I.Xn=m(L),L=g(I.Xn));I.log.trace("LICENSE: Executing prefix based EME");I.context.mf | I.context.hk && I.log.debug("LICENSE: PSSH",f().encode(L));I.Ab=I.mediaKeys.createSession("video/mp4",L,null);(I.context.mf || I.context.hk) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Ab.keySystem,sessionId:I.Ab.sessionId});I.Ab.addEventListener("webkitkeymessage",N);I.Ab.addEventListener("webkitkeyadded",R);I.Ab.addEventListener("webkitkeyerror",Y);});})();};c.prototype.gH=function(){var M;M=this;return M.mwa?Promise.resolve({ha:!0}):new Promise(function(L,I){var K,H,N;function P(R){M.Ab && (M.Ab.removeEventListener("webkitkeymessage",K),M.Ab.removeEventListener("webkitkeyadded",H),M.Ab.removeEventListener("webkitkeyerror",N));R.ha?L(R):(I(R),M.close());}K=function(R){p(R,F.om.ica.pm,M,P);};H=function(R){q(R,M,P);L({ha:!0});};N=function(R){u(R,M,P);};M.ypa=!1;M.Ab.addEventListener("webkitkeymessage",K);M.Ab.addEventListener("webkitkeyadded",H);M.Ab.addEventListener("webkitkeyerror",N);M.Ab.update(l().decode("renew"));});};c.prototype.R1=function(M){this.EV || this.log.error("pending license must exist at this point");this.context.UG=!0;try{M && (this.context.$=M,this.log.trace("calling setmediakeys on video element"),this.context.$.webkitSetMediaKeys(this.mediaKeys));}catch(L){return new Promise(function(I,P){P({ha:!1,code:J.Vf.QI,message:"setMediaKeys failed",Kb:k().ve(L)});});}return t(this,!1,this.EV,this.Ab);};c.prototype.bXa=function(M){var L,I;L=this;L.log.trace("Releasing the license of the current session",JSON.stringify(M));L.mwa=!0;I={ma:M.ma,ie:M.ie};return new Promise(function(P,K){(function(){L.context.kd.release.call(L.context.kd,I).then(function(){var H;L.log.trace("successfully released the license",JSON.stringify(M));H={ha:!0};H.ha?P(H):(L.close(),K(H));}).catch(function(H){L.log.error("RELEASE: Unable to get the release the license",{sessionId:L.Ab?L.Ab.sessionId:void 0,code:H.code,subCode:H.ic,extCode:H.Tc,edgeCode:H.Om,message:H.wj});H.ha?P(H):(L.close(),K(H));});})();});};c.prototype.U5=function(){return this.context.mf || this.context.hk;};r.exports=c;},38298:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Z6a=void 0;r=a(86700);c=a(94669);l=a(737);f=a(95538);k=a(48350);d=a(86945);g=a(58820);m=a(98011);h=a(52463);n=a(19391);p=a(96026);b.Z6a=new r.ed(function(q){q(f.Lw).to(k.zIa).da();q(c.BIa).to(l.AIa).da();q(m.LIa).to(h.KIa);q(m.JIa).Vd(function(u){return function(){return u.hb.get(m.LIa);};});q(d.gJa).to(g.fJa).da();q(n.nda).to(p.cJa).da();});},95538:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lw="PboConfigSymbol";},94669:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BIa="PboDispatcherSymbol";},98011:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LIa="PboLinksManagerSymbol";b.JIa="PboLinksManagerFactorySymbol";},19391:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nda="PboPublisherSymbol";},86945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gJa="PboRequestFactorySymbol";},82092:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uaa="AdEventPboCommandSymbol";b.taa="AdBreakEventPboCommandSymbol";},21060:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia;Object.defineProperty(b,"__esModule",{value:!0});b.FTa=void 0;r=a(86700);c=a(4048);l=a(10143);f=a(93);k=a(27299);d=a(50055);g=a(52779);m=a(29766);h=a(13878);n=a(92582);p=a(78679);q=a(10707);u=a(33403);t=a(8010);w=a(30859);v=a(48529);y=a(56003);x=a(68172);z=a(8522);A=a(41596);B=a(62538);D=a(20743);C=a(42239);F=a(47758);G=a(64558);E=a(87005);J=a(6123);M=a(59713);L=a(5794);I=a(17445);P=a(91393);K=a(95538);H=a(9571);N=a(73953);R=a(9270);Y=a(10058);ma=a(82092);ia=a(9684);b.FTa=new r.ed(function(ja){ja(D.tl).to(C.yIa);ja(c.NIa).to(l.MIa);ja(F.tIa).to(G.sIa);ja(E.vIa).to(J.uIa);ja(f.lda).to(k.OIa);ja(H.PIa).Vd(function(Ca){return function(){var Ba;Ba=Ca.hb.get(K.Lw);return Ba && Ba.Sdb?Ca.hb.resolve(R.hJa):Ca.hb.resolve(N.QIa);};});ja(d.rIa).to(g.qIa);ja(m.eJa).to(h.dJa);ja(n.HIa).to(p.GIa);ja(q.kda).to(u.IIa);ja(t.VLa).to(w.ULa);ja(t.aMa).to(v.$La);ja(t.eFa).to(z.dFa);ja(t.QLa).to(A.PLa);ja(t.ECa).to(B.DCa);ja(L.glb).to(M.RIa);ja(I.FIa).to(P.EIa);ja(ma.uaa).to(Y.uya);ja(ma.taa).to(ia.oya);ja(t.Fba).Vd(function(Ca){return function(Ba){switch(Ba){case t.zo.start:return Ca.hb.get(t.VLa);case t.zo.stop:return Ca.hb.get(t.aMa);case t.zo.kU:return Ca.hb.get(t.eFa);case t.zo.splice:return Ca.hb.get(t.QLa);case t.zo.NK:return Ca.hb.get(t.ECa);}throw new y.Mc(x.U.skb,void 0,void 0,void 0,void 0,"The event key was invalid - " + Ba);};});});},8010:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zo={start:"start",stop:"stop",kU:"keepAlive",NK:"engage",splice:"splice"};b.Fba="EventPboCommandFactorySymbol";b.VLa="StartEventPboCommandSymbol";b.aMa="StopEventPboCommandSymbol";b.eFa="KeepAliveEventPboCommandSymbol";b.QLa="SpliceEventPboCommandSymbol";b.ECa="EngageEventPboCommandSymbol";},50055:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rIa="PboAcquireLicenseCommandSymbol";},47758:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tIa="PboBindCommandSymbol";},87005:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vIa="PboBindDeviceCommandSymbol";},88052:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hg={Mpa:"logblob",W:"manifest",pOb:"licensedmanifest",Vg:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.Alb={XKa:"X-Netflix.Request.Attempt",Vda:"X-Netflix.Client.Request.Name",Zza:"x-netflix.browsername",dAa:"x-netflix.browserversion",LHa:"x-netflix.osname",MHa:"x-xetflix.osversion",PAa:"x-netflix.clienttype",UMa:"x-netflix.uiversion"};b.Kz={XKa:"reqAttempt",Vda:"reqName",Zza:"browsername",dAa:"browserversion",LHa:"osname",MHa:"osversion",PAa:"clienttype",UMa:"uiversion"};},20743:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tl="PboCommandContextSymbol";},17445:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FIa="PboGenerateScreenshotsCommandSymbol";},92582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HIa="PboLicenseRequestTransformerSymbol";},10707:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kda="PboLicenseResponseTransformerSymbol";},4048:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NIa="PboLogblobCommandSymbol";},93:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lda=b.ql=void 0;r=b.ql || (b.ql={});r.RI="PRE_FETCH";r.tlb="QC";r.pm="STANDARD";r.O_="SUPPLEMENTAL";r.o8b="DOWNLOAD";b.lda="PboManifestCommandSymbol";},9571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PIa="PboManifestRequestTransformerSymbol";},5794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.glb="PboPingCommandSymbol";},29766:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eJa="PboReleaseLicenseCommandSymbol";},9684:function(r,b,a){var l,f,k,d,g;function c(m){return d.hh.call(this,m,f.U.bya,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oya=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(88052);d=a(92933);g=a(20743);a(64168);ea(c,d.hh);c.prototype.Bf=function(m,h){var n,p,q;n=this;p=h.event;q=this.AA(h);!1;!1;return this.send(m,{url:h.href,name:k.Hg.events,Fj:k.Hg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw n.Pl(u);});};c.prototype.Mn=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.AA=function(m){return {xid:m.ma,event:m.event,adEventToken:m.Lu,adBreakLocationMs:m.uE,position:m.position,clientTime:m.yx,sessionStartTime:m.dm,appId:m.appId,sessionId:m.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.tl))],a);b.oya=a;},10058:function(r,b,a){var l,f,k,d,g;function c(m){return d.hh.call(this,m,f.U.bya,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uya=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(88052);d=a(92933);g=a(20743);a(64168);ea(c,d.hh);c.prototype.Bf=function(m,h){var n,p,q;n=this;p=h.event;q=this.AA(h);!1;!1;return this.send(m,{url:h.href,name:k.Hg.events,Fj:k.Hg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw n.Pl(u);});};c.prototype.Mn=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.AA=function(m){return {xid:m.ma,event:m.event,adEventToken:m.Lu,adBreakLocationMs:m.uE,position:m.position,clientTime:m.yx,sessionStartTime:m.dm,appId:m.appId,sessionId:m.sessionId,playTimes:this.cia(m.Iv),mainManifestPlaybackContextId:m.yPb,thirdPartyAdVerificationMetadata:m.g3b};};c.prototype.cia=function(m){return {total:m.total,audio:m.audio.map(function(h){return {duration:h.duration,downloadableId:h.Vb,cdnId:h.Fm};}),video:m.video.map(function(h){return {duration:h.duration,downloadableId:h.Vb,cdnId:h.Fm};}),text:m.text.map(function(h){return {duration:h.duration,downloadableId:h.Vb,cdnId:h.Fm};})};};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.tl))],a);b.uya=a;},1841:function(r,b,a){var l,f,k;function c(d,g,m,h){g=k.hh.call(this,d,g,h) || this;g.context=d;g.Zka=m;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.bq=void 0;r=a(70655);l=a(86700);f=a(88052);k=a(92933);a(64168);ea(c,k.hh);c.prototype.W4=function(d){return "LIVE" === d.eg?f.Hg.events + "/live/" + this.Zka:f.Hg.events + "/" + this.Zka;};c.prototype.Bf=function(d,g){var m,h;m=this;h=this.AA(g);!1;!1;return this.send(d,{url:g.href,name:f.Hg.events,Fj:this.W4(g)},h).then(function(){return g;}).catch(function(n){throw m.Pl(n);});};c.prototype.Mn=function(d,g,m){var h,n,p;h=this;n=this.AA(m);!1;!1;p={url:g.lL("events").href,name:f.Hg.events,Fj:this.W4(m)};return this.send(d,p,n).then(function(q){g.Iga(q.result.links);return m;}).catch(function(q){throw h.Pl(q);});};c.prototype.AA=function(d){return {event:this.Zka,xid:d.ma,position:d.position || 0,clientTime:d.yx,sessionStartTime:d.dm,videoTrackId:d.sO,audioTrackId:d.ap,timedTextTrackId:d.$N,mediaId:d.eM,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.cia(d.Iv),sessionParams:d.cm};};c.prototype.bia=function(d){return {downloadableId:d.Vb,duration:d.duration};};c.prototype.cia=function(d){var g;g={total:d.total,audio:d.audio.map(this.bia),video:d.video.map(this.bia),text:d.text.map(this.bia)};d.total !== d.UH && (g.totalContentTime=d.UH);0 !== d.MC && (g.totalAdDuration=d.MC);0 !== d.NC && (g.totalOtherDuration=d.NC);if(0 !== d.NC || 0 !== d.MC)g.totalCombinedDuration=d.dO;0 !== d.VH && (g.totalLiveEdgeDuration=d.VH);0 !== d.WH && (g.totalStartSlateDuration=d.WH);return g;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.ln)()),r.__param(1,(0,l.ln)()),r.__param(2,(0,l.ln)()),r.__param(3,(0,l.ln)())],a);b.bq=a;},92933:function(r,b,a){var l,f,k,d,g;function c(m,h,n){this.context=m;this.errorCode=h;this.tZb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.hh=void 0;r=a(70655);l=a(86700);f=a(55727);k=a(2467);d=a(56003);g=a(53685);c.prototype.send=function(m,h,n,p,q,u){var t;t=this;u=void 0 === u?g.hu.QP:u;return this.jHb(m,h,n,u,p,q).then(function(w){return t.context.DBb.send(w.context,w.request);});};c.prototype.jHb=function(m,h,n,p,q,u){var t,w;try{t=this.context.OYb.create(this.context.ay.IA(),h.url,n,q,p);w=this.bub(h,m,p,u);return Promise.resolve({context:w,request:t});}catch(v){return Promise.reject(v);}};c.prototype.bub=function(m,h,n,p){return {Ie:this.context.Ie,log:h,Gm:m.name,url:this.context.v5b((0,f.rSa)(this.context.oh,this.context.Wg,m.name,n)),Bua:this.tZb,timeout:(0,k.xh)(59),headers:(0,f.qSa)(this.context.Wg,this.context.eF),Fj:m.Fj,ztb:p};};c.prototype.Pl=function(m){return m instanceof d.Mc?m:(0,f.Pl)(this.errorCode,m);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.ln)()),r.__param(1,(0,l.ln)()),r.__param(2,(0,l.ln)())],a);b.hh=a;},62538:function(r,b,a){var l,f,k,d,g;function c(m){return k.bq.call(this,m,f.U.Vhb,d.zo.NK,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(1841);d=a(8010);a=a(20743);ea(c,k.bq);c.prototype.AA=function(m){return Object.assign(Object.assign({},k.bq.prototype.AA.call(this,m)),{action:m.action});};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.DCa=g;},91393:function(r,b,a){var l,f,k,d,g;function c(m){return d.hh.call(this,m,f.U.hib,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.EIa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(88052);d=a(92933);a=a(20743);ea(c,d.hh);c.prototype.Bf=function(m,h){var n;n=this;return this.send(m,{url:"/generateScreenshots",name:k.Hg.W,Fj:"generateScreenshots"},h).then(function(p){return p.result;}).catch(function(p){throw n.Pl(p);});};c.prototype.Mn=function(m,h,n){var p;p=this;h={url:h.lL("generateScreenshots").href,name:k.Hg.W,Fj:"generateScreenshots"};return this.send(m,h,n).then(function(q){return q.result;}).catch(function(q){throw p.Pl(q);});};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.EIa=g;},8522:function(r,b,a){var l,f,k,d,g;function c(m){return k.bq.call(this,m,f.U.fca,d.zo.kU,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(1841);d=a(8010);a=a(20743);ea(c,k.bq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.dFa=g;},52779:function(r,b,a){var l,f,k,d,g;function c(m){return d.hh.call(this,m,f.U.GI,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qIa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(88052);d=a(92933);a=a(20743);ea(c,d.hh);c.prototype.Bf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.W4=function(m){var h;h="ldl" === m.e3a?"prefetch/license":"license";"LIVE" === m.eg && (h+="/live");return h;};c.prototype.Mn=function(m,h,n){var p;p=this;h={url:h.lL(n.e3a).href,name:k.Hg.Vg,Fj:this.W4(n)};return this.send(m,h,n.inputs,"drmSessionId").then(function(q){q=q.result;p.tvb(q);return q;}).catch(function(q){throw p.Pl(q);});};c.prototype.tvb=function(m){m.forEach(function(h){if(!h.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.qIa=g;},64558:function(r,b,a){var l,f,k,d,g;function c(m){return d.hh.call(this,m,f.U.Cfb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sIa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(88052);d=a(92933);a=a(20743);ea(c,d.hh);c.prototype.Bf=function(m,h,n){var p;p=this;return this.send(m,{url:"/" + k.Hg.bind,name:k.Hg.bind,Fj:k.Hg.bind},h,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Pl(q);});};c.prototype.Mn=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.sIa=g;},6123:function(r,b,a){var l,f,k,d,g;function c(m){return d.hh.call(this,m,f.U.Dfb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uIa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(88052);d=a(92933);a=a(20743);ea(c,d.hh);c.prototype.Bf=function(m,h,n){var p;p=this;return this.send(m,{url:"/bindDevice",name:k.Hg.bind,Fj:k.Hg.bind},h,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Pl(q);});};c.prototype.Mn=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.uIa=g;},42239:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,w,v,y,x,z,A){this.oh=q;this.Ie=u;this.Wg=t;this.DBb=w;this.ay=v;this.v5b=y;this.OYb=z;this.eF=A;}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;r=a(70655);l=a(86700);f=a(39141);k=a(95538);d=a(86945);g=a(94669);m=a(24166);h=a(5485);n=a(28933);p=a(1265);a=a(15303);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.iY)),r.__param(1,(0,l.l)(h.eu)),r.__param(2,(0,l.l)(k.Lw)),r.__param(3,(0,l.l)(g.BIa)),r.__param(4,(0,l.l)(m.Bw)),r.__param(5,(0,l.l)(n.XMa)),r.__param(6,(0,l.l)(p.PY)),r.__param(7,(0,l.l)(d.gJa)),r.__param(8,(0,l.l)(a.vw))],c);b.yIa=c;},55727:function(r,b,a){var m,h;function c(n){return !(!n || !n.hC && !n.pboc || !n.code && !n.code);}function l(n){return !(!n || !n.ic);}function f(n){return !!(n instanceof Error);}function k(n){switch(n){case "ACCOUNT_ON_HOLD":return h.R.ikb;case "STREAM_QUOTA_EXCEEDED":return h.R.rkb;case "INSUFFICICENT_MATURITY":return h.R.wkb;case "TITLE_OUT_OF_WINDOW":return h.R.Fkb;case "CHOICE_MAP_ERROR":return h.R.qkb;case "BadRequest":return h.R.Akb;case "Invalid_SemVer_Format":return h.R.xkb;case "RESTRICTED_TO_TESTERS":return h.R.Dkb;case "AGE_VERIFICATION_REQUIRED":return h.R.okb;case "BLACKLISTED_IP":return h.R.pkb;case "DEVICE_EOL_WARNING":return h.R.Zca;case "DEVICE_EOL_FINAL":return h.R.THa;case "INCORRECT_PIN":return h.R.XHa;case "MOBILE_ONLY":return h.R.Ckb;case "MDX_CONTROLLER_CTICKET_INVALID":return h.R.Bkb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return h.R.Gkb;case "RESET_DEVICE":return h.R.WHa;case "RELOAD_DEVICE":return h.R.VHa;case "EXIT_DEVICE":return h.R.UHa;case "FREE_PREVIEW_ENDED":return h.R.vkb;case "STREAMING_LOCATION_DISALLOWED":return h.R.Ekb;case "EXTRA_MEMBER_STREAM_HOLD":return h.R.ukb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return h.R.tkb;case "ADS_UNAVAILABLE_VIEWABLE":return h.R.jkb;case "ADS_UNSUPPORTED_DEVICE":return h.R.mkb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return h.R.kkb;case "ADS_UNSUPPORTED_COUNTRY":return h.R.lkb;case "ADS_VPN_USE_DETECTED":return h.R.nkb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return h.R.zkb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return h.R.ykb;default:return h.R.fDa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new m.Mc(n,k(p.code),"BadRequest" === p.code?h.XZ.Rfb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function g(n,p){return new m.Mc(n,p.ic,p.Tc,void 0,p.xy,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.qSa=b.rSa=b.OFb=b.TFb=b.Pl=b.SFb=b.dU=b.KMb=b.T1a=void 0;m=a(56003);h=a(68172);b.T1a=c;b.KMb=l;b.dU=f;b.SFb=k;b.Pl=function(n,p){return l(p)?g(n,p):c(p)?d(n,p):f(p)?m.Mc.Ula(n,p):new m.Mc(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.TFb=d;b.OFb=g;b.rSa=function(n,p,q,u,t){var w,v,y,x;t=void 0 === t?"router":t;w=p.E$a[q];if(void 0 === w)throw {hC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};v=w.version;if(void 0 === v)throw {hC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=w.service;if(void 0 === y)throw {hC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=w.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {hC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?n.NIb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v):n.CIb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v) + "/" + t;};b.qSa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.LQa && p && (q["X-Esn"]=p.ek);return q;};},78679:function(r,b,a){var l,f,k,d,g;function c(m,h,n){this.qa=m;this.platform=h;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;r=a(70655);l=a(86700);f=a(35664);k=a(2467);d=a(811);a=a(17244);c.prototype.R3b=function(m){var h,n;h=this;n=this.qa.fe.ba(k.rm);return {inputs:m.tj.map(function(p){var q,u,t,w,v;return {drmSessionId:p.sessionId,clientTime:n,challengeBase64:p.dataBase64,xid:m.ma.toString(),clientVersion:h.platform.version,platform:null === (q=h.config().od) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (u=h.config().od) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.version,osName:null === (v=null === (w=h.config().od) || void 0 === w?void 0:w.os) || void 0 === v?void 0:v.name};}),e3a:"standard" === m.pf.toLowerCase()?"license":"ldl",eg:m.eg};};c.prototype.U3b=function(m){var h,n;h=this;n=[];return m.ie.map(function(p){n.push(p.id);return {url:h.dub(p.pG,p.sU),echo:"drmSessionId",params:{drmSessionId:p.id,xid:m.ma.toString()}};});};c.prototype.dub=function(m,h){return "/releaseLicense?drmLicenseContextId=" + m + (h?"&licenseId=" + h:"");};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.gg)),r.__param(1,(0,l.l)(d.tn)),r.__param(2,(0,l.l)(a.ac))],g);b.GIa=g;},33403:function(r,b,a){var l,f,k;function c(d,g){this.Ah=d;this.xA=g;}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;r=a(70655);l=a(86700);f=a(89682);a=a(31224);c.prototype.Fcb=function(d){var g,m;g=this;m=d.map(function(h){return h.links.releaseLicense.href;}).map(function(h){return g.Ah.CV(h.substring(h.indexOf("?") + 1));});return {ha:!0,ie:d.map(function(h,n){return {id:h.drmSessionId,pG:m[n].drmlicensecontextid,sU:m[n].licenseid};}),Rk:d.map(function(h){return {data:g.xA.decode(h.licenseResponseBase64),sessionId:h.drmSessionId};})};};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.jh)),r.__param(1,(0,l.l)(a.fh))],k);b.IIa=k;},10143:function(r,b,a){var l,f,k,d,g;function c(m){return d.hh.call(this,m,f.U.kjb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MIa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(88052);d=a(92933);a=a(20743);ea(c,d.hh);c.prototype.Bf=function(m,h){var n;n=this;return this.send(m,{url:"/" + k.Hg.Mpa,name:k.Hg.Mpa,Fj:k.Hg.Mpa},h).then(function(p){return p.result;}).catch(function(p){throw n.Pl(p);});};c.prototype.Mn=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.MIa=g;},27299:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x){t=d.hh.call(this,t,f.U.pD,3) || this;t.platform=w;t.GU=v;t.oOb=y;t.KPb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(70655);l=a(93);f=a(68172);k=a(88052);a(64168);d=a(92933);g=a(20743);m=a(811);h=a(53685);n=a(23251);p=a(10707);q=a(86700);a=a(9571);ea(c,d.hh);c.prototype.hJb=function(t,w){var v,y;y=w?k.Hg.pOb:k.Hg.W;w=w?"licensedManifest":"manifest";t.Hq === l.ql.RI && (w="prefetch/" + w);"live" === t.Wa.xd && (w+="/live");if(null === (v=t.Hf) || void 0 === v?0:v.mh)w="adBreakHydration";return {Fj:w,rwb:y};};c.prototype.Bf=function(t,w){var v,y;v=this;y=w.Hq === l.ql.O_?h.hu.rKa:h.hu.QP;return this.KPb().transform(w,y).then(function(x){var z,A;z=la(x);x=z.next().value;A=z.next().value;!1;z=v.hJb(w,"licensedManifest" === A.Gm);return v.send(t,{url:A.Gm,name:z.rwb,Fj:z.Fj},x,void 0,void 0,y).then(function(B){var D;B=v.GU.create(B.result);D=B.Fa;A.Mx && (D=D.St.map(function(C){return C.Vg;}).filter(Boolean),0 < D.length?(D=v.oOb.Fcb(D),A.Mx.wQa(D),B.Mx=A.Mx,B.Moa=w.Hq === l.ql.RI,B.Loa=!0):A.Mx.close());B.AR=A.AR;B.MX=A.MX;!1;return B;});}).catch(function(x){!1;throw v.Pl(x);});};c.prototype.Mn=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.T)(),r.__param(0,(0,q.l)(g.tl)),r.__param(1,(0,q.l)(m.tn)),r.__param(2,(0,q.l)(n.JI)),r.__param(3,(0,q.l)(p.kda)),r.__param(4,(0,q.l)(a.PIa))],u);b.OIa=u;},73953:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F,G,E,J){this.Wg=x;this.platform=z;this.config=A;this.bvb=B;this.bVb=D;this.eo=C;this.PR=F;this.qa=G;this.a7=E;this.Lm=J;}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;r=a(70655);l=a(86700);f=a(93);k=a(17244);d=a(36437);g=a(5872);m=a(69447);h=a(1092);n=a(811);p=a(35664);q=a(2467);u=a(94773);t=a(95538);w=a(66602);v=a(77003);y=a(41047);c.prototype.transform=function(x,z){var A,B,D,C,F,G,E,J;A=this;B=x.Wa;D=Object.assign({},B.i2,B.cm);C={};F=x.J;G=this.config();C[F]={unletterboxed:!!D.preferUnletterboxed || G.LVb};E=G.E5b?30:25;G=G.Dr?this.eo.pHb():Promise.resolve(this.a7.Ns());J={xd:null === B || void 0 === B?void 0:B.xd};return Promise.all([this.Lm.z_a(J),this.Lm.B_a(J),this.Lm.sT(),this.Lm.S4(),this.LGb(x.ma,z),this.rHb(x),G]).then(function(M){var L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W;L=la(M);I=L.next().value;P=L.next().value;K=L.next().value;H=L.next().value;N=L.next().value;M=L.next().value;R=L.next().value;L=I.Z4().concat(P.Z4()).concat(A.config().Lt).concat(["BIF240","BIF320"]).filter(Boolean);H=H?H.DEVICE_SECURITY_LEVEL:void 0;W="postplay" === B.xd?!0:!!D.isUIAutoPlay;K={type:"standard",manifestVersion:A.Wg.KWa?"v2":"v1",viewableId:F,profiles:L,flavor:x.Hq,drmType:R,drmVersion:E,usePsshBox:!0,isBranching:!!x.Wa.ag,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().L2b,imageSubtitleHeight:d.nea.h_a(),uiVersion:A.Wg.cw,uiPlatform:A.Wg.G$,clientVersion:A.platform.version,platform:null === (Y=A.config().od) || void 0 === Y?void 0:Y.version,osVersion:null === (ia=null === (ma=A.config().od) || void 0 === ma?void 0:ma.os) || void 0 === ia?void 0:ia.version,osName:null === (Ca=null === (ja=A.config().od) || void 0 === ja?void 0:ja.os) || void 0 === Ca?void 0:Ca.name,supportsPreReleasePin:A.config().kp.C2b,supportsWatermark:A.config().kp.D2b,packageId:A.KIb(B),deviceSecurityLevel:H,videoOutputInfo:K,titleSpecificData:C,preferAssistiveAudio:!!D.assistiveAudioPreferred,preferredTextLocale:D.preferredTextLocale,preferredAudioLocale:D.preferredAudioLocale,isUIAutoPlay:W,challenge:N,isNonMember:A.Wg.R1a,pin:B.e7a,desiredVmaf:A.config().Mdb?A.config().DVa:A.config().EVa,desiredSegmentVmaf:A.config().Mdb?A.config().DVa:A.config().EVa,requestSegmentVmaf:A.config().TYb,supportsPartialHydration:A.Wg.JK,contentPlaygraph:x.Wa.ag?[]:A.Wg.VE,supportsAdBreakHydration:x.Wa.ag?!1:A.Wg.q$,auxiliaryManifestToken:x.Wa.ag?void 0:null === (Ba=x.Hf) || void 0 === Ba?void 0:Ba.bc,adBreakToken:x.Wa.ag?void 0:null === (Ka=x.Hf) || void 0 === Ka?void 0:Ka.mh,originalPlaybackContextId:!x.Wa.ag && (null === (Va=x.Hf) || void 0 === Va?0:Va.bc)?null === (db=x.Hf) || void 0 === db?void 0:db.wV:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.eXa && (K.extraParams=B.eXa);B.CVa && (K.desiredDownloadables=B.CVa);B.lua && (K.requestReference=B.lua);Y={Gm:K.adBreakToken?"adBreakHydration":M?"licensedManifest":"manifest",Mx:null === M || void 0 === M?void 0:M.Vy,AR:I,MX:P};M && (M={drmSessionId:M.Vy.Ux() || "session",clientTime:A.qa.uH.ba(q.rm),challengeBase64:M.yia},K.challenges={"default":[M]},K.profileGroups=[{name:"default",profiles:L}],K.licenseType=x.pf == y.Bh.pn?"limited":"standard",x.ma && (K.xid=x.ma.toString()));A.Wg.JK || (K.showAllSubDubTracks=A.config().kp.Z0b || !!D.showAllSubDubTracks);A.Wg.CWa && x.Hq === f.ql.O_ && (K.maxSupportedLanguages=2);x.gO && (K.originalPlaybackContextId=x.gO.wV,K.requiredAudioTrackId=x.gO.XYb,K.requiredTextTrackId=x.gO.$Yb);return [K,Y];});};c.prototype.KIb=function(x){if(this.config().P8.enabled){if(void 0 !== x.en)return x.en;if(void 0 !== this.config().P8.en)return Number(this.config().P8.en);}};c.prototype.LGb=function(x,z){var A;A=this;return this.bvb.LYa(z).then(function(B){var D;D=x && A.bVb.PIb(x);D && D.Yo("cad");return B;});};c.prototype.rHb=function(x){var z;if(void 0 === x.pf || !this.config().Dr)return Promise.resolve(void 0);z=x.pf === y.Bh.pm && this.Wg.Zu;return x.pf === y.Bh.pn && this.Wg.VA || z?this.PR.ena(x.pf):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(t.Lw)),r.__param(1,(0,l.l)(n.tn)),r.__param(2,(0,l.l)(k.ac)),r.__param(3,(0,l.l)(g.lAa)),r.__param(4,(0,l.l)(m.Ada)),r.__param(5,(0,l.l)(h.Fw)),r.__param(6,(0,l.l)(u.yY)),r.__param(7,(0,l.l)(p.gg)),r.__param(8,(0,l.l)(w.Gca)),r.__param(9,(0,l.l)(v.uw))],a);b.QIa=a;},59713:function(r,b,a){var l,f,k,d,g;function c(m){return d.hh.call(this,m,f.U.Hkb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RIa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(88052);d=a(92933);a=a(20743);ea(c,d.hh);c.prototype.Bf=function(m,h,n){var p;p=this;return this.send(m,{url:"/" + k.Hg.ping,name:k.Hg.ping,Fj:k.Hg.ping},h,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Pl(q);});};c.prototype.Mn=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.RIa=g;},13878:function(r,b,a){var l,f,k,d,g;function c(m){return d.hh.call(this,m,f.U.Qda,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(88052);d=a(92933);a=a(20743);ea(c,d.hh);c.prototype.Bf=function(m,h){var n;n=this;return this.send(m,{url:"/bundle",name:k.Hg.Vg,Fj:"release/license"},h).then(function(p){return p.result;}).catch(function(p){throw n.Pl(p);});};c.prototype.Mn=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.dJa=g;},9270:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q){this.platform=h;this.config=n;this.PR=p;this.Lm=q;}Object.defineProperty(b,"__esModule",{value:!0});b.hJa=void 0;r=a(70655);l=a(86700);f=a(17244);k=a(811);d=a(94773);g=a(77003);m=a(41047);c.prototype.transform=function(h){var n,p,q;n=this;p=h.Wa;q={xd:void 0};return Promise.all([this.Lm.z_a(q),this.Lm.B_a(q),this.PR.ena(m.Bh.pm)]).then(function(u){var t,w;t=la(u);u=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:h.J,packageId:p.en,assetId:p.xha,challenge:t.yia,audioProfiles:u.Z4(),textProfiles:n.config().Lt,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.Z4(),audioLanguages:p.Osb,textLanguages:p.d3b,videoLanguages:p.eeb?[p.eeb]:void 0,requestReference:p.lua,additionalAudioAssets:p.prb,additionalTextAssets:p.srb,useBetterTextUrls:!0},{Mx:null === t || void 0 === t?void 0:t.Vy,Gm:"studioManifest",AR:u,MX:w}];});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.tn)),r.__param(1,(0,l.l)(f.ac)),r.__param(2,(0,l.l)(d.yY)),r.__param(3,(0,l.l)(g.uw))],a);b.hJa=a;},41596:function(r,b,a){var l,f,k,d,g;function c(m){return k.bq.call(this,m,f.U.iLa,d.zo.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PLa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(1841);d=a(8010);a=a(20743);ea(c,k.bq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.PLa=g;},30859:function(r,b,a){var l,f,k,d,g;function c(m){return k.bq.call(this,m,f.U.Slb,d.zo.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ULa=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(1841);d=a(8010);a=a(20743);ea(c,k.bq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.ULa=g;},48529:function(r,b,a){var l,f,k,d,g;function c(m){return k.bq.call(this,m,f.U.Tlb,d.zo.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$La=void 0;r=a(70655);l=a(86700);f=a(68172);k=a(1841);d=a(8010);a=a(20743);ea(c,k.bq);g=c;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.tl))],g);b.$La=g;},48350:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u){n=f.Se.call(this,n,"PboConfigImpl") || this;n.config=p;n.Prb=q;n.Kf=u;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;r=a(70655);l=a(86700);f=a(90187);k=a(59578);d=a(54662);g=a(17244);m=a(39141);a=a(65350);ea(c,f.Se);Xa.Object.defineProperties(c.prototype,{cw:{configurable:!0,enumerable:!0,get:function(){return this.config().kp.cw || "";}},G$:{configurable:!0,enumerable:!0,get:function(){return this.config().kp.G$ || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().kp.Wsa;}},R1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},E$a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Prb.YRa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.F$a);}},F$a:{configurable:!0,enumerable:!0,get:function(){return {};}},U8a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Una:{configurable:!0,enumerable:!0,get:function(){return 10;}},LQa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Zu:{configurable:!0,enumerable:!0,get:function(){return this.Kf.Zu;}},VA:{configurable:!0,enumerable:!0,get:function(){return this.Kf.VA;}},dI:{configurable:!0,enumerable:!0,get:function(){return this.Kf.dI;}},Sdb:{configurable:!0,enumerable:!0,get:function(){return !1;}},CWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Ldb:{configurable:!0,enumerable:!0,get:function(){return [];}},KWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},JK:{configurable:!0,enumerable:!0,get:function(){return this.Kf.JK;}},VE:{configurable:!0,enumerable:!0,get:function(){return this.Kf.VE;}},q$:{configurable:!0,enumerable:!0,get:function(){return this.Kf.q$;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"cw",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"G$",null);r.__decorate([d.config(d.dz,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.IH,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.bd,"hasLimitedPlaybackFunctionality")],h.prototype,"R1a",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"E$a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"F$a",null);r.__decorate([d.config(d.bd,"pboRecordHistory")],h.prototype,"U8a",null);r.__decorate([d.config(d.dz,"pboHistorySize")],h.prototype,"Una",null);r.__decorate([d.config(d.bd,"pboAddXEsnHeader")],h.prototype,"LQa",null);r.__decorate([d.config(d.bd,"combineManifestAndLicense")],h.prototype,"Zu",null);r.__decorate([d.config(d.bd,"enableLicensedManifestForPrefetch")],h.prototype,"VA",null);r.__decorate([d.config(d.bd,"useLdlForPrefetchLicensedManifest")],h.prototype,"dI",null);r.__decorate([d.config(d.bd,"pboUseStudioManifest")],h.prototype,"Sdb",null);r.__decorate([d.config(d.bd,"pboEnableLeanManifest")],h.prototype,"CWa",null);r.__decorate([d.config(d.bd,"useHeaderForRequestNames")],h.prototype,"Ldb",null);r.__decorate([d.config(d.bd,"pboEnableV2OptimizedManifest")],h.prototype,"KWa",null);r.__decorate([d.config(d.bd,"pboEnableManifestPartialHydrationSupport")],h.prototype,"JK",null);r.__decorate([d.config(d.IH,"pboContentPlaygraphTypes")],h.prototype,"VE",null);r.__decorate([d.config(d.bd,"pboSupportsAdBreakHydration")],h.prototype,"q$",null);h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl)),r.__param(1,(0,l.l)(g.ac)),r.__param(2,(0,l.l)(m.iY)),r.__param(3,(0,l.l)(a.TI))],h);b.zIa=h;},737:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B;function c(D){this.config=D;this.zx=[];}function l(D,C,F){this.Ea=D;this.jO=C;this.context=F;this.startTime=this.Ea.Fb();}function f(D,C,F,G,E,J,M,L,I,P){this.Kcb=C;this.json=F;this.Ea=G;this.Ls=E;this.Ata=J;this.wc=M;this.config=L;this.Eb=I;this.receiver=P;this.log=D.Ua("Pbo");L.U8a && (this.zx=new c(L));this.jO=this.Kcb();}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;r=a(70655);k=a(86700);d=a(2467);g=a(79596);m=a(71163);h=a(63088);n=a(58998);p=a(53685);q=a(16690);u=a(65428);t=a(55727);w=a(95538);v=a(1265);y=a(34202);x=a(88052);z=a(14944);a=a(19391);A={"shakti-":"akira"};f.prototype.send=function(D,C){var F;F=new l(this.Ea,this.jO,D);this.zx && this.zx.append(F);return this.kva(D,C,F);};f.prototype.kva=function(D,C,F){var G;G=this;return new Promise(function(E,J){G.retry(D,C).then(function(M){var L,I;G.u_b(M);L=la(G.U5b(M));I=L.next().value;L=L.next().value;I && (G.receiver.wta({command:D.Gm,inputs:C,outputs:I}),G.hwb(F),E(M));L && (G.receiver.wta({command:D.Gm,inputs:C,outputs:L}),G.wTa(F,L),J(L));}).catch(function(M){var L;G.receiver.wta({command:D.Gm,inputs:C,outputs:M});L=G.wTa(F,M);M.Kb && (M.Kb=[M.Kb," ",L].join(""));J(M);});});};f.prototype.u_b=function(D){(D=D.serverTime) && this.Eb.Dc(y.cca.D$a,(0,d.Hb)(D));};f.prototype.U5b=function(D){var C;!1;C=D.result;if(("deviceCommand" in D)){D=D.deviceCommand;this.log.trace("Received device command '" + D + "'");switch(D){case "reset":C="RESET_DEVICE";break;case "reload":C="RELOAD_DEVICE";break;case "exit":C="EXIT_DEVICE";break;default:(C="FAIL",this.log.error("Unhandled device command '" + D + "'"));}return [,{hC:!0,code:C,detail:{message:"Server sent device action to '" + D + "' device"}}];}if(C)return (!1,[C,void 0]);if(D.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",D),[,{code:D.code,detail:{message:D.message}}]);this.log.error("Response did not contain a result or an error",D);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};f.prototype.Isb=function(D,C,F){var G;G=this;this.o5b(C,D);this.jO=this.Kcb(F);return this.jO.send(C,F).then(function(E){return {retry:!1,result:z.u_.vUb(G.json,E.body)};}).catch(function(E){var J,M;J=z.u_.kIb(E);M=void 0 !== J?Math.min(J,C.Bua):C.Bua;return G.S9(C,E,D,M)?(J=G.Jub(E,D,M),G.log.warn("Method failed, retrying",Object.assign({Method:C.Gm,Attempt:D + 1,WaitTime:J,MaxRetries:M},G.Rja(E))),Promise.resolve({retry:!0,delay:J,error:E})):Promise.resolve({retry:!1,error:E});});};f.prototype.jGb=function(D){var C,F;if(!this.vga || this.vga.RTb !== D){C="";F=D;Object.entries(A).find(function(G){var E;E=la(G);G=E.next().value;E=E.next().value;if(0 === D.indexOf(G))return (C=E,D=D.slice(G.length),!0);});this.vga={sTa:C,cw:D,RTb:F};}return this.vga;};f.prototype.o5b=function(D,C){var F,G,E,J;J=D.url.searchParams;J.set(x.Kz.XKa,(C + 1).toString());this.config.Ldb.includes(D.Fj)?D.headers[x.Alb.Vda]=D.Fj:J.set(x.Kz.Vda,D.Fj);D=this.jGb(null !== (F=this.config.cw) && void 0 !== F?F:"");D.sTa && (J.set(x.Kz.PAa,D.sTa),D.cw && J.set(x.Kz.UMa,encodeURIComponent(D.cw)),F=this.Ls.od,(null === F || void 0 === F?0:F.name) && J.set(x.Kz.Zza,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && J.set(x.Kz.dAa,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && J.set(x.Kz.LHa,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && J.set(x.Kz.MHa,encodeURIComponent(F.os.version)));};f.prototype.retry=function(D,C,F){var G;G=this;F=void 0 === F?0:F;return this.Isb(F++,D,C).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(D,C,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};f.prototype.S9=function(D,C,F,G){var E;E=z.u_.qNb(C);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:D.Gm,Attempt:F + 1,MaxRetries:G},this.Rja(C))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:D.Gm},this.Rja(C)));return !1;};f.prototype.Jub=function(D,C,F){if(D && D.xC && void 0 !== D.xC.retryAfterSeconds)return (0,d.xh)(D.xC.retryAfterSeconds);D=1E3 * (0 === C?1:C);C=1E3 * Math.pow(2,Math.min(C,F));return (0,d.Hb)(this.Ata.w8a(D,C));};f.prototype.wait=function(D){var C;C=this;return new Promise(function(F){C.wc.Lj(D || d.Ia,F);});};f.prototype.Rja=function(D){return (0,t.T1a)(D)?D:{message:D.message,subCode:D.ic,extCode:D.Tc,mslCode:D.xy,data:D.data};};f.prototype.hwb=function(D){D.TN();};f.prototype.wTa=function(D,C){var F;D.Hs(C);if(this.zx)try{F=this.json.stringify(this.zx);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=f;B=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.Xa)),r.__param(1,(0,k.l)(g.LMa)),r.__param(2,(0,k.l)(h.kD)),r.__param(3,(0,k.l)(n.Jc)),r.__param(4,(0,k.l)(p.nn)),r.__param(5,(0,k.l)(q.I_)),r.__param(6,(0,k.l)(u.Ci)),r.__param(7,(0,k.l)(w.Lw)),r.__param(8,(0,k.l)(v.Kba)),r.__param(9,(0,k.l)(a.nda))],B);b.AIa=B;l.prototype.TN=function(){this.ha=!0;this.elapsedTime=this.Ea.Fb().wa(this.startTime);};l.prototype.Hs=function(D){this.ha=!1;this.elapsedTime=this.Ea.Fb().wa(this.startTime);this.l2b=D.ic || D.subCode;this.YDb=D.Tc || D.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var D;D=Object.assign({success:this.ha,method:this.context.Gm,startTime:this.startTime.ba(d.na),elapsedTime:this.elapsedTime?this.elapsedTime.ba(d.na):"in progress"},this.jO.nja());return this.ha?D:Object.assign(Object.assign(Object.assign({},D),this.jO.nja()),{subcode:this.l2b,extcode:this.YDb});};c.prototype.append=function(D){this.zx.push(D);0 < this.config.Una && this.zx.length > this.config.Una && this.zx.shift();};c.prototype.toJSON=function(){return this.zx;};},14944:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.u_=void 0;l=a(68172);c.qNb=function(f){var k,d;k=f && f.code;d=f && (f.xa || f.ic);f=f.Tc !== l.XZ.pIa;d=!!d && d >= l.R.kP && d <= l.R.iP && f;return !("RETRY" !== k && "FAIL" !== k) || d;};c.kIb=function(f){var k,d;d=null === (k=null === f || void 0 === f?void 0:f.xC) || void 0 === k?void 0:k.maxRetries;return "number" === typeof d?d:"FAIL" === (null === f || void 0 === f?void 0:f.code)?1:void 0;};c.vUb=function(f,k){var d;if(k){try{d=f.parse(k);}catch(g){throw {hC:!0,code:"FAIL",message:"Unable to parse the response body",data:k};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (f=d.result.find(function(g){return g.error;})))throw f.error;return d;}throw {hC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {hC:!0,code:"FAIL",message:"There is no body property on the response"};};b.u_=c;},52463:function(r,b,a){var l,f,k;function c(d,g){this.eF=g;this.log=d.Ua("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;r=a(70655);l=a(86700);f=a(71163);a=a(15303);c.prototype.Iga=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.lL=function(d){!1;return this.links[d];};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(a.vw))],k);b.KIa=k;},96026:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cJa=void 0;r=a(70655);a=a(86700);c.prototype.Y_b=function(f){this.listener=f;};c.prototype.wta=function(f){var k;null === (k=this.listener) || void 0 === k?void 0:k.call(this,f);};l=c;l=r.__decorate([(0,a.T)()],l);b.cJa=l;},58820:function(r,b,a){var f,k;function c(d,g,m,h,n,p,q){this.version=d;this.url=g;this.id=m;this.languages=h;this.nb=n;this.fCb=p;this.zRb=q;}function l(d){this.Wg=d;}Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;r=a(70655);f=a(86700);a=a(95538);l.prototype.create=function(d,g,m,h,n){return new c(this.Wg.version,g,d,this.Wg.languages,m,h,n);};k=l;k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.Lw))],k);b.fJa=k;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.nb,echo:this.fCb};};},96658:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(86700);c=a(60070);l=a(79596);f=a(71946);k=a(17895);d=a(80778);g=a(53685);b.transports=new r.ed(function(m){m(c.b0).to(d.KMa).da();m(l.jHa).to(f.iHa);m(l.SLa).to(k.RLa);m(l.LMa).Vd(function(h){return function(n){var p;return h.hb.get(c.b0).T9(null !== (p=null === n || void 0 === n?void 0:n.zRb) && void 0 !== p?p:g.hu.QP)?h.hb.get(l.jHa):h.hb.get(l.SLa);};});});},79596:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LMa="TransportFactorySymbol";b.jHa="MslTransportSymbol";b.SLa="SslTransportSymbol";},60070:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.b0="TransportConfigSymbol";},71946:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){var q;q=this;this.aC=n;this.profile=p;this.log=h.Ua("MslTransport");this.aC().then(function(u){return q.x7=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.iHa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(53713);d=a(2467);a=a(98540);g={license:!0};c.prototype.send=function(h,n){var p,q;p=this;q={Sqa:Object.assign({Ie:h.Ie,log:h.log,profile:this.profile},h.ztb),method:h.Gm,url:h.url.href,body:JSON.stringify(n),timeout:h.timeout.ba(d.na),Udb:this.profile,EYb:!g[h.Gm],F5a:!!g[h.Gm],oF:!0,Sp:h.Bua,headers:h.headers};!1;return this.aC().then(function(u){return u.send(q).catch(function(t){var w;if(!t.error)throw (t.ic=t.xa || t.ic,t);w=t.error;w.xC=t.xC;p.log.error("Error sending MSL request",{mslCode:w.xy,subCode:w.ic,data:w.data,message:w.message});throw w;});});};c.prototype.nja=function(){var h;return {userTokens:null === (h=this.x7) || void 0 === h?void 0:h.$U.getUserIdTokenKeys()};};m=c;m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(k.HP)),r.__param(2,(0,l.l)(a.WI))],m);b.iHa=m;},17895:function(r,b,a){var l,f,k,d;function c(g,m){this.Ie=m;this.log=g.Ua("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;r=a(70655);l=a(86700);f=a(2467);k=a(71163);a=a(5485);c.prototype.send=function(g,m){var h,n;h=this;n={url:g.url.href,PA:"nq-" + g.Gm,G7a:JSON.stringify(m),Q2:g.timeout.ba(f.na),headers:g.headers,withCredentials:!0,nr:"pbo"};!1;return new Promise(function(p,q){h.Ie.download(n,function(u){u.ha?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.ic=p.xa || p.ic,p);q=p.error;q.xC=p.xC;h.log.error("Error sending SSL request",{subCode:q.ic,data:q.content,message:q.message});throw q;});};c.prototype.nja=function(){return {};};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(a.eu))],d);b.RLa=d;},80778:function(r,b,a){var l,f,k,d,g;function c(m){return f.Se.call(this,m,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KMa=void 0;r=a(70655);l=a(86700);f=a(90187);k=a(59578);d=a(54662);g=a(53685);ea(c,f.Se);c.prototype.T9=function(m){var h,n;h=this.oO;n=this.UQa;switch(m){case g.hu.QP:return h;case g.hu.rKa:return h && !n;case g.hu.akb:return !1;}};Xa.Object.defineProperties(c.prototype,{oO:{configurable:!0,enumerable:!0,get:function(){return !0;}},UQa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.bd,"usesMsl")],a.prototype,"oO",null);r.__decorate([d.config(d.bd,"allowRequestsWithoutMsl")],a.prototype,"UQa",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl))],a);b.KMa=a;},62298:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rda="PlatformEmeSymbol";},64615:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.d0="UserAgentDataPlatformVersionProviderSymbol";},20401:function(r,b,a){var g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D;function c(C,F,G){this.Em=C;this.groups=F;this.prefix=G;C=v(C,F,G);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function l(){}function f(){}function k(){return w?w:"0.0.0.0";}function d(C){C({pfc:0,Jgc:0,Idc:0,fdc:0});}g=a(28075);l.prototype.set=function(C,F){n[C]=F;p.save(C,F);};l.prototype.get=function(C,F){if(n.hasOwnProperty(C))return n[C];t.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(C,function(G){G.ha?(n[C]=G.data,F && F(G.data)):n[C]=void 0;});};l.prototype.remove=function(C){p.remove(C);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};f.prototype.now=function(){return q();};f.prototype.Ga=function(){return u();};f.prototype.Qqa=function(C){return C + q() - u();};f.prototype.pra=function(C){return C + u() - q();};c.prototype.IUa=function(C){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ca(this.prefix)):this.prefix && F.push(this.prefix);F.push(C);return new c(this.Em,this.groups,F);};y=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();r.exports=function(C){m=C.r8;v=C.Ri;p=C.storage;n=C.WL;q=C.BIb;u=C.getTime;t=C.jsb;x=C.gq;D=C.hj;z=C.vI;A=C.SourceBuffer;B=C.MediaSource;w=C.Zdc;h=C.zs;return {name:"cadmium",zs:h,r8:m,storage:new l(),Storage:l,time:new f(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,gq:x,vI:z,Q9b:A,MediaSource:B,hj:D,io:{name:k},memory:{udc:d},lT:C.lT,g3:C.g3,Tja:C.Tja,ping:function(F){fetch(F).catch(function(){});}};};},33888:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.jt,minHCInitVideoBitrate:a.aRb,maxInitVideoBitrate:a.ty,minInitAudioBitrate:a.XU,maxInitAudioBitrate:a.LU,minHCInitAudioBitrate:a.n7,minAcceptableVideoBitrate:a.j7,minRequiredBuffer:a.XB,minPrebufSize:a.Zq,minCheckBufferingCompleteInterval:a.Jqa,rebufferingFactor:a.Jta,useMaxPrebufSize:a.Dxa,maxPrebufSize:a.UB,maxRebufSize:a.pqa,maxBufferingTime:a.Xq,minAudioMediaRequestSizeBytes:a.Iqa,minVideoMediaRequestSizeBytes:a.Mqa,initialBitrateSelectionCurve:a.J5,initSelectionLowerBound:a.a1a,initSelectionUpperBound:a.b1a,throughputPercentForAudio:a.mX,bandwidthMargin:a.Lha,bandwidthMarginContinuous:a.Mha,bandwidthMarginCurve:a.Nha,conservBandwidthMargin:a.jja,switchConfigBasedOnInSessionTput:a.Bwa,conservBandwidthMarginTputThreshold:a.lja,conservBandwidthMarginCurve:a.kja,switchAlgoBasedOnHistIQR:a.Obb,switchConfigBasedOnThroughputHistory:a.Cwa,maxPlayerStateToSwitchConfig:a.p4a,lowEndMarkingCriteria:a.E3a,IQRThreshold:a.HEa,histIQRCalcToUse:a.v0a,maxTotalBufferLevelPerSession:a.OU,highWatermarkLevel:a.q0a,toStableThreshold:a.ucb,toUnstableThreshold:a.z$,skipBitrateInUpswitch:a.Yva,watermarkLevelForSkipStart:a.Uxa,highStreamRetentionWindow:a.Qna,lowStreamTransitionWindow:a.Rpa,highStreamRetentionWindowUp:a.Sna,lowStreamTransitionWindowUp:a.Tpa,highStreamRetentionWindowDown:a.Rna,lowStreamTransitionWindowDown:a.Spa,highStreamInfeasibleBitrateFactor:a.Pna,lowestBufForUpswitch:a.oy,lockPeriodAfterDownswitch:a.AU,lowWatermarkLevel:a.Wpa,lowestWaterMarkLevel:a.py,lowestWaterMarkLevelBufferRelaxed:a.Xpa,mediaRate:a.c7,maxTrailingBufferLen:a.U6,audioBufferTargetAvailableSize:a.Aha,videoBufferTargetAvailableSize:a.Ixa,maxVideoTrailingBufferSize:a.x4a,maxAudioTrailingBufferSize:a.b4a,fastUpswitchFactor:a.a4,fastDownswitchFactor:a.mla,maxMediaBufferAllowed:a.uG,simulatePartialBlocks:a.Eab,simulateBufferFull:a.Dab,considerConnectTime:a.mja,connectTimeMultiplier:a.ija,lowGradeModeEnterThreshold:a.uPb,lowGradeModeExitThreshold:a.vPb,maxDomainFailureWaitDuration:a.e4a,maxAttemptsOnFailure:a.iqa,enableMaxAttemptsOnFailure:a.Fka,exhaustAllLocationsForFailure:a.aXa,maxNetworkErrorsDuringBuffering:a.l4a,maxBufferingTimeAllowedWithNetworkError:a.P6,fastDomainSelectionBwThreshold:a.mXa,throughputProbingEnterThreshold:a.ccb,throughputProbingExitThreshold:a.dcb,locationProbingTimeout:a.u3a,finalLocationSelectionBwThreshold:a.tXa,throughputHighConfidenceLevel:a.acb,throughputLowConfidenceLevel:a.bcb,locationStatisticsUpdateInterval:a.Epa,enablePerfBasedLocationSwitch:a.HWa,probeServerWhenError:a.dH,probeRequestTimeoutMilliseconds:a.ita,allowSwitchback:a.rR,probeDetailDenominator:a.X7a,maxDelayToReportFailure:a.Q6,countGapInBuffer:a.bxb,bufferThresholdForAbort:a.Ttb,allowCallToStreamSelector:a.Erb,pipelineScheduleTimeoutMs:a.QUb,maxPartialBuffersAtBufferingStart:a.cM,maxActiveRequestsSABCell100:a.$3a,maxStreamingSkew:a.pQb,maxPendingBufferPercentage:a.iQb,headerRequestSize:a.u5,estimateHeaderSize:a.Uka,minBufferLenForHeaderDownloading:a.l7,reserveForSkipbackBufferMs:a.sua,numExtraFragmentsAllowed:a.sSb,pipelineEnabled:a.ko,maxParallelConnections:a.nqa,socketReceiveBufferSize:a.Lab,audioSocketReceiveBufferSize:a.e2,videoSocketReceiveBufferSize:a.X$,headersSocketReceiveBufferSize:a.Nna,updatePtsIntervalMs:a.c5b,bufferTraceDenominator:a.Wtb,bufferLevelNotifyIntervalMs:a.hSa,aseReportDenominator:a.xR,aseReportIntervalMs:a.vha,enableAbortTesting:a.uCb,abortRequestFrequency:a.nqb,streamingStatusIntervalMs:a.f2b,prebufferTimeLimit:a.MV,minBufferLevelForTrackSwitch:a.P4a,penaltyFactorForLongConnectTime:a.rsa,longConnectTimeThreshold:a.Ppa,additionalBufferingLongConnectTime:a.Xga,additionalBufferingPerFailure:a.Yga,rebufferCheckDuration:a.ZV,enableLookaheadHints:a.MCb,lookaheadFragments:a.sPb,enableOCSideChannel:a.KK,OCSCBufferQuantizationConfig:a.p_,updateDrmRequestOnNetworkFailure:a.hdb,deferAseScheduling:a.SAb,maxDiffAudioVideoEndPtsMs:a.ZPb,defaultHeaderCacheSize:a.Yja,defaultHeaderCacheDataPrefetchMs:a.Xja,neverWipeHeaderCache:a.Yqa,networkFailureResetWaitMs:a.Wqa,networkFailureAbandonMs:a.Vqa,maxThrottledNetworkFailures:a.T6,throttledNetworkFailureThresholdMs:a.u$,lowThroughputThreshold:a.Vpa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.cla,mp4ParsingInNative:a.vRb,sourceBufferInOrderAppend:a.x1b,requireAudioStreamToEncompassVideo:a.lN,allowAudioToStreamPastVideo:a.Drb,enableManagerDebugTraces:a.EWa,managerDebugMessageInterval:a.N3a,managerDebugMessageCount:a.M3a,bufferThresholdToSwitchToSingleConnMs:a.Vtb,bufferThresholdToSwitchToParallelConnMs:a.Utb,netIntrStoreWindow:a.FRb,minNetIntrDuration:a.cRb,fastHistoricBandwidthExpirationTime:a.hEb,bandwidthExpirationTime:a.mtb,failureExpirationTime:a.gEb,historyTimeOfDayGranularity:a.cLb,expandDownloadTime:a.QDb,minimumMeasurementTime:a.lRb,minimumMeasurementBytes:a.kRb,throughputMeasurementTimeout:a.m3b,initThroughputMeasureDataSize:a.dMb,throughputMeasureWindow:a.l3b,throughputIQRMeasureWindow:a.k3b,IQRBucketizerWindow:a.cjb,connectTimeHalflife:a.Gwb,responseTimeHalflife:a.kZb,historicBandwidthUpdateInterval:a.bLb,throughputWarmupTime:a.r3b,minimumBufferToStopProbing:a.jRb,throughputPredictor:a.n3b,ase_stream_selector:a.nsb,enableFilters:a.ECb,filterDefinitionOverrides:a.xEb,defaultFilter:a.BAb,secondaryFilter:a.WZb,defaultFilterDefinitions:a.CAb,initBitrateSelectorAlgorithm:a.qoa,bufferingSelectorAlgorithm:a.Zha,ase_ls_failure_simulation:a.jAb,ase_dump_fragments:a.Pja,ase_location_history:a.Qja,ase_throughput:a.eVa,ase_simulate_verbose:a.kAb,secondThroughputEstimator:a.$ua,secondThroughputMeasureWindowInMs:a.l$a,marginPredictor:a.eqa,networkMeasurementGranularity:a.Xqa,HistoricalTDigestConfig:a.YDa,maxIQRSamples:a.j4a,minIQRSamples:a.S4a,periodicHistoryPersistMs:a.o8,saveVideoBitrateMs:a.y9,needMinimumNetworkConfidence:a.Uqa,biasTowardHistoricalThroughput:a.Qha,maxFastPlayBufferInMs:a.kqa,maxFastPlayBitThreshold:a.g4a,minAudioMediaRequestDuration:a.Av,minVideoMediaRequestDuration:a.wy,minAudioMediaRequestDurationCache:a.Av,minVideoMediaRequestDurationCache:a.wy,addHeaderDataToNetworkMonitor:a.Hga,hindsightDenominator:a.t0a,hindsightDebugDenominator:a.s0a,hindsightParam:a.u0a,minimumTimeBeforeBranchDecision:a.s7,minimumTimeBeforeDelayedSeekToQueuedSegment:a.a5a,enableSessionHistoryReport:a.IWa,earlyStageEstimatePeriod:a.gWa,lateStageEstimatePeriod:a.X2a,maxNumSessionHistoryStored:a.m4a,minSessionHistoryDuration:a.W4a,appendMediaRequestOnComplete:a.fRa,waitForDrmToAppendMedia:a.Pxa,forceAppendHeadersAfterDrm:a.Kla,startMonitorOnLoadStart:a.ewa,reportFailedRequestsToNetworkMonitor:a.dua,reappendRequestsOnSkip:a.uXb,maxActiveRequestsPerSession:a.KU,limitAudioDiscountByMaxAudioBitrate:a.xpa,appendFirstHeaderOnComplete:a.iha,maxAudioFragmentOverlapMs:0,editVideoFragments:a.lCb,declareBufferingCompleteAtSegmentEnd:a.gVa,applyProfileTimestampOffset:a.wR,profileTimestampOffsets:a.M8,applyProfileStreamingOffset:a.Am,mediaSourceSupportsNegativePts:a.e7,requireDownloadDataAtBuffering:a.nua,requireSetupConnectionDuringBuffering:a.oua,recordFirstFragmentOnSubBranchCreate:a.T8a,earlyAppendSingleChildBranch:a.fWa,selectStartingVMAFMethod:a.xN,activateSelectStartingVMAF:a.iR,minStartingVideoVMAF:a.kt,minAcceptableVMAF:a.VU,minAllowedVmaf:a.zG,alwaysNotifyEOSForPlaygraph:a.Mrb,enableNewAse:a.QCb,useNewApi:a.z5b,enableCombinedPlaygraphs:a.yS,enableAdPlaygraphs:a.nF,retainSbrOnFade:a.n9,excludedContentPlaygraphIds:a.dla,enableDiscontiguousBuffering:a.J3,forceImmediateTransitionTypeForTitles:a.Nla,forceImmediateTransitionExitZone:a.Mla,useBufferSizeLimiter:a.L$,useLegacyFragmentRounding:a.y5b,maxAllowedOutstandingRequests:a.O6,alwaysRunUnderflowTimer:a.VJ,minStreamableConcurrencyWindow:a.Kqa,streamableConcurrencyFactor:a.qwa,bufferingConcurrencyWindow:a.LR,singleStreamablePerBranch:a.h1b,enableResolutionVMAFStreamFilter:a.M3,resolutionVMAFCappingRuleList:a.m9,percentCapTitlesForResolutionVMAFStreamFilter:a.usa,useExitZones:a.Cxa,perFragmentVMAFConfig:a.GM,enableInitialTputLogging:a.AWa,maxResponsesInitialTput:a.kQb,paddingDurationMs:a.esa,paddingMediaType:a.fsa,supportsPtsChanged:a.Mbb,ciPredictorSource:a.Kia,experimentalFilter:a.RDb,simulationDurationStrategy:a.Wva,liveTargetBufferDuration:a.wU,liveEdgeCushion:a.C6,liveSwitchStreamsOnErrorInPipeline:a.H6};};},19618:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H,N;Object.defineProperty(b,"__esModule",{value:!0});b.m3a=void 0;c=a(56432);l=a(23975);f=a(26620);k=a(8436);d=a(32408);g=a(6474);m=a(90642);h=a(74039);n=a(8028);p=a(31731);q=a(23541);u=a(65906);t=a(56243);w=a(422);v=a(99088);y=a(78113);x=a(83245);z=a(907);A=a(34886);B=a(7282);D=a(40517);C=a(38229);F=a(99216);G=a(45086);E=a(43357);J=a(38298);M=a(38246);L=a(21060);I=a(96658);P=a(10561);K=a(38184);H=a(4871);N=a(3797);b.m3a=function(R){R.load(c.Bx,m.PH,l.D3a,h.Lm,f.d5a,k.M,d.heb,g.w0a,n.storage,p.ZJ,q.uSa,u.R3a,t.aC,w.Jk,v.C3a,y.s5a,x.gYa,z.l8a,A.XG,B.dWa,D.mWa,C.Yd,F.cd,G.Za,E.k5a,J.Z6a,M.j,L.FTa,I.transports,P.Qk,K.Kg,H.DRa,N.W);};},84722:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.dc=void 0;r=a(86700);c=a(98540);l=a(49054);f=a(40517);k=a(10459);d=a(76427);g=a(19618);a=a(72288);b.dc=new r.AY({zH:!0});(0,g.m3a)(b.dc);b.dc.load(l.platform);b.dc.load(k.config);f.FK.load(d.nWa);b.dc.load(a.bRa);b.dc.load(a.profile);b.dc.bind(c.UEa).ll(b.dc);},31020:function(r,b,a){var l,f,k,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZMa=void 0;r=a(70655);k=a(86700);a=a(50876);d={lU:!1,reason:"uninitialized"};null === (f=null === (l=null === a.Be || void 0 === a.Be?void 0:a.Be.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === f?void 0:f.call(l,["platformVersion"]).then(function(g){d=(g=g.platformVersion)?{lU:!0,version:g}:{lU:!1,reason:"undefined"};}).catch(function(){d={lU:!1,reason:"exception"};});Xa.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});l=c;l=r.__decorate([(0,k.T)()],l);b.ZMa=l;},69780:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.NYa=b.MYa=b.OYa=void 0;c=a(77003);l=a(13329);f=a(56261);k=a(77878);d=a(77828);b.OYa=function(g){return Object.assign(Object.assign({},(0,d.fL)()),{Dq:g.d2a?"T":g.aU?"C":"M",Kn:g.d2a?"NFCDTS-01-":g.iy?"NFCDCH-02-":g.DB?"NFCDCH-MC-":g.aU?"NFCDCH-01-":g.R5?"NFCDCH-AP-":g.ZT?"NFCDCH-AT-":g.KL?"NFCDCH-PH-":"NFCDCH-LX-",OA:g.aU?"chromeos-cadmium":"chrome-cadmium"});};b.MYa=function(g){var m,h,n,p,q;m=(0,d.eL)();h=Object.assign(Object.assign({},m),{HK:!0,Zu:!0,VA:!0,dI:!0});n=[f.H.iZ,f.H.gZ,f.H.bQ];p=[f.H.hZ];if(g.iy){q={minimumCores:5};h.xk=[].concat(ca((0,k.lV).apply(null,[m.xk].concat(ca(n)))),ca((0,k.wh)([f.H.mz,f.H.nz].concat(ca(n),[f.H.nI,f.H.oI]),q)));h.Uq=[].concat(ca((0,k.lV).apply(null,[m.Uq].concat(ca(p)))),ca((0,k.wh)([].concat(ca(p)),q)));115 <= g.Cm && (h.xk=[].concat(ca(h.xk),ca((0,k.wh)([].concat(ca(f.Kc.mgb),ca(f.Kc.wY),ca(f.Kc.vY),ca(f.Kc.uY),ca(f.Kc.tY))))));}g.DB && (q={minimumCores:3},h.xk=[].concat(ca((0,k.lV).apply(null,[m.xk].concat(ca(n)))),ca((0,k.wh)([f.H.mz,f.H.nz].concat(ca(n),[f.H.nI,f.H.oI]),q))),h.Uq=[].concat(ca((0,k.lV).apply(null,[m.Uq].concat(ca(p)))),ca((0,k.wh)([].concat(ca(p)),q))));g.aU && (h.xk=(0,k.wh)([].concat(ca(f.Kc.sY),ca(f.Kc.bY),ca(f.Kc.kaa),ca(f.Kc.vY),ca(f.Kc.wY),ca(f.Kc.tY),ca(f.Kc.uY))),h.Uq=(0,k.wh)([].concat(ca(f.Kc.aY),ca(f.Kc.Waa),ca(f.Kc.Vaa))));return h;};b.NYa=function(g){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.xl.tI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= g.Cm && (m=Object.assign(Object.assign({},m),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));g.ZT && (m=Object.assign(Object.assign({},m),{enableFullHdForWidevineL1:!0}));g.aU && (m=Object.assign(Object.assign({},m),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= g.Cm && (m=Object.assign(Object.assign({},m),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= g.Cm && g.iy && (m=Object.assign(Object.assign({},m),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableFullHdForWidevineL1:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[l.$a.dQ,l.$a.wNa]}));if(g.iy || g.DB)m=Object.assign(Object.assign({},m),{enableFullHdForWidevineL3:!0});g.iy && 99 <= g.Cm && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));g.DB && 113 <= g.Cm && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));return m;};},22861:function(r,b,a){var l,f,k,d,g,m;function c(){var h,n,p;p=null === (h=qb.MSMediaKeys) || void 0 === h?void 0:h.isTypeSupported(f.$a.ud,g.dd.Gqa);h=p || (null === (n=qb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(f.$a.xD,g.dd.Gqa));return {W1a:p,V1a:h};}Object.defineProperty(b,"__esModule",{value:!0});b.bZa=b.oHb=b.aZa=b.cZa=void 0;l=a(77003);f=a(13329);k=a(56261);d=a(77828);g=a(39780);m=a(77878);b.cZa=function(h){return Object.assign(Object.assign({},(0,d.fL)()),{Dq:h.hy?"D":"H",Kn:h.hy?h.DB?"NFCDIE-04-":h.dNb?"NFCDIE-LX-":h.R5?"NFCDIE-AP-":h.ZT?"NFCDIE-AT-":h.KL?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",OA:"edge-cadmium",K1:!1});};b.aZa=function(){var h,n,p;h=Object.assign(Object.assign({},(0,d.eL)()),{BE:(0,m.wh)([k.yd.eD,k.yd.fD,k.yd.TO,k.yd.UO]),xk:(0,m.wh)([].concat(ca(k.Kc.sY),ca(k.Kc.bY),ca(k.Kc.kaa),ca(k.Kc.vY),ca(k.Kc.wY),ca(k.Kc.tY),ca(k.Kc.uY),ca(k.Kc.mAa),ca(k.Kc.nAa),ca(k.Kc.oAa))),Uq:(0,m.wh)([].concat(ca(k.Kc.aY),ca(k.Kc.Waa),ca(k.Kc.Vaa))),Vl:void 0,OT:!1});n=c();p=n.W1a;n.V1a || (h.Zu=!0,h.VA=!0,h.dI=!0);h.VE=p?[]:["start"];return h;};b.oHb=c;b.bZa=function(h){var n,p,q,u,t,w,v;n=h.cU;p=h.hy;q=h.iy;u=c();t=u.V1a;w=u.W1a;u={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.Xt.Gw,videoCapabilityDetectorType:l.xl.Gw,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!t || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};v={audioCapabilityDetectorType:l.Xt.tw,videoCapabilityDetectorType:l.xl.tI,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.$a.dQ],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,m.wh)([k.yd.eD,k.yd.fD]),videoProfiles:(0,m.wh)([k.H.cD,k.H.dD,k.H.cZ,k.H.eZ]),liveVideoProfiles:(0,m.wh)([k.H.dZ,k.H.fZ]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= h.Cm && (u=Object.assign(Object.assign(Object.assign({},u),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= h.Cm && (u=Object.assign(Object.assign({},u),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= h.Cm && (u=Object.assign(Object.assign({},u),{microsoftHwdrmRequiresHevc:!1})),17 <= h.Cm && (u=Object.assign(Object.assign({},u),{enableDDPlusAtmos:!0})));p && (u=Object.assign(Object.assign(Object.assign({},u),w),{useEncryptedEvent:!1}),q && (u=Object.assign(Object.assign({},u),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(u=Object.assign(Object.assign({},u),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.$a.sda,f.$a.tJa]}),94 === h.Cm && (u=Object.assign(Object.assign({},u),{enableHWDRM:!1})),102 <= h.Cm && (u=Object.assign(Object.assign({},u),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):u=Object.assign(Object.assign({},u),v));return u;};},72545:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.iZa=b.hZa=b.jZa=void 0;c=a(77003);l=a(56261);f=a(77878);k=a(77828);b.jZa=function(d){return Object.assign(Object.assign({},(0,k.fL)()),{Dq:"F",Kn:d.DB?"NFCDFF-MC-":d.iy?"NFCDFF-02-":d.R5?"NFCDFF-AP-":d.ZT?"NFCDFF-AT-":d.KL?"NFCDFF-PH-":"NFCDFF-LX-",OA:"firefox-cadmium"});};b.hZa=function(d){var g,m;g=(0,k.eL)();m=Object.assign(Object.assign({},g),{HK:!0,Zu:!0,VA:!0,dI:!0});d.iy && (m.xk=[].concat(ca(g.xk),ca((0,f.wh)([l.H.mz,l.H.nz],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.DB && (m.xk=[].concat(ca(g.xk),ca((0,f.wh)([l.H.mz,l.H.nz],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return m;};b.iZa=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.xl.tI,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};(d.iy || d.DB) && 95 <= d.Cm && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};},77828:function(r,b,a){var l,f,k,d;function c(g,m){var h,n,p,q,u,t;h=g.ry;n=g.kM;g=g.DM;p=m.ry;q=m.kM;m=m.DM;u=void 0 === h || void 0 === p;t=u || void 0 === n || void 0 === q;return u || h > p || h === p && (t || n > q) || h === p && n === q && (t || void 0 === g || void 0 === m || g >= m);}Object.defineProperty(b,"__esModule",{value:!0});b.eL=b.fL=b.FNb=b.$T=b.fU=void 0;l=a(2467);f=a(13329);k=a(56261);d=a(77878);b.fU=function(g,m,h,n){return c({ry:g.STb,kM:g.TTb,DM:g.UTb},{ry:m,kM:h,DM:n});};b.$T=function(g,m){return c({ry:g.Cm},{ry:m});};b.FNb=c;b.fL=function(){return {version:"6.0041.573.911",x7:!0,bL:!0,gka:"browser",qVa:["en-US"],Lpa:"",lS:"cadmium",Xdb:!0,K1:!0};};b.eL=function(){return {BE:(0,d.wh)([k.yd.eD,k.yd.fD]),xk:(0,d.wh)([].concat(ca(k.Kc.sY),ca(k.Kc.bY),ca(k.Kc.kaa))),Uq:(0,d.wh)([].concat(ca(k.Kc.aY))),Vl:f.$a.dQ,sy:(0,l.Hb)(31E3)};};},31367:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.UZa=b.TZa=b.VZa=void 0;c=a(77003);l=a(77828);b.VZa=function(f){return Object.assign(Object.assign({},(0,l.fL)()),{Dq:"O",Kn:f.R5?"NFCDOP-AP-":f.ZT?"NFCDOP-AT-":f.KL?"NFCDOP-PH-":"NFCDOP-01-",OA:"opera-cadmium"});};b.TZa=function(){return Object.assign(Object.assign({},(0,l.eL)()),{HK:!0,Zu:!0,VA:!0,dI:!0});};b.UZa=function(f){var k;k={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.xl.tI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= f.Cm && (k=Object.assign(Object.assign({},k),{enableVP9:!0}));return k;};},13711:function(r,b,a){var l,f,k,d,g,m;function c(h){var n;n=Object.assign(Object.assign({},(0,m.eL)()),{BE:(0,g.wh)([d.yd.eD,d.yd.fD,d.yd.Sw]),xk:(0,g.wh)([].concat(ca(d.Kc.sY),ca(d.Kc.bY),ca(d.Kc.vY),ca(d.Kc.wY),ca(d.Kc.tY),ca(d.Kc.uY),ca(d.Kc.mAa),ca(d.Kc.nAa),ca(d.Kc.oAa))),Uq:(0,g.wh)([].concat(ca(d.Kc.aY),ca(d.Kc.Waa),ca(d.Kc.Vaa))),Vl:k.$a.dib,sy:(0,l.Hb)(7E3),VE:[]});(0,m.$T)(h,14) && (n.VE=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.o_a=b.n_a=b.sZa=b.p_a=void 0;l=a(2467);f=a(77003);k=a(13329);d=a(56261);g=a(77878);m=a(77828);b.p_a=function(h){return Object.assign(Object.assign({},(0,m.fL)()),{Dq:"S",Kn:h.KL?"NFCDSF-PH-":"NFCDSF-01-",OA:"safari-cadmium"});};b.sZa=function(h){return Object.assign(Object.assign({},c(h)),{M$:!0,JK:!1,Lt:[d.vl.h0]});};b.n_a=c;b.o_a=function(h){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.xl.tw,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,m.$T)(h,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,m.fU)(h,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,m.fU)(h,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,m.fU)(h,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,m.fU)(h,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,m.$T)(h,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));(0,m.$T)(h,16) && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));return n;};},97546:function(r,b,a){var d,g,m,h,n,p,q,u;function c(){}function l(t){this.od=t;}function f(t){var w;w=g.qda.call(this) || this;t.KL?Object.assign(w,(0,u.sZa)(t)):t.X5?Object.assign(w,(0,q.hZa)(t)):t.Qoa?Object.assign(w,(0,p.TZa)()):t.hy || t.cU?Object.assign(w,(0,n.aZa)()):t.hU?Object.assign(w,(0,u.n_a)(t)):Object.assign(w,(0,h.MYa)(t));return w;}function k(t){this.data=t.X5?(0,q.jZa)(t):t.Qoa?(0,p.VZa)(t):t.hy || t.cU?(0,n.cZa)(t):t.hU?(0,u.p_a)(t):(0,h.OYa)(t);}Object.defineProperty(b,"__esModule",{value:!0});b.cAa=b.bAa=b.aAa=b.$za=void 0;r=a(70655);d=a(86700);g=a(62106);m=a(20642);h=a(69780);n=a(22861);p=a(31367);q=a(72545);u=a(13711);Xa.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},x7:{configurable:!0,enumerable:!0,get:function(){return this.data.x7;}},Dq:{configurable:!0,enumerable:!0,get:function(){return this.data.Dq;}},Kn:{configurable:!0,enumerable:!0,get:function(){return this.data.Kn;}},bL:{configurable:!0,enumerable:!0,get:function(){return this.data.bL;}},OA:{configurable:!0,enumerable:!0,get:function(){return this.data.OA;}},gka:{configurable:!0,enumerable:!0,get:function(){return this.data.gka;}},qVa:{configurable:!0,enumerable:!0,get:function(){return this.data.qVa;}},Lpa:{configurable:!0,enumerable:!0,get:function(){return this.data.Lpa;}},lS:{configurable:!0,enumerable:!0,get:function(){return this.data.lS;}},Xdb:{configurable:!0,enumerable:!0,get:function(){return this.data.Xdb;}},K1:{configurable:!0,enumerable:!0,get:function(){return this.data.K1;}}});a=k;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.YC))],a);b.$za=a;ea(f,g.qda);a=f;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.YC))],a);b.aAa=a;l.prototype.apply=function(){this.od.X5?Object.assign(this,(0,q.iZa)(this.od)):this.od.Qoa?Object.assign(this,(0,p.UZa)(this.od)):this.od.hy || this.od.cU?Object.assign(this,(0,n.bZa)(this.od)):this.od.hU?Object.assign(this,(0,u.o_a)(this.od)):Object.assign(this,(0,h.NYa)(this.od));return this;};a=l;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(m.YC))],a);b.bAa=a;c=r.__decorate([(0,d.T)()],c);b.cAa=c;},49054:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;r=a(86700);c=a(20642);l=a(811);f=a(65350);k=a(98757);d=a(92975);g=a(72186);m=a(97546);h=a(62298);b.platform=new r.ed(function(n){n(l.tn).to(m.$za).da();n(f.TI).to(m.aAa).da();n(k.mJa).to(m.bAa).da();n(l.x_).to(m.cAa).da();n(h.rda).Vd(function(p){return function(){var q;q=p.hb.get(c.YC);return q.hy || q.cU?{Vy:function(u,t,w){return new g.Bea(u,t,w);},request:d.BNa}:q.hU?{Vy:function(u,t,w){return new (a(4497))(u,t,w);},request:a(73475)}:{};};});});},25509:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vaa={Jqb:"adStart",lQa:"adProgress",tbc:"adComplete",Kqb:"adStop"};b.pya={oA:"adBreakComplete"};b.waa={error:"error",PDb:"exit",Zcb:"unload"};b.xya="AdImpressionLoggerrFactorySymbol";},1414:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cya="AdManagerFactorySymbol";},63033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DO="AdTrackerBaseSymbol";},27825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mya="AdFocusMonitorSymbol";},63406:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hza="BandwidthMeterFactorySymbol";},38246:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha,ta,Q,O,Z,oa,qa,Ha,Ya,Wa,rb,nb,Fb,Kb,Ta,$a,ib,mb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(86700);c=a(51017);l=a(53113);f=a(26277);k=a(63406);d=a(89491);g=a(56281);m=a(8715);h=a(9518);n=a(70858);p=a(17244);q=a(58998);u=a(78616);t=a(89542);w=a(71163);v=a(93091);y=a(21182);x=a(69444);z=a(2467);A=a(87933);B=a(81853);D=a(62155);C=a(45277);F=a(1265);G=a(35054);E=a(2408);J=a(74509);M=a(89682);L=a(50563);I=a(15303);P=a(4988);K=a(69447);H=a(64155);N=a(85643);R=a(53685);Y=a(17);ma=a(33769);ia=a(57046);ja=a(77003);Ca=a(67789);Ba=a(76330);Ka=a(1414);Va=a(95129);db=a(35664);W=a(82092);ha=a(25509);ta=a(22141);Q=a(16261);O=a(72170);Z=a(24016);oa=a(27825);qa=a(90657);Ha=a(79426);Ya=a(27334);Wa=a(65428);rb=a(37565);nb=a(17097);Fb=a(29219);Kb=a(63033);Ta=a(7353);$a=a(24104);ib=a(82503);mb=a(27138);b.j=new r.ed(function(pb){pb(K.Ada).to(H.HJa).da();pb(ia.dza).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb,Pb){return new (a(29471).wca)(Lb,Pb,Db.get(u.rw),Db.get(F.PY),Db.get(mb.Haa));};});pb(c.MMa).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac){return new (a(73198).z)(Db.get(A.RMa),Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac);};});pb(A.RMa).to(B.QMa).da();pb(l.PMa).to(f.OMa).da();pb(m.CJa).to(h.BJa).da();pb(O.ALa).to(Z.zLa).da();pb(Y.WKa).to(ma.VKa);pb(Y.UKa).rcb(Y.WKa);pb(g.MBa).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb){return new (a(16994).Jba)(Db.get(F.LBa),Db.get(u.rw),Db.get(q.Jc),Lb);};});pb(k.Hza).Vd(function(){return function(Bb){return new d.Iza(Bb);};});pb(Ca.Dda).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb){return new Ba.NJa(Lb,Db.get(w.Xa),Db.get(t.Wf));};});pb(ha.xya).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb){return new ta.yya(Lb,Db.get(w.Xa).Ua("AdImpressionLogger"),Db.get(db.gg),Db.get(p.ac),Db.get(q.Jc),Db.get(W.uaa),Db.get(W.taa));};});pb(oa.Mya).to(qa.Lya);pb(Kb.DO).to(rb.Eya);pb(Kb.DO).to(Fb.Jya);pb(Kb.DO).to(Ta.Nya);pb(Kb.DO).to(nb.Oya);pb(Ka.Cya).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb,Pb){return new Va.Dya(Lb,Pb,Db.get(w.Xa).Ua("AdManager"),Db.get(p.ac),Db.get(O.ALa),Db.getAll(Kb.DO),Db.get(ha.xya),function(Xb){return new Q.Bya(Xb);},Db.get(oa.Mya));};});pb(v.uJa).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb){return new n.vJa(Lb,Db.get(w.Xa),Db.get(p.ac),Db.get(t.Wf),Db.get(u.rw),Db.get(Ca.Dda));};});pb(Ha.uFa).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb,Pb){return new Ya.vFa(Db.get(p.ac),Db.get($a.wFa),Db.get(Wa.Ci),Db.get(w.Xa),Db.get(J.Nz),Lb,Pb);};});pb($a.wFa).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb){return new ib.xFa(Db.get(p.ac),Db.get(w.Xa),Db.get(J.Nz),Lb);};});pb(y.Cda).Vd(function(Bb){var Db;Db=Bb.hb;return function(Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac,Pc,Yd){return new x.JJa(Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac,Db.get(v.uJa),Db.get(K.Ada),Db.get(Ha.uFa),Pc,Yd);};});pb(D.uLa).Vd(function(Bb){return function(Db){var Lb,Pb;Lb=Bb.hb.get(p.ac);Pb=Bb.hb.get(w.Xa);return new C.vLa(Lb,Db,Pb);};});pb(G.EJa).Vd(function(Bb){return function(Db){var Lb,Pb,Xb,Ib,Ob;Lb=Bb.hb.get(I.vw);Pb=Bb.hb.get(J.Nz);Xb=Bb.hb.get(M.jh);Ib=Bb.hb.get(L.VP);Ob=Bb.hb.get(ja.uw);return new E.FJa(Db,Lb,Pb((0,z.xh)(1)),Xb,Ib,Ob);};});pb(P.Lca).LC(function(Bb){return new (a(68872).cHa)(Bb.hb.get(N.GP),Bb.hb.get(R.nn));}).da();});},56281:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MBa="DiagnosticsFactorySymbol";},79426:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lr={UP:"START_SLATE",jca:"LIVE_EVENT",Aba:"END_SLATE"};b.uFa="LivePlaybackManagerFactorySymbol";},24104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wFa="LivePlaybackRateControllerFactorySymbol";},53073:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},4988:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lca="MilestonesEventBuilderSymbol";},93091:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uJa="PlayTimeTrackerFactorySymbol";},8715:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CJa="PlaybackFactorySymbol";},35054:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EJa="PlaybackInfoPanelFactorySymbol";},69447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ada="PlaybackMilestoneStoreSymbol";},21182:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cda="PlaybackSegmentDataFactorySymbol";},67789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dda="PlayedSegmentsTrackerFactorySymbol";},17:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WKa="RepositionTraceSymbol";b.UKa="RepositionTraceFactorySymbol";},62155:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uLa="SeekManagerFactorySymbol";},72170:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ALa="SegmentDroppedLoggerSymbol";},84506:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fo=void 0;r=b.Fo || (b.Fo={});r[r.o_=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.lD=2]="LOADED";r[r.qP=3]="LOAD_FAILED";r[r.SHa=4]="PARSE_FAILED";},51017:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MMa="TrickPlayFactorySymbol";},53113:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PMa="TrickPlayManagerSymbol";},87933:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RMa="TrickPlayParserSymbol";},22141:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t,w,v){this.context=n;this.log=p;this.qa=q;this.config=u;this.Ea=t;this.Hqb=w;this.Aqb=v;this.qva={};}Object.defineProperty(b,"__esModule",{value:!0});b.yya=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(35664);d=a(2467);g=a(17244);m=a(82092);h=a(25509);c.prototype.n_b=function(n,p){var q,u,t;q=this;u=n.event;if(Object.values(h.pya).includes(u)){t=p.ey?p.ey.ba(d.na):-1;n={href:p.W.ji.lL("events").href,ma:this.context.ma.toString(),event:u,Lu:n.Lu,uE:n.uE,position:n.th.offset.G,dm:t,Iv:{},yx:this.qa.uH.ba(d.na),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id};this.Aqb.Bf(this.log,n).catch(function(w){q.log.error("Failed to send event",{eventKey:u,xid:p.ma,error:w});});}else this.log.debug("Ignoring unsupported event " + n.event);};c.prototype.o_b=function(n,p,q){var u,t,w;u=this;t=n.event;if(Object.values(h.vaa).includes(t)){w=n.W.links.events.href;this.qva[n.dm] || (this.qva[n.dm]=this.qa.wrb((0,d.Hb)(n.dm)).ba(d.na));n={href:w,ma:this.context.ma.toString(),event:t,Lu:n.Lu,uE:n.uE,position:n.th.offset.G,dm:this.qva[n.dm],Iv:n.Iv,yx:this.qa.uH.ba(d.na),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id,yPb:p,g3b:null !== q && void 0 !== q?q:void 0};this.Hqb.Bf(this.log,n).catch(function(v){u.log.error("Failed to send event",{eventKey:t,xid:u.context.ma,error:v});});}else this.log.debug("Ignoring unsupported event " + n.event);};a=c;a=r.__decorate([r.__param(2,(0,l.l)(k.gg)),r.__param(3,(0,l.l)(g.ac)),r.__param(4,(0,l.l)(f.Jc)),r.__param(5,(0,l.l)(m.uaa)),r.__param(6,(0,l.l)(m.taa))],a);b.yya=a;},16261:function(r,b){function a(p){this.ff=p;}function c(p){this.padding=p;}function l(p){this.RJ=p;}function f(p){this.th=p;}function k(p){this.H8=p;}function d(p){this.Zsa=p;}function g(p){this.Ysa=p;}function m(p){this.QJ=p;}function h(p){this.Gy=p;}function n(p){this.Sc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.sfb=b.elb=b.rfb=b.jib=b.olb=b.plb=b.nlb=b.qfb=b.mlb=b.Bya=void 0;n.prototype.getPresentingAdBreak=function(){var p;p=this.Sc.qL();if(p)return new h(p);};n.prototype.getAds=function(){return this.Sc.Yla();};n.prototype.getLogInfo=function(){return this.Sc.eIb();};b.Bya=n;Xa.Object.defineProperties(h.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new m(this.Gy.Rc);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Gy.pA;if(p)return new g(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Gy.M6a;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new k(this.Gy.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new f(this.Gy.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Gy.index;}}});b.mlb=h;Xa.Object.defineProperties(m.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.QJ.RJ);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.QJ.d$);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.QJ.BS);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.QJ.PKb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.QJ.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.QJ.h8.G};}}});b.qfb=m;Xa.Object.defineProperties(g.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.Ysa.ff);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.Ysa.lQa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.Ysa.index;}}});b.nlb=g;Xa.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.Zsa.gsa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Zsa.hUb;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Zsa.h8.G};}}});b.plb=d;Xa.Object.defineProperties(k.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.H8.Dqb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.H8.Bqb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.H8.Fqb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.H8.Eqb.G};}}});b.olb=k;Xa.Object.defineProperties(f.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.th.I;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.th.offset.G};}}});b.jib=f;Xa.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.RJ.Ze.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.RJ.duration.G};}}});b.rfb=l;Xa.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.elb=c;Xa.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.ff.Mq;}},id:{configurable:!0,enumerable:!0,get:function(){return this.ff.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.ff.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.ff.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.ff.Xs;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.ff.VN;}}});b.sfb=a;},95129:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u,t,w,v,y){var x;x=this;this.Za=h;this.j=n;this.log=p;this.config=q;this.$Zb=u;this.$bb=t;this.Dl=new l.Ib(!1);this.Eb=new g.Tj();this.WRa=!1;this.mV=function(){x.WRa=!0;m.he.removeListener(m.Nk,x.mV);};this.kDb=v(this);h=h.On();this.Ou=w({ma:n.ma.toString()});w=null === h || void 0 === h?void 0:h.t7a.events;null === w || void 0 === w?void 0:w.addListener("adPresenting",function(){!1;x.nXa();});null === w || void 0 === w?void 0:w.addListener("adBreakPresenting",function(){!1;y.mM(n);x.Dl.set(!0);});null === w || void 0 === w?void 0:w.addListener("adBreakEnded",function(){!1;x.Dl.set(!1);});null === w || void 0 === w?void 0:w.addListener("adPlaygraphUpdated",function(){!1;});null === w || void 0 === w?void 0:w.addListener("segmentDropped",function(z){var A;!1;A=x.j.fi(z.segmentId);x.$Zb.NWb(z,A);});this.Hp=new k.A_();this.j.addEventListener("playbackStart",function(){x.Hp.resolve();});w=null === h || void 0 === h?void 0:h.coa.events;null === w || void 0 === w?void 0:w.addListener("adEvent",function(z){x.Hp.promise.then(function(){var A,B,D;z.event === f.vaa.Jqb && z.Xs && x.$bb.forEach(function(C){return C.start(x.j);});B=null === (A=n.W) || void 0 === A?void 0:A.Fa.Df;A=x.OJb(z);if(z.event === f.vaa.Kqb && A){D=x.WRa?f.waa.Zcb:n.rh?f.waa.error:f.waa.PDb;A=Object.assign(Object.assign({},A),{reason:D});}x.Ou.o_b(z,B,A);});});m.he.addListener(m.Nk,this.mV);null === w || void 0 === w?void 0:w.addListener("adBreakEvent",function(z){z.event === f.pya.oA && x.Eb.Dc(d.hY.oA);x.Hp.promise.then(function(){x.Ou.n_b(z,n);});});}Object.defineProperty(b,"__esModule",{value:!0});b.Dya=void 0;l=a(14414);f=a(25509);k=a(86684);d=a(34202);g=a(59883);m=a(25892);c.prototype.addEventListener=function(h,n,p){this.Eb.addListener(h,n,p);};c.prototype.removeEventListener=function(h,n){this.Eb.removeListener(h,n);};c.prototype.qL=function(){var h,n;return null === (n=null === (h=this.Za) || void 0 === h?void 0:h.On()) || void 0 === n?void 0:n.MM.Gy;};c.prototype.eIb=function(){var h,n,p,q;p=this.qL();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.G,adDuration:null === (h=null === p || void 0 === p?void 0:p.pA) || void 0 === h?void 0:h.ff.endTime.G,adIndex:null === (n=p.pA) || void 0 === n?void 0:n.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Rc.duration.G};(h=p.M6a) && (q.padding={type:h.gsa,duration:h.h8.G});return q;}};c.prototype.Yla=function(){var h,n,p,q,u;q=this.j.aa.O.toString();u=null === (n=null === (h=this.Za) || void 0 === h?void 0:h.On()) || void 0 === n?void 0:n.t7a.Yla({oeb:[q]});return null !== (p=null === u || void 0 === u?void 0:u.result[q]) && void 0 !== p?p:[];};c.prototype.nXa=function(){};c.prototype.OJb=function(h){var n;if(h.Xs){n=this.$bb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.b5(h));},{});return Object.assign(Object.assign({},n),{thirdPartyVerificationToken:h.VN});}};b.Dya=c;},37565:function(r,b,a){var l,f,k,d,g;function c(m,h){var n;n=g.yk.call(this) || this;n.Ea=m;n.paused=!1;n.yq=function(){var p,q,u;u=n.Sc.qL();n.Sc.Dl.value && null !== (p=null === u || void 0 === u?void 0:u.pA) && void 0 !== p && p.ff.Xs?(p=null === (q=u.pA) || void 0 === q?void 0:q.ff.id,q=n.paused,n.paused=n.j.paused.value,q !== n.paused && (n.paused?(n.l8=n.Ea.Fb(),n.lR=u.position.offset.G,n.la.debug("Ad " + p + " paused at " + n.lR + " ms into the ad")):void 0 !== n.l8 && void 0 !== n.lR && (u=n.Ea.Fb().wa(n.l8).ba(d.na),n.la.debug("Ad " + p + " resumed. Pause duration: " + u),n.trace.push([n.lR,u]),n.lR=void 0,n.l8=void 0))):n.unsubscribe();};n.la=h.Ua("AdPauseStateTracker");return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(71163);d=a(2467);g=a(14225);ea(c,g.yk);c.prototype.start=function(m){g.yk.prototype.start.call(this,m);this.sv || (this.j.paused.addListener(this.yq),this.sv=!0);};c.prototype.b5=function(){return {pauseTrace:this.trace};};c.prototype.pW=function(){this.lR=void 0;this.paused=this.j.paused.value;this.l8=void 0;this.trace=[];};c.prototype.unsubscribe=function(){g.yk.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.yq);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(k.Xa))],a);b.Eya=a;},29219:function(r,b,a){var l,f,k,d,g;function c(m,h){var n;n=g.yk.call(this) || this;n.Nja=h;n.cZb=function(){0 === n.trace.length?n.yq():n.Xka.Zi(function(){n.yq();});};n.yq=function(){var p,q,u,t;q=n.Sc.qL();if(n.Sc.Dl.value && null !== (p=null === q || void 0 === q?void 0:q.pA) && void 0 !== p && p.ff.Xs){(p=n.trace[n.trace.length - 1]) && p[0] === q.position.offset.G && n.trace.pop();p=n.trace[n.trace.length - 1];u=n.j.pk.getBoundingClientRect();t=u.height;u=u.width;0 < t && 0 < u && (!p || p[1] !== u || p[2] !== t) && n.trace.push([q.position.offset.G,u,t]);}else n.unsubscribe();};n.la=m.Ua("AdResizeTracker");n.Xka=h((0,d.xh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Jya=void 0;r=a(70655);l=a(86700);f=a(40781);k=a(71163);d=a(2467);g=a(14225);ea(c,g.yk);c.prototype.start=function(m){g.yk.prototype.start.call(this,m);this.sv || (this.$5a=new ResizeObserver(this.cZb),this.$5a.observe(this.j.pk),this.sv=!0);};c.prototype.b5=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.pW=function(){this.trace=[];};c.prototype.unsubscribe=function(){var m;g.yk.prototype.unsubscribe.call(this);null === (m=this.$5a) || void 0 === m?void 0:m.disconnect();};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(f.OY))],a);b.Jya=a;},14225:function(r,b){function a(){var c;c=this;this.sv=!1;this.trace=[];this.f3=function(){c.Xka.Zi(function(){c.yq();});};}Object.defineProperty(b,"__esModule",{value:!0});b.yk=void 0;a.prototype.start=function(c){var l;l=this;this.j=c;this.Sc=this.j.On();this.sv || (this.Sc.Dl.addListener(this.yq),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.pW();};a.prototype.unsubscribe=function(){this.Sc.Dl.removeListener(this.yq);this.sv=!1;this.pW();};b.yk=a;},90657:function(r,b,a){var l,f;function c(k){var d;d=this;this.NE=function(){var g,m,h;m=!document.hidden;h=null === (g=d.j.On()) || void 0 === g?void 0:g.Dl.value;g=d.j.paused.value;m || !h || g || (d.la.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{rM:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.NE);d.j.On().Dl.removeListener(d.NE);d.j.paused.removeListener(d.NE);};this.la=k.Ua("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.Lya=void 0;r=a(70655);l=a(86700);a=a(71163);c.prototype.mM=function(k){this.rRb || (this.la.debug("Starting to monitor playback for visibility"),this.j=k,this.rRb=!0,document.addEventListener("visibilitychange",this.NE),this.j.On().Dl.addListener(this.NE),this.j.paused.addListener(this.NE),this.j.addEventListener("closing",this.unsubscribe),this.NE());};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],f);b.Lya=f;},7353:function(r,b,a){var l,f,k;function c(d){var g;g=k.yk.call(this) || this;g.rqa=0;g.TUa=[0];g.tG=[0];g.visibility=0;g.yq=function(){var m,h;h=g.Sc.qL();g.Sc.Dl.value && null !== (m=null === h || void 0 === h?void 0:h.pA) && void 0 !== m && m.ff.Xs?(m=g.visibility,g.visibility=document.hidden?0:1,m !== g.visibility && (1 === g.visibility?(g.rqa=g.visibility,g.V6=h.position.offset.G):(h=h.position.offset.G - (g.V6 || 0),h > g.tG[0] && (g.tG[0]=h),g.V6=void 0))):g.unsubscribe();};g.la=d.Ua("AdVisibilityTracker");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(14225);ea(c,k.yk);c.prototype.start=function(d){k.yk.prototype.start.call(this,d);this.sv || (document.addEventListener("visibilitychange",this.yq),this.sv=!0);};c.prototype.b5=function(d){var g,m,h;m=this.j.pk.getBoundingClientRect();h=m.height;m=m.width;"adStart" === d.event && (h=0 === h?document.documentElement.clientHeight:h,m=0 === m?document.documentElement.clientWidth:m);d=d.th.offset.G - (null !== (g=this.V6) && void 0 !== g?g:0);d > this.tG[0] && (this.tG[0]=d);g=document.fullscreenElement?!0:screen.height === qb.outerHeight && screen.width === qb.outerWidth;this.TUa=this.tG;return {cumulativeTimeByVisibilityMs:this.TUa,maxContinuousTimeByVisibilityMs:this.tG,visibility:this.visibility,maxVisibility:this.rqa,screenHeight:screen.height,screenWidth:screen.width,adHeight:h,adWidth:m,fullScreen:g};};c.prototype.pW=function(){this.V6=void 0;this.tG=[0];this.rqa=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){k.yk.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.yq);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa))],a);b.Nya=a;},17097:function(r,b,a){var l,f,k,d,g;function c(m,h){var n;n=g.yk.call(this) || this;n.Cf=m;n.Nja=h;n.yq=function(){var p,q;q=n.Sc.qL();n.Sc.Dl.value && null !== (p=null === q || void 0 === q?void 0:q.pA) && void 0 !== p && p.ff.Xs?(p=n.trace[n.trace.length - 1],q=q.position.offset.G,p && p[0] === q && n.trace.pop(),(p=n.trace[n.trace.length - 1]) && p[1] === n.j.Kja || n.trace.push([q,n.j.Kja])):n.unsubscribe();};n.la=m.Ua("AdVolumeTracker");n.Xka=h((0,d.xh)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.Oya=void 0;r=a(70655);l=a(86700);f=a(40781);k=a(71163);d=a(2467);g=a(14225);ea(c,g.yk);c.prototype.start=function(m){g.yk.prototype.start.call(this,m);this.sv || (this.j.volume.addListener(this.f3),this.j.muted.addListener(this.f3),this.sv=!0);};c.prototype.b5=function(){return {volumeChangeTrace:this.trace,volume:this.j.Kja};};c.prototype.pW=function(){this.trace=[];};c.prototype.unsubscribe=function(){g.yk.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.f3);this.j.muted.removeListener(this.f3);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(f.OY))],a);b.Oya=a;},89491:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Iza=void 0;a.prototype.xdb=function(){var c;c=this.j.Za;if(null !== c && void 0 !== c && c.Xw){c=c.Ic.get();if(null === c || void 0 === c?0:c.cl)this.j.cl=c.cl.Da;if(null === c || void 0 === c?0:c.qb)this.j.qb=c.qb.Da;}};a.prototype.Vm=function(){-1 === this.j.qb && this.xdb();return this.j.qb;};a.prototype.zub=function(c){-1 !== this.j.cl && -1 !== this.j.qb || this.xdb();return -1 === this.j.cl || -1 === this.j.qb?Number.MAX_VALUE:this.j.cl + 8 * c / this.j.qb;};b.Iza=a;},49007:function(r,b,a){var f,k,d,g,m,h,n,p;function c(q){this.j=q;this.d3a=!1;this.log=(0,k.Ih)(this.j,"Playback");this.XL=k.za.get(n.rP);(0,d.oa)(f.config);f.config.Dr || (this.XBb=k.za.get(g.UBa));}function l(q,u){var w;function t(v){return v && 0 < v.length && v[0].pG;}w=k.za.get(n.rP);return q.ma && t(q.ie)?w.release({ma:q.ma,ie:q.ie}).then(function(){}):u.ma && t(u.ie)?w.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.My=b.eBa=void 0;f=a(37986);k=a(89082);d=a(70633);g=a(69557);m=a(3971);h=a(95919);n=a(84036);p=a(34202);c.prototype.IF=function(q){var u;u=this;return new Promise(function(t,w){var v,y,x;v=m.om.hUa(q.pf);y=q.tj.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,k.qx)(z.data)};});x=u.j.QIb(q.tj[0].sessionId);u.XL.Ku({Df:x.Df,pf:h.is.ym(q.pf)?q.pf:v,C3:[x.Kk],tj:y,ma:x.ma,Nm:q.Nm,ji:x.W.ji,eg:x.W.Fa.eg}).then(function(z){u.j.ie=z.ie;t(z);u.YEb(x);}).catch(w);});};c.prototype.release=function(q){return l(this.j,q);};c.prototype.oUa=function(){var q;q=this.XBb.create();q.ie=this.j.ie;q.ma=this.j.ma;q.O=this.j.O;return q;};c.prototype.YEb=function(q){this.d3a || (this.d3a=!0,this.j.fireEvent(p.ea.tU,{O:q.O}));};b.eBa=c;b.My=l;},16994:function(r,b,a){var l;function c(f,k,d,g){this.hka=f;this.debug=k;this.Ea=d;this.j=g;this.i8=[];this.u7={};this.ika={};this.yla=!1;this.Ubb=1;this.Dza=7.8125;}b.Jba=void 0;l=a(2467);a(34202);a(95919);a(89927);c.prototype.register=function(f,k){this.debug.assert(!(0 <= this.i8.indexOf(f)),"panel already registered");this.u7[f]=k;this.i8.push(f);};c.prototype.P5a=function(f){var k;k=this;this.ika[f]=!0;this.yla || (this.yla=!0,setTimeout(function(){return k.aFb();},0));};c.prototype.sIb=function(f){return (f=this.u7[f])?f():void 0;};c.prototype.iT=function(){var f;f=this.j.q8;return f?f.iT():[];};c.prototype.addEventListener=function(f,k){this.hka.addListener(f,k);this.u7[f] && this.P5a(f);};c.prototype.removeEventListener=function(f,k){this.hka.removeListener(f,k);};c.prototype.getTime=function(){return this.Ea.Fb().ba(l.na);};c.prototype.aFb=function(){this.yla=!1;for(var f=this.i8.length,k;f--;){k=this.i8[f];this.ika[k] && (this.ika[k]=!1,this.hka.Dc(k + "changed",{getModel:this.u7[k]}));}};b.Jba=c;},27334:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u,t,w){var v,y,x,z;v=this;this.config=h;this.wc=p;this.u=t;this.j=w;this.GL=new m.Ib(!1);this.yha=new m.Ib(!1);this.Nl=this.xj=void 0;this.Ova=!1;this.uF=void 0;this.log=q.Ua("LivePlaybackManager");this.t$=u((0,l.Hb)(this.config().tFb));this.uF=this.config().pFb;y=this.config().O1b;x=this.config().UOb;this.Ova=(0,k.tb)(y) && (0,k.tb)(x);null === w || void 0 === w?void 0:w.addEventListener(d.ea.Wk,function(){var A;if(v.ia && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on playbackReady"),v.config().KCb && (v.p7a=n(function(B){(0,f.oa)(v.ia && v.j && v.j.aa === v.u,"Unexpected playback segment on playback rate update");v.u.playbackRate.value !== B && (v.u.playbackRate.set(B),v.j.fireEvent(d.ea.PB));})),v.Ova)){A=v.Os();z=v.wc.uN((0,l.Hb)(500),function(){var B,D,C,F;B=v.Os();C=A + y;B >= C - 500 && (D=v.rja(C));C=A + y + x;if(B >= C - 500){F=v.rja(C);null === z || void 0 === z?void 0:z.cancel();}v.vva(D,F,!0);});}});null === w || void 0 === w?void 0:w.addEventListener(d.ea.tg,function(){var A;v.ia && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on closing"),v.p7a=void 0,null === (A=v.uU) || void 0 === A?void 0:A.cancel(),v.uU=void 0,null === z || void 0 === z?void 0:z.cancel());});null === w || void 0 === w?void 0:w.addEventListener(d.ea.wC,function(A){v.ia && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on repositioning"),A.cc !== d.Zc.Kr && v.GL.set(A.cc === d.Zc.pP && !v.X1a()));});null === w || void 0 === w?void 0:w.addEventListener(d.ea.Vdb,function(){v.ia && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on userInitiatedPause"),v.GL.set(!1));});null === w || void 0 === w?void 0:w.background.addListener(function(){var A;v.ia && ((0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on background update"),!v.j.background.value && v.HT() && void 0 === v.uF && (v.b6()?null === (A=v.j.je) || void 0 === A?void 0:A.seek(v.xj,d.Zc.Nw):v.B9()));});this.u.mediaTime.addListener(function(A){var B,D,C,F;if(v.ia){(0,f.oa)(v.j && v.j.aa === v.u,"Unexpected playback segment on mediaTime update");C=v.j;v.y2();F=v.iB(A.oldValue);A=v.iB(A.newValue);F !== A && (!1,C.fireEvent(d.ea.PB));v.j.vi.value && v.sFb();v.b6()?(null === (B=v.uU) || void 0 === B?void 0:B.cancel(),v.uU=void 0):v.uU || (v.uU=v.wc.uN((0,l.Hb)(1E3),function(){v.y2();C.fireEvent(d.ea.PB);}));null === (D=v.p7a) || void 0 === D?void 0:D.kO(v.j.vi.value && v.HT(),v.u.mediaTime.value,v.Os());}});this.GL.addListener(function(){(0,f.oa)(v.ia,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.ia);(0,f.oa)(v.j && v.j.aa === v.u,"Playback is required for live.");v.y2();});this.yha.addListener(function(){(0,f.oa)(v.ia,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + v.ia);(0,f.oa)(v.j && v.j.aa === v.u,"Playback is required for live.");!1;v.j.fireEvent(d.ea.PB);});}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;l=a(2467);f=a(70633);k=a(95919);d=a(34202);g=a(79426);m=a(14414);c.prototype.O0b=function(){var h,n,p;(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return null !== (p=null === (n=null === (h=this.u.W) || void 0 === h?void 0:h.Fa.Aj) || void 0 === n?void 0:n.yBb) && void 0 !== p?p:!1;};c.prototype.EWb=function(){var h;(0,f.oa)(this.ia,"Unexpected call to processManifest(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.oa)(null === (h=this.u.W) || void 0 === h?void 0:h.Fa.Aj,"Live manifest is unavailable.");h=this.u.W.Fa.Aj;this.vva(h.ala,h.U3);h=this.config().rFb;void 0 !== h && void 0 !== this.xj && (this.uF=this.xj + h);};c.prototype.vva=function(h,n,p){var q,u,t,w,v;(0,f.oa)(this.ia,"Unexpected call to setLiveEventTimes(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");if(!this.Ova || p){p=this.j;t=this.xj;w=this.Nl;v=null !== (q=this.gUa(h)) && void 0 !== q?q:t;q=null !== (u=this.gUa(n)) && void 0 !== u?u:w;if(void 0 === v && void 0 === q || void 0 !== v && 0 <= v && void 0 === q || void 0 !== v && 0 <= v && void 0 !== q && q > v){if((this.xj=v,this.Nl=q,t !== this.xj || w !== this.Nl))(!1,p.fireEvent(d.ea.PB));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (h + ", startPts:") + (v + ", endTime:") + (n + ", endPts:") + q);}};c.prototype.vHb=function(){var h;(0,f.oa)(this.ia,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.u.mediaTime.value;if(void 0 !== h)return this.rja(h);};c.prototype.d5=function(){var h;(0,f.oa)(this.ia,"Unexpected call to getUIAdjustedTime(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.u.mediaTime.value;if(void 0 !== h)switch(this.iB(h)){case g.Lr.UP:return 0;case g.Lr.jca:return ((0,f.oa)(void 0 !== this.xj,"eventStartPts should be defined in LIVE_EVENT slate."),h - this.xj);case g.Lr.Aba:return ((0,f.oa)(void 0 !== this.xj && void 0 !== this.Nl,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Nl - this.xj);}};c.prototype.S9a=function(h){var n,p;(0,f.oa)(this.ia,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return void 0 === this.xj?null !== (p=null !== (n=this.Os()) && void 0 !== n?n:this.u.mediaTime.value) && void 0 !== p?p:h:this.xj + h;};c.prototype.j2a=function(h){var n;(0,f.oa)(this.ia,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");n=this.Os();return void 0 !== n && h >= n - this.config().KOb;};c.prototype.Fma=function(h,n){var p,q;(0,f.oa)(this.ia,"Unexpected call to getLiveBookmark(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");if(void 0 !== this.uF)return {Gl:this.uF,lC:Number.MAX_SAFE_INTEGER,pVa:this.uF};n || void 0 === this.xj || void 0 === this.Nl && 0 === h?(this.GL.set(!0),h=36E7):(h=this.xj + h,void 0 !== this.Nl && h > this.Nl && (h=this.xj));return {Gl:h,lC:null !== (p=this.Nl) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,pVa:null !== (q=this.xj) && void 0 !== q?q:36E7};};c.prototype.DZa=function(){var h;(0,f.oa)(this.ia,"Unexpected call to getLiveContentDuration(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.CB()?this.u.mediaTime.value:this.Os();h=void 0 !== this.Nl && void 0 !== h?Math.min(this.Nl,h):h;h=void 0 !== h && void 0 !== this.xj?h - this.xj:0;!1;return h;};c.prototype.lIb=function(){var h;(0,f.oa)(this.ia,"Unexpected call to getMaxSeekPts(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.Os();h=void 0 !== this.Nl && void 0 !== h?Math.min(this.Nl,h):h;!1;return null !== h && void 0 !== h?h:0;};c.prototype.Os=function(){var h,n;(0,f.oa)(this.ia,"Unexpected call to getLiveEdge(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return null === (n=null === (h=this.j.Za) || void 0 === h?void 0:h.hB(this.u.I)) || void 0 === n?void 0:n.G;};c.prototype.B9=function(){var h;(0,f.oa)(this.ia,"Unexpected call to seekToLiveEdge(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");this.GL.set(!this.X1a());if(this.j.je){h=this.Os();void 0 !== h?this.j.je.seek(h,d.Zc.pP,this.u.I):!1;}else this.u.Gl=this.Fma(0,!0).Gl;};c.prototype.CB=function(){(0,f.oa)(this.ia,"Unexpected call to isAtLiveEdge(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");this.y2();return this.yha.value;};c.prototype.HT=function(){(0,f.oa)(this.ia,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.GL.value;};c.prototype.iB=function(h){var n,p,q;(0,f.oa)(this.ia,"Unexpected call to getLiveEventState(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");h=null !== (n=null !== h && void 0 !== h?h:this.u.mediaTime.value) && void 0 !== n?n:0;n=null !== (p=this.xj) && void 0 !== p?p:Infinity;p=null !== (q=this.Nl) && void 0 !== q?q:Infinity;return h < n?g.Lr.UP:h > p?g.Lr.Aba:g.Lr.jca;};c.prototype.b6=function(){var h;(0,f.oa)(this.ia,"Unexpected call to isLiveEventEnded(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.Os();return void 0 !== this.Nl && void 0 !== h && this.Nl < h;};c.prototype.X1a=function(){var h;(0,f.oa)(this.ia,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.j.paused.value && !(null === (h=this.j.paused.Hh) || void 0 === h?0:h.rM);};c.prototype.sFb=function(){var h;h=this;this.wab()?this.t$.Zi(function(){h.wab() && h.B9();}):this.t$.wg();};c.prototype.wab=function(){return this.iB() === g.Lr.UP && !this.CB() && void 0 === this.uF;};c.prototype.y2=function(){var h;(0,f.oa)(this.ia,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");this.yha.set(this.HT() && this.j2a(null !== (h=this.u.mediaTime.value) && void 0 !== h?h:0));};c.prototype.rja=function(h){var n,p;(0,f.oa)(this.ia,"Unexpected call to convertPtsToEventTime(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.oa)(null === (n=this.u.W) || void 0 === n?void 0:n.Fa.Aj,"Live manifest is unavailable.");n=this.u.W.Fa.Aj;p=new Date(n.eva[n.oka[this.u.W.Fa.St[0].streams[0].Mm]].l2).getTime();return new Date(p - n.T3 + h).toISOString();};c.prototype.gUa=function(h){var n,p,q;(0,f.oa)(this.ia,"Unexpected call to convertEventTimeToPts(). isLive:" + this.ia);(0,f.oa)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.oa)(null === (n=this.u.W) || void 0 === n?void 0:n.Fa.Aj,"Live manifest is unavailable.");if(h){n=this.u.W.Fa.Aj;p=n.eva[n.oka[this.u.W.Fa.St[0].streams[0].Mm]];q=new Date(h).getTime() + n.T3 - new Date(p.l2).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (h + ", eventAvailabilityOffsetMs:") + (n.T3 + ", availabilityStartTime:") + p.l2);else return q;}};Xa.Object.defineProperties(c.prototype,{ia:{configurable:!0,enumerable:!0,get:function(){var h,n;h=this.u;n=h.W;return n?(h=n.Fa,n=h.Aj,"LIVE" === h.eg && !!n):"live" === h.xd;}}});b.vFa=c;},82503:function(r,b,a){var l,f;function c(k,d,g,m){this.config=k;this.O9=m;this.log=d.Ua("LivePlaybackRateController");this.t$=g((0,l.Hb)(this.config().POb));}Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;l=a(2467);f=a(19591);c.prototype.kO=function(k,d,g){var m,h;m=this;if(!k || void 0 === d || void 0 === g || Math.abs(d - g) < this.config().QOb)h=1;else (k=g - d,k=1 + this.config().OOb / 1E3 * k,h=(0,f.Jw)(k,this.config().SOb,this.config().ROb));this.t$.Zi(function(){!1;m.O9(h);});};b.xFa=c;},6686:function(r,b,a){var d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L;function c(){this.A$=[];this.M3b=50;}function l(I){var P;P=this;this.j=I;this.veb=Promise.resolve();this.uCa=qb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.nE=[];this.Wj=new h.Tj();this.UNa=0;this.q0=[];this.Di=(0,q.Ih)(this.j,"MediaElementASE");this.APa=g.Iw;this.Yea=!1;this.Sb=new c();this.Cn={};this.nOa={};this.E4=this.r0(function(){var K;if(P.$)return null !== (K=P.$.webkitDecodedFrameCount) && void 0 !== K?K:0;});this.mv=this.r0(function(){var K;if(P.$){K=P.qfa();return K?K.totalVideoFrames:P.$.webkitDecodedFrameCount;}});this.DF=this.r0(function(){var K;if(P.$){K=P.qfa();return K?K.droppedVideoFrames:P.$.webkitDroppedFrameCount;}});this.eT=this.r0(function(){var K;if(P.$){K=P.qfa();return K && K.corruptedVideoFrames;}});this.IOa=function(K){!1;P.Wj.Dc(D.fj.c3a,{J:K});};this.Qk=q.za.get(B.qFa).create(m.config.Dr,this,this.j);m.config.NB && (this.veb=new Promise(function(K){P.APa=K;P.j.addEventListener(G.ea.tg,K);}));this.Di.trace("Created Media Element");this.addEventListener=this.Wj.addListener;this.removeEventListener=this.Wj.removeListener;}function f(I){var P,K;P=q.za.get(C.ANa).fJb();I=I.width / I.height * P.height;K=(P.width - I) / 2;return m.config.t0b?(0,p.createElement)("VIDEO","position:absolute;width:" + I + "px;height:" + P.height + "px;left:" + K + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function k(I){I.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.GGa=void 0;d=a(31978);g=a(7942);m=a(37986);h=a(59883);n=a(25892);p=a(24133);q=a(89082);u=a(68172);t=a(70633);w=a(19591);v=a(81291);y=a(30818);x=a(25420);z=a(50876);A=a(95919);B=a(55463);D=a(99230);C=a(80911);F=a(2467);G=a(34202);E=a(3971);J=a(85060);M=a(18920);L=!!(z.Ez && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.gL=function(I){try{this.$ && (this.UNa=this.$.currentTime);}catch(P){this.Di.error("Exception while getting VIDEO.currentTime",P);I && this.oQ(u.U.Vkb,P);}return (0,z.qn)(this.UNa * g.Mr);};l.prototype.seek=function(I){var P;(0,t.oa)(!this.So);this.sPa();P=this.gL(!0);if(!m.config.Jrb && (0,z.f_)(P - I) <= this.p$a)(this.Di.trace("Seek delta too small",{currentTime:P,seekTime:I,min:this.p$a}),this.Sb.trace("smallseek",I));else {this.Sb.trace("seek",I);try{this.Di.trace("Setting video elements currentTime",{From:(0,w.ih)(P),To:(0,w.ih)(I)});this.So={};this.$.currentTime=I / g.Mr;this.Wj.Dc(D.fj.In);}catch(K){this.Di.error("Exception while setting VIDEO.currentTime",K);this.oQ(u.U.Wkb,K);}}};l.prototype.r_a=function(){return !!this.So;};l.prototype.addSourceBuffer=function(I){var P;try{P=new d.Hca(this.j,I,this.Ei,this.Di);this.nE.push(P);I == g.zP && P.Cla && P.Cla.addListener(this.APa);return P;}catch(K){P=(0,y.ve)(K);this.Di.error("Unable to add source buffer.",{error:P});this.j.pd(u.U.dda,{xa:I === M.v.fa?u.R.Cca:u.R.Dca,Kb:P});}};l.prototype.Tga=function(I){var P;P=this;I.forEach(function(K){return P.addSourceBuffer(K);});this.Wj.Dc(D.fj.Nab);return !0;};l.prototype.removeSourceBuffer=function(I){this.nE=this.nE.filter(function(P){return !(0,p.GTa)(I,P);});this.Ei.removeSourceBuffer(I);};l.prototype.endOfStream=function(){this.Sb.trace("endofstream");!1;m.config.pia && this.Ei.endOfStream();};l.prototype.Es=function(I){!1;this.nE=[];I && I.lfc();return !0;};l.prototype.MZa=function(){if(this.Ei)return (0,F.K7a)(this.Ei.duration);};l.prototype.rBb=function(){var I;if(!this.Yea && this.$ && this.$.readyState >= E.om.fP.HAVE_CURRENT_DATA){I=this.$.webkitDecodedFrameCount;if(void 0 === I || 0 < I || m.config.A6b)this.Yea=!0;}return this.Yea;};l.prototype.open=function(){var I,P,K;I=this;this.$=f(this.j.RC.value);this.sourceBuffers=this.nE;this.j.addEventListener(G.ea.yab,function(H){return I.Tob(H);});if(L){this.j.gG && !m.config.Jdb && this.Qk.Z7();try{this.Ei=new z.Ez();}catch(H){this.oQ(u.U.Mkb,H);return;}try{this.Xf=URL.createObjectURL(this.Ei);}catch(H){this.oQ(u.U.Nkb,H);return;}try{this.Qk.Wqb(this.IOa);this.Ei.addEventListener("sourceopen",function(H){return I.bPa(H);});this.Ei.addEventListener(this.uCa + "sourceopen",function(H){return I.bPa(H);});this.$.addEventListener("error",this.Cn.error=function(H){return I.Rfa(H);});this.$.addEventListener("seeking",this.Cn.seeking=function(){return I.Sob();});this.$.addEventListener("seeked",this.Cn.seeked=function(){return I.Rob();});this.$.addEventListener("timeupdate",this.Cn.timeupdate=function(){return I.Vob();});this.$.addEventListener("loadstart",this.Cn.loadstart=function(){return I.Pob();});this.$.addEventListener("volumechange",this.Cn.volumechange=function(H){return I.Wob(H);});this.$.addEventListener(this.Qk.bC,this.Cn[this.Qk.bC]=function(){I.Di.trace(I.Qk.bC);I.Qob();});P=this.j.pk;K=P.lastChild;K?P.insertBefore(this.$,K):P.appendChild(this.$);m.config.LVa && this.$.addEventListener("contextmenu",k);this.$.src=this.Xf;n.he.addListener(n.Kq,this.nOa[n.Kq]=function(){return I.aPa();});this.aPa();}catch(H){this.oQ(u.U.Okb,H);}}else this.m0(u.U.gIa);};l.prototype.close=function(){var P;function I(){P.Xf && (P.sPa(),n.he.removeListener(n.Kq,P.nOa[n.Kq]),P.Vmb());}P=this;this.Sb.trace("close");this.$.removeEventListener(this.Qk.bC,this.Cn[this.Qk.bC]);this.$.removeEventListener("error",this.Cn.error);this.$.removeEventListener("seeking",this.Cn.seeking);this.$.removeEventListener("seeked",this.Cn.seeked);this.$.removeEventListener("timeupdate",this.Cn.timeupdate);this.$.removeEventListener("loadstart",this.Cn.loadstart);this.$.removeEventListener("volumechange",this.Cn.volumechange);this.Qk.uYb(this.IOa);m.config.Dr?this.Qk.My().then(function(){return I();}):I();this.Qk.p9a && clearTimeout(this.Qk.p9a);};l.prototype.lB=function(){return this.Sb.lB();};l.prototype.Qob=function(){m.config.Jdb && this.Qk.Z7();};l.prototype.qfa=function(){if(this.$)return this.$.getVideoPlaybackQuality && this.$.getVideoPlaybackQuality() || this.$.videoPlaybackQuality || this.$.playbackQuality;};l.prototype.Kpb=function(){var I;I=this.j.rh;return (I=I && I.errorCode) && 0 <= [u.U.s_,u.U.ZZ].indexOf(I);};l.prototype.Vmb=function(){var I;I=!1;m.config.lWb && this.Kpb() && (I=!0);m.config.Zvb && !I && (this.$.removeAttribute("src"),this.$.load && this.$.load());URL.revokeObjectURL(this.Xf);m.config.LVa && this.$.removeEventListener("contextmenu",k);!I && this.$ && this.j.pk.removeChild(this.$);this.$=this.Ei=void 0;this.Xf="";};l.prototype.aPa=function(){!0 === z.Og.hidden?this.q0.forEach(function(I){I.refresh();I.F1b();}):this.q0.forEach(function(I){I.refresh();I.U1b();});};l.prototype.r0=function(I){var P;P=q.za.get(v.OHa)(I);this.q0.push(P);return function(){P.refresh();return P.ZGb();};};l.prototype.oQ=function(I,P){var K,H;K={xa:u.R.ol,Kb:(0,y.ve)(P)};try{(H=P.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == H.length && (K.Ee=H);}catch(N){}this.j.pd(I,K);};l.prototype.sPa=function(){this.q0.forEach(function(I){I.refresh();});};l.prototype.Enb=function(){return this.$ && this.$.msGraphicsTrustStatus;};l.prototype.m0=function(I,P){this.j.pd(I,P,void 0);};l.prototype.Tob=function(I){var P,H,N,R,Y,ma,ia;if(this.$){I=I.V$;P=this.Enb();P && (I.ConstrictionActive=P.constrictionActive,I.Status=P.status);try{I.readyState="" + this.$.readyState;I.currentTime="" + this.$.currentTime;I.pbRate="" + this.$.playbackRate;}catch(ja){}P=this.nE.length;for(var K;P--;){K=this.nE[P];H="";K.type == g.e_?H="audio":K.type == g.zP && (H="video");(0,y.Sd)(I,K.w4(),{prefix:H});}this.Ei && (P=this.Ei.duration) && !isNaN(P) && (I.duration=P.toFixed(4));if(m.config.kPb)try{N=this.j.ee;R=N && N.Ab;if(R){Y=R.expiration;isNaN(Y) || (I.exp=Y);ma=R.keyStatuses.entries();if(ma.next){ia=ma.next().value;ia && (I.keyStatus=ia[1]);}}}catch(ja){}}};l.prototype.bPa=function(I){!1;this.Mpb || (this.Mpb=!0,this.Wj.Dc(D.fj.Pab,I));};l.prototype.Sob=function(){this.Sb.trace("seeking");this.Di.trace("Video element event: seeking");this.So?this.So.zSb=!0:(this.Di.error("unexpected seeking event"),m.config.nEb && this.m0(u.U.alb,{Kb:{Trace:this.lB()}}));};l.prototype.Rob=function(){this.Sb.trace("seeked");this.Di.trace("Video element event: seeked");this.So?((0,t.oa)(this.So.zSb),this.So.ySb=!0,this.VPa()):(this.Di.error("unexpected seeked event"),m.config.mEb && this.m0(u.U.$kb,{Kb:{Trace:this.lB()}}));};l.prototype.Vob=function(){var I;this.Sb.trace("timeupdate",null === (I=this.$) || void 0 === I?void 0:I.currentTime);!1;this.So && (this.So.BSb=!0,this.VPa());this.Wj.Dc(D.fj.In);};l.prototype.Pob=function(){this.Di.trace("Video element event: loadstart");};l.prototype.Wob=function(I){this.Di.trace("Video element event:",I.type);try{this.j.volume.set(this.$.volume);this.j.muted.set(this.$.muted);}catch(P){this.Di.error("error updating volume",P);}};l.prototype.Rfa=function(I){var P,K,H,N,R,Y,ma,ia;P=this.m0;K=u.U.fIa;H=u.LCa;N=this.lB();R=I.target;Y=R && R.error;ma=I.errorCode;R=Y && Y.code;(0,A.Uc)(R) || (R=ma && ma.code);ma=Y && Y.message;ia=Y && Y.msExtendedCode;(0,A.Uc)(ia) || (ia=Y && Y.systemCode);(0,A.Uc)(ia) || (ia=I.systemCode);(0,A.Uc)(ia) || (ia=(0,J.Rma)(ma));I=(0,y.Sd)({},{code:R,systemCode:ia,trace:JSON.stringify(N)},{d8:!0});H={xa:H(R),Kb:(0,x.Ypa)(I)};try{ma && (H.SU=ma);}catch(ja){}ia=(0,y.Vi)(ia);(0,A.tb)(ia) && (H.Ee=(0,q.Oha)(ia,4));P.call(this,K,H);};l.prototype.VPa=function(){this.So && this.So.ySb && this.So.BSb && (this.Sb.trace("seekcomplete"),this.So=void 0,this.Wj.Dc(D.fj.xW));};Xa.Object.defineProperties(l.prototype,{p$a:{configurable:!0,enumerable:!0,get:function(){return m.config.n1b;}}});b.GGa=l;c.prototype.trace=function(I,P){this.A$.push([I,P]);this.A$.length > this.M3b && this.A$.shift();};c.prototype.lB=function(){return this.A$;};},68872:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q){var u;u=this;this.Yl=p;this.Ls=q;this.Acb=function(t){var w,v,y,x,z,A;w=u.Ubb++;v=t.request.PA || "dl";y=u.G_a(v,"start");if(y){x=t.request.VB.I;if(x && !u.bbb.has(x)){z=u.ZZa(x);A=t.Nv;u.Yl.mark(y,z,A?v + "-" + A + "-" + w:v);t.E1(function(){var B,D;B=u.G_a(v,"end");D=A?v + "-" + A + "-" + w:v;B && u.Yl.mark(B,z,D);});}}};this.Ubb=0;this.bbb=new Set();this.fva=new Map();q.AS && this.E6b();}Object.defineProperty(b,"__esModule",{value:!0});b.cHa=void 0;r=a(70655);l=a(86700);f=a(3971);k=a(85643);d=a(2467);g=a(89927);m=a(53685);h=a(75183);n={start:{video:f.Na.RO,audio:f.Na.NO},end:{video:f.Na.QO,audio:f.Na.MO}};c.prototype.$Za=function(p){var u,t,w,v,y,x,z,A;function q(B){return (0,d.timestamp)(u.QQa((0,d.timestamp)(B),p,!0));}u=this;t=new Set();w=p.Vc;v=p.ma;y=void 0 === p.Xab?null:p.Xab;x=p.I;z=this.Yl.JZa(v);A=x && this.ZZa(x);A && z.push.apply(z,ca(this.Yl.JZa(A)));this.Yl.f9a(p.ma);A && this.Yl.f9a(A);x && this.bbb.add(x);x=[];("pr_ats" in w) && x.push({name:f.Na.G_,xr:q(w.pr_ats),ma:v,Af:"request-pre-manifest"});("ats" in w) && x.push({name:f.Na.E_,xr:q(w.ats),ma:v,Af:"request-manifest"});("pr_at" in w) && x.push({name:f.Na.F_,xr:q(w.pr_at),ma:v,Af:"request-pre-manifest"});("at" in w) && x.push({name:f.Na.D_,xr:q(w.at),ma:v,Af:"request-manifest"});("lg" in w) && x.push({name:f.Na.C_,xr:q(w.lg),ma:v,Af:"request-license"});("lr" in w) && (x.push({name:f.Na.B_,xr:q(w.lr),ma:v,Af:"request-license"}),x.push({name:f.Na.dY,xr:q(w.lr),ma:v,Af:"apply-license"}));("ld" in w) && x.push({name:f.Na.cY,xr:q(w.ld),ma:v,Af:"apply-license"});("tt_start" in w) && x.push({name:f.Na.PO,xr:q(w.tt_start),ma:v,Af:"request-timed-text"});("tt_comp" in w) && x.push({name:f.Na.OO,xr:q(w.tt_comp),ma:v,Af:"request-timed-text"});return x.concat(z).map(function(B){return u.z3b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,D){return B.ts - D.ts;}).reduce(function(B,D){var C;C=D.eventName;delete D.eventName;C && (B[C]=D);return B;},{});};c.prototype.vrb=function(p,q,u){return (void 0 === u?0:u)?p.ba(d.na) + q.Qh.ba(d.na):p.ba(d.na) - q.Qh.ba(d.na);};c.prototype.QQa=function(p,q,u){u=void 0 === u?!1:u;if(q.im)if(u)p.ba(d.na) + q.im;else return p.ba(d.na) - q.im;return this.vrb(p,q,u);};c.prototype.z3b=function(p,q){var u,t;u=p.Af;t=p.name;return {eventName:this.YRb(t,u),eventId:u || t,ts:this.QQa(p.xr,q),comp:this.dT(t),cat:this.KGb(t),step:this.BJb(t)};};c.prototype.YRb=function(p,q){switch(p){case f.Na.PO:case f.Na.OO:case f.Na.NO:case f.Na.MO:case f.Na.RO:case f.Na.QO:return p + "-" + q;default:return p;}};c.prototype.dT=function(p){switch(p){case f.Na.G_:case f.Na.F_:case f.Na.E_:case f.Na.D_:return "manifest";case f.Na.C_:case f.Na.B_:case f.Na.Xda:case f.Na.Wda:case f.Na.bZ:case f.Na.aZ:case f.Na.dY:case f.Na.cY:return "license";case f.Na.PO:case f.Na.OO:case f.Na.NO:case f.Na.MO:case f.Na.RO:case f.Na.QO:case f.Na.maa:case f.Na.laa:return "buffering";case f.Na.ada:case f.Na.$ca:return "playback";default:return (0,h.FS)(p);}};c.prototype.KGb=function(p){switch(p){case f.Na.G_:case f.Na.F_:case f.Na.E_:case f.Na.D_:return "aws";case f.Na.C_:case f.Na.B_:return "mixed";case f.Na.ada:case f.Na.$ca:case f.Na.Xda:case f.Na.Wda:case f.Na.bZ:case f.Na.aZ:case f.Na.dY:case f.Na.cY:case f.Na.maa:case f.Na.laa:return "device";case f.Na.PO:case f.Na.OO:case f.Na.NO:case f.Na.MO:case f.Na.RO:case f.Na.QO:return "cdn";default:return (0,h.FS)(p);}};c.prototype.BJb=function(p){switch(p){case f.Na.G_:case f.Na.ada:case f.Na.E_:case f.Na.C_:case f.Na.maa:case f.Na.PO:case f.Na.NO:case f.Na.RO:case f.Na.Xda:case f.Na.bZ:case f.Na.dY:return "start";case f.Na.F_:case f.Na.$ca:case f.Na.D_:case f.Na.B_:case f.Na.Wda:case f.Na.aZ:case f.Na.cY:case f.Na.laa:case f.Na.OO:case f.Na.MO:case f.Na.QO:return "end";default:return (0,h.FS)(p);}};c.prototype.G_a=function(p,q){if((p in n[q]))return n[q][p];};c.prototype.D4b=function(){g.Ie.removeEventListener(g.v5,this.Acb);};c.prototype.E6b=function(){this.D4b();g.Ie.addEventListener(g.v5,this.Acb);};c.prototype.ZZa=function(p){var q;if(this.fva.has(p))return this.fva.get(p);q=Date.now();this.fva.set(p,q);return q;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.GP)),r.__param(1,(0,l.l)(m.nn))],a);b.cHa=a;},70858:function(r,b,a){var f,k,d,g,m,h,n,p,q,u;function c(t,w,v,y,x,z){var A;A=this;this.Xg=t;this.config=v;this.ub=y;this.debug=x;this.FE={};this.SVa=!1;this.FR={};this.Coa=0;this.H4=function(B){var D,C,F;D=B.stream;if(D){B=D.Vb;C=D.bitrate;F=D.zb;}else B=B.track.Vb;return {key:B + "$" + C + "$" + F,Vb:B,bitrate:C,zb:F};};this.$Ya=function(B){var D,C,F;C=A.H4(B);F=null === (D=B.Ac) || void 0 === D?void 0:D.id;B=B.track.Af;return Object.assign({},C,{key:C.key + "$" + F + "$" + B,Fm:F,Af:B});};this.HGb=function(B){var D;D=B.stream;B=null === D || void 0 === D?void 0:D.Vb;D=null === D || void 0 === D?void 0:D.bitrate;return {key:B + "$" + D,Vb:null !== B && void 0 !== B?B:"",jM:D};};this.fKb=function(B){var D;D=B.stream;B=null === D || void 0 === D?void 0:D.Vb;D=null === D || void 0 === D?void 0:D.zb;return {key:B + "$" + D,Vb:null !== B && void 0 !== B?B:"",jM:D};};this.log=w.Ua("PlayTimeTracker");this.v8=z(t);this.vt=z(t);this.Isa=z(t);this.startTime=this.Xg.mediaTime.value;this.L6=this.config().pqb;this.jI();this.FE.abrdel=0;this.L6.forEach(function(B){B="abrdel" + B;A.FR[B]=0;A.FE[B]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.vJa=void 0;r=a(70655);f=a(86700);k=a(71163);d=a(17244);g=a(98540);a(2467);m=a(89542);h=a(78616);n=a(7942);p=a(30818);q=a(67789);u=a(79426);l.prototype.encode=function(t){return {downloadableId:t.Vb,correlationId:t.Af,bitrate:t.bitrate,vmaf:t.zb,duration:t.duration,metric:t.jM,cdnId:t.Fm};};l.prototype.decode=function(t){return {Vb:t.downloadableId,Af:t.correlationId,bitrate:t.bitrate,zb:t.vmaf,duration:t.duration,jM:t.metric,Fm:t.cdnId};};c.prototype.pp=function(t){t=void 0 === t?"content":t;this.EC(this.Xg.mediaTime.value);return Math.floor(this.vt.pp(function(w){return w.track.kC === t;}));};c.prototype.gZa=function(t){this.EC(this.Xg.mediaTime.value);return Math.floor(this.vt.pp(t));};c.prototype.zT=function(t){var w;t=void 0 === t?"content":t;this.EC(this.Xg.mediaTime.value);w=this.vt.zT(function(v){return v.track.kC === t;});this.debug.assert(w === Math.floor(w),"Value of totalContentPlayTime is not an integer.");return Math.floor(w);};c.prototype.zGb=function(){this.EC(this.Xg.mediaTime.value);return {audio:this.gT(this.v8,this.$Ya),video:this.gT(this.vt,this.$Ya)};};c.prototype.OIb=function(){var t,w,v;t=this.pp("content");w=this.pp("ads");v=this.pp("other");t={total:t,totalAdDuration:w,totalOtherDuration:v,totalCombinedDuration:t + w + v,totalContentTime:this.zT("content"),totalStartSlateDuration:this.gZa(function(y){return !0 === y.Koa;}),totalLiveEdgeDuration:this.gZa(function(y){return !0 === y.CB;}),audio:this.gT(this.v8,this.H4),video:this.gT(this.vt,this.H4),timedtext:this.gT(this.Isa,this.H4)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.dma=function(){var t,w;this.EC(this.Xg.mediaTime.value);t=this.vt.Zla(this.HGb);try{w=this.xYa(t);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.FE.abrdel=Math.round(w);return this.FE.abrdel;};c.prototype.yYa=function(){var t,w;this.EC(this.Xg.mediaTime.value);t=this.vt.Zla(this.fKb);try{w=this.xYa(t);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.wYa=function(){var t,w;t=this;if(!this.SVa){w=this.pp();this.L6.forEach(function(v){var y,x,z;if(0 === t.FR["abrdel" + v] && w > v * n.Mr){y=0;x=0;z=0;t.vt.some(function(A){y+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;z=A.stream.bitrate;return x > v * n.Mr;});y && (t.FR["abrdel" + v]=Math.round((y - z * (x - v * n.Mr)) / (v * n.Mr)));}});0 !== this.FR["abrdel" + this.L6[this.L6.length - 1]] && (this.SVa=!0);(0,p.Zf)(this.FR,function(v,y){t.FE[v]=0 === y?t.FE.abrdel:y;});}return this.FE;};c.prototype.Uqb=function(t){this.Coa+=t;};c.prototype.t5=function(){return this.vt.t5();};c.prototype.jI=function(){var t;t=this;this.Xg.rf.addListener(function(w){t.tK=t.OSa(t.tK,t.v8,w.newValue);});this.Xg.Td.addListener(function(w){t.vK=t.OSa(t.vK,t.vt,w.newValue);});this.Xg.playbackRate.addListener(function(w){t.EC(t.Xg.mediaTime.value,w.oldValue);});this.Xg.Zh.addListener(this.OSb.bind(this));};c.prototype.nra=function(t,w){this.EC(t);this.startTime=w;this.vK=this.tK=void 0;this.uK && (this.uK.startTime=this.startTime);!1;};c.prototype.OSb=function(t){this.Isa.gf(this.uK,this.Xg.mediaTime.value);this.uK=(t=t.newValue)?{track:t,startTime:this.Xg.mediaTime.value,endTime:g.Dw}:void 0;};c.prototype.EC=function(t,w){w=void 0 === w?this.Xg.playbackRate.value:w;t && this.tK && this.vK && (t=Math.min(t,this.tK.endTime,this.vK.endTime),this.v8.gf(this.tK,t,w),this.tK.startTime=t,this.vt.gf(this.vK,t,w),this.vK.startTime=t,this.uK && (this.Isa.gf(this.uK,t,w),this.uK.startTime=t),this.startTime=t,!1);};c.prototype.OSa=function(t,w,v){var y;t && w.gf(t,Math.min(t.endTime,this.Xg.mediaTime.value));if(v && v.stream){t=v.iK;w=v.stream;y=this.Xg.fd;return {Ac:v.Ac,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Koa:y.ia?y.iB(t.endTime) === u.Lr.UP:void 0,CB:y.ia?y.HT():void 0};}};c.prototype.gT=function(t,w){return t.Zla(w,"content").map(function(v){return new l().encode(v);});};c.prototype.xYa=function(t){var w,v,y;w=this;v=0;t.forEach(function(x){if(w.ub.vg(x.duration) && w.ub.vg(x.jM))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;y=0;t.forEach(function(x){y+=x.jM * x.duration / v;});return y;};a=c;a=r.__decorate([(0,f.T)(),r.__param(1,(0,f.l)(k.Xa)),r.__param(2,(0,f.l)(d.ac)),r.__param(3,(0,f.l)(m.Wf)),r.__param(4,(0,f.l)(h.rw)),r.__param(5,(0,f.l)(q.Dda))],a);b.vJa=a;},9518:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P;function c(K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha,ta,Q,O,Z,oa,qa,Ha,Ya,Wa,rb,nb,Fb){this.ay=K;this.uA=H;this.Ea=N;this.qa=R;this.ptb=Y;this.Fwa=ma;this.IU=ia;this.bqa=ja;this.$L=Ca;this.cd=Ba;this.vh=Ka;this.ti=Va;this.ZJ=db;this.KV=W;this.Oh=ha;this.$wa=ta;this.Of=Q;this.Yl=O;this.Yd=Z;this.Gsa=oa;this.JYb=qa;this.tha=Ha;this.yG=Ya;this.psa=Wa;this.Bga=rb;this.rub=nb;this.WJ=Fb;}Object.defineProperty(b,"__esModule",{value:!0});b.BJa=void 0;r=a(70655);l=a(24166);f=a(86700);k=a(74509);d=a(60634);g=a(58998);m=a(35664);h=a(63406);n=a(69379);p=a(93592);q=a(14697);u=a(76820);t=a(97636);w=a(72611);v=a(5690);y=a(11430);x=a(21182);z=a(53113);A=a(14959);B=a(89682);D=a(35054);C=a(85643);F=a(17);G=a(57046);E=a(4988);J=a(76586);M=a(61886);L=a(1414);I=a(24060);c.prototype.create=function(K,H,N,R,Y,ma,ia,ja){return new (a(61581).DJa)(K,H,ma,ia,R,Y,this.ay,N,this.Ea,this.uA,this.qa,this.IU,this.ptb,this.Fwa,this.bqa,this.$L,this.cd,this.vh,this.ti,this.ZJ,this.KV,this.Oh,this.$wa,this.Of,this.Yd,this.Gsa,this.Yl,this.JYb(),this.tha,this.yG,this.psa,this.Bga,this.rub,void 0,ja);};P=c;P=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Bw)),r.__param(1,(0,f.l)(d.Uh)),r.__param(2,(0,f.l)(g.Jc)),r.__param(3,(0,f.l)(m.gg)),r.__param(4,(0,f.l)(h.Hza)),r.__param(5,(0,f.l)(k.Nz)),r.__param(6,(0,f.l)(n.Eca)),r.__param(7,(0,f.l)(p.uGa)),r.__param(8,(0,f.l)(q.wP)),r.__param(9,(0,f.l)(u.GD)),r.__param(10,(0,f.l)(t.PP)),r.__param(11,(0,f.l)(w.yD)),r.__param(12,(0,f.l)(y.Qza)),r.__param(13,(0,f.l)(x.Cda)),r.__param(14,(0,f.l)(J.rD)),r.__param(15,(0,f.l)(z.PMa)),r.__param(16,(0,f.l)(A.pl)),r.__param(17,(0,f.l)(C.GP)),r.__param(18,(0,f.l)(B.jh)),r.__param(19,(0,f.l)(D.EJa)),r.__param(20,(0,f.l)(F.UKa)),r.__param(21,(0,f.l)(G.dza)),r.__param(22,(0,f.l)(E.Lca)),r.__param(23,(0,f.l)(M.YIa)),r.__param(24,(0,f.l)(L.Cya)),r.__param(25,(0,f.l)(I.aba)),r.__param(26,(0,f.l)(v.FO)),r.__param(26,(0,f.optional)())],P);b.BJa=P;},61581:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db;function c(W,ha,ta,Q,O,Z,oa,qa,Ha,Ya,Wa,rb,nb,Fb,Kb,Ta,$a,ib,mb,pb,Bb,Db,Lb,Pb,Xb,Ib,Ob,Qb,cc,nc,Ac,Pc,Yd,Lf,Zd){var zb,Mf;function gf(vb){vb.newValue && vb.newValue.stream && (zb.Td.removeListener(gf),zb.N5=vb.newValue.stream.bitrate);}function hf(vb){vb.newValue !== R.cb.Ef && vb.newValue !== R.cb.Wh && (zb.lb.removeListener(hf),zb.ey=zb.qa.uH,zb.Eb.Dc(R.ea.st));}function jf(vb){vb.newValue !== R.cb.Ef && (zb.lb.removeListener(jf),zb.Wk=!0,zb.JV=zb.qa.fe.ba(C.na),zb.Eb.Dc(R.ea.Wk));}zb=this;this.ib=O;this.Rj=Z;this.ay=oa;this.Ea=Ha;this.uA=Ya;this.qa=Wa;this.IU=rb;this.bqa=Kb;this.$L=Ta;this.cd=$a;this.vh=ib;this.ti=mb;this.ZJ=pb;this.KV=Bb;this.Oh=Db;this.$wa=Lb;this.Of=Pb;this.Yd=Xb;this.Gsa=Ib;this.Yl=Ob;this.u9a=Qb;this.tha=cc;this.yG=nc;this.psa=Ac;this.Bga=Pc;this.iia=Yd;this.WJ=Lf;this.B7a=[];this.Ip=new Map();this.C0a=new Map();this.tc=new q.Ib(null);this.Mg=new q.Ib(null);this.wb=new q.Ib(null);this.Zh=new q.Ib(null);this.Kt=new q.Ib(void 0);this.Oe=new q.Ib(null);this.Qg=new q.Ib(null);this.mediaTime=new q.Ib(void 0);this.playbackRate=new Ba.IJa(1,u.config.oqa);this.background=new q.Ib(!0);this.H4b=function(vb){return zb.tc.set(vb.newValue);};this.n5b=function(vb){return zb.Mg.set(vb.newValue);};this.k5b=function(vb){return zb.wb.set(vb.newValue);};this.F4b=function(vb){return zb.Zh.set(vb.newValue);};this.j5b=function(vb){return zb.Kt.set(vb.newValue);};this.m5b=function(vb){return zb.Oe.set(vb.newValue);};this.G4b=function(vb){return zb.Qg.set(vb.newValue);};this.b5b=function(vb){return zb.Td.set(vb.newValue);};this.a5b=function(vb){return zb.rf.set(vb.newValue);};this.Z4b=function(vb){return zb.mediaTime.set(vb.newValue);};this.I4b=function(vb){return zb.background.set(vb.newValue);};this.kO=function(vb){return zb.playbackRate.set(vb.newValue);};this.$n={};this.xua=this.Twa=0;this.Eb=new t.Tj();this.V$={};this.UW=this.r7a=this.Wk=!1;this.RC=new q.Ib(void 0);this.state=new q.Ib(R.Ub.MI);this.vi=new q.Ib(!1);this.paused=new q.Ib(!1);this.muted=new q.Ib(!1);this.volume=new q.Ib(u.config.HAb / 100);this.lb=new q.Ib(R.cb.Ef);this.hf=new q.Ib(R.uf.Qe);this.tq=new q.Ib(R.uf.Qe);this.gm=new q.Ib(R.uf.Qe);this.rf=new q.Ib(null);this.Td=new q.Ib(null);this.dia=new q.Ib(null);this.x5=(0,n.cEa)(this);this.Ac=[new q.Ib(null),new q.Ib(null)];this.Pha={};this.xS=!1;this.qb=this.cl=-1;this.OF=function(vb,Zb){var Qc;vb=void 0 === vb?null:vb;return (0,L.tb)(vb)?Zb && !zb.fi(Zb).W?vb:(null === (Qc=zb.Za) || void 0 === Qc?0:Qc.Dh)?zb.Za.qja(vb):vb:null;};this.mV=function(){zb.cwa();};this.LA=W;this.addEventListener=this.Eb.addListener;this.removeEventListener=this.Eb.removeListener;this.fireEvent=this.Eb.Dc;this.Nga({J:W,I:Q,Wa:ta || ({})},u.config.fr?this.cd.Ss(W):void 0,ha);this.log=(0,D.Ih)(this);this.IVa=qa(this);this.otb=nb(this);this.pk=(0,H.createElement)("DIV",p.Rda,void 0,{id:this.O});this.ZLb();this.Bc=this.log.Z2("Playback");(0,k.oJa)(this);y.Iz.i5a=this;y.Iz.Fla || (y.Iz.Fla=this);this.Bc.info("Playback created",this.zg);this.B3a?this.Bc.info("Playback selected for trace playback info logging"):this.Bc.trace("Playback not selected for trace playback info logging");u.config.fr && (this.cd.vKb(this.O),this.addEventListener(R.ea.st,function(){zb.cd.xKb(zb.O);zb.wb.addListener(function(){zb.cd.S_a();});zb.tc.addListener(function(){zb.cd.S_a();});}),this.addEventListener(R.ea.tg,function(){zb.cd.uKb(zb.O);}));this.state.addListener(function(vb){zb.Bc.info("Playback state changed",{From:vb.oldValue,To:vb.newValue});(0,G.oa)(vb.newValue > vb.oldValue);});v.he.addListener(v.Nk,this.mV,p.Vca);Mf=Fb((0,C.xh)(1));this.mediaTime.addListener(function(){zb.$Eb();Mf.Zi(function(){return zb.IXa();});});this.lb.addListener(function(vb){zb.Bc.info("PresentingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,E.ih)(zb.mediaTime.value)},zb.ft());});this.lb.addListener(function(){zb.vi.set(zb.lb.value === R.cb.me);});this.hf.addListener(function(vb){zb.Bc.info("BufferingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,E.ih)(zb.mediaTime.value)},zb.ft());});this.tq.addListener(function(vb){zb.Bc.info("AV BufferingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,E.ih)(zb.mediaTime.value)},zb.ft());});this.gm.addListener(function(vb){zb.Bc.info("Text BufferingState changed",{From:vb.oldValue,To:vb.newValue,MediaTime:(0,E.ih)(zb.mediaTime.value)},zb.ft());});this.tc.addListener(function(vb){(0,G.oa)(vb.newValue && vb.newValue.xg);zb.Bc.info("AudioTrack changed",vb.newValue && ({ToBcp47:vb.newValue.re,To:vb.newValue.trackId}),vb.oldValue && ({FromBcp47:vb.oldValue.re,From:vb.oldValue.trackId}),{MediaTime:(0,E.ih)(zb.mediaTime.value)});});this.wb.addListener(function(vb){(0,G.oa)(!vb.newValue || vb.newValue.xg);zb.Bc.info("TimedTextTrack changed",vb.newValue?{ToBcp47:vb.newValue.re,To:vb.newValue.trackId}:{To:"none"},vb.oldValue?{FromBcp47:vb.oldValue.re,From:vb.oldValue.trackId}:{From:"none"},{MediaTime:(0,E.ih)(zb.mediaTime.value)});});this.lb.addListener(jf,p.OI);this.lb.addListener(hf);this.addEventListener(R.ea.st,function(){zb.UW=!0;zb.Xab=zb.OR();zb.ke("start");});this.Td.addListener(gf);(0,B.zJa)(this);y.un.push(this);u.config.eW && (this.q8=this.Gsa(this),this.t8=new z.KJa(this));y.xda.forEach(function(vb){vb(zb);});this.brb=function(){zb.addEventListener(R.ea.wC,function(vb){var Zb;vb=vb.cc;vb !== R.Zc.Kr && vb !== R.Zc.YI && (null === (Zb=zb.Za) || void 0 === Zb?void 0:Zb.stop());});zb.addEventListener(R.ea.Ej,function(vb){var Zb,Qc,kf,Nf,Hc,$d,Of,ae,lf,Pf;zb.u9a.Ej(vb);kf=vb.cc;Nf=vb.skip;Hc=vb.D7;$d=vb.ura;Of=vb.O;ae=vb.ys;zb.aa.Vk.nra($d,Hc);if(kf !== R.Zc.YI && kf !== R.Zc.Kr)if(Nf){if(null !== (Zb=zb.Za) && void 0 !== Zb && Zb.ci(Hc)){zb.Bc.trace("Repositioned. Skipping from " + $d + " to " + Hc);vb=function($b){zb.log.error("streamingSession.skipped threw an exception",$b);$b=Y.Mc.Ula(F.U.bfb,$b);zb.hr($b.code,$b);};try{zb.Za.BH(Hc).then(function($b){var Rc;$b.IL || (null === (Rc=zb.Za) || void 0 === Rc?void 0:Rc.play());}).catch(vb);}catch($b){vb($b);}}else zb.log.error("can skip returned false");}else {zb.Bc.trace("Repositioned. Seeking from " + $d + " to " + Hc);try{lf=zb.ib.T4(zb.aa);Pf=Object.keys(lf.M).find(function($b){var Rc;$b=lf.M[$b];return $b.J === Of && $b.sa <= ae && (null !== (Rc=$b.ta) && void 0 !== Rc?Rc:Infinity) > ae;});null === (Qc=zb.Za) || void 0 === Qc?void 0:Qc.XZb(ae,Pf);}catch($b){zb.log.error("streamingSession.seekByContentPts threw an exception",$b);Hc=Y.Mc.Ula(F.U.$eb,$b);zb.hr(Hc.code,Hc);}}});};this.playbackRate.addListener(function(){var vb,Zb;if(null === (vb=zb.Za) || void 0 === vb?0:vb.Dh)null === (Zb=zb.Za) || void 0 === Zb?void 0:Zb.cVb();});this.addEventListener(R.ea.rx,function(vb){var Zb;vb.cc == y.uda && (zb.hf.set(R.uf.Qe),null === (Zb=zb.Za) || void 0 === Zb?void 0:Zb.km(zb.je.dZa()));});Zd && (this.aa.W=Zd,this.Oh.YW(W,Zd));}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=void 0;l=a(70655);f=a(88625);k=a(15883);d=a(82134);g=a(25097);m=a(6686);h=a(26047);n=a(93230);p=a(7942);q=a(14414);u=a(37986);t=a(59883);w=a(45108);v=a(25892);y=a(58680);x=a(5917);z=a(22528);A=a(31205);B=a(16512);D=a(89082);C=a(2467);F=a(68172);G=a(70633);E=a(19591);J=a(30818);M=a(66052);L=a(95919);I=a(37021);P=a(56170);K=a(99230);H=a(24133);N=a(93);R=a(34202);Y=a(56003);ma=a(49007);ia=a(89136);ja=a(65853);Ca=a(66119);Ba=a(902);Ka=a(41427);Va=a(61831);db=a(18920);c.prototype.ke=function(W,ha){var ta;ha=void 0 === ha?this.LA:ha;null === (ta=this.Ip.get(ha)) || void 0 === ta?void 0:ta.ke(W);};c.prototype.by=function(W){this.aa.by(W);};c.prototype.m5=function(){var W;return !(null === (W=this.W) || void 0 === W || !W.Fa.Im);};c.prototype.xL=function(){var W,ha,ta;return !(null === (ta=null === (ha=null === (W=this.W) || void 0 === W?void 0:W.Fa.zm) || void 0 === ha?void 0:ha.ce.length) || void 0 === ta || !ta);};c.prototype.ZLb=function(){var W;W=this;this.tc.addListener(function(ha){return W.aa.tc.set(ha.newValue);});this.Mg.addListener(function(ha){return W.aa.Mg.set(ha.newValue);});this.wb.addListener(function(ha){return W.aa.wb.set(ha.newValue);});this.Zh.addListener(function(ha){return W.aa.Zh.set(ha.newValue);});this.Kt.addListener(function(ha){return W.aa.Kt.set(ha.newValue);});this.Oe.addListener(function(ha){return W.aa.Oe.set(ha.newValue);});this.Qg.addListener(function(ha){return W.aa.Qg.set(ha.newValue);});this.Td.addListener(function(ha){return W.aa.Td.set(ha.newValue);});this.rf.addListener(function(ha){return W.aa.rf.set(ha.newValue);});this.Ac[db.v.fa].addListener(function(ha){return W.aa.Ac[db.v.fa].set(ha.newValue);});this.Ac[db.v.X].addListener(function(ha){return W.aa.Ac[db.v.X].set(ha.newValue);});this.mediaTime.addListener(function(ha){return W.aa.mediaTime.set(ha.newValue);});this.background.addListener(function(ha){return W.aa.background.set(ha.newValue);});this.playbackRate.addListener(function(ha){return W.aa.playbackRate.set(ha.newValue);});this.U9a();};c.prototype.U9a=function(){var W;W=this;this.aa !== this.gva && (this.aa.mediaTime.set(this.mediaTime.value),this.aa.background.set(this.background.value),this.aa.playbackRate.set(this.playbackRate.value),this.xo(function(ha){return ha.tc;},this.H4b),this.xo(function(ha){return ha.Mg;},this.n5b),this.xo(function(ha){return ha.Kt;},this.j5b),this.xo(function(ha){return ha.wb;},this.k5b),this.xo(function(ha){return ha.Zh;},this.F4b),this.xo(function(ha){return ha.Oe;},this.m5b),this.xo(function(ha){return ha.Qg;},this.G4b),this.xo(function(ha){return ha.rf;},this.a5b),this.xo(function(ha){return ha.Td;},this.b5b),this.xo(function(ha){return ha.Ac[db.v.fa];},function(ha){return W.Ac[db.v.fa].set(ha.newValue);}),this.xo(function(ha){return ha.Ac[db.v.X];},function(ha){return W.Ac[db.v.X].set(ha.newValue);}),this.xo(function(ha){return ha.mediaTime;},this.Z4b),this.xo(function(ha){return ha.background;},this.I4b),this.xo(function(ha){return ha.playbackRate;},this.kO),this.wb.set(this.aa.wb.value),this.tc.set(this.aa.tc.value,{M1:!0}),this.Mg.set(this.aa.Mg.value),this.Zh.set(this.aa.Zh.value),this.Kt.set(this.aa.Kt.value),this.Oe.set(this.aa.Oe.value),this.Qg.set(this.aa.Qg.value),this.gva=this.aa);};c.prototype.xo=function(W,ha){this.gva && W(this.gva).removeListener(ha);W(this.aa).addListener(ha);};c.prototype.Xub=function(){var W;return !(null === (W=this.Sc) || void 0 === W?0:W.Dl.value);};c.prototype.load=function(W){var ha,ta;ha=this;this.load=function(){};this.F7a=W;if(this.state.value == R.Ub.MI){this.Bc.info("Playback loading",this);this.fSb();this.ke("asl_load_start");ta=this.uA;W=ta.startTime;ta=ta.endTime;(0,L.Uc)(W)?(0,L.Uc)(ta)?this.ke("asl_ended"):this.ke("asl_in_progress"):this.ke("asl_not_started");this.uA.xU(function(Q){ha.ke("asl_load_complete");Q.ha?ha.Pyb():ha.hr(Q.errorCode || F.U.Yba,Q);});}};c.prototype.DVb=function(){!1;try{this.state.value === R.Ub.LOADING && (this.Adb(),this.Gl=this.ZJ.xrb({fz:(0,C.Hb)(this.bb),O:this.O,lC:this.Ex,Wa:this.Wa,fC:this.Wa.ag?u.config.Xra:u.config.fC,fd:this.fd}).ba(C.na),this.oha(),this.Pzb());}catch(W){this.hr(F.U.Lib,{xa:F.R.ol,Kb:(0,J.ve)(W)});}};c.prototype.Adb=function(){var W,ha,ta;ta={width:1,height:1};this.mB({Idb:!0}).forEach(function(Q){ta.width * ta.height < Q.width * Q.height && (ta={width:Q.width,height:Q.height});});ta.height === (null === (W=this.RC.value) || void 0 === W?void 0:W.height) && ta.width === (null === (ha=this.RC.value) || void 0 === ha?void 0:ha.width) || this.RC.set(ta);};c.prototype.Ev=function(){var W,ha;!1;ha=this.ib.T4(this);this.yUa(ha);null === (W=this.Za) || void 0 === W?void 0:W.Rt(ha);};c.prototype.HG=function(W){var ha,ta;!1;(0,G.oa)(this.Za,"ASE should be initialized");ta=this.ib.mT(W);ta?W === this.ib.qh?this.Za.D2(ta,!0) || this.DT(ta,{}):null === (ha=this.Za) || void 0 === ha?void 0:ha.Nj(W,ta,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.DT=function(W,ha,ta){var Q,O,Z,oa,qa;Q=this;ta=void 0 === ta?!0:ta;!1;oa=this.ib.Od(W);if(this.ti.N$ && this.ib.aa.J === oa.J)return Promise.resolve(this.je.seek(oa.sa,R.Zc.Nw,void 0));oa=this.Rj.wL(oa.J);ha=(0,P.h7)(oa.nb,ha);if(null === (O=this.Za) || void 0 === O || !O.Dh)throw (!1,Error("No streaming session"));!1;this.wE("Transition " + this.ib.qh + "->" + W);qa=this.fi(W);qa.im=this.Ea.Fb().ba(C.na);qa.Wa=ha;return "seamless" !== (null !== (Z=this.ib.Od(W).Xd) && void 0 !== Z?Z:"seamless") || ta?(this.Za.nT(W).KR?this.gKb(W,qa.O):this.wW(W,qa.O)).then(function(){Q.xFb(qa.O);}):Promise.resolve();};c.prototype.wW=function(W,ha){var ta;ta=this.ib.nk.M[W].sa;!1;this.wE("NO DATA " + W + ", SEEKING " + ta + ", viewableId: " + ha);return Promise.resolve(this.je.seek(ta,R.Zc.Nw,W,!0));};c.prototype.gKb=function(W,ha){var ta,Q,O,Z,oa;ta=this;!1;Q=this.Za;if(null === Q || void 0 === Q || !Q.Dh)throw Error("No streaming session");O=new Promise(function(qa){function Ha(){!1;Q.removeEventListener("stop",Ha);qa();}Q.addEventListener("stop",Ha);});Z=!1;oa=new Promise(function(qa){function Ha(Wa){!1;ta.removeEventListener(R.ea.Ej,Ha);Z=Wa.skip;qa();}function Ya(){!1;ta.removeEventListener(R.ea.wC,Ya);Q.stop();}ta.addEventListener(R.ea.wC,Ya);ta.addEventListener(R.ea.Ej,Ha);});O=Promise.all([O,oa]).then(function(){var qa;qa=!1;Z && (qa=Q.D2(W,!1));if(!qa)return (ta.wE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),ta.wW(W,ha));});oa=Q.sja(W,this.ib.nk.M[W].sa);!1;this.je.seek(oa,R.Zc.YI,W,!0);return O;};c.prototype.Nga=function(W,ha,ta){var Q,O,Z,oa,qa,Ha,Ya,Wa;ha=void 0 === ha?this.ay.IA():ha;ta=void 0 === ta?this.Ea.Fb():ta;Z=!!u.config.beb && !(ha % u.config.beb);oa=W.J;qa=W.I;Ha=W.Wa;Ya=W.Hf;if(this.Ip.has(oa))ha=this.Ip.get(oa);else {ha=this.KV(y.Iz.index++,oa,qa,Ha,ha,ta,Z,this.aa,this.OF,Ya,this);this.Ip.set(oa,ha);1 < this.Ip.size && (ha.ZL=this.$L.create(this,ha,!1,this.OF));ha.iM=new x.VGa(this,ha);Wa=null === Ya || void 0 === Ya?void 0:Ya.bc;(W=W.itb) || (W=null === (O=null === (Q=this.aa.W) || void 0 === Q?void 0:Q.cp) || void 0 === O?void 0:O.find(function(rb){return rb.Fa.O === oa && (void 0 === Wa || rb.Fa.bc === Wa);}));W && this.L8(W,ha);1 < this.Ip.size && this.Oh.k5(ha.O) && this.S8(ha);}};c.prototype.xUa=function(W,ha,ta,Q){var O,Z,oa,qa,Ha,Ya,Wa,rb,nb,Fb;O=this;!1;rb={LL:!0,ag:!1,OC:Date.now()};(0,G.oa)(ha.Gf,"Auxiliary viewable config request options must have auxiliary options");nb=ha.Gf;ha=nb.bc;nb=nb.wd;if(this.r5(nb)){Fb=null === (Z=this.Mk(nb).W) || void 0 === Z?void 0:Z.Fa;Z={bc:ha,wV:this.Df,wd:nb,BV:Fb};(0,G.oa)(null === (oa=this.Za) || void 0 === oa?void 0:oa.Gh,"If we have auxiliary viewables combined playgraph must exist");if(null === (Ha=null === (qa=this.Za) || void 0 === qa?void 0:qa.Gh) || void 0 === Ha?0:Ha.M)(oa=Object.keys(null === (Wa=null === (Ya=this.Za) || void 0 === Ya?void 0:Ya.Gh) || void 0 === Wa?void 0:Wa.M).find(function(Kb){var Ta,$a;return (null === ($a=null === (Ta=O.Za) || void 0 === Ta?void 0:Ta.Gh) || void 0 === $a?void 0:$a.M[Kb].J) === W;}),(0,G.oa)(!!oa,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.Nga({itb:Q,Hf:Z,Wa:rb,I:oa,J:W},ta));}};c.prototype.r5=function(W){return !!this.Ip.has(W);};c.prototype.c0a=function(W){try{return (this.fi(W),!0);}catch(ha){return !1;}};c.prototype.Mk=function(W){if(W === Ka.sn)return this.aa;if(!this.Ip.has(W))throw Error("Playback segment not found: " + W);return this.Ip.get(W);};c.prototype.fi=function(W){var ta,Q,O,Z,oa,qa,Ha,Ya,Wa;function ha(rb){for(var nb=la(ta.VG),Fb=nb.next();!Fb.done;Fb=nb.next()){if((Fb=Fb.value,Fb.I === rb))return Fb;}}ta=this;Wa=ha(W);if(Wa)return Wa;if(null === (O=null === (Q=this.Za) || void 0 === Q?void 0:Q.Gh) || void 0 === O?0:O.M[W])if((Q=null === (Z=this.Za) || void 0 === Z?void 0:Z.Gh.M[W].Rb,Q === W && (null === (oa=this.Za) || void 0 === oa?0:oa.cO) && (null === (qa=this.Za) || void 0 === qa?0:qa.cO.M[W]) && (Q=null === (Ha=this.Za) || void 0 === Ha?void 0:Ha.cO.M[W].Rb),Q && this.ib.Xv(Q)))return (Z=this.ib.Od(Q).J,W=null === (Ya=this.Za) || void 0 === Ya?void 0:Ya.Gh.M[W].J,Z === W && (Wa=ha(Q)),null !== Wa && void 0 !== Wa?Wa:this.Mk(W));return this.aa;};c.prototype.QIb=function(W){for(var ha,ta,Q=la(this.VG),O=Q.next();!O.done;O=Q.next()){if((O=O.value,(null === (ta=null === (ha=O.ee) || void 0 === ha?void 0:ha.Ab) || void 0 === ta?void 0:ta.sessionId) === W))return O;}return this.aa;};c.prototype.rZa=function(W){return this.C0a.get(W);};c.prototype.S8=function(W){var ha,ta;ha=this;!1;ta=W.O;this.Rj.S_b(ta);return this.DW(W).then(function(Q){ha.L8(Q,W);Q=W.gG?ha.Pb.Qk.v9a(W):Promise.resolve();ha.PVb(W);return Q.then(function(){return ha.Rj.M$a(ta);});}).catch(function(Q){ha.log.error("queueManifest failed",Q);ha.Rj.R_b(ta,Q);throw ha.vh(Q.code,Q);});};c.prototype.Uv=function(W,ha){var ta,Q,O,Z,oa;ta=this;(0,G.oa)(ha.Gf,"auxiliaryOptions must exist if an adBreak hydration was requested");Q=ha.Gf;O=Q.bc;Z=Q.wd;(0,G.oa)(!!O,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;ha=this.Mk(ha.Gf.wd);Q=N.ql.pm;oa={LL:!0,ag:!1,OC:Date.now()};return this.Oh.Vx({ma:ha.ma,Wa:oa,J:ha.O,Hq:Q,pf:void 0,gO:void 0,Hf:{mh:W,bc:O,wd:Z,wV:ha.Df}},!1).then(function(qa){var Ha,Ya;qa.cp.forEach(function(Wa){ta.C0a.set(Wa.Fa.O,Wa);});if(null === (Ha=qa.Fa.zm) || void 0 === Ha || !Ha.ce.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (Z + ", adBreakToken: " + W));return null === (Ya=qa.Fa.zm) || void 0 === Ya?void 0:Ya.ce[0];});};c.prototype.AGb=function(){if((0,L.tb)(this.Vc.ats) && (0,L.tb)(this.Vc.at))return this.Vc.at - this.Vc.ats;};c.prototype.DYa=function(){var W,ha;W=this.KX();ha=this.yR();return Math.min(W,ha);};c.prototype.KN=function(){this.background.value || (this.Bc.info("Starting inactivity monitor for movie " + this.O),new w.LEa(this));};c.prototype.close=function(W){W && (this.state.value == R.Ub.CLOSED?W():this.addEventListener(R.ea.closed,function(){W();}));this.cwa();};c.prototype.pd=function(W,ha,ta){W=this.vh(W,ha,ta);this.PE(W,void 0);};c.prototype.PE=function(W,ha){var ta,Q,O,Z;ta=this;!1;(0,F.YY)(W.errorCode,W.xa,this.Ea.Fb().wa(this.Qh).ba(C.na),null === (Q=this.je) || void 0 === Q?void 0:Q.mv()) || this.iia.add(this.qa.fe,null === (O=this.ee) || void 0 === O?void 0:O.kL(),W.errorCode,W.xa,W.Ee);W.$$a(this.Wk);if(this.state.value == R.Ub.MI)this.rh || (this.rh=W,this.load());else {ha && (this.state.value == R.Ub.CLOSED?ha():this.addEventListener(R.ea.closed,function(){ha();}));Q=function(){ta.cwa(W);};O=u.config.vVa && W && u.config.vVa[W.errorCode];Z=-1;(0,L.RL)(O) && (Z=(0,J.Vi)(O));this.Bc.error("Fatal playback error",{Error:"" + W,HandleDelay:"" + O});0 <= Z?setTimeout(Q,Z):Q();}};c.prototype.wE=function(W){var ha;ha=void 0 === ha?this.I:ha;W=this.Ea.Fb().ba(C.na) + "-" + ha + "-" + W;!1;this.B7a.push(W);};c.prototype.kFb=function(){this.IXa();};c.prototype.Vma=function(){var W;if(null === (W=this.Za) || void 0 === W?0:W.Dh)if((W=this.Za.Sn().id,void 0 !== W))return W;return null;};c.prototype.jB=function(){var W,ha;ha=null === (W=this.Za) || void 0 === W?void 0:W.Dh;return void 0 === this.aa.ZR || ha?this.OF(this.mediaTime.value):this.aa.ZR;};c.prototype.Uma=function(){var W;W=this.OF(this.je.dZa());return null === W?null:Math.min(this.Ex.ba(C.na),Math.max(0,W));};c.prototype.aT=function(){var W,ha;return null === (ha=null === (W=this.W) || void 0 === W?void 0:W.Fa.hp) || void 0 === ha?void 0:ha.M;};c.prototype.J$=function(W){!1;this.Wa=(0,P.h7)(this.Wa,W);this.oha();};c.prototype.xna=function(W){return (null === W || void 0 === W?0:W.J)?W.J:(null === W || void 0 === W?0:W.Idb) && this.QE?this.QE.J === Ka.sn?(W=this.QE.Db) && this.Za && this.Za.Gh?this.Za.Gh.M[W].J:this.O:this.QE.J:this.O;};c.prototype.wGb=function(){var W;W=this.Mk(this.xna(void 0)).tc;return W.value?W.value.streams:[];};c.prototype.mB=function(W){return (W=this.Mk(this.xna(W)).Mg) && W.value?W.value.streams:[];};c.prototype.X_a=function(W){for(var ha=la(this.VG),ta=ha.next();!ta.done;ta=ha.next()){if(ta=(ta=ta.value.sg) && ta.find(function(Q){return Q.id === W;}))return ta;}!1;};c.prototype.PVb=function(W){W=void 0 === W?this.aa:W;!1;W.wb.value?this.kn.MVb(W.wb.value):Promise.resolve();};c.prototype.T_a=function(W){for(var ha=la(this.VG),ta=ha.next();!ta.done;ta=ha.next()){ta=la(ta.value.bi);for(var Q=ta.next();!Q.done;Q=ta.next()){if(Q=Q.value.streams.find(function(O){return O.Vb === W;}))return Q;}}!1;};c.prototype.h0a=function(W){for(var ha=la(this.VG),ta=ha.next();!ta.done;ta=ha.next()){ta=la(ta.value.gw);for(var Q=ta.next();!Q.done;Q=ta.next()){if(Q=(Q=Q.value) && Q.streams.find(function(O){return O.Vb === W;}))return Q;}}!1;};c.prototype.QKb=function(W){for(var ha=la(this.VG),ta=ha.next();!ta.done;ta=ha.next()){if(ta.value.Df === W)return !0;}return !1;};c.prototype.zs=function(){var W,ha,ta;return null !== (ta=null === (ha=null === (W=this.t8) || void 0 === W?void 0:W.aS) || void 0 === ha?void 0:ha.call(W)) && void 0 !== ta?ta:this.Yyb().sXa;};c.prototype.jab=function(W){var ha,ta;null !== (ha=this.Za) && void 0 !== ha && ha.Dh && this.Ip.has(W) && ((null === (ta=this.t8) || void 0 === ta?0:ta.aS)?this.t8.ddb():(ha=this.Dja(W),this.Za.Q9(ha,W)));};c.prototype.zNb=function(){return "trailer" === this.xd;};c.prototype.GMb=function(){return !!this.xd && 0 <= this.xd.indexOf("billboard");};c.prototype.GNb=function(){return !!this.xd && 0 <= this.xd.indexOf("video-merch");};c.prototype.fNb=function(){return !!this.xd && 0 <= this.xd.indexOf("mini-modal");};c.prototype.OL=function(){return this.zNb() || this.GMb() || this.GNb() || this.fNb();};c.prototype.B4=function(){var W,ha,ta;ha={Idb:!0};if((null === (W=this.Mk(this.xna(ha)).W) || void 0 === W || !W.Fa.Doa) && this.gw){this.mB(ha).forEach(function(Q){var O,Z;if((0,L.tb)(Q.Eja) && (0,L.tb)(Q.QUa) && (0,L.tb)(Q.PUa) && (0,L.tb)(Q.OUa) && (0 < Q.Eja || 0 < Q.QUa)){O=1;Z=1;(0,L.tb)(Q.i7a) && (0,L.tb)(Q.j7a) && (O=Q.i7a,Z=Q.j7a);O=Q.OUa * Z / (Q.PUa * O);ta=(0,L.tb)(ta)?0 < Q.Eja?Math.max(ta,O):Math.min(ta,O):O;}});return ta;}};c.prototype.lJb=function(){return {tr:this.Twa,rt:this.xua};};c.prototype.mL=function(W){return this.$n[W];};c.prototype.kia=function(){return this.im?this.Ea.Fb().ba(C.na) - this.im:this.qa.fe.ba(C.na) - this.yF();};c.prototype.OR=function(){var W;if(this.im)return this.Ea.Fb().ba(C.na) - this.im;W=this.Ea.my;return this.JV - (this.Qh.ba(C.na) + W.ba(C.na));};c.prototype.lia=function(){return this.im?this.Ea.Fb().ba(C.na) - this.im:this.JV - this.yF();};c.prototype.FGb=function(){var W,ha;W=this.loadTime;ha={};(0,J.Zf)(this.Pha,function(ta,Q){ha[ta]=Q.map(function(O){return O - W;});});return g.Wu?{level:g.Wu.AZa(),charging:g.Wu.ima(),statuses:ha}:null;};c.prototype.g5=function(){this.HXa();return this.V$;};c.prototype.yF=function(){var W;W=this.Wa.OC;W=(0,L.tb)(W)?W:this.Qh.ba(C.na) + this.Ea.my.ba(C.na);(0,G.oa)((0,L.IB)(W));return W;};c.prototype.l_a=function(){return this.Ea.Fb().ba(C.na) - this.Qh.ba(C.na);};c.prototype.r6b=function(){this.Y0b=!0;};c.prototype.K7=function(){this.Y8a();};c.prototype.KX=function(){var W;W=this.W1();return W && W.vbuflmsec || 0;};c.prototype.yR=function(){var W;W=this.W1();return W && W.abuflmsec || 0;};c.prototype.Hxa=function(){var W;W=this.W1();return W && W.vbuflbytes || 0;};c.prototype.zha=function(){var W;W=this.W1();return W && W.abuflbytes || 0;};c.prototype.DW=function(W,ha,ta){var Q,O,Z,oa;Q=this;W=void 0 === W?this.aa:W;ta=void 0 === ta?!0:ta;!1;O=!!ha;Z=!O && W !== this.aa;oa=u.config.P8.enabled?N.ql.tlb:Z?N.ql.RI:this.OL()?N.ql.O_:N.ql.pm;O=this.OL() || O || Z?void 0:this.Pb.Qk.M4(Z);return this.Oh.Vx({ma:W.ma,Wa:W.Wa,J:W.O,Hq:oa,pf:O,gO:ha,Hf:W.Hf},W.Hf?!1:ta).then(function(qa){qa.Loa && Q.fireEvent(R.ea.tU,{O:W.O});return qa;});};c.prototype.L8=function(W,ha,ta){var Q,O,Z;ha=void 0 === ha?this.aa:ha;ta=void 0 === ta?!1:ta;!1;if(ha.Wa.ag && !W.Fa.hp)this.pd(F.U.Kfb);else {Q=this.IU.create(this);O=!!(ha.Hf && ha.Hf.bc && ha.Hf.BV);if(ta){Z=Q.tLb(ha.W,ha.zc,W);W=Z.W;Z=Z.zc;}else (W=O?Q.KZb(W,null === (Z=ha.Hf) || void 0 === Z?void 0:Z.BV):W,Z=Q.T6a(W));ha.W=W;ha.zc=Z;ta || (ha.Mg.set(Z.o3),ha.tc.set(Z.hS),ha.wb.set(Z.iS));ha.fd.ia && ha.fd.EWb();}};c.prototype.xFb=function(W){var ha;ha=void 0 === ha?!1:ha;!1;this.rH({J:W,cG:ha});};c.prototype.Y_a=function(W,ha){if(!this.ti.Exa)return !0;W=this.Jp.ba(C.na) - W;return 0 > W || W > ha;};c.prototype.nZb=function(){!1;this.je.seek(this.jB() || 0,R.Zc.$Y);};c.prototype.A0a=function(W,ha){var ta,Q;ta=this;!1;Q=this.aa;Q.v3=!0;return this.DW(Q,{wV:Q.Df,XYb:W,$Yb:ha},!1).then(function(O){var Z;ta.L8(O,Q,!0);ta.Oh.YW(Q.O,Q.W);return null === (Z=ta.Za) || void 0 === Z?void 0:Z.lO(ta.A7a);}).then(function(){var O,Z;O=Q.bi.find(function(oa){return oa.trackId === W;});Z=Q.bh.find(function(oa){return oa.trackId === ha;});if(!(O && O.xg && Z && Z.xg))throw Error("Track hydration failed: requiredAudioTrackId=" + W + " requiredTextTrackId=" + ha);ta.fireEvent(R.ea.Ecb);return {tc:O,lX:Z};});};c.prototype.On=function(){return this.Sc;};c.prototype.rH=function(W){var ha,ta,Q;ha=W.J;ta=W.cG;W=W.QE;!1;W !== this.QE && (this.QE=W,this.Adb());if(this.PM){if(ha === this.LA){this.PM=ha;return;}W=this.Mk(ha);Q=W.W;Q && (0,L.Uc)(Q.jH) && (0,L.Uc)(Q.kN) && W.by({pr_ats:Q.jH,pr_at:Q.kN});this.fireEvent(R.ea.aqa,{O:this.LA});this.LA=ha;this.oha();ta || this.U9a();this.ey=this.qa.uH;this.aa.im || (this.aa.im=this.Ea.Fb().ba(C.na));}("boolean" === typeof this.Wa.LK?this.Wa.LK:u.config.LK) && !ta && this.$wa.LK(this);ta={O:ha,cG:ta,PM:this.PM};this.PM=ha;this.fireEvent(R.ea.rG,ta);};c.prototype.Pyb=function(){!1;try{this.Pb=new m.GGa(this);this.U2=new ma.eBa(this);this.ZL=this.$L.create(this,this.aa,!0,this.OF);u.config.$ub && new ia.PCa(this,this.Of,this.log);u.config.QR && this.QR(this);this.R5b();}catch(W){this.hr(F.U.Kib,{xa:F.R.ol,Kb:(0,J.ve)(W)});}};c.prototype.R5b=function(){!1;this.rh?this.PE(this.rh):(0,L.Toa)(this.O)?this.Bvb():this.hr(F.U.Hib,{Kb:"" + this.O});};c.prototype.Bvb=function(){var W;!1;W=f.GH.G$a;W?W.ha?this.Via():this.hr(F.U.EEa,W):((0,G.oa)(!u.config.N3),this.wga());};c.prototype.Via=function(){var W;W=this;!this.background.value && u.config.Via?(0,y.wda)(function(){W.wga();},this):this.wga();};c.prototype.wga=function(){var W;W=this;!1;this.state.value == R.Ub.LOADING && (u.config.Mka && !this.OL()?f.GH.Ku(y.yJa,function(ha){ha.ha?(W.J6=ha.J6,W.KRa()):W.hr(F.U.DEa);},!0):this.KRa());};c.prototype.KRa=function(){var W,ha,ta;W=this;if(this.state.value == R.Ub.LOADING){this.log.info("Authorizing",this);ha=this.Ea.Fb().ba(C.na);this.ke("ats");(0,G.wK)(this.O);(0,G.wK)(this.Pj);ta=this.KWb.bind(this,ha);Promise.all([this.W,u.config.fr && this.Oh.k5(this.O)?this.Oh.x4(this.O).catch(function(){}):void 0]).then(function(Q){var O,Z;O=la(Q);Q=O.next().value;O=O.next().value;Q && O?Z=O.Fa.expiration > Q.Fa.expiration?O:Q:Q?Z=Q:O && (Z=O);Z && 18E5 > Z.Fa.expiration - (0,Va.Uia)() && (Z=void 0);return Z?(W.KE=Z === Q?"ui":"videopreparer",Z):W.DW();}).then(function(Q){try{W.L8(Q);ta(p.ig);W.r7a || (W.r7a=!0,W.psa.Oj(W));}catch(O){W.log.error("Exception processing authorization response",O);ta({ha:!1,xa:F.R.dlb});}}).catch(ta);}};c.prototype.KWb=function(W,ha){var ta,Q;ta=this;!1;if(this.state.value == R.Ub.LOADING){this.ke("at");Q=this.W;this.by({pr_ats:Q && (0,L.Uc)(Q.jH)?Q.jH:W,pr_at:Q && (0,L.Uc)(Q.kN)?Q.kN:this.Ea.Fb().ba(C.na)});ha.ha?0 < this.zc.sg.length && this.zc.hS && this.zc.o3 && this.zc.iS?this.F7a?(this.log.info("Processing post-authorize",this),this.F7a(this,function(O){O.ha?ta.gdb():ta.hr(F.U.Oib,O);})):this.gdb():this.hr(F.U.cGa,this.bqa(this.zc)):this.hr(F.U.pD,ha);}};c.prototype.gdb=function(){var W,ha;l.__awaiter(this,void 0,void 0,function Q(){var O;O=this;return Ja(Q,function(Z){!1;if(O.state.value != R.Ub.LOADING)return Z.return();(null === (W=O.aa.W) || void 0 === W?0:W.Fa.hp) && O.ib.reset((0,Ka.C2)(null === (ha=O.aa.W) || void 0 === ha?void 0:ha.Fa.hp,{config:u.config}));O.Za=O.tha(O.ib,O);O.Za.x0b({Zo:d.Zo,config:u.config,Yd:O.Yd,Bc:O.Bc,ft:O.ft.bind(O),Ri:D.Ri,HW:O.HW.bind(O),rH:O.rH.bind(O)});O.DVb();Z.Cv=0;});});};c.prototype.Pzb=function(){var W,ha,ta,Q,O,Z,oa;W=this;!1;try{if(this.state.value === R.Ub.LOADING){this.Pb.open();ha=new Promise(function(qa){W.Pb.addEventListener(K.fj.Pab,qa);});this.je=new I.OGa(this);ta=this.zc.hS.zh === ja.Eo.NONE;Q={geb:this.zc.hS.Wn || ta};O={ma:this.ma,Fp:this.Af,UA:this.UA};try{if(this.state.value !== R.Ub.LOADING)return;Z=this.Za;Z.O5({flags:Q,SUa:O,I:this.A7a,Dja:this.Dja.bind(this)});oa=this.ib.T4(this);this.yUa(oa);Z.Rt(oa);this.brb();Z.Atb({$n:this.$n,loadTime:this.loadTime});this.Sc=this.Bga(Z,this);this.Sc.Dl.addListener(function(qa){qa.newValue?(W.kn.aLb(),u.config.fr && W.cd.R_a()):W.kn.$0b();});this.Sc.addEventListener(R.hY.oA,function(){W.cd.R_a();});}catch(qa){throw (this.log.error("Failed to initialize ASE streaming",{error:qa,startPts:this.bb,flags:Q}),qa);}ha.then(function(){var qa;W.state.value !== R.Ub.CLOSING && W.state.value !== R.Ub.CLOSED && (null === (qa=W.Za) || void 0 === qa?void 0:qa.open());});this.mediaTime.set(this.bb);this.kn=new h.CMa(this);if("boolean" === typeof this.Wa.e9?this.Wa.e9:u.config.e9)this.pX=new A.DMa(this);this.KN();y.yda.forEach(function(qa){qa(W);});this.eSb();}}catch(qa){this.hr(F.U.Mib,{xa:F.R.ol,Kb:(0,J.ve)(qa)});}};c.prototype.fSb=function(){(0,G.oa)(this.state.value == R.Ub.MI);this.loadTime=this.Ea.Fb().ba(C.na);this.state.set(R.Ub.LOADING);};c.prototype.hr=function(W,ha){this.done || (this.done=!0,ha instanceof Y.Mc?this.pd(ha.code,ha):this.pd(W,ha));};c.prototype.QR=function(W){var ta,Q;function ha(){var O,Z;O=g.Wu.ima() + "";Z=W.Pha[O];Z || (Z=W.Pha[O]=[]);Z.push(ta.Ea.Fb().ba(C.na));ta.log.trace("charging change event",{level:g.Wu.AZa(),charging:g.Wu.ima()});}ta=this;Q=g.Wu.ngb;g.Wu.addEventListener(Q,ha);W.addEventListener(R.ea.tg,function(){g.Wu.removeEventListener(Q,ha);});};c.prototype.cwa=function(W){var ha,ta;ha=this;if(this.state.value == R.Ub.MI || this.state.value == R.Ub.LOADING || this.state.value == R.Ub.$d){this.Bc.info("Playback closing",this,W?{ErrorCode:W.x3}:void 0);this.wE("Closing");v.he.removeListener(v.Nk,this.mV);this.rh=W;this.aa.ZR=this.jB();this.HXa();(null === (ta=this.Za) || void 0 === ta?0:ta.Dh) && this.Za.flush();try{this.Eb.Dc(R.ea.tg,{movieId:this.LA});}catch(Q){this.Bc.error("Unable to fire playback closing event",Q);}this.state.set(R.Ub.CLOSING);this.Zeb();this.Y0b || (0,M.Lf)(function(){return ha.Y8a();});}};c.prototype.$Eb=function(){this.Eb.Dc(R.ea.bdb);};c.prototype.IXa=function(){var W;W=this.mediaTime.value;this.hOb != W && (!1,this.hOb=W,this.Eb.Dc(R.ea.Gwa));};c.prototype.Y8a=function(){var W,ha;W=this;(0,G.oa)(this.state.value == R.Ub.CLOSING);ha=this.J6;this.J6=void 0;ha?f.GH.release(ha,function(ta){(0,G.oa)(ta.ha);W.bja();}):this.bja();};c.prototype.Zeb=function(){var W;null === (W=this.Za) || void 0 === W?void 0:W.de();delete this.Za;};c.prototype.bja=function(){var W;this.bja=p.Iw;(0,G.oa)(this.state.value == R.Ub.CLOSING);W=y.un.indexOf(this);(0,G.oa)(0 <= W);y.un.splice(W,1);this.state.set(R.Ub.CLOSED);this.Eb.Dc(R.ea.closed,void 0,!0);this.Eb.wg();delete this.ee;this.aa.K7();};c.prototype.oha=function(){this.Wa.playbackState && ("number" === typeof this.Wa.playbackState.volume && this.volume.set((0,E.Jw)(this.Wa.playbackState.volume,0,1)),"boolean" === typeof this.Wa.playbackState.muted && this.muted.set(this.Wa.playbackState.muted),"number" === typeof this.Wa.playbackState.playbackRate && this.playbackRate.set(this.Wa.playbackState.playbackRate));};c.prototype.HXa=function(){this.Eb.Dc(R.ea.yab,{V$:this.V$});};c.prototype.HW=function(W,ha,ta){ha=this.X_a(ha);W=this.fi(W);ha && W.Ac[ta].set(ha);};c.prototype.ft=function(){return {AudioBufferLength:this.yR(),VideoBufferLength:this.KX()};};c.prototype.W1=function(){var W;if(null === (W=this.Za) || void 0 === W?0:W.Dh)return this.Za.t1a();};c.prototype.eSb=function(){this.state.value == R.Ub.LOADING && this.state.set(R.Ub.$d);};c.prototype.Yyb=function(){var W,ha,ta;W=void 0 === W?this.O:W;ha=this.mB({J:W});ta=this.Mk(W);return (0,Ca.zs)(ha,function(Q){return ta.iM.Xy(Q);});};c.prototype.Dja=function(W){var ha,ta;W=void 0 === W?this.O:W;ha=this.mB({J:W});ta=this.Mk(W);return (0,Ca.K_a)(ha,function(Q){return ta.iM.Xy(Q);});};c.prototype.yUa=function(W){var ha;ha=this;Object.keys(W.M).filter(function(ta){return !ha.Ip.has(W.M[ta].J);}).forEach(function(ta){var Q,O,Z;O=W.M[ta];Z=O.J;O=Object.assign(null !== (Q=ha.Rj.wL(Z).nb) && void 0 !== Q?Q:{},{bb:O.sa,lf:O.ta,ag:!1,OC:Date.now(),LL:!0});ha.Nga({J:Z,I:ta,Wa:O});});};Xa.Object.defineProperties(c.prototype,{VG:{configurable:!0,enumerable:!0,get:function(){return this.Ip.values();}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Ip.get(this.LA);}},bb:{configurable:!0,enumerable:!0,get:function(){var W,ha;return void 0 !== this.Gl?this.Gl:null !== (ha=null === (W=this.VG.next()) || void 0 === W?void 0:W.value.Wa.bb) && void 0 !== ha?ha:0;}},zc:{configurable:!0,enumerable:!0,get:function(){return this.aa.zc;},set:function(W){this.aa.zc=W;}},n4:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wa.n4;}},o4:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wa.o4;}},index:{configurable:!0,enumerable:!0,get:function(){return this.aa.index;}},I:{configurable:!0,enumerable:!0,get:function(){return this.aa.I;}},A7a:{configurable:!0,enumerable:!0,get:function(){return this.ib.Fxa?this.ib.qh:this.aa.I;}},ee:{configurable:!0,enumerable:!0,get:function(){return this.aa.ee;},set:function(W){this.aa.ee=W;}},im:{configurable:!0,enumerable:!0,get:function(){return this.aa.im;},set:function(W){this.aa.im=W;}},KE:{configurable:!0,enumerable:!0,get:function(){return this.aa.KE;},set:function(W){this.aa.KE=W;}},JE:{configurable:!0,enumerable:!0,get:function(){return this.aa.JE;},set:function(W){this.aa.JE=W;}},N5:{configurable:!0,enumerable:!0,get:function(){return this.aa.N5;},set:function(W){this.aa.N5=W;}},W:{configurable:!0,enumerable:!0,get:function(){return this.aa.W;},set:function(W){this.aa.W=W;}},Gl:{configurable:!0,enumerable:!0,get:function(){return this.aa.Gl;},set:function(W){this.aa.Gl=W;}},gX:{configurable:!0,enumerable:!0,get:function(){return this.aa.gX;},set:function(W){this.aa.gX=W;}},Wa:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wa;},set:function(W){this.aa.Wa=W;}},ZL:{configurable:!0,enumerable:!0,get:function(){return this.aa.ZL;},set:function(W){this.aa.ZL=W;}},Vk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Vk;}},O:{configurable:!0,enumerable:!0,get:function(){return this.aa.O;}},xd:{configurable:!0,enumerable:!0,get:function(){return this.aa.xd;}},bi:{configurable:!0,enumerable:!0,get:function(){return this.aa.bi;}},gw:{configurable:!0,enumerable:!0,get:function(){return this.aa.gw;}},cz:{configurable:!0,enumerable:!0,get:function(){return this.aa.cz;}},bh:{configurable:!0,enumerable:!0,get:function(){return this.aa.bh;}},Df:{configurable:!0,enumerable:!0,get:function(){return this.aa.Df;}},gG:{configurable:!0,enumerable:!0,get:function(){return this.aa.gG;}},yt:{configurable:!0,enumerable:!0,get:function(){return this.aa.yt;}},Kk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Kk;}},sg:{configurable:!0,enumerable:!0,get:function(){return this.aa.sg;}},Ex:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ex;},set:function(W){this.aa.Ex=W;}},ma:{configurable:!0,enumerable:!0,get:function(){return this.aa.ma;}},Pj:{configurable:!0,enumerable:!0,get:function(){return this.aa.Pj;}},Qh:{configurable:!0,enumerable:!0,get:function(){return this.aa.Qh;}},ey:{configurable:!0,enumerable:!0,get:function(){return this.aa.ey;},set:function(W){this.aa.ey=W;}},Af:{configurable:!0,enumerable:!0,get:function(){return this.aa.Af;}},wH:{configurable:!0,enumerable:!0,get:function(){return this.aa.wH;}},cS:{configurable:!0,enumerable:!0,get:function(){return this.aa.cS;}},Vc:{configurable:!0,enumerable:!0,get:function(){return this.aa.Vc;}},fp:{configurable:!0,enumerable:!0,get:function(){return this.aa.fp;}},uka:{configurable:!0,enumerable:!0,get:function(){return this.aa.uka;}},iM:{configurable:!0,enumerable:!0,get:function(){return this.aa.iM;}},UA:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.A3 && 0 === this.aa.ma % u.config.A3;}},v3:{configurable:!0,enumerable:!0,get:function(){return this.aa.v3;}},fd:{configurable:!0,enumerable:!0,get:function(){return this.aa.fd;}},Kja:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},zg:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.O,TrackingId:this.Pj,Xid:this.ma};}},x8:{configurable:!0,enumerable:!0,get:function(){return this.ib.x8;}}});b.DJa=c;},2408:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C){var F;F=this;this.j=x;this.Jk=z;this.EX=A;this.Ah=B;this.PW=D;this.Lm=C;this.ZUa={};this.update=function(){var G;if(F.po.selectionStart == F.po.selectionEnd){G="";F.iT().forEach(function(E){G=G?G + "\n":"";Object.entries(E).forEach(function(J){var M;M=la(J);J=M.next().value;M=M.next().value;G+=J + ": " + M + "\n";});});F.po.style.fontSize=(0,k.Jw)((0,g.KI)(F.element.clientHeight / 60),8,18) + "px";F.po.value=G;}};this.fTb=function(){var G,E;if(F.j.je){E=F.j.je.DF();E && (F.Gja=E - (null !== (G=F.xcb) && void 0 !== G?G:0),F.xcb=E,F.vM());}};this.vM=function(){F.EX.Zi(F.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == n.Az.Hgb || G.keyCode == n.Az.Q) && F.toggle();};this.o7a=[x.mediaTime,x.Ac[q.v.fa],x.Ac[q.v.X],x.rf,x.Td,x.Qg,x.Oe,x.Zh,x.state,x.tq,x.lb,x.volume,x.muted];this.element=this.Ah.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.po=this.Ah.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.po);this.controls=this.Ah.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);z=this.Ah.createElement("button",void 0,"X");z.addEventListener("click",function(){return F.pv();},!1);this.controls.appendChild(z);f.he.addListener(f.nB,this.onkeydown);x.addEventListener(h.ea.tg,function(){f.he.removeListener(f.nB,F.onkeydown);F.pv();});}Object.defineProperty(b,"__esModule",{value:!0});b.FJa=void 0;l=a(58680);f=a(25892);k=a(19591);d=a(25420);g=a(50876);m=a(95919);h=a(34202);n=a(50364);p=a(2467);q=a(18920);u=a(91854);r={};t=(r[h.Ub.MI]="Not Loaded",r[h.Ub.LOADING]="Loading",r[h.Ub.$d]="Normal",r[h.Ub.CLOSING]="Closing",r[h.Ub.CLOSED]="Closed",r);r={};w=(r[h.uf.$d]="Normal",r[h.uf.Qe]="Pre-buffering",r[h.uf.jLa]="Network stalled",r);r={};v=(r[h.cb.Ef]="Waiting for decoder",r[h.cb.me]="Playing",r[h.cb.Wh]="Paused",r[h.cb.cq]="Media ended",r);y=[h.ea.Y6];c.prototype.L_b=function(x){this.ZUa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.XT=qb.setInterval(this.fTb,1E3),document.body.appendChild(this.element),this.o7a.forEach(function(z){z.addListener(x.vM);}),y.forEach(function(z){x.j.addEventListener(z,x.vM);}),this.visible=!0,this.Lm.bX().then(function(z){x.Mna=z;x.vM();}));this.update();};c.prototype.pv=function(){var x;x=this;this.visible && (clearInterval(this.XT),this.xcb=this.Gja=void 0,document.body.removeChild(this.element),this.o7a.forEach(function(z){z.removeListener(x.vM);}),y.forEach(function(z){x.j.removeEventListener(z,x.vM);}),this.EX.Zi(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.pv():this.show();};c.prototype.iT=function(){var x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha,ta,Q,O,Z,oa,qa,Ha,Ya,Wa,rb,nb,Fb,Kb,Ta,$a,ib,mb,pb,Bb,Db,Lb,Pb,Xb,Ib,Ob;x=this;Y=[];ma=this.Jk();Y.push({Version:"6.0041.573.911",Esn:ma?ma.ek:"UNKNOWN",PBCID:this.j.Af,UserAgent:g.uD});try{ia=this.j.mediaTime.value;ja={MovieId:this.j.O,PackageId:null === (A=null === (z=this.j.W) || void 0 === z?void 0:z.Fa) || void 0 === A?void 0:A.en,Xid:this.j.ma + " (" + l.un.map(function(Qb){return Qb.ma;}).join(", ") + ")",Position:(0,k.ih)(ia),Duration:(0,k.ih)(this.j.Ex.ba(p.na)),PlayerDuration:(0,k.ih)(this.j.Jp.ba(p.na)),Volume:(0,g.qn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.Vma()};if(this.j.Wa.ag || this.j.Wa.LL)ja["Segment Position"]=(0,k.ih)(this.j.jB());if(this.j.fd.ia){ja["Is Live"]="true";ja["Live Event Slate"]=this.j.fd.iB();ja["Is At Live Edge"]="" + this.j.fd.CB();ja["Adjusted Live Edge Target"]=(0,k.ih)(this.j.fd.Os());ja["Live Adjusted Duration"]=(0,k.ih)(this.j.fd.DZa());ja["Live Adjusted Playback Position"]=(0,k.ih)(this.j.fd.d5());ja["Live Event Time Playback Position"]=this.j.fd.vHb();Ca=[q.v.X,q.v.fa,q.v.Ya].reduce(function(Qb,cc){var nc,Ac,Pc;Pc=null === (Ac=null === (nc=x.j.Za) || void 0 === nc?void 0:nc.uv) || void 0 === Ac?void 0:Ac[cc];Qb[(0,u.wG)(cc)]=Pc?{encoderRegion:Pc.WA,encoderTag:Pc.XA}:void 0;return Qb;},{});ja["Live Logging Info"]=JSON.stringify(Ca);}Y.push(ja);}catch(Qb){}try{Y.push({"Player state":t[this.j.state.value],"Buffering state":w[this.j.tq.value],"Rendering state":v[this.j.lb.value]});}catch(Qb){}try{Ba=this.j.Hxa() + this.j.zha();Ka=this.j.rf.value;Va=null === Ka || void 0 === Ka?void 0:Ka.stream;db=this.j.Td.value;W=null === db || void 0 === db?void 0:db.stream;ha=null !== (B=null === Va || void 0 === Va?void 0:Va.bitrate) && void 0 !== B?B:"?";ta=W?W.bitrate + " (" + W.width + "x" + W.height + ")":"?";Q=null !== (D=null === Va || void 0 === Va?void 0:Va.Vb) && void 0 !== D?D:"?";O=null !== (C=null === W || void 0 === W?void 0:W.Vb) && void 0 !== C?C:"?";Z=null !== (F=null === W || void 0 === W?void 0:W.zb) && void 0 !== F?F:"?";oa=null !== (E=null === (G=this.j.Oe.value) || void 0 === G?void 0:G.zb) && void 0 !== E?E:"?";qa=null !== (M=null === (J=this.j.Qg.value) || void 0 === J?void 0:J.bitrate) && void 0 !== M?M:"?";Ha=null !== (I=null === (L=this.j.Oe.value) || void 0 === L?void 0:L.bitrate) && void 0 !== I?I:"?";Ya=this.j.Ac[q.v.X].value;Wa=this.j.Ac[q.v.fa].value;Y.push({"Playing bitrate (a/v)":ha + " / " + ta,"Playing/Buffering vmaf":Z + "/" + oa,"Buffering bitrate (a/v)":qa + " / " + Ha,"Buffer size in Bytes (a/v)":this.j.zha() + " / " + this.j.Hxa(),"Buffer size in Bytes":"" + Ba,"Buffer size in Seconds (a/v)":(0,k.ih)(this.j.yR()) + " / " + (0,k.ih)(this.j.KX()),"Downloadables (a/v)":Q + " / " + O,"Current CDN (a/v)":(Wa?Wa.name + ", Id: " + Wa.id:"?") + " / " + (Ya?Ya.name + ", Id: " + Ya.id:"?")});}catch(Qb){}try{rb=this.j.rf.value;z={};if(rb && rb.stream){nb=rb.stream;Fb=nb.track;Kb=this.PW.W2(Fb.streams);Ta=nb.Ld;$a=(/xheaac/).test(Ta)?"xhe-aac":(/heaac/).test(Ta)?"he-aac":(/ddplus/).test(Ta)?"ddplus":"unknown";(/atmos/).test(Ta) && ($a+=", atmos");z["Audio Track"]=Fb.re + ", Id: " + Fb.trackId + ", Channels: " + Fb.channels + ", Codec: " + Kb + " (" + $a + ")";z["Audio Tags"]=null === (P=rb.stream) || void 0 === P?void 0:P.zi.toString();}ib=this.j.Td.value;if(ib && ib.stream){mb=ib.stream;pb=this.PW.c3(this.j.Mg.value?this.j.Mg.value.streams:[]);Bb=mb.Ld;Db=(/hevc/).test(Bb)?"hevc":(/vp9/).test(Bb)?"vp9":(/h264hpl/).test(Bb)?"avchigh":(/av1/).test(Bb)?"av1":"avc";(/hdr/).test(Bb) && (Db+=", hdr");(/dv/).test(Bb) && (Db+=", dv");(/prk/).test(Bb) && (Db+=", prk");z["Video Track"]="Codec: " + pb + " (" + Db + ")";z["Video Tags"]=null === (K=ib.stream) || void 0 === K?void 0:K.zi.toString();}Lb=this.j.Zh.value;z["Timed Text Track"]=Lb?Lb.re + ", Profile: " + Lb.profile + ", Id: " + Lb.trackId:"none";Y.push(z);}catch(Qb){}try{Pb=this.j.je;Xb=this.j.Oe.value?this.j.Oe.value.framerate:0;Ib=a(83795).J3a;Y.push({Framerate:Xb.toFixed(3),"Current Dropped Frames":(0,m.tb)(this.Gja)?this.Gja:"","Total Frames":Pb.mv(),"Total Dropped Frames":Pb.DF(),"Total Corrupted Frames":Pb.eT(),"Main Thread stall/sec":Ib?Ib.KHb().join(" "):"DISABLED",KeySystem:null === (H=this.j.ee) || void 0 === H?void 0:H.kL(),KeyStatus:null === (R=null === (N=this.j.ee) || void 0 === N?void 0:N.xZa) || void 0 === R?void 0:R.call(N),VideoDiag:(0,d.Ypa)(this.j.g5()),"HDR support":this.Mna?this.Mna.result + " (" + this.Mna.reason + ")":"unknown"});}catch(Qb){}try{Y.push({Throughput:this.j.qb + " kbps"});}catch(Qb){}Ob=void 0;try{Object.entries(this.ZUa).forEach(function(Qb){var cc;cc=la(Qb);Qb=cc.next().value;cc=cc.next().value;Ob=Ob || ({});Ob[Qb]=JSON.stringify(cc);});Ob && Y.push(Ob);}catch(Qb){}return Y;};b.FJa=c;},64155:function(r,b,a){var f,k,d,g;function c(m,h,n,p){this.ma=m;this.UYb=h;this.la=n;this.Yf=p;this.Vc={};}function l(m,h){this.Cf=m;this.Yf=h;this.Rd={};this.la=m.Ua("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.klb=b.HJa=void 0;r=a(70655);f=a(86700);k=a(71163);d=a(58998);g=a(2467);l.prototype.cYb=function(m,h){this.Rd[m] && this.la.warn("registerPlayback: xid " + m + " already registered, overriding");h=(h?h:this.Yf.Fb()).ba(g.na);this.la.trace("registerPlayback: xid " + m + " at " + h);this.Rd[m]=new c(m,h,this.la,this.Yf);return this.Rd[m];};l.prototype.PIb=function(m){this.Rd[m] || this.la.warn("getPlaybackMilestones: xid " + m + " is not registered");return this.Rd[m];};l.prototype.xYb=function(m){this.la.trace("removePlayback: xid " + m);delete this.Rd[m];};a=l;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Xa)),r.__param(1,(0,f.l)(d.Jc))],a);b.HJa=a;c.prototype.Yo=function(m,h){h=h?h.ba(g.na):this.Yf.Fb().ba(g.na) - this.UYb;this.la.trace("addMilestone: xid " + this.ma + " " + m + " at " + h);this.Vc[m]=h;};b.klb=c;},92979:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Bda=void 0;a.prototype.cqa=function(c){c=void 0 === c?{}:c;return {Pj:c.trackingId,i2:c.authParams,cm:c.sessionParams,xd:c.uiLabel,P$:c.uxLabels,kka:c.disableTrackStickiness,OC:c.uiPlayStartTime,n4:c.forceAudioTrackId,o4:c.forceTimedTextTrackId,ag:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,LK:c.enableTrickPlay,Ona:c.heartbeatCooldown,LL:c.isPlaygraph,I6:c.loadImmediately || !1,e7a:c.pin,NV:c.preciseSeeking,bb:c.startPts,lf:c.endPts,Ui:c.logicalEnd,e9:c.renderTimedText,eXa:c.extraManifestParams,xha:c.assetId,Osb:c.audioLanguages,d3b:c.textLanguages,eeb:c.videoLanguage,en:c.packageId,CVa:c.desiredDownloadables,lua:c.requestReference,prb:c.additionalAudioAssets,srb:c.additionalTextAssets};};b.Bda=a;},902:function(r,b,a){var l,f;function c(k,d){k=l.Ib.call(this,k) || this;k.oqa=d;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;l=a(14414);f=a(19591);ea(c,l.Ib);c.prototype.set=function(k){l.Ib.prototype.set.call(this,(0,f.Jw)(k,0,this.oqa));};b.IJa=c;},69444:function(r,b,a){var l,f,k;function c(d,g,m,h,n,p,q,u,t,w,v,y,x,z){this.index=d;this.O=g;this.I=m;this.Wa=h;this.ma=n;this.Qh=p;this.B3a=q;this.Rwb=t;this.O4a=v;this.Hf=x;this.tc=new l.Ib(null);this.Mg=new l.Ib(null);this.wb=new l.Ib(null);this.Zh=new l.Ib(null);this.Kt=new l.Ib(void 0);this.Oe=new l.Ib(null);this.Qg=new l.Ib(null);this.rf=new l.Ib(null);this.Td=new l.Ib(null);this.Ac=[new l.Ib(null),new l.Ib(null)];this.mediaTime=new l.Ib(void 0);this.playbackRate=new l.Ib(1);this.fp=new l.Ib(null);this.background=new l.Ib(!1);this.KE=this.JE="notcached";this.v3=!1;u && (this.Oe.set(u.Oe.value),this.Qg.set(u.Qg.value));this.Vk=w(this);this.Yl=this.O4a.cYb(this.ma,this.Qh);this.fd=y(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.JJa=void 0;l=a(14414);f=a(2467);k=a(70633);c.prototype.ke=function(d){this.Yl.Yo(d);};c.prototype.by=function(d){var g;g=this;Object.entries(d).forEach(function(m){var h;h=la(m);m=h.next().value;h=h.next().value;g.Yl.Yo(m,(0,f.Hb)(h - g.Qh.ba(f.na)));});};c.prototype.K7=function(){this.O4a.xYb(this.ma);};Xa.Object.defineProperties(c.prototype,{xd:{configurable:!0,enumerable:!0,get:function(){return this.Wa.xd;}},P$:{configurable:!0,enumerable:!0,get:function(){return this.Wa.P$;}},Kk:{configurable:!0,enumerable:!0,get:function(){return this.zc && this.zc.Kk;}},bi:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.bi) && void 0 !== d?d:[];}},gw:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.gw) && void 0 !== d?d:[];}},cz:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.cz) && void 0 !== d?d:[];}},bh:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.bh) && void 0 !== d?d:[];}},Df:{configurable:!0,enumerable:!0,get:function(){return this.zc && this.zc.Df;}},gG:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.gG) && void 0 !== d?d:!1;}},yt:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.yt) && void 0 !== d?d:[];}},sg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.zc && this.zc.sg) && void 0 !== d?d:[];}},Ex:{configurable:!0,enumerable:!0,get:function(){var d,g,m,h,n;return this.fd.ia?((0,k.oa)(void 0 === this.nJ || Infinity === this.nJ.ba(f.na),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.fd.ia + ", contentDuration:" + (null === (d=this.nJ) || void 0 === d?void 0:d.display)),(0,f.Hb)(Math.max(null !== (g=this.fd.Os()) && void 0 !== g?g:0,null !== (m=this.mediaTime.value) && void 0 !== m?m:0))):this.nJ && 0 < this.nJ.ba(f.na)?this.nJ:(0,f.Hb)(null !== (n=null === (h=this.W) || void 0 === h?void 0:h.Fa.duration) && void 0 !== n?n:0);},set:function(d){this.nJ=d;}},u4a:{configurable:!0,enumerable:!0,get:function(){var d;return this.fd.ia?((0,k.oa)(void 0 === this.U0 || Infinity === this.U0.ba(f.na),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.fd.ia + ", maxSeekPts:" + (null === (d=this.U0) || void 0 === d?void 0:d.display)),(0,f.Hb)(this.fd.lIb())):this.U0;},set:function(d){this.U0=d;}},Pj:{configurable:!0,enumerable:!0,get:function(){return this.Wa.Pj || 0;}},cS:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.ZR?this.ZR:void 0 === this.mediaTime.value?null:this.Rwb(this.mediaTime.value,this.I);}},Af:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Fa.DA) || void 0 === g?void 0:g.Fp;}},wH:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Fa.DA) || void 0 === g?void 0:g.wH;}},Vc:{configurable:!0,enumerable:!0,get:function(){return this.Yl.Vc;}}});b.JJa=c;},76330:function(r,b,a){var l,f,k;function c(d,g,m){this.Xg=d;this.ub=m;this.M=[];this.log=g.Ua("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.NJa=void 0;l=a(70655);r=a(86700);f=a(89542);k=a(71163);a(2467);c.prototype.some=function(d){return this.M.some(d);};c.prototype.t5=function(){return !!(this.M[0] && this.M[0].stream && this.ub.vg(this.M[0].stream.zb));};c.prototype.pp=function(d){return this.M.filter(d).reduce(function(g,m){return g + (m.endTime - m.startTime) / m.rate;},0);};c.prototype.zT=function(d){return this.M.filter(d).reduce(function(g,m){return g + m.endTime - m.startTime;},0);};c.prototype.Zla=function(d,g){var m,h;m=this;h={};return this.M.filter(function(n){return !g || n.track.kC === g;}).reduce(function(n,p){var q,u,t;q=d.bind(m,p)();u=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=h[u];t?t.duration+=p:(t=q,t.duration=p,n.push(t),h[u]=t);return n;},[]);};c.prototype.gf=function(d,g,m){var h;m=void 0 === m?this.Xg.playbackRate.value:m;h=this.M;d && g && g >= d.startTime && (d={Ac:d.Ac,track:d.track,stream:d.stream,startTime:d.startTime,CB:d.CB,Koa:d.Koa,endTime:g,rate:m},(g=h[h.length - 1]) && g.track === d.track && g.stream === d.stream && g.Ac === d.Ac && g.endTime === d.startTime && g.rate === d.rate?g.endTime=d.endTime:h.push(d),!1);};a=c;a=l.__decorate([l.__param(1,(0,r.l)(k.Xa)),l.__param(2,(0,r.l)(f.Wf))],a);b.NJa=a;},33769:function(r,b,a){var l,f,k,d;function c(g){this.Ea=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.VKa=void 0;r=a(70655);l=a(34202);f=a(86700);k=a(58998);d=a(2467);c.prototype.Ej=function(g){g.cc !== l.Zc.Kr && (this.trace.unshift({time:this.Ea.Fb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.y_a=function(){var g,m;g=this;if(0 === this.trace.length)return {};m=this.trace[0];return {timeSinceLastRepositionMs:this.lcb(m.time),lastRepositionCause:this.KYa(m.event.cc),repositionTrace:this.trace.map(function(h){return {timeSince:g.lcb(h.time),cause:g.KYa(h.event.cc),newMediaTime:h.event.D7,oldMediaTime:h.event.ura,contentPts:h.event.ys,skip:h.event.skip};})};};c.prototype.lcb=function(g){return this.Ea.Fb().wa(g).ba(d.na);};c.prototype.KYa=function(g){switch(g){case l.Zc.Kr:return "initial";case l.Zc.Nw:return "seek";case l.Zc.pP:return "live_edge";case l.Zc.YI:return "segment_changed";case l.Zc.X_:return "track_changed";case l.Zc.$Y:return "force_rebuffer";}};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Jc))],a);b.VKa=a;},45277:function(r,b,a){var l,f,k,d;function c(g,m,h){this.config=g;this.j=m;this.Cf=h;this.Dy=void 0;this.n8=!1;this.O2a=0;this.log=this.Cf.Ua();}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;l=a(34202);f=a(2467);k=a(19591);d=a(95919);c.prototype.vIb=function(g,m,h,n,p){var q,u,t,w;h=void 0 === h?this.j.I:h;n=void 0 === n?!1:n;q=m === l.Zc.YI;u=this.Lub(q?g:this.Ovb(g,h),m,n,h);n=this.j.Za;q?(g=u,u=n.qja(u)):g=n.sja(h,u);m === l.Zc.Kr && (this.j.dSa=u);p=this.ci(g,m,p);t=(q=q || p)?g:u;if(this.j.Jp){w=this.j.Wa.ag?this.config().Xra:this.config().fC;this.j.Y_a(t,w) || m !== l.Zc.Nw && m !== l.Zc.pP || (t=this.j.Jp.ba(f.na) - w - 1E3,q?(g=t,u=n.qja(t)):(g=n.sja(h,t),u=t));}return {D7:t,ys:u,lVb:g,ci:p};};c.prototype.Lub=function(g,m,h,n){this.nNb() || h?g=Math.round(g):(h=this.j.Za.Nub(g,n),g=(0,d.tb)(h)?h:Math.round(g));this.j.Wa.ag && (g=this.wFb(g));this.config().o$a && 0 !== g && m !== l.Zc.Kr && (g+=this.config().o$a);return g;};c.prototype.ci=function(g,m,h){if(this.config().zBb || m === l.Zc.Kr || m === l.Zc.X_ || m === l.Zc.$Y || !h || g < h.start.ba(f.na) || g >= h.end.ba(f.na))return !1;m=this.j.Za;return (null === m || void 0 === m?void 0:m.Dh) && m.ci(g) || !1;};c.prototype.nNb=function(){return this.j.Wa.ag?!0:"boolean" === typeof this.j.Wa.NV?this.j.Wa.NV:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().NV && this.config().IVb:this.config().NV;};c.prototype.Ovb=function(g,m){var h;h=this.j.fi(m);m=h.Ex;h=h.u4a;!1;m=h || m;h=this.j.fd.ia && !this.j.fd.b6()?0:this.config().K6b;m=Math.max(0,m.ba(f.na) - h);return (0,k.Jw)(g,0,m);};c.prototype.wFb=function(g){var m,h,n;m=this.j.aT();if(Object.values(m).find(function(p){var q;q=p.ta;q=g < (null !== q && void 0 !== q?q:Infinity);return p.sa <= g && q;}))return (!1,g);n=g;Object.entries(m).forEach(function(p){var q;p=la(p);p.next();p=p.next().value.sa;q=p - g;0 < q && (void 0 === h || q < h) && (h=q,n=p);});!1;return n;};Xa.Object.defineProperties(c.prototype,{d6:{configurable:!0,enumerable:!0,get:function(){return this.n8 || !!this.Dy;}}});b.vLa=c;},24016:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zLa=void 0;r=a(70655);a=a(86700);c.prototype.NWb=function(f,k){k.ZL.eb.dva({xid:k.ma,auxPlaybackcontextid:k.Df,auxMid:f.auxMid,auxMidType:f.auxMidType,reason:f.reason,adBreakLocationMs:f.adBreakLocationMs},"error" === f.sev);};l=c;l=r.__decorate([(0,a.T)()],l);b.zLa=l;},73198:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t,w,v,y,x,z){var A;A=this;this.b4b=n;this.j=p;this.id=q;this.height=u;this.width=t;this.SUb=w;this.TUb=v;this.size=y;this.Us=x;this.urls=z;this.type=l.Uj.axa;this.retry=!0;this.state=g.Fo.o_;this.zg={};this.c2={};this.LWb=function(B){if(B.ha)try{A.data=A.b4b.parse(B.content);A.state=g.Fo.lD;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.zg);A.j.fireEvent(m.ea.xX);}catch(D){A.state=g.Fo.SHa;A.log.error("TrickPlay parse failed.",D);}else (A.state=g.Fo.o_,A.log.error("TrickPlay download failed.",(0,h.zw)(B),A.zg));};this.log=(0,k.Ih)(p,"TrickPlay");}b.z=void 0;l=a(20736);f=a(37986);k=a(89082);d=a(89927);g=a(84506);m=a(34202);h=a(68172);c.prototype.CHb=function(n){if(this.data && (this.Us && (n+=this.Us),n=Math.floor(n / this.data.header.ocb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.ocb,height:this.height,width:this.width,pixelAspectHeight:this.SUb,pixelAspectWidth:this.TUb};};c.prototype.sL=function(){switch(this.state){case g.Fo.lD:return "downloaded";case g.Fo.LOADING:return "loading";case g.Fo.qP:return "downloadfailed";case g.Fo.SHa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.XJb();n?(this.state=g.Fo.LOADING,this.QBb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.XJb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(u){return (n.c2[n.urls[u]] || 0) <= f.config.Y3b;});if(p){q=this.urls[p];(q in this.c2)?this.c2[q]++:this.c2[q]=1;return {url:q,Fm:p};}};c.prototype.QBb=function(n){var p,q;this.log.trace("Downloading",n.url,this.zg);q=this.y4(n.Fm);n={responseType:d.MT,Ac:q,url:n.url,track:this,nr:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",PA:"trickplay"};this.j.x5.download(n,this.LWb);};c.prototype.y4=function(n){return this.j.sg.find(function(p){return p && p.id === n;});};b.z=c;},26277:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.Yf=h;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;r=a(70655);l=a(34202);f=a(84506);k=a(58998);d=a(86700);g=a(2467);a=a(17244);c.prototype.LK=function(h){var n;h.yX={};if(!h.OL() && h.cz && 0 < h.cz.length && (h.bz=this.qZa(h),h.bz)){n=this.y0b(h);n() || (h.lb.addListener(n),h.Oe.addListener(n));}};c.prototype.y0b=function(h){var p;function n(){var q,u;if(!h.Oe.value || h.lb.value === l.cb.Ef)return !1;q=h.bz;u=q.getState();return u === f.Fo.LOADING?!1:u !== f.Fo.lD && q.retry?(q=p.SJb(h))?(h.yX.offset=p.Yf.Fb().ba(g.na),h.bz=q,q.download(),!0):!1:(h.lb.removeListener(n),h.Oe.removeListener(n),!1);}p=this;return n;};c.prototype.SJb=function(h){var n,p;n=this.config();p=h.Vk.pp() < n.$3b;n=(h.Oe.value?h.Oe.value.bitrate:0) > n.Z3b;return this.oJb(h,p && n);};c.prototype.oJb=function(h,n){if(n && (n=this.qZa(h),this.q_a(h,n.size)))return (h.yX.C9a="h",n);n=this.hIb(h);if(this.q_a(h,n.size))return (h.yX.C9a="l",n);};c.prototype.q_a=function(h,n){var p,q;p=this.config();q=Math.min(h.yR(),h.KX());return h.otb.zub(n) * (1 + .01 * p.rrb[2]) < q * p.c4b;};c.prototype.qZa=function(h){return h.cz[h.cz.length - 1];};c.prototype.hIb=function(h){return h.cz[0];};m=c;m=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(k.Jc)),r.__param(1,(0,d.l)(a.ac))],m);b.OMa=m;},81853:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.QMa=void 0;r=a(70655);f=a(70834);a=a(86700);c.prototype.parse=function(d){var g,m;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);m=new f.WO(g);d=this.oUb(m);g=this.pUb(m,g,d);return {header:d,images:g};};c.prototype.oUb=function(d){var g,m,h,n;if(d.$ma() < this.YYb())throw Error("array buffer too short");l.bGa.forEach(function(p){if(p != d.Ky())throw Error("BIF has invalid magic.");});g=d.$M();if(g > l.VERSION)throw Error("BIF version in unsupported");m=d.$M();if(0 == m)throw Error("BIF has no frames.");h=d.$M();n=d.Dj(l.IKa);return {version:g,xSb:m,ocb:h,E9a:n};};c.prototype.pUb=function(d,g,m){var p,q;for(var h=[],n=0;n <= m.xSb;n++){p={timestamp:d.$M(),offset:d.$M()};void 0 != q && h.push(g.subarray(q.offset,p.offset));q=p;}return h;};c.prototype.YYb=function(){return l.bGa.length + 4 + 4 + 4 + l.IKa;};k=l=c;k.bGa=[137,66,73,70,13,10,26,10];k.VERSION=0;k.IKa=44;k=l=r.__decorate([(0,a.T)()],k);b.QMa=k;},34886:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v;function c(y){return function(){return y.hb.get(l.$Ia).va();};}Object.defineProperty(b,"__esModule",{value:!0});b.XG=void 0;r=a(86700);l=a(12496);f=a(78274);k=a(63730);d=a(50086);g=a(31461);m=a(62181);h=a(34401);n=a(71133);p=a(4122);q=a(29608);u=a(12813);t=a(85470);w=a(61886);v=a(60484);b.XG=new r.ed(function(y){y(h.MJa).to(n.LJa).da();y(f.mda).to(k.WIa).da();y(d.xIa).to(g.wIa).da();y(l.$Ia).to(m.ZIa).da();y(l.OP).sX(c);y(w.YIa).to(v.XIa).da();y(p.DIa).to(q.CIa).da().SX();y(u.bJa).to(t.aJa).da();y(u.TIa).to(t.SIa).da();y(u.VIa).to(t.UIa).da();});},50086:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xIa="PboCachedPlaydataSymbol";},4122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jda={kU:"keepAlive",splice:"splice"};b.DIa="PboEventSenderSymbol";},78274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mda="PboPlaydataFactorySymbol";},61886:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YIa="PboPlaydataPlaybackMonitorSymbol";},12496:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ia="PboPlaydataServicesSymbol";b.OP="PboPlaydataServicesProviderSymbol";},34401:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MJa="PlaydataConfigSymbol";},31461:function(r,b,a){var k,d,g,m,h,n,p,q,u,t;function c(){}function l(){}function f(w,v,y,x,z){var A;A=this;this.is=w;this.fl=v;this.config=y;this.eF=x;this.EUb=z;this.Nt=function(){return new c().encode({version:A.version,data:A.XG});};this.q5b=function(B){B=A.upgrade(B);A.EUb.validate(B);return B;};this.upgrade=function(B){var D;if(A.is.ym(B))return A.r5b(B);D=B.version;if(void 0 != D && A.is.ak(D) && 1 == D)return A.s5b(B);D=B.version;if(void 0 != D && A.is.ak(D) && 2 == D)return new c().decode(B);if(B.version && A.is.ak(B.version))throw new h.Mc(g.U.zz,g.R.hAa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new h.Mc(g.U.zz,g.R.vz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.qk=new n.aca(2,this.config().s7a,"" !== this.config().s7a && 0 < this.config().fVb,this.fl,this.Nt);}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;r=a(70655);k=a(86700);d=a(17244);g=a(68172);m=a(89542);h=a(56003);n=a(133);p=a(7336);q=a(15303);u=a(63730);a=a(12813);f.prototype.qXb=function(){return this.qk.load(this.q5b).catch(function(w){throw new h.Mc(g.U.zz,w.xa || w.ic,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};f.prototype.drb=function(w){return this.qk.add(w);};f.prototype.h9a=function(w){return this.qk.remove(w,function(v,y){return v.ma === y.ma;});};f.prototype.txa=function(w){return this.qk.update(w,function(v,y){return v.ma === y.ma;});};f.prototype.toString=function(){return JSON.stringify(this.Nt(),null,"  ");};f.prototype.Edb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.eF().ek:"";};f.prototype.zxa=function(w){return w.map(function(v){return {Vb:v.downloadableId,duration:v.duration};});};f.prototype.Fdb=function(w){var v;return w?{total:w.playTimes.total,UH:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,dO:w.playTimes.total,MC:0,NC:0,VH:0,WH:0,audio:this.zxa(w.playTimes.audio || []),video:this.zxa(w.playTimes.video || []),text:this.zxa(w.playTimes.timedtext || [])}:{total:0,UH:0,dO:0,MC:0,NC:0,VH:0,WH:0,audio:[],video:[],text:[]};};f.prototype.r5b=function(w){var v,y,x;v=this;w=JSON.parse(w);y={eg:"VOD",href:this.Edb(w.playbackContextId),ma:w.xid?w.xid.toString():"",O:w.movieId,position:w.position,yx:w.timestamp,dm:w.playback?1E3 * w.playback.startEpoch:-1,eM:w.mediaId,Iv:this.Fdb(w.playback),trackId:"",cm:{},UM:w.accountKey};x=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.fl.create().then(function(z){z.save(v.config().sS,x,!1);});if("" === y.href || "" === y.ma)throw new h.Mc(g.U.zz,g.R.vz);return {version:2,data:[y]};};f.prototype.s5b=function(w){var v;v=this;if(!w.playdata || !this.is.tA(w.playdata))throw new h.Mc(g.U.zz,g.R.vz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(y){return y.map(function(x){var z;return {eg:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:v.Edb(x.playbackContextId),ma:x.xid?x.xid.toString():"",O:x.movieId,position:x.position,yx:x.timestamp,dm:x.playback?1E3 * x.playback.startEpoch:-1,eM:x.mediaId,Iv:v.Fdb(x.playback),trackId:"",cm:{},UM:x.profileId};});})(w.playdata)};};Xa.Object.defineProperties(f.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.qk.version;}},XG:{configurable:!0,enumerable:!0,get:function(){return this.qk.Hl;}}});t=f;t=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(m.Wf)),r.__param(1,(0,k.l)(p.nw)),r.__param(2,(0,k.l)(d.ac)),r.__param(3,(0,k.l)(q.vw)),r.__param(4,(0,k.l)(a.VIa))],t);b.wIa=t;l.prototype.encode=function(w){var v;v=new u.v_();return w.map(v.encode);};l.prototype.decode=function(w){var v;v=new u.v_();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new l().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new l().decode(w.data)};};},29608:function(r,b,a){var l,f,k;function c(d,g){this.VR=g;this.log=d.Ua("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.CIa=void 0;r=a(70655);l=a(8010);f=a(71163);a=a(86700);c.prototype.lva=function(d,g){var m;m=this.VR(l.zo.start);return this.$Wa(m,d,g);};c.prototype.y$a=function(d){var g;g=this;return this.VR(l.zo.stop).Bf(this.log,d).then(function(){}).catch(function(m){g.log.error("PBO stop event failed",m);throw m;});};c.prototype.BW=function(d,g,m){d=this.VR(d);return this.$Wa(d,g,m);};c.prototype.$Wa=function(d,g,m){var h;h=this;return d.Mn(this.log,g.W.ji,m).then(function(){}).catch(function(n){h.log.error("PBO event failed",n);throw n;});};k=c;k=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(f.Xa)),r.__param(1,(0,a.l)(l.Fba))],k);b.CIa=k;},63730:function(r,b,a){var d,g,m,h,n,p;function c(q,u,t,w){this.qa=q;this.BT=u;this.Ea=t;this.profile=w;}function l(){}function f(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.WIa=b.v_=void 0;r=a(70655);d=a(86700);g=a(35664);m=a(2467);h=a(17244);n=a(58998);a=a(98540);k.prototype.encode=function(q){return {downloadableId:q.Vb,duration:q.duration};};k.prototype.decode=function(q){return {Vb:q.downloadableId,duration:q.duration};};f.prototype.encode=function(q){return {total:q.total,totalContentTime:q.UH,totalAdDuration:q.MC,totalCombinedDuration:q.dO,totalOtherDuration:q.NC,totalStartSlateDuration:q.WH,totalLiveEdgeDuration:q.VH,audio:q.audio.map(new k().encode),video:q.video.map(new k().encode),text:q.text.map(new k().encode)};};f.prototype.decode=function(q){var u;return {total:q.total,UH:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,MC:q.totalAdDuration,dO:q.totalCombinedDuration,NC:q.totalOtherDuration,WH:q.totalStartSlateDuration,VH:q.totalLiveEdgeDuration,audio:q.audio.map(new k().decode),video:q.video.map(new k().decode),text:q.text.map(new k().decode)};};l.prototype.encode=function(q){return {streamingType:q.eg,href:q.href,xid:q.ma,movieId:q.O,position:q.position,clientTime:q.yx,sessionStartTime:q.dm,videoTrackId:q.sO,audioTrackId:q.ap,timedTextTrackId:q.$N,mediaId:q.eM,playTimes:new f().encode(q.Iv),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.cm,profileId:q.UM};};l.prototype.decode=function(q){return {eg:q.streamingType,href:q.href,ma:q.xid,O:q.movieId,position:q.position,yx:q.clientTime,dm:q.sessionStartTime,sO:q.videoTrackId,ap:q.audioTrackId,$N:q.timedTextTrackId,eM:q.mediaId,Iv:new f().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,cm:q.sessionParams,UM:q.profileId};};b.v_=l;c.prototype.create=function(q){var u,t,w,v,y,x,z,A;A=Object.assign(Object.assign({},null !== (u=q.Wa.cm) && void 0 !== u?u:{}),{uiVersion:this.BT().kp.cw});u=null !== (t=q.fd.ia?q.fd.d5():q.cS) && void 0 !== t?t:0;return {href:q.W && q.W.ji?q.W.ji.lL("events").href:"",eg:null !== (v=null === (w=q.W) || void 0 === w?void 0:w.Fa.eg) && void 0 !== v?v:"VOD",ma:q.ma.toString(),O:q.O,position:Math.floor(u),yx:this.qa.uH.ba(m.na),dm:q.ey?q.ey.ba(m.na):-1,sO:null === (y=q.Mg.value) || void 0 === y?void 0:y.trackId,ap:null === (x=q.tc.value) || void 0 === x?void 0:x.trackId,$N:null === (z=q.wb.value) || void 0 === z?void 0:z.trackId,eM:void 0,Iv:this.Sma(q),trackId:void 0 !== q.Pj?q.Pj.toString():"",sessionId:this.BT().sessionId || this.Ea.id,appId:this.BT().appId || this.Ea.id,cm:A,UM:this.profile};};c.prototype.load=function(q){return new l().decode(q);};c.prototype.Wma=function(q){return q.map(function(u){return {Vb:u.downloadableId,duration:u.duration};});};c.prototype.Sma=function(q){return (q=q.Vk)?(q=q.OIb(),{total:q.total,UH:q.totalContentTime,MC:q.totalAdDuration,NC:q.totalOtherDuration,dO:q.totalCombinedDuration,VH:q.totalLiveEdgeDuration,WH:q.totalStartSlateDuration,audio:this.Wma(q.audio),video:this.Wma(q.video),text:this.Wma(q.timedtext)}):{total:0,UH:0,MC:0,dO:0,NC:0,VH:0,WH:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.gg)),r.__param(1,(0,d.l)(h.ac)),r.__param(2,(0,d.l)(n.Jc)),r.__param(3,(0,d.l)(a.WI))],p);b.WIa=p;},60484:function(r,b,a){var l,f,k,d;function c(g,m){this.$6a=m;this.log=g.Ua("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.XIa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(34202);a=a(12496);c.prototype.Oj=function(g){var m;m=this;this.$6a().then(function(h){g.addEventListener(k.ea.rG,function(n){var p;if(void 0 !== n.PM){p=g.Mk(n.PM);h.XW(p);n.cG || new Promise(function(q){var u;if(g.vi.value)q();else {u=function(t){t.newValue && (q(),g.vi.removeListener(u));};g.vi.addListener(u);}}).then(function(){return h.Oj(g,m.xab(g),function(q){return g.PE(q);});});}});g.addEventListener(k.ea.st,function(){h.Oj(g.aa,m.xab(g),function(n){return g.PE(n);});});g.background.value || g.addEventListener(k.ea.tU,function(n){var p;n=g.Mk(n.O);if(n.Hf){p=g.Mk(n.Hf.wd);m.log.trace("Auxiliary viewable segment (viewableId: " + n.O + "). Starting playdata monitor for parent viewable " + p.O);n=p;}h.gwa(n);});g.addEventListener(k.ea.tg,function(){h.ebb();});g.addEventListener(k.ea.Wdb,function(){h.w$a(g.aa).catch(function(n){(n=n.KM) && g.PE(n);});});g.wb.addListener(function(){g.Wa.kka?m.log.trace("stickiness is disabled for timedtext"):h.H9(g.aa);});g.tc.addListener(function(){g.Wa.kka?m.log.trace("stickiness is disabled for audio"):h.H9(g.aa).catch(function(n){(n=n.KM) && g.PE(n);});});});};c.prototype.xab=function(g){return g.state.value == k.Ub.$d;};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(a.OP))],d);b.XIa=d;},62181:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F,G){this.config=x;this.wc=A;this.dw=B;this.ut=D;this.u8=C;this.vh=F;this.jG=Promise.resolve();this.closed=!1;this.log=z.Ua("PlaydataServices");this.WG=[];this.active=new Set();this.rZb=new l(x,G);}function l(x,z){this.config=x;this.qa=z;}function f(x,z,A,B,D,C){this.log=x;this.wc=z;this.Xg=A;this.ut=B;this.dw=D;this.ZUb=C;this.kXa=this.Kd=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ZIa=b.flb=void 0;r=a(70655);k=a(86700);d=a(2467);g=a(71163);m=a(65428);h=a(78274);n=a(50086);p=a(34401);q=a(68172);u=a(63730);t=a(4122);w=a(56170);v=a(35664);a=a(97636);f.prototype.mM=function(x,z){var B;function A(){var D;D=B.ut.create(B.Xg);B.dw.txa(D).catch(function(C){var F;F=B.kXa?g.ej.zea:g.ej.Sj;B.kXa=!0;B.log.write(F,"Unable to save playdata changes to IDB",C);});}B=this;this.log.trace("Adding initial playdata",z);this.dw.drb(z).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.mr=B.wc.uN(x,A);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new u.v_().encode(z)});B.mr=B.wc.uN(x,A);});};f.prototype.stop=function(x){var z,A;z=this;if(this.Kd)return Promise.resolve();this.mr && this.mr.cancel();A=this.ut.create(this.Xg);return this.dw.txa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(z.Xg.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.ZUb.y$a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",A),z.dw.h9a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.O);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};f.prototype.cancel=function(){this.Kd=!0;this.mr && this.mr.cancel();this.dw.txa(this.ut.create(this.Xg));};Xa.Object.defineProperties(l.prototype,{Uub:{configurable:!0,enumerable:!0,get:function(){var x;x=this.qa.fe;return !this.jG || 0 <= x.wa(this.jG).Ik(this.config.y2a)?(this.jG=x,!0):!1;}}});b.flb=l;c.prototype.va=function(){var x;x=this;this.wB || (this.log.trace("Starting playdata services"),this.wB=this.dw.qXb().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.wB;};c.prototype.close=function(){this.closed=!0;this.WG.forEach(function(x){x.mM.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.TG && z.jva?this.p_b(x):Promise.resolve();};c.prototype.Oj=function(x,z,A){var B;B=this;this.closed || (this.gwa(x),this.lva(x).catch(function(D){B.log.error("Start command failed",{playdata:D.XG,error:D.ES});}),z && this.dwa(this.UHb(x),x,A));};c.prototype.XW=function(x){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.ut.create(x);this.active.delete(A.ma);x=la((0,w.gC)(function(D){return D.key === A.ma;},this.WG));B=x.next().value;this.WG=x.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.mM.stop(z.config.jva);})).then(function(){});};c.prototype.gwa=function(x){var z,A;x.ke("pdb");if(this.config.ysa.Z1a()){z=this.ut.create(x);A=z.ma;this.WG.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.WG.push({key:A,mM:this.tIb(x,z),Zv:!1,stopped:!1}));}};c.prototype.p_b=function(x){var z,A,B,D;z=this;A=this.dw.XG.filter(function(C){return !z.active.has(C.ma);});B=void 0;D=void 0;x && Infinity === x?B=A:(A=la((0,w.gC)(function(C){return C.O === x;},A)),B=A.next().value,D=A.next().value);D && 0 < D.length && this.wc.Lj(this.config.v$a,function(){z.x$a(D).catch(function(){});});return B && 0 !== B.length?this.x$a(B):Promise.resolve();};c.prototype.x$a=function(x){var A;function z(B){return A.u8.y$a(B).then(function(){return A.wYb(B);});}A=this;return x.reduce(function(B,D){return B.then(function(){return z(D);});},Promise.resolve());};c.prototype.wYb=function(x){var z;z=this;return this.dw.h9a(x).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.tIb=function(x,z){x=new f(this.log,this.wc,x,this.ut,this.dw,this.u8);x.mM(this.config.ysa,z);return x;};c.prototype.lva=function(x){var z,A;z=this;A=this.ut.create(x);return this.u8.lva(x,A).then(function(){!1;z.Z3a(x);}).catch(function(B){z.Z3a(x);throw {XG:A,ES:B};});};c.prototype.Z3a=function(x){this.WG.filter(function(z){return z.key === x.ma.toString();}).forEach(function(z){z.Zv=!0;});};c.prototype.w$a=function(x){return this.rZb.Uub?this.BW(t.jda.kU,x,q.U.fca):Promise.resolve();};c.prototype.H9=function(x){return this.BW(t.jda.splice,x,q.U.iLa);};c.prototype.BW=function(x,z,A){var D;function B(C){var F;F=D.WG.filter(function(G){return G.key === C.ma.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.Zv;},!1);}D=this;return B(z)?this.jG:this.jG=this.jG.catch(function(){return Promise.resolve();}).then(function(){var C;if(B(z))return Promise.resolve();!1;C=D.ut.create(z);return D.u8.BW(x,z,C);}).then(function(C){!1;return C;}).catch(function(C){var F;D.log.error("Failed to send event",{eventKey:x,xid:z.ma,error:C});C.wj?F=D.vh(A,C):C.xy === q.i_.vea && (F=D.vh(A,C));throw {ES:C,KM:F};});};c.prototype.dwa=function(x,z,A){var B;B=this;!1;this.Pia();this.fpa=this.wc.Lj(x,function(){B.Pia();B.BW(t.jda.kU,z,q.U.fca).then(function(){B.dwa(x,z,A);}).catch(function(D){var C;C=D.ES;(D=D.KM) && A(D);C.xy !== q.i_.vea && B.dwa(x,z,A);});});};c.prototype.ebb=function(){this.Pia();};c.prototype.Pia=function(){this.fpa && (this.fpa.cancel(),this.fpa=void 0);};c.prototype.UHb=function(x){return x.Wa.Ona?(0,d.Hb)(x.Wa.Ona):this.config.x2a;};y=c;y=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(p.MJa)),r.__param(1,(0,k.l)(g.Xa)),r.__param(2,(0,k.l)(m.Ci)),r.__param(3,(0,k.l)(n.xIa)),r.__param(4,(0,k.l)(h.mda)),r.__param(5,(0,k.l)(t.DIa)),r.__param(6,(0,k.l)(a.PP)),r.__param(7,(0,k.l)(v.gg))],y);b.ZIa=y;},85470:function(r,b,a){var k,d,g,m;function c(){}function l(h){this.DUb=h;}function f(h){this.FUb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.aJa=b.UIa=b.SIa=void 0;r=a(70655);k=a(86700);d=a(12813);g=a(56003);m=a(68172);f.prototype.validate=function(h){h.map(this.FUb.validate);};a=f;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.bJa))],a);b.SIa=a;l.prototype.validate=function(h){this.DUb.validate(h.data);};a=l;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.TIa))],a);b.UIa=a;c.prototype.validate=function(h){var n;h.ma && "string" === typeof h.ma?h.href && "string" === typeof h.href?h.UM && "string" === typeof h.UM || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.Mc(m.U.zz,m.R.vz,void 0,void 0,void 0,n,void 0,h.ma);};d=c;d=r.__decorate([(0,k.T)()],d);b.aJa=d;},71133:function(r,b,a){var l,f,k,d,g,m;function c(h,n){h=f.Se.call(this,h,"PlaydataConfigImpl") || this;h.config=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;r=a(70655);l=a(86700);f=a(90187);k=a(59578);d=a(54662);g=a(2467);a=a(53685);ea(c,f.Se);Xa.Object.defineProperties(c.prototype,{TG:{configurable:!0,enumerable:!0,get:function(){return this.config.Px?"unsentplaydatatest":"unsentplaydata";}},jva:{configurable:!0,enumerable:!0,get:function(){return !0;}},v$a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Hb)(1E4);}},ysa:{configurable:!0,enumerable:!0,get:function(){return (0,g.Hb)(4E3);}},x2a:{configurable:!0,enumerable:!0,get:function(){return (0,g.t7)(1);}},y2a:{configurable:!0,enumerable:!0,get:function(){return (0,g.xh)(30);}}});m=c;r.__decorate([d.config(d.string,"playdataPersistKey")],m.prototype,"TG",null);r.__decorate([d.config(d.bd,"sendPersistedPlaydata")],m.prototype,"jva",null);r.__decorate([d.config(d.lk,"playdataSendDelayMilliseconds")],m.prototype,"v$a",null);r.__decorate([d.config(d.lk,"playdataPersistIntervalMilliseconds")],m.prototype,"ysa",null);r.__decorate([d.config(d.lk,"heartbeatCooldown")],m.prototype,"x2a",null);r.__decorate([d.config(d.lk,"keepAliveWindow")],m.prototype,"y2a",null);m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl)),r.__param(1,(0,l.l)(a.nn))],m);b.LJa=m;},90399:function(r,b,a){var l,f;function c(k,d){var g;g=this;this.Qh=k;this.Kg=d;this.addEventListener=function(m,h,n){return g.Kg.addListener(m,g.jVa(m,h),n);};this.removeEventListener=function(m,h){return g.Kg.removeListener(m,g.jVa(m,h));};this.getReady=function(){return g.Kg.rv();};this.getXid=function(){return g.sb().Ss();};this.getMovieId=function(){return g.sb().QZa();};this.getPlaygraphId=function(){return g.Kg.RIb();};this.getElement=function(){return g.Kg.Tm();};this.isPlaying=function(){return g.sb().FB();};this.isPaused=function(){return g.sb().dt();};this.isMuted=function(){return g.sb().Noa();};this.isReady=function(){return g.sb().rv();};this.isBackground=function(){return g.sb().B1a();};this.setBackground=function(m){return g.sb().rva(m);};this.startInactivityMonitor=function(){return g.sb().KN();};this.setTransitionTime=function(m){return g.sb().Hva(m);};this.getDiagnostics=function(){return g.sb().YYa();};this.getTextTrackList=function(m){return g.sb().qna(m);};this.getMaxRecommendedTextIndex=function(m){return g.sb().Hma(m);};this.getTextTrack=function(){return g.sb().pna();};this.setTextTrack=function(m){return g.sb().Dva(m);};this.getVolume=function(){return g.sb().M_a();};this.isEnded=function(){return g.sb().Ioa();};this.getBusy=function(){return g.sb().sh();};this.getError=function(){return g.sb().getError();};this.getCurrentTime=function(){return g.sb().gL();};this.getAdManager=function(){return g.sb().On();};this.getLivePlaybackManager=function(){var m;m=g.sb().Ql();(0,f.oa)(m,"Unexpected call to getLivePlaybackManager()");if(m.ia && !m.O0b())return {seekToLiveEdge:function(){return m.B9();},isAtLiveEdge:function(){return m.CB();},getLiveEventState:function(){return m.iB();},isLiveEventEnded:function(){return m.b6();}};};this.getBufferedTime=function(){return g.sb().EYa();};this.getSegmentTime=function(){return g.sb().A4();};this.getDuration=function(){return g.sb().kma();};this.getVideoSize=function(){return g.sb().L_a();};this.getAudioTrackList=function(){return g.sb().uYa();};this.getMaxRecommendedAudioIndex=function(){return g.sb().KZa();};this.getAudioTrack=function(){return g.sb().tYa();};this.getTimedTextTrackList=function(m){return g.sb().qna(m);};this.getMaxRecommendedTimedTextIndex=function(m){return g.sb().Hma(m);};this.getTimedTextTrack=function(){return g.sb().pna();};this.getAdditionalLogInfo=function(){return g.sb().rYa();};this.getTrickPlayFrame=function(m){return g.sb().H_a(m);};this.getSessionSummary=function(){return g.sb().gna();};this.getTimedTextSettings=function(){return g.sb().yT();};this.setMuted=function(m){return g.sb().Y$a(m);};this.setVolume=function(m){return g.sb().kab(m);};this.getPlaybackRate=function(){return g.sb().pL();};this.setPlaybackRate=function(m){return g.sb().O9(m);};this.setAudioTrack=function(m){return g.sb().I$a(m);};this.setTimedTextTrack=function(m){return g.sb().Dva(m);};this.setTimedTextSettings=function(m){return g.sb().DN(m);};this.prepare=function(){return g.sb().$G();};this.load=function(){return g.sb().load();};this.close=function(m){return g.lRa(g.Kg.close(),m);};this.play=function(){return g.sb().play();};this.pause=function(){return g.sb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(m,h){return g.lRa(g.sb().NK(m),h);};this.induceError=function(m){return g.sb().X0a(m);};this.loadCustomTimedTextTrack=function(m,h,n,p){return g.sb().n3a(m,h,n,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return g.sb().B4();};this.generateScreenshots=function(m){return g.sb().kYa(m);};this.getCurrentSegmentId=function(){return g.Kg.TYa();};this.getPlaygraphMap=function(){return g.Kg.MF();};this.updatePlaygraphMap=function(m){return g.Kg.Rt(m);};this.Yka=new Map();this.log=(0,l.Ri)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.g0=void 0;l=a(89082);a(5690);f=a(70633);c.prototype.sb=function(){return this.Kg.sb();};c.prototype.jVa=function(k,d){var g;this.Yka.has(k) || this.Yka.set(k,new Map());g=this.Yka.get(k);g.has(d) || g.set(d,this.xAb(k,d));return g.get(d);};c.prototype.xAb=function(k,d){var g;g=this;return function(m){return d(Object.assign({},m,{type:k,target:g}));};};c.prototype.lRa=function(k,d){return d?k.then(d,d):k;};b.g0=c;},61664:function(r,b,a){var l;function c(f,k,d){var g;g=l.g0.call(this,f,k) || this;g.seek=function(m){return g.sb().seek(m);};g.addEpisode=function(m){return g.upa.Pqb(m);};g.playNextEpisode=function(m){m=void 0 === m?{}:m;return g.upa.$Ub(m);};g.watchCredits=function(m){return g.upa.x6b(m);};g.playSegment=function(m){return g.sb().n7a(m);};g.queueSegment=function(m){return g.sb().s8a(m);};g.updateNextSegmentWeights=function(m,h){return g.sb().cj(m,h);};g.setNextSegment=function(m){for(var h=[],n=0;n < arguments.length;++n){h[n - 0]=arguments[n];}h=h.map(function(p){return {I:p.segmentId,pM:p.nextSegmentId};});g.Kg.Nj.apply(g.Kg,ca(h));};g.clearNextSegment=function(m){for(var h=[],n=0;n < arguments.length;++n){h[n - 0]=arguments[n];}return g.Kg.Tvb.apply(g.Kg,ca(h));};g.goToNextSegment=function(m,h){return g.Kg.yna(m,h);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return !!g.sb().yT().visibility;};g.setTimedTextVisibility=function(m){return g.setTimedTextVisible(m);};g.setTimedTextSize=function(m){return g.sb().DN({size:m});};g.setTimedTextBounds=function(m){return g.sb().DN({bounds:m});};g.setTimedTextMargins=function(m){return g.sb().DN({margins:m});};g.setTimedTextVisible=function(m){return g.sb().DN({visibility:m});};g.getCongestionInfo=function(m){m && m({success:!1,name:null,isCongested:null});};g.upa=d(f,k,g.log);return g;}b.Maa=void 0;l=a(90399);ea(c,l.g0);b.Maa=c;},40142:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x;function c(z){var A,B;A=this;this.s8=new x.Bda();this.createPlaygraphPlayer=function(D,C,F){var G;D=t.Fda.encode(D);G=d.za.get(w.JI);F=F?G.create(F):void 0;G=d.za.get(p.Hda).create(D);return G.xzb(D.we,A.s8.cqa(A.JRa(C,G.lma())),F);};this.closeAllPlayers=function(D){D=void 0 === D?function(){}:D;(0,k.wda)(D);};this.init=function(D){A.uA.xU(function(C){C.ha?A.s_b().then(function(){(0,l.pJa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.XJ);D(Object.assign({success:!0},c.XJ));}):D({success:!1,error:(0,d.QJa)(C.errorCode || m.U.Yba,C)});});};this.applyConfig=function(D){A.mdb(D);(0,f.hja)(D);};this.prepare=function(D,C){var F;D=A.N7a.jBb(D) || [];F=new Set();D=D.filter(function(G){var E;E=F.has(G.O);F.add(G.O);return !E;});if(f.config.fr && A.cd)try{A.cd.$G(D,C);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(D){qb._cad_global.playerPredictionModel?(D=A.N7a.lBb(D)) && qb._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){(0,d.hL)().bX().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){(0,d.hL)().cX().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){(0,d.hL)().$W().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){(0,d.hL)().r$().then(function(C){return D(C.result);}).catch(function(){return D(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return f.config.YCb;};this.mdb(z);d.za.get(y.Tya);this.N7a=d.za.get(g.rJa);this.uA=d.za.get(u.Uh);B=d.za.get(v.mJa).apply();(0,f.STa)([z],B);this.cd=d.za.get(q.GD);(0,d.hL)().cX();}Object.defineProperty(b,"__esModule",{value:!0});b.HD=void 0;l=a(15883);f=a(37986);k=a(58680);d=a(89082);g=a(2869);m=a(68172);h=a(59578);n=a(12496);p=a(11223);q=a(76820);u=a(60634);t=a(41427);w=a(23251);v=a(98757);y=a(55714);x=a(92979);c.prototype.JRa=function(z,A){var B,D,C,F;z=void 0 === z?{}:z;F=null !== (D=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== D?D:A.sa;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (C=A.ta) && void 0 !== C?C:void 0,isPlaygraph:!0});};c.prototype.mdb=function(z){d.za.get(h.mP).JQb(z);};c.prototype.s_b=function(){d.za.get(n.OP)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.HD=c;c.XJ={};},95233:function(r,b,a){var l,f,k,d,g,m;function c(h){var n;n=k.HD.call(this,h) || this;n.createPlayer=function(p,q){var u,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Pj:q}:q;u=l.za.get(f.UI);t=l.za.get(g.JI).create(q.manifest);w=l.za.get(d.Jda);p=u.uzb(p);u=l.za.get(m.Hda).create(p);p=u.lma();w=w.FUa(u);w.addEpisode({movieId:p.J,playbackParams:n.JRa(q,p),manifest:t});return w;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.pNa=void 0;l=a(89082);f=a(52115);k=a(40142);d=a(33981);g=a(23251);m=a(11223);ea(c,k.HD);b.pNa=c;},37853:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(95233);c=a(37986);l=a(58680);b=a(71163);f=a(89082);k=a(14959);d=a(33456);g=a(70633);m=a(95919);qb.netflix=qb.netflix || ({});(0,g.oa)(!qb.netflix.player);qb.netflix.player={VideoSession:r.pNa,diag:{togglePanel:function(h,n){var p;p=[];if(!c.config || c.config.eW){switch(h){case "info":p=l.un.map(function(q){return q.q8;});break;case "streams":p=l.un.map(function(q){return q.t8;});break;case "log":p=[];}p.forEach(function(q){(0,m.Uc)(n)?n?q.show():q.pv():q.toggle();});}},addLogMessageSink:function(h){f.za.get(k.pl).addListener({mgc:function(){},KQb:function(n){h({data:n.data});}});}},log:(0,f.Ri)("Ext"),LogLevel:b.ej,addLogSink:function(h,n){f.za.get(d.II).a9(h,n);},getVersion:function(){return "6.0041.573.911";},getMostRecentPlaybackDiagnosticGroups:function(){var h;return null === (h=l.Iz.i5a) || void 0 === h?void 0:h.IVa.iT();}};},38686:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(89034);l=a(40142);f=a(7942);k=a(37986);r=a(68172);d=a(89082);g=a(70633);m=a(30818);h=a(95919);n=a(14959);p=a(91022);a=a(60634);d.za.get(a.Uh).register(r.U.yEa,function(q){var u,t;u=(0,d.Ri)("NccpApi");t=(0,m.uRa)(["info","warn","trace","error"]);l.HD.XJ.nccp={getEsn:function(){return c.Jk.ek;},getPreferredLanguages:function(){return k.config.kp.Wsa;},setPreferredLanguages:function(w){(0,g.oa)((0,h.isArray)(w) && (0,h.RL)(w[0]));k.config.kp.Wsa=w;},queueLogblob:function(w,v,y){var x;if(w && v)if((v=v.toLowerCase(),t[v])){x=d.za.get(n.pl);w=d.za.get(p.Cw).As(w,v,y);x.vc(w);}else u.warn("Invalid severity",{severity:v});},flushLogblobs:function(){d.za.get(n.pl).flush(!0);}};q(f.ig);});},89525:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(40142);l=a(89034);f=a(7942);k=a(24133);r=a(68172);d=a(89082);g=a(70834);m=a(70633);h=a(95919);n=a(50876);b=a(60634);p=a(61831);q=a(98540);u=a(53713);t=a(20642);d.za.get(b.Uh).register(r.U.zEa,function(w){var B;function v(){return l.Jk.ek;}function y(D){var C;C=d.za.get(q.WI);d.za.get(u.HP)().then(function(F){var G,E;G=F.$U.getStateForMdx(C);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,m.oa)(E),F=["1",(0,d.qx)(JSON.stringify(F.toJSON())),(0,d.qx)(JSON.stringify(G.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:F,encrypt:function(J,M){J=(0,h.yg)(J)?(0,d.pO)(J):J;E.encrypt(J,{result:function(L){L=(0,d.qx)(L);M({success:!0,mslEncryptionEnvelopeBase64:L});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Encrypt error: " + L);M({success:!1});}});},decrypt:function(J,M){J=(0,d.uq)(J);E.decrypt(J,{result:function(L){M({success:!0,text:(0,d.GX)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Decrypt error: " + L);M({success:!1});}});},hmac:function(J,M){J=(0,h.yg)(J)?(0,d.pO)(J):J;E.sign(J,{result:function(L){M({success:!0,hmacBase64:(0,d.qx)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,m.oa)(!1,"Hmac error: " + L);M({success:!1});}});}}})):((0,m.oa)(!1,"Must login first"),D({success:!1}));});}function x(D,C){var F;F=(0,d.uq)(D);D=F.subarray(32,48);F=F.subarray(0,32);if(16 != D.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,k.MG)(n.jp.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,k.MG)(n.jp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){C({success:!0,cryptoContext:z(G[0],G[1])});},function(){C({success:!1});});}function z(D,C){function F(G){G=new g.WO((0,d.uq)(G));G.Ky();return {iv:G.y8a(),lDb:G.y8a()};}return {encrypt:function(G,E){var J;G=(0,h.yg)(G)?(0,d.pO)(G):G;J=n.Fz.getRandomValues(new Uint8Array(16));(0,k.MG)(n.jp.encrypt({name:"AES-CBC",iv:J},D,G)).then(function(M){var L,I;M=new Uint8Array(M);L=[];I=new g.WO(L);I.faa(2);I.Heb(J);I.Heb(M);M=(0,d.qx)(L);E({success:!0,encryptedDataAsn1Base64:M});},function(M){(0,m.oa)(!1,"Encrypt error: " + M);E({success:!1});});},decrypt:function(G,E){var J;J=F(G);G=J.iv;J=J.lDb;(0,k.MG)(n.jp.decrypt({name:"AES-CBC",iv:G},D,J)).then(function(M){M=new Uint8Array(M);E({success:!0,text:(0,d.GX)(M)});},function(M){(0,m.oa)(!1,"Decrypt error: " + M);E({success:!1});});},hmac:function(G,E){G=(0,h.yg)(G)?(0,d.pO)(G):G;(0,k.MG)(n.jp.sign({name:"HMAC",hash:{name:"SHA-256"}},C,G)).then(function(J){J=new Uint8Array(J);E({success:!0,hmacBase64:(0,d.qx)(J)});},function(J){(0,m.oa)(!1,"Hmac error: " + J);E({success:!1});});}};}function A(){return (0,p.Uia)();}B=d.za.get(t.YC);if(B.G1a || B.hy)c.HD.XJ.mdx={getEsn:v,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:A};w(f.ig);});},86977:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(60634);b=a(68172);c=a(71163);l=a(811);f=a(19391);k=a(7942);d=a(37986);g=a(89082);m=a(58680);h=a(40142);n=a(47758);p=a(76820);q=a(14959);g.za.get(r.Uh).register(b.U.AEa,function(u){var v,y,x,z;function t(A,B){return void 0 === A || void 0 === B?Promise.reject("Invalid email and/or password"):g.za.get(n.tIa).Bf(this.log,{},{email:A,password:B}).then(function(){});}function w(A){var B;B=g.za.get(p.GD);return B.rXa.fetch(A,B);}if(d.config.WDb){v=g.za.get(f.nda);y=g.za.get(l.tn);x=g.za.get(c.Xa).Ua("Test");z=g.za.get(q.pl);h.HD.XJ.test={setPboRequestsListener:function(A){return v.Y_b(A);},playbacks:m.un,getPlayback:function(A){return m.un.find(function(B){return B.ma === A;});},playgraphManager:{isNextSegmentReady:function(A){var B,D;return void 0 !== (null === (D=null === (B=m.un.find(function(C){return C.ma === A;})) || void 0 === B?void 0:B.Za) || void 0 === D?void 0:{Wha:0});},isNextSegmentBuffering:function(A,B){var D,C;return null === (C=null === (D=m.un.find(function(F){return F.ma === A;})) || void 0 === D?void 0:D.Za) || void 0 === C?void 0:C.nT(B).KR;}},device:{esn:qb._cad_global.device.ek,esnPrefix:y.Kn,errorPrefix:y.Dq},log:{info:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.info(A,D);},error:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.error(A,D);},warn:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.warn(A,D);},trace:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.trace(A,D);},log:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.log(A,D);},debug:function(A,B){for(var D=[],C=1;C < arguments.length;++C){D[C - 1]=arguments[C];}return x.debug(A,D);},flush:function(){return z.flush();}},login:t,getManifest:w};}u(k.ig);});},25097:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.Wu=void 0;c=a(7942);l=a(37986);r=a(68172);f=a(89082);k=a(50876);d=a(60634);g=a(95919);m=a(29853);h=a(2467);a=f.za.get(d.Uh);n=f.za.get(m.Jz);a.register(r.U.pEa,function(p){var w,v;function q(){p(c.ig);q=c.Iw;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,g.wp)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=k.Be.getBattery();if(!(0,g.wp)(y.then))throw "getBattery did not return a promise";return y;});}w=(0,f.Ri)("BatteryManager");b.Wu={ngb:"chargingchange",AZa:function(){return v?v.level:null;},ima:function(){return v?v.charging:null;},addEventListener:function(y,x){v && v.addEventListener(y,x);},removeEventListener:function(y,x){v && v.removeEventListener(y,x);}};l.config.QR && (0,g.wp)(k.Be.getBattery)?n.Pp((0,h.Hb)(l.config.EGb),t()).then(function(y){u(y);v=y;}).catch(function(y){w.error("getBattery failed",y);}).then(q):q();});},59883:function(r,b,a){var l,f;function c(){var k,d;k=this;this.Zr={};this.on=function(g,m,h){k.addListener(g,m,h);};this.addListener=function(g,m,h){k.Zr && (k.Zr[g]=k.Zr[g] || new f.Lda(!0)).add(m,h);};this.removeListener=function(g,m){k.Zr && k.Zr[g] && k.Zr[g].removeAll(m);};this.sma=function(g){return k.Zr && k.Zr[g]?k.Zr[g].flatten():[];};d=this;this.Dc=function(g,m,h){var n;if(d.Zr){n=d.sma(g);for(g={lI:0};g.lI < n.length;(g={lI:g.lI},g.lI++)){h?(function(p){return function(){var q;q=n[p.lI];(0,l.Lf)(function(){q(m);});};})(g)():n[g.lI].call(this,m);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Tj=void 0;l=a(66052);f=a(82328);c.prototype.wg=function(){this.Zr=void 0;};b.Tj=c;},20916:function(r,b,a){var l,f,k;function c(d,g,m,h,n,p,q){this.debug=d;this.config=g;this.platform=m;this.a7=h;this.debug.assert(n && n != f.U.Go,"There should always be a specific error code");this.errorCode=n || f.U.Go;p && "object" === typeof p?(this.xa=p.xa || p.ic,this.Ee=p.Ee || p.Tc,this.Pka=p.Pka || p.Om,this.Kb=p.Kb || p.details,this.oS=p.wj,this.P3=p.P3 || p.bfc || p.xy,this.aB=p.aB || p.data,p.SU && (this.SU=p.SU),this.Ml=p.Ml,this.method=p.method,this.z7=p.z7,this.alert=p.alert,this.aha=p.aha,this.VF=p.VF,!this.Kb && this.VF && (this.Kb=JSON.stringify(this.VF)),this.debug.assert(!this.Ml || this.Ml == this.Ee)):(this.xa=p,this.Ee=q);this.stack=[this.errorCode];this.xa?this.stack.push(this.xa):this.Ee && this.stack.push(f.R.Go);this.Ee && this.stack.push(this.Ee);this.x3=this.platform.Dq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.RJa=void 0;l=a(7942);f=a(68172);k=a(95919);a(30818);c.prototype.$$a=function(d){this.kVb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.x3 + "]";this.Kb && (d+=" " + this.Kb);this.oS && (d+=" (CustomMessage: " + this.oS + ")");return d;};c.prototype.tX=function(){var d,g,m,h;this.oS && (m=["streaming_error"]);m || this.a7.Ns() !== l.VY || ("80080017" == this.Ee && (m=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ee && (m=["pause_timeout"]));m || this.a7.Ns() !== l.wba || this.errorCode !== f.U.iCa && this.errorCode !== f.U.YO || (m=["no_cdm","platform_error","plugin_error"]);m || this.errorCode !== f.U.zba || this.xa !== f.R.xba || (m=["pause_timeout"]);this.P3 === f.i_.vea && (this.Bia("2018") || this.Bia("2020")?m=["received_soad"]:this.Bia("5000") && (m=["should_reset_device"]));h=this.MGb();h && (m=[h],this.oS=void 0);if(!m)switch(this.errorCode){case f.U.s_:case f.U.ZZ:case f.U.kfb:case f.U.bda:this.kVb && (m=["pause_timeout"]);break;case f.U.DEa:case f.U.EEa:m=this.xa?["platform_error"]:["multiple_tabs"];break;case f.U.Zba:case f.U.gIa:case f.U.dda:case f.U.aIa:m=["platform_error","plugin_error"];break;case f.U.MP:m=["no_cdm","platform_error","plugin_error"];break;case f.U.pCa:case f.U.iq:case f.U.t_:switch(this.Ee){case "FFFFD000":m=["device_needs_service","platform_error"];break;case "48444350":m=["unsupported_output","platform_error"];break;case "00000024":m=["private_mode"];}break;case f.U.cIa:case f.U.cda:m=["unsupported_output"];}!m && (0,f.KCa)(this.xa) && (m=this.xa == f.R.iP?["geo"]:["internet_connection_problem"]);m || this.errorCode !== f.U.YO || this.xa !== f.R.ol || "S" !== this.platform.Dq || (m=["private_mode"]);if(!m)switch(this.ybb(this.xa)){case f.R.Aea:m=["should_upgrade"];break;case f.R.WHa:m=["should_reset_device"];break;case f.R.VHa:m=["should_reload_device"];break;case f.R.UHa:m=["should_exit_device"];break;case f.R.Ojb:case f.R.iGa:m=["should_signout_and_signin"];break;case f.R.Pjb:m=["internet_connection_problem"];break;case f.R.nBa:m=["platform_error","plugin_error"];break;case f.R.Rgb:case f.R.mEa:case f.R.nEa:m=["private_mode"];break;case f.R.yca:m=["should_reload_with_preferred_locales"];}m=m || [];m.push(this.platform.Dq + this.errorCode);if(this.xa)switch(this.ybb(this.xa)){case f.R.XHa:m.push("incorrect_pin");break;default:m.push("" + this.xa);}m={display:{code:this.x3,text:this.oS},messageIdList:m,alert:this.alert,alertTag:this.aha,preferredAudioLocale:null === (d=this.VF) || void 0 === d?void 0:d.D0a,preferredTextLocale:null === (g=this.VF) || void 0 === g?void 0:g.E0a};this.config().VDb && (m.debugData=this.aB);return m;};c.prototype.ybb=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.Bia=function(d){return ((0,k.tb)(this.Ee)?this.Ee.toString():(0,k.yg)(this.Ee)?this.Ee:"").endsWith(d);};c.prototype.MGb=function(){if(this.errorCode === f.U.GI && (this.xa === f.R.Zca || this.xa === f.R.THa))return this.NGb(this.xa === f.R.Zca);};c.prototype.NGb=function(d){var g,m,h,n;h=this.config().browserInfo || ({});n=null === (g=h.os) || void 0 === g?void 0:g.name;g=((null === (m=h.os) || void 0 === m?void 0:m.version) || "").split(".");m=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(n){case "windows":return 6 > m || 6 === m && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > m || 10 === m && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.RJa=c;},50995:function(r,b){function a(c,l){this.Owa=c;this.ov=l;}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;a.prototype.p0b=function(){this.q1 || (this.q1=setInterval(this.ov,this.Owa));};a.prototype.pTa=function(){this.q1 && (clearInterval(this.q1),this.q1=void 0);};b.OKa=a;},65853:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$_=void 0;b.Eo={SI:"PRIMARY",naa:"ASSISTIVE",rAa:"COMMENTARY",NONE:"NONE"};b.$_={assistive:b.Eo.naa,closedcaptions:b.Eo.naa,directorscommentary:b.Eo.rAa,commentary:b.Eo.rAa,subtitles:b.Eo.SI,primary:b.Eo.SI,none:b.Eo.NONE};},61831:function(r,b,a){var l,f,k,d,g;function c(){return l.dc.get(k.Jc).my.ba(g.na);}Object.defineProperty(b,"__esModule",{value:!0});b.dwb=b.Uia=b.tTa=b.bwb=b.cwb=b.Tia=b.Fn=void 0;l=a(84722);f=a(35664);k=a(58998);d=a(24166);g=a(2467);b.Fn=function(){return l.dc.get(k.Jc).Fb().ba(g.na);};b.Tia=function(){return l.dc.get(f.gg).fe.ba(g.rm);};b.cwb=function(){return l.dc.get(k.Jc).my.ba(g.rm);};b.bwb=function(){return l.dc.get(d.Bw).IA();};b.tTa=c;b.Uia=function(){return l.dc.get(f.gg).fe.ba(g.na);};b.dwb=function(){return c();};},7942:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zP=b.e_=b.bgb=b.Xfb=b.Zfb=b.$fb=b.Sza=b.Wfb=b.Yfb=b.Rza=b.agb=b.hgb=b.fgb=b.ggb=b.egb=b.Fhb=b.Ehb=b.Dhb=b.rjb=b.tjb=b.sjb=b.fGa=b.hGa=b.gGa=b.$Ba=b.Ghb=b.wba=b.VY=b.bkb=b.Olb=b.eGa=b.Qfb=b.kBa=b.Vca=b.OI=b.r_=b.dGa=b.Dw=b.Pfb=b.Dza=b.fjb=b.rmb=b.qjb=b.pjb=b.Hlb=b.Glb=b.Mr=b.ig=b.JKa=b.Iw=void 0;b.Bza=b.Rda=void 0;b.Iw=function(){};b.JKa=function(){return !0;};b.ig={ha:!0};b.Mr=1E3;b.Glb=86400;b.Hlb=604800;b.pjb=1E4;b.qjb=1E7;b.rmb=1.5;b.fjb=.128;b.Dza=7.8125;b.Pfb=128;b.Dw=145152E5;b.dGa=1E5;b.r_="$netflix$player$order";b.OI=-1;b.Vca=1;b.kBa=["en-US"];b.Qfb=8;b.eGa=65535;b.Olb=65536;b.bkb=Number.MAX_VALUE;b.VY="playready";b.wba="widevine";b.Ghb="fps";b.$Ba="clearkey";b.gGa='audio/mp4; codecs="mp4a.40.5"';b.hGa='audio/mp4; codecs="mp4a.40.42"';b.fGa='audio/mp4; codecs="mp4a.a6"';b.sjb='video/mp4; codecs="avc1.640028"';b.tjb='video/mp4; codecs="hev1.2.6.L153.B0"';b.rjb='video/mp4; codecs="dvhe.01000000"';b.Dhb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Ehb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Fhb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.egb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.ggb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.fgb="4E657466-6C69-7846-7261-6D6552617465";b.hgb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.agb="mp4a";b.Rza="enca";b.Yfb="ec-3";b.Wfb="avc1";b.Sza="encv";b.$fb="hvcC";b.Zfb="hev1";b.Xfb="dvhe";b.bgb="vp09";b.e_=0;b.zP=1;b.Rda="position:relative;width:100%;height:100%;overflow:hidden";b.Bza="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},25420:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.RUa=b.Ypa=void 0;c=a(70633);l=a(30818);f=a(95919);(function(){var d,g,m;function k(h){(0,c.oa)(void 0 !== d[h]);return d[h];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;m=/[", ]/;b.RUa=function(h){return (0,f.Uc)(h)?(0,f.tb)(h)?h:(0,f.yg)(h)?h.replace(g,k):(0,f.C1a)(h)?h:isNaN(h)?"NaN":"":"";};b.Ypa=function(h){var n,p;n=b.RUa;p="";(0,l.Zf)(h,function(q,u){q=n(q) + "=" + n(u);m.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},70633:function(r,b,a){var f,k,d;function c(){d || (d=f.za.get(k.rw));return d;}function l(g,m){return c().assert(g,m);}Object.defineProperty(b,"__esModule",{value:!0});b.iAb=b.Oja=b.bAb=b.fAb=b.wK=b.fS=b.eAb=b.gAb=b.gS=b.cVa=b.dAb=b.cAb=b.oa=b.hAb=b.Afb=void 0;f=a(89082);k=a(78616);b.Afb=function(){l(!1);};b.hAb=!0;d=void 0;b.oa=l;b.cAb=function(g,m){return c().rsb(g,m);};b.dAb=function(g,m){return c().ssb(g,m);};b.cVa=function(g,m){return c().Z1(g,m);};b.gS=function(g,m){return c().zsb(g,m);};b.gAb=function(g,m){return c().xsb(g,m);};b.eAb=function(g,m){return c().Y1(g,m);};b.fS=function(g,m){return c().usb(g,m);};b.wK=function(g,m){return c().ysb(g,m);};b.fAb=function(g,m){return c().wsb(g,m);};b.bAb=function(g,m){return c().qsb(g,m);};b.Oja=function(g,m){return c().tsb(g,m);};b.iAb=function(){return c().yMb();};},66052:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lf=void 0;b.Lf=function(a){return setTimeout(a,0);};},5845:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;b.eDa=function(a){var f,k,d,g;function c(){if(d)for(var m;m=f.pop();){m(g);}}function l(m){d=!0;g=m;c();}f=[];return function(m){f.push(m);k || (k=!0,a(l));c();};};},25892:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.h5=b.Kq=b.i5=b.nB=b.Nk=b.he=void 0;r=a(59883);c=a(66052);l=a(50876);b.he=new r.Tj();b.Nk=1;b.nB=2;b.i5=3;b.Kq=4;b.h5=5;(0,c.Lf)(function(){var k,d,g;function f(m,h){if(d)d.on(m,h);else qb.addEventListener(m,h);}k=qb.jQuery;d=k && k(qb);k=(k=qb.netflix) && k.cadmium && k.cadmium.addBeforeUnloadHandler;g=l.Og.hidden;k?k(function(m){b.he.Dc(b.Nk,m);}):f("beforeunload",function(m){b.he.Dc(b.Nk,m);});f("keydown",function(m){b.he.Dc(b.nB,m);});f("resize",function(){b.he.Dc(b.i5);});l.Og.addEventListener("visibilitychange",function(){g !== l.Og.hidden && (g=l.Og.hidden,b.he.Dc(b.Kq));});});(function(){qb.addEventListener("error",function(f){b.he.Dc(b.h5,f);return !0;});})();},16232:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(68172);c=a(89082);l=a(3784);a=a(60634);c.za.get(a.Uh).register(r.U.rEa,function(f){c.za.get(l.dCa)().then(function(){f({ha:!0});}).catch(function(k){c.log.error("error in initializing indexedDb debug tool",k);f({ha:!0});});});},54615:function(r,b,a){var m,h,n,p,q;function c(u){var t,v;(0,h.gS)(u);if((0,p.yg)(u) && b.FEa.test(u)){t=u.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){v=(0,q.Vi)(t[w]);if(0 > v || !(0,p.IB)(v,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return u;}}}function l(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,q.Vi)(u[0]) << 24,t+=(0,q.Vi)(u[1]) << 16,t+=(0,q.Vi)(u[2]) << 8,t + (0,q.Vi)(u[3]));}function f(u){var t,w;(0,h.gS)(u);if((0,p.yg)(u) && u.match(b.GEa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=k(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){w=parseInt(t[u],16);if(!(0,p.IB)(w,0,m.eGa))return;}return t.join(":");}}}function k(u){var t;u=l(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,w,v;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);w=8 - (t.length + u.length);if(1 > w)return [];for(v=0;v < w;v++){t.push("0");}for(v=0;v < u.length;v++){t.push(u[v]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.Xib=b.bjb=b.Zib=b.Yib=b.ajb=b.Wib=b.$ib=b.iD=b.GEa=b.FEa=void 0;m=a(7942);h=a(70633);n=a(50876);p=a(95919);q=a(30818);b.FEa=/^[0-9.]*$/;b.GEa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.iD="0000000000000000";b.$ib=c;b.Wib=l;b.ajb=f;b.Yib=k;b.Zib=d;b.bjb=function(u,t,w){var v,y,x,z;v=c(u);y=f(u);x=c(t);z=f(t);if(!v && !y || !x && !z || v && !x || y && !z)return !1;if(u === v)return (w=g(w),(l(u) & w) !== (l(t) & w)?!1:!0);if(u === y){u=u.split(":");t=t.split(":");for(v=(0,n.KI)(w / b.iD.length);v--;){if(u[v] !== t[v])return !1;}w%=b.iD.length;if(0 !== w)for((u=parseInt(u[v],16).toString(2),t=parseInt(t[v],16).toString(2),u=b.iD.substring(0,b.iD.length - u.length) + u,t=b.iD.substring(0,b.iD.length - t.length) + t,v=0);v < w;v++){if(u[v] !== t[v])return !1;}return !0;}return !1;};b.Xib=g;},95919:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.wp=b.C1a=b.RL=b.yg=b.bpa=b.WMb=b.IMb=b.Toa=b.IB=b.O1a=b.tb=b.apa=b.isArray=b.h2a=b.$s=b.Uc=b.is=void 0;r=a(36447);b.is=r.jD;b.Uc=function(c){return b.is.vg(c);};b.$s=function(c){return b.is.sR(c);};b.h2a=function(c){return b.is.uga(c);};b.isArray=function(c){return b.is.tA(c);};b.apa=function(c){return b.is.XQa(c);};b.tb=function(c,l,f){return b.is.ak(c,l,f);};b.O1a=function(c,l,f){return b.is.eha(c,l,f);};b.IB=function(c,l,f){return b.is.tR(c,l,f);};b.Toa=function(c){return b.is.dR(c);};b.IMb=function(c){return b.is.lqb(c);};b.WMb=function(c){return b.is.mqb(c);};b.bpa=function(c){return b.is.YQa(c);};b.yg=function(c){return b.is.Xo(c);};b.RL=function(c){return b.is.ym(c);};b.C1a=function(c){return b.is.v1(c);};b.wp=function(c){return b.is.x1(c);};},47545:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(89082);b=a(33456);a=a(97649);r.za.get(b.II).a9(a.sca.ygb,function(c){var l,f;l=c.level;if(!qb._cad_global.config || l <= qb._cad_global.config.oPb){c=c.y$();f=qb.console;1 >= l?f.error(c):2 >= l?f.warn(c):f.log(c);}});},76813:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(37986);a(7942);r=a(89082);a(33456);a(97649);a(68172);a(74509);a(2467);a=a(60634);r.za.get(a.Uh);!1;},19591:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ih=b.ckb=b.Jw=void 0;c=a(95919);b.Jw=b.Jw || (function(l,f,k){return l >= f?l <= k?l:k:f;});b.ckb=function(l,f,k,d,g){return (l - f) * (g - d) / (k - f) + d;};b.ih=function(l){if((0,c.tb)(l))return (l / 1E3).toFixed(3);};},32660:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.J5b=b.imb=b.gmb=b.fmb=b.hmb=void 0;c=a(95919);l=a(50876);b.hmb=function(f,k,d){for(d=(d - f.length) / k.length;0 < d--;){f+=k;}return f;};b.fmb=function(f,k,d){d=(0,c.yg)(d)?d:"...";return f.length <= k?f:f.substr(0,f.length - (f.length + d.length - k)) + d;};b.gmb=function(f,k){var g;for(var d=1;d < arguments.length;++d){;}g=l.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(m,h){return "undefined" != typeof g[h]?g[h]:m;});};b.imb=function(f){for(var k=f.length,d=new Uint16Array(k),g=0;g < k;g++){d[g]=f.charCodeAt(g);}return d.buffer;};b.J5b=function(f){var k;k=new Uint8Array(f.length);Array.prototype.forEach.call(f,function(d,g){k[g]=d.charCodeAt(0);});return k;};},24133:function(r,b,a){var m,h,n,p,q,u;function c(){var t,w;if(t=b.V4.oPa)return t;t=p.m_.search.substr(1);w=t.indexOf("#");0 <= w && (t=t.substr(0,w));t=l(t);return b.V4.oPa=t;}function l(t){for(var w=/[+]/g,v=(t || "").split("&"),y={},x,z=0;z < v.length;z++){t=(0,n.trim)(v[z]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(w,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(w,"%20")):y[t.toLowerCase()]=null;}return y;}function f(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function k(t){return f(t.constructor);}function d(t){return p.sort.call(t,function(w,v){return w - v;});}function g(t){for(var w=0,v=t.length;v--;){w+=t[v];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.CVb=b.LF=b.eZa=b.cpa=b.yVb=b.$1a=b.cgb=b.dgb=b.iFb=b.eK=b.Bwb=b.k4=b.sEb=b.MG=b.ufb=b.EO=b.vfb=b.jY=b.tfb=b.vMb=b.createElement=b.$R=b.eWb=b.sra=b.jma=b.getFunctionName=b.CV=b.V4=b.$Ib=b.A8a=b.HQa=b.$Ta=b.lXb=b.FA=b.GTa=void 0;m=a(7942);h=a(89082);n=a(30818);p=a(50876);q=a(95919);u=a(85060);b.GTa=function(t,w){if(t === w)return !0;if(!t || !w)return !1;for(var v in t){if(t.hasOwnProperty(v) && (!w.hasOwnProperty(v) || t[v] !== w[v]))return !1;}return !0;};b.FA=b.FA || (function(t,w){if(t.length == w.length){for(var v=t.length;v--;){if(t[v] != w[v])return !1;}return !0;}return !1;});b.lXb=function(t){var w;if(t){w=t.length;if(w)return (w=(0,n.v8a)(0,w - 1),t[w]);}};b.$Ta=function(t,w){if(t.length != w.length)return !1;t.sort();w.sort();for(var v=t.length;v--;){if(t[v] !== w[v])return !1;}return !0;};b.HQa=function(t,w,v){function y(){t.removeEventListener(w,y);v.apply(this,arguments);}t.addEventListener(w,y);};b.A8a=function(){var t,w,v,y,x,z;t=p.Og.cookie.split("; ");w=t.length;x={};for(v=0;v < w;v++){if(y=(0,n.trim)(t[v])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}}return x;};b.$Ib=c;b.V4=Object.assign(c,{oPa:void 0});b.CV=l;b.getFunctionName=f;b.jma=k;b.sra=function(t){var w;w="";(0,q.isArray)(t) || (0,q.apa)(t)?w=p.reduce.call(t,function(v,y){return v + (32 <= y && 128 > y?(0,p.iMa)(y):".");},""):(0,q.yg)(t)?w=t:(0,n.Zf)(t,function(v,y){w+=(w?", ":"") + "{" + v + ": " + ((0,q.wp)(y)?f(y) || "function":y) + "}";});return "[" + k(t) + " " + w + "]";};b.eWb=function(t,w){t.firstChild?t.insertBefore(w,t.firstChild):t.appendChild(w);};b.$R=b.$R || (function(t){var w;w="";(0,n.Zf)(t,function(v,y){w+=(w?";":"") + v + ":" + y;});return w;});b.createElement=b.createElement || (function(t,w,v,y){var x;x=p.Og.createElement(t);w && (x.style.cssText=w);v && (x.innerHTML=v);y && (0,n.Zf)(y,function(z,A){x.setAttribute(z,A);});return x;});b.vMb=function(t,w){var v;v=t[0];if(w <= v[0])return v.slice(1);for(var y=1,x;x=t[y++];){if(w <= x[0]){t=(w - v[0]) / (x[0] - v[0]);w=[];for(y=1;y < v.length;y++){w.push((v[y] || 0) + t * ((x[y] || 0) - (v[y] || 0)));}return w;}v=x;}return v.slice(1);};b.tfb=function(t,w){var x;for(var v={},y=0;y < w.length;y++){x=w[y];if("string" != typeof x && "number" != typeof x)return !1;v[w[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!v[x]))return !1;}return !0;};b.jY=d;b.vfb=g;b.EO=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && z > x && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && z > x && (x=z);}}return x;};b.ufb=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && x > z && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && x > z && (x=z);}}return x;};b.MG=function(t){return (0,q.wp)(t.then)?t:new Promise(function(w,v){t.oncomplete=function(){w(t.result);};t.onerror=function(){v(t.error);};});};b.sEb=function(t,w){var y,x,z,A,B,D;function v(C){0 > y.indexOf(C) && (0,q.tb)(C) && y.push(C);}t=t.slice();d(t);y=[];if(!w || !w.length)return t;if(!t.length)return [];x=w.length;try{for(;x--;){A="" + w[x];B=(0,n.Vi)(A);switch(A[A.length - 1]){case "-":for(z=t.length;z--;){D=t[z];if(D < B){v(D);break;}}break;case "+":for(z=0;z < t.length;z++){if((D=t[z],D > B)){v(D);break;}}break;default:0 <= t.indexOf(B) && v(B);}}}catch(C){}y.length || y.push(t[0]);d(y);return y;};b.k4=b.k4 || (function(t,w,v){var y;if(t / w > v){y=(0,p.qn)(w * v);t=w;}else (y=t,t=(0,p.qn)(t / v));return {width:y,height:t};});b.Bwb=function(t,w,v){for(var y=[],x=0;x < w;x++){y.push((0,p.wGa)(t[x] - v,2));}return (0,p.xGa)(g(y) / y.length);};b.eK=function(t,w){var v;v=t.length;w=(v - 1) * w + 1;if(1 === w)return t[0];if(w == v)return t[v - 1];v=(0,p.KI)(w);return t[v - 1] + (w - v) * (t[v] - t[v - 1]);};b.iFb=function(t,w){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var v=t.length,y=0;y < v;y++){for(var x=0;x < w.length;x++){if(t[y].type == w[x])return t[y];}}throw Error("Box not found " + w);};b.dgb=function(t){return t.eHb("trak/mdia/minf/stbl/stsd/" + m.Rza + "|" + m.Sza).children.filter(function(w){return "sinf" == w.type && w.gdc.schm.agc == u.Zt;})[0].eHb("schi/tenc").Xn;};b.cgb=function(t){var v;function w(y,x){var z;z=v[y];v[y]=v[x];v[x]=z;}v=new Uint8Array(t);w(0,3);w(1,2);w(4,5);w(6,7);return v;};b.$1a=function(){return (0,q.wp)(p.Be.requestMediaKeySystemAccess);};b.yVb=function(t){return function(w){return w && w[t];};};(0,q.wp)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,w){var v,y;void 0 === t && (t=0);void 0 === w && (w=this.byteLength);t=Math.floor(t);w=Math.floor(w);0 > t && (t+=this.byteLength);0 > w && (w+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - t)return new ArrayBuffer(0);v=new ArrayBuffer(w - t);y=new Uint8Array(v);t=new Uint8Array(this,t,w - t);y.set(t);return v;});b.cpa=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.eZa=function(){var t,w;t=new ArrayBuffer(4);w=new Uint8Array(t);t=new Uint32Array(t);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.LF=function(){var t,w,v;try{t=/playercore.*js/;w=p.ju.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(w && 0 < w.length){v=(0,p.qn)(w[0].duration);return JSON.stringify(v);}}catch(y){}};b.CVb=function(t,w,v){if(t && t.length){if(v && v.Ivb)try{t.forEach(function(y,x){var z;z=(x=v.Ivb[x]) && x.media;z && (0,q.yg)(z)?(!1,z=(0,h.uq)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:w,Ac:x.cdn}):h.log.warn("chunk not in cache",y.zg);});}catch(y){h.log.error("error reading cached chunks",y);}else h.log.warn("chunks not available in cached stream",v.type);}else h.log.warn("chunks not available in mediabuffer",v.type);};},30818:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Vwb=b.Ol=b.$f=b.iwb=b.ve=b.vv=b.trim=b.Vna=b.xbb=b.v8a=b.lUb=b.Vi=b.uRa=b.BSa=b.Sd=b.Zf=void 0;c=a(70633);l=a(50876);f=a(95919);b.Zf=function(k,d){for(var g in k){k.hasOwnProperty(g) && d(g,k[g]);}};b.Sd=b.Sd || (function(k,d,g){var m,h,n;if(d)if(g){m=g.EU;h=g.prefix;n=g.d8;(0,b.Zf)(d,function(p,q){if(!n || (0,f.Uc)(q))k[(h || "") + (m?p.toLowerCase():p)]=q;});}else (0,b.Zf)(d,function(p,q){k[p]=q;});return k;});b.BSa=function(k,d,g,m){var h;if(k){h=k[d];(0,f.wp)(h) && (g=h.apply(k,l.slice.call(arguments,3)));}return g;};b.uRa=function(k){for(var d={},g=k.length;g--;){d[k[g]]=!0;}return d;};b.Vi=b.Vi || (function(k){return parseInt(k,10);});b.lUb=function(k){return (/^true$/i).test(k);};b.v8a=function(k,d){return (0,l.qn)(k + (0,l.g_)() * (d - k));};b.xbb=function(k){return JSON.stringify(k,null,"  ");};b.Vna=(function(){var d,g;function k(m){(0,c.oa)(void 0 !== d[m]);return d[m];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};g=/[&'"<>]/g;return function(m){return m.replace(g,k);};})();b.trim=(function(){var k;k=/^\s+|\s+$/gm;return function(d){return d.replace(k,"");};})();b.vv=function(k){return Array.isArray(k)?k:[k];};b.ve=b.ve || (function(k){var d,g,m;if(k){d=k.stack;g=k.number;m=k.message;m || (m="" + k);d?(k="" + d,0 != k.indexOf(m) && (k=m + "\n" + k)):k=m;g && (k+="\nnumber:" + g);return k;}});b.iwb=function(k){var m;for(var d=0;d < arguments.length;++d){;}d=0;for(var g=arguments.length;d < g;){m=arguments[d++];if((0,f.Uc)(m))return m;}};b.$f=function(k){return (0,f.tb)(k)?k.toFixed(0):void 0;};b.Ol=function(k){return (0,f.tb)(k)?(k / 1E3).toFixed(0):void 0;};b.Vwb=function(k){for(var d=[],g=0;g < k.length;g++){d[g]=k[g];}return d;};},37986:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D;function c(C){return (C=b.config.t4b[l(C)])?C:{};}function l(C){if(C)return 0 <= C.indexOf("billboard")?"billboard":0 <= C.toLowerCase().indexOf("preplay")?"preplay":0 <= C.indexOf("embedded")?"embedded":0 <= C.indexOf("content-sampling")?"content-sampling":0 <= C.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= C.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= C.indexOf("standard")?"standard":0 <= C.indexOf("branching")?"branching":0 <= C.indexOf("live")?"live":C;}Object.defineProperty(b,"__esModule",{value:!0});b.Dwb=b.Ewb=b.RTa=b.P2=b.STa=b.hja=b.config=void 0;f=a(7942);k=a(24133);d=a(89082);g=a(53685);m=a(70633);h=a(77003);n=a(56261);p=a(30818);a(71163);q=a(50876);u=a(95919);t=a(11102);w=a(14959);v=a(91022);y=a(65350);x=a(36845);z=a(2467);A=a(811);B=a(58998);D=a(77878);b.STa=function(C,F){var Ka,Va,db,W,ha,ta,Q,O,Z;function G(oa,qa){(0,p.Zf)(oa,function(Ha,Ya){(0,u.wp)(Ya)?qa[Ha]=Ya.call(void 0,qa[Ha]):(0,u.$s)(Ya) && (qa[Ha]=qa[Ha] || ({}),G(Ya,qa[Ha]));});}function E(oa,qa,Ha,Ya){for(var Wa=[],rb=3;rb < arguments.length;++rb){Wa[rb - 3]=arguments[rb];}return function(nb){(0,u.Uc)(nb) && (Ha=nb);(0,m.oa)((0,u.wp)(oa));return oa.apply(void 0,[qa,Ha].concat(ca(Wa)));};}function J(oa){oa=oa.toLowerCase();W.hasOwnProperty(oa) && (db[oa]=W[oa],ha[oa]=W[oa]);return oa;}function M(oa,qa,Ha){var Ya;oa=oa.toLowerCase();if(db.hasOwnProperty(oa)){Ya=db[oa];try{Ya=Ha?Ha(Ya):Ya;}catch(Wa){Ya=void 0;}if(void 0 !== Ya)return Ya;(0,m.oa)(!1);d.log.error("Invalid configuration value. Name: " + oa);}return qa;}function L(oa,qa,Ha,Ya){return M(oa,qa,function(Wa){(0,u.yg)(Wa) && (Wa=(0,p.Vi)(Wa));if((0,u.O1a)(Wa,Ha,Ya))return Wa;});}function I(oa,qa,Ha,Ya){return M(oa,qa,function(Wa){(0,u.yg)(Wa) && (Wa=(0,p.Vi)(Wa));if((0,u.IB)(Wa,Ha,Ya))return Wa;});}function P(oa,qa,Ha,Ya){return M(oa,qa,function(Wa){(0,u.yg)(Wa) && (Wa=parseFloat(Wa));if((0,u.tb)(Wa,Ha,Ya))return Wa;});}function K(oa,qa,Ha){return M(oa,qa,function(Ya){if(Ha?Ha.test(Ya):(0,u.yg)(Ya))return Ya;});}function H(oa,qa){return M(oa,qa,function(Ha){if("true" == Ha || !0 === Ha)return !0;if("false" == Ha || !1 === Ha)return !1;});}function N(oa,qa){return M(oa,qa,function(Ha){if((0,u.yg)(Ha))return JSON.parse((0,q.n_)(Ha));if((0,u.$s)(Ha))return Ha;});}function R(oa,qa,Ha,Ya,Wa,rb){var nb;oa=oa.toLowerCase();db.hasOwnProperty(oa) && (nb=db[oa]);if(!(0,u.Uc)(nb))return qa;if((0,u.yg)(nb))if(nb[0] !== Ha)nb=Ya(nb);else try{nb=JSON.parse((0,q.n_)(nb));}catch(Fb){nb=void 0;}if(void 0 === nb)return qa;for(oa=0;oa < Wa.length;oa++){if(!Wa[oa](nb))return qa;}return rb?rb(nb):nb;}function Y(oa,qa,Ha,Ya,Wa){return R(oa,qa,"[",function(rb){rb=rb.split("|");for(var nb=rb.length;nb--;){rb[nb]=(0,p.Vi)(rb[nb]);}return rb;},[function(rb){return (0,u.isArray)(rb) && 0 < rb.length;},function(rb){for(var nb=rb.length;nb--;){if(!(0,u.IB)(rb[nb],Ha,Ya))return !1;}return !0;},function(rb){return void 0 === Wa || rb.length >= Wa;}]);}function ma(oa,qa){return R(oa,qa,"[",function(Ha){Ha=(0,u.isArray)(Ha)?Ha:Ha.split("|");for(var Ya=Ha.length;Ya--;){try{Ha[Ya]=JSON.parse((0,q.n_)(Ha[Ya]));}catch(Wa){Ha=void 0;break;}}return Ha;},[function(Ha){return (0,u.isArray)(Ha) && 0 < Ha.length;},function(Ha){for(var Ya=Ha.length;Ya--;){if(!(0,u.Uc)(Ha[Ya]) || !(0,u.$s)(Ha[Ya]))return !1;}return !0;}]);}function ia(oa,qa){var Ha;Ha=ja(oa,[]);return Ha && 0 < Ha.length?(0,D.wh)(Ha):ma(oa,qa);}function ja(oa,qa,Ha,Ya){return R(oa,qa,"[",function(Wa){return (0,u.isArray)(Wa)?Wa:Wa.split("|");},[function(Wa){return (0,u.isArray)(Wa) && 0 < Wa.length;},function(Wa){for(var rb=Wa.length;rb--;){if(Ha?!Ha.test(Wa[rb]):!(0,u.RL)(Wa[rb]))return !1;}return !0;},function(Wa){return void 0 === Ya || Wa.length >= Ya;}]);}function Ca(oa,qa,Ha){return R(oa,qa,"{",function(Ya){var Wa,nb,Fb;Wa={};Ya=Ya.split(";");for(var rb=Ya.length;rb--;){nb=Ya[rb];Fb=nb.indexOf(":");if(0 >= Fb)return;Wa[nb.substring(0,Fb)]=nb.substring(Fb + 1);}return Wa;},[function(Ya){return (0,u.$s)(Ya) && 0 < Object.keys(Ya).length;},function(Ya){if(Ha)for(var Wa in Ya){if(!Ha.test(Ya[Wa]))return !1;}return !0;}],function(Ya){var Wa;Wa={};(0,p.Sd)(Wa,qa);(0,p.Sd)(Wa,Ya);return Wa;});}function Ba(oa){var qa;qa=[];(0,p.Zf)(oa,function(Ha,Ya){var Wa;try{Wa="videoapp" === Ha.toLowerCase()?"[object object]":JSON.stringify(Ya);}catch(rb){Wa="cantparse";}qa.push(Ha + "=" + Wa);});return qa.join("\n");}Ka=/^[0-9]+[%]?$/;Va=/^[0-9]*$/;ha={};ta=d.za.get(g.nn);Q=d.za.get(y.TI);(function(oa){function qa(Ha){Ha.split(",").forEach(function(Ya){var Wa;Wa=Ya.indexOf("=");0 < Wa && (db[Ya.substring(0,Wa).toLowerCase()]=Ya.substring(Wa + 1));});}db={};(0,p.Sd)(db,oa);C && C.length && q.forEach.call(C,function(Ha){(0,u.yg)(Ha)?qa(Ha):(0,u.$s)(Ha) && (0,p.Sd)(db,Ha,{EU:!0});});W=(0,p.Sd)({},(0,k.V4)(),{EU:!0});if(oa=(0,k.A8a)().cadmiumconfig)(d.log.info("Config cookie loaded",oa),qa(oa));if(d.za.get(A.tn).K1 || db.istestaccount)((0,p.Sd)(db,W),ha=W);})(F);b.config={};O={fDb:E(H,J("enableXHEAAC"),!1),vWa:E(H,J("enableDDPlus20"),!0),uWa:E(H,J("enableDDPlus"),!0),IK:E(H,J("enableDDPlusAtmos"),!1),JCb:E(H,J("enableLSSDH"),!0),GCb:E(H,J("enableHEVC"),!1),G6a:E(H,J("overrideEnableHEVC"),!1),Eka:E(H,J("enableHDR"),!1),F6a:E(H,J("overrideEnableHDR"),!1),E6a:E(H,J("overrideEnableDV"),!1),HK:E(H,J("enableAVCHigh"),Q.HK),C6a:E(H,J("overrideEnableAVCHigh"),!1),Cka:E(H,J("enableAVCHighLive"),Q.Cka),D6a:E(H,J("overrideEnableAVCHighLive"),!0),bDb:E(H,J("enableVP9"),!1),H6a:E(H,J("overrideEnableVP9"),!1),tCb:E(H,J("enableAV1"),!1),B6a:E(H,J("overrideEnableAV1"),!1),aUb:E(H,J("overrideEnableXHEAAC"),!1),ZTb:E(H,"overrideEnableAllAudioProfiles",!1),$Tb:E(H,"overrideEnableAllVideoProfiles",!1),SCb:E(H,J("enablePRK"),!1),DCb:E(H,J("enableDV"),!1),yWa:E(H,J("enableHWDRM"),!1),ICb:E(H,J("enableImageSubs"),!0),BE:E(ia,J("audioProfiles"),Q.BE),FCb:E(H,J("enableFullHdForWidevineL3"),!1),xWa:E(H,J("enableFullHdForWidevineL1"),!1),aDb:E(H,J("enableUHD"),!0),U$:E(I,"videoCapabilityDetectorType",h.xl.tw),Cha:E(I,"audioCapabilityDetectorType",h.Xt.tw),xk:E(ia,J("videoProfiles"),Q.xk),Uq:E(ia,J("liveVideoProfiles"),Q.Uq),OQa:E(ia,J("additionalVideoProfiles"),[]),Qpb:E(ja,J("timedTextProfiles"),Q.Lt),Lt:function(){return O.Qpb().filter(function(oa){return oa === n.vl.eba?O.JCb():oa === n.vl.LI?O.ICb():!0;});},endpoint:E(H,J("endpoint"),!1),version:E(K,"version","unknown"),HCb:E(H,J("enableHdcp"),!1),fr:E(H,J("prepareCadmium"),!1),qqb:E(H,J("acceptManifestOnPrepareItemParams"),!0),GVb:E(N,"ppmconfig",{maxNumberTitlesScheduled:1}),zS:E(H,J("enableLdlPrefetch"),!1),FWa:E(H,J("enableMediaPrefetch"),!1),NCb:E(H,J("enableManifestCache"),!0),YAb:E(H,J("deleteCachedManifestOnPlayback"),!1),XAb:E(H,J("deleteCachedManifestOnCreate"),!1),$Ab:E(H,J("deleteOtherManifestCacheOnCreate"),!1),ZAb:E(H,J("deleteOtherLdlCacheOnCreate"),!1),vfc:E(I,J("periodicPrepareLogsIntervalMilliseconds"),36E5),aWb:E(I,J("prepareManifestCacheMaxCount"),50),ZVb:E(I,J("prepareLdlCacheMaxCount"),30),P7a:E(I,J("prepareManifestExpiryMilliseconds"),12E5),$Vb:E(I,J("prepareLdlExpiryMilliseconds"),78E4),TVb:E(I,J("prefetcherMaxWishlistSize"),10),SVb:E(I,J("prefetcherBudgetInBytes"),Infinity),UVb:E(H,J("prefetcherOverrideItemPriority"),!0),YVb:E(K,J("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),mhc:E(N,"videoApp"),GC:E(N,"storageRules"),ZFb:E(H,"ftlEnabled",!0),aoa:E(I,J("imageSubsResolution"),0),ELb:E(I,J("imageSubsMaxBuffer"),Q.cQb.ba(x.Yt),0),QR:E(H,J("captureBatteryStatus"),!1),EGb:E(I,J("getBatteryApiTimeoutMilliseconds"),5E3),Vl:E(K,J("keySystemId"),Q.Vl),C2a:E(ja,J("keySystemList"),void 0,void 0),Gxa:E(H,J("validateKeySystemAccess"),!1),QQb:E(I,J("hdcpGlobalTimeout1"),1E4),RQb:E(I,J("hdcpGlobalTimeout2"),1E4),Mec:E(I,J("hdcpQueryTimeout1"),1E3),Nec:E(I,J("hdcpQueryTimeout2"),1E3),J4a:E(I,J("hdcpQueryTimeout2"),100),K4a:E(H,J("microsoftHwdrmRequiresHevc"),!1),SQb:E(H,J("microsoftHwdrmRequiresQHD"),!1),I4a:E(H,J("microsoftClearLeadRequiresSwdrm"),!1),NQb:E(H,J("microsoftEnableDeviceInfo"),!1),OQb:E(H,J("microsoftEnableHardwareInfo"),!1),PQb:E(H,J("microsoftEnableHardwareReset"),!1),x5b:E(H,J("useHevcCodecForDolbyVision"),!1),OCb:E(H,J("enableMediaCapabilities"),!1),FVb:E(H,J("powerEfficientForVideo"),!1),PCb:E(H,J("enableMediaCapabilitiesSourceBufferCheck"),!1),kPb:E(H,"logMediaPipelineStatus",!1),eW:E(H,J("renderDomDiagnostics"),!0),A3a:function(){return -1;},YL:E(L,J("logDisplayMaxEntryCount"),Q.YL,-1),oPb:E(L,J("logToConsoleLevel"),-1),Nbc:E(L,J("bladerunnerCmdHistorySize"),10),Px:function(){return ta.Px;},Hpa:E(H,"logErrorIfEsnNotProvided",!0),Mka:E(H,"enforceSinglePlayback",Q.Mka),N3:E(H,"enforceSingleSession",Q.N3),Via:E(H,"closeOtherPlaybacks",!0),Csb:E(I,"asyncLoadTimeout",15E3,1),zPb:E(I,"mainThreadMonitorPollRate",0),SF:function(){return ta.SF;},fK:function(){return ta.fK;},AX:function(){return ta.AX;},beb:E(I,J("verbosePlaybackInfoDenominator"),0),e9:E(H,"renderTimedText",!0),HVb:E(H,"preBufferTimedText",!0),lEb:E(H,"fatalOnTimedTextLoadError",!0),Mwa:E(Ca,"timedTextStyleDefaults",{}),x$:E(Ca,"timedTextStyleOverrides",{}),w$:E(Ca,"timedTextFontFamilyMapping",Q.w$ || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),ZN:E(I,"timedTextSimpleFallbackThreshold",Q.ZN.ba(x.Yt)),zL:E(ja,J("imscLanguageList"),Q.zL,[]),E5:E(ja,J("increasedMediumScaleLanguageList"),Q.E5,[]),F5:E(ja,J("increasedSmallScaleLanguageList"),Q.F5,[]),A6:E(ja,J("lessBoldLanguageList"),Q.A6,[]),Lja:E(K,J("customDfxpUrl")),$Cb:E(H,J("enableSubtitleTrackerLogging"),!1),v_b:E(H,J("sendSubtitleQoeLogblobOnMidplay"),!1),wia:E(Y,"cdnIdWhiteList",[]),uia:E(Y,"cdnIdBlackList",[]),Lla:E(K,J("forceAudioTrack")),Pla:E(K,J("forceTimedTextTrack")),lQb:E(I,J("maxRetriesTimedTextDownload"),0),w3b:E(I,J("timedTextRetryInterval"),8E3),W1b:E(K,"storageType","idb",/^(none|fs|idb|ls)$/),w3a:E(I,"lockExpiration",1E4),iPb:E(I,"lockRefresh",3E3),$ub:E(H,"captureUnhandledExceptions",!0),DLb:E(H,"ignoreUnhandledExceptionDuringPlayback",!0),w4b:E(H,"unhandledExceptionsArePlaybackErrors",!1),Xcb:E(K,"unhandledExceptionSource",""),lWb:E(H,"preserveLastFrame",!1),ZQb:E(I,"minBufferingTimeInMilliseconds",4E3),UWb:E(I,"progressBackwardsGraceTimeMilliseconds",4E3),VWb:E(I,"progressBackwardsMinPercent",10),Dtb:E(K,J("bookmarkIgnoreBeginning"),"0",Ka),Etb:E(K,J("bookmarkIgnoreEnd"),"5%",Ka),Ftb:E(K,J("bookmarkIgnoreEndForBranching"),"60000",Ka),nqa:E(I,"maxParallelConnections",3),eua:E(H,"reportThroughputInLogblobs",!0),Av:E(I,"minAudioMediaRequestDuration",16E3),XQb:E(I,"minAudioMediaRequestDurationBranching",0),wy:E(I,"minVideoMediaRequestDuration",4E3),fRb:E(I,"minVideoMediaRequestDurationVariableGOP",0),eRb:E(I,"minVideoMediaRequestDurationBranching",0),Iqa:E(I,"minAudioMediaRequestSizeBytes",0),Mqa:E(I,"minVideoMediaRequestSizeBytes",0),aCb:E(H,"droppedFrameRateFilterEnabled",!1),bCb:E(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),dCb:E(function(oa,qa,Ha,Ya,Wa,rb){return R(oa,qa,"[",function(nb){nb=nb.split(";");for(var Fb=nb.length;Fb--;){nb[Fb]=nb[Fb].split("|");for(var Kb=nb[Fb].length;Kb--;){nb[Fb][Kb]=(0,p.Vi)(nb[Fb][Kb]);}}return nb;},[function(nb){return (0,u.isArray)(nb) && 0 < nb.length;},function(nb){for(var Fb=nb.length;Fb-- && void 0 !== nb;){if(!(0,u.isArray)(nb[Fb]))return !1;for(var Kb=nb[Fb].length;Kb--;){if(!(0,u.IB)(nb[Fb][Kb],Ha,Ya))return !1;}}return !0;},function(nb){if(void 0 !== Wa)for(var Fb=nb.length;Fb--;){if(Wa !== nb[Fb].length)return !1;}return !0;},function(nb){return void 0 === rb || nb.length >= rb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),cCb:E(I,"droppedFrameRateFilterMinHeight",384),eCb:E(Y,"droppedFramesPercentilesList",[]),TQb:E(H,"microsoftScreenSizeFilterEnabled",!1),SNb:E(H,"keyStatusFilterEnabled",!1),l0a:E(I,"hdcpEngagementWaitTime",0),s4b:E(H,"uiLabelFilterEnabled",!0),r4b:E(N,"uiLabelFilter",{}),HAb:E(I,J("defaultVolume"),100,0,100),oqa:E(I,J("maxPlaybackRate"),2,0,16),nXa:E(H,"fastForwardAds",!1),LVa:E(H,"disableVideoRightClickMenu",!1),m7:E(I,"minDecoderBufferMilliseconds",1E3,0,f.Dw),fC:E(I,"optimalDecoderBufferMilliseconds",5E3,0,f.Dw),Xra:E(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,f.Dw),s7:E(I,"minimumTimeBeforeBranchDecision",3E3,0,f.Dw),a5a:E(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,f.Dw),sy:E(I,"maxDecoderBufferMilliseconds",Q.sy.ba(z.na),0,f.Dw),hVa:E(I,"decoderTimeoutMilliseconds",1E4,1),C5a:E(I,"noRenderTimeoutMilliseconds",0),deb:E(I,"videoGapsTimeoutMilliseconds",500),BUb:E(I,"pauseTimeoutLimitMilliseconds",18E5),eoa:E(I,"inactivityMonitorInterval",3E4,0),pqb:E(Y,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),LK:E(H,"enableTrickPlay",!1),rrb:E(Y,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),Z3b:E(I,"trickPlayHighResolutionBitrateThreshold",1E3),$3b:E(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),c4b:E(P,"trickplayBufferFactor",.5),Y3b:E(I,"trickPlayDownloadRetryCount",1),eqa:E(K,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),RDb:E(ja,"experimentalFilter",["throughput-wssl"]),Kia:E(K,"ciPredictorSource","throughput-ci"),Wva:E(K,"simulationDurationStrategy","default"),Xqa:E(K,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),YDa:E(N,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),j4a:E(L,"maxIQRSamples",Infinity),S4a:E(L,"minIQRSamples",5),Qdb:E(H,"useResourceTimingAPI",!1),BLb:E(H,"ignoreFirstByte",!0),fEb:E(Y,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),Q2:E(I,"connectTimeoutMilliseconds",8E3,500),fra:E(I,"noProgressTimeoutMilliseconds",8E3,500),mcb:E(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),dfc:E(I,"netflixRequestExpiryTimeout",0),A6b:E(H,"webkitDecodedFrameCountIncorrectlyReported",!1),p$:E(ja,J("supportedAudioTrackTypes"),[],void 0,1),L5:E(I,"initialLogFlushTimeout",5E3),s7a:E(K,"playdataPersistKey",ta.Px?"unsentplaydatatest":"unsentplaydata"),kgc:E(H,"sendPersistedPlaydata",!0),fVb:E(I,"playdataPersistIntervalMilliseconds",4E3),xfc:E(I,"playdataSendDelayMilliseconds",1E4),lgc:E(H,"sendPlaydataBackupOnInit",!0),mPb:E(ja,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),L4a:E(H,"midplayEnabled",!0),i7:E(I,"midplayIntervalMilliseconds",3E5),M4a:E(Y,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),A3:E(I,"downloadReportDenominator",0),SBb:E(I,"downloadReportInterval",3E5),z3a:E(I,"logConfigApplyDenominator",0),bSa:E(Ca,J("bookmarkByMovieId"),{}),SS:E(H,J("forceLimitedDurationLicense"),!1),NB:E(I,J("licenseRenewalRequestDelay"),0),zsa:E(I,J("persistedReleaseDelay"),1E4),oec:E(H,J("limitedDurationFlagOverride"),void 0),a$a:E(I,"safariPlayPauseWorkaroundDelay",100),K6b:E(I,"workaroundValueForSeekIssue",1200),pia:E(H,J("callEndOfStream"),Q.pia),KUb:E(H,"performRewindCheck",!0),nEb:E(H,"fatalOnUnexpectedSeeking",!0),mEb:E(H,"fatalOnUnexpectedSeeked",!0),kEb:E(H,"fatalOnManifestMistmatch",!0),t0b:E(H,J("setVideoElementSize")),Zvb:E(H,J("clearVideoSrc"),!0),wVa:E(I,J("delayPlayPause"),0),Dr:E(H,J("useTypescriptEme"),!1),Jdb:E(H,J("useEncryptedEvent"),!0),sS:E(K,J("drmPersistKey"),"unsentDrmData"),h8a:E(H,J("promiseBasedEme"),!1),qSb:E(H,J("nudgeSourceBuffer"),!1),o$a:E(L,J("seekDelta"),1),NV:E(H,J("preciseSeeking"),!1),IVb:E(H,J("preciseSeekingOnTwoCoreDevice"),!1),vVa:E(Ca,J("delayErrorHandling")),ek:E(K,"esn",""),pXa:E(K,"fesn",""),VCb:E(H,J("enablePerformanceLogging"),!1),wWa:E(H,J("enableEmeVerboseLogging"),!1),appId:E(K,"appId","",Va),sessionId:E(K,"sessionId","",Va),KSa:E(K,"cdnProxyUrl"),E5b:E(H,"usePlayReadyHeaderObject",!1),WXa:E(I,"forceXhrErrorResponseCode",void 0),kp:{afc:E(K,"mslApiPath","/msl/"),Ffc:E(K,"proxyPath",""),cw:E(K,"uiVersion"),G$:E(K,"uiPlatform"),acc:function(){return "0";},Wsa:E(ja,"preferredLanguages",f.kBa,/^[a-zA-Z-]{2,5}$/,1),qFb:E(K,J("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),C2b:E(H,"supportPreviewContentPin",!0),D2b:E(H,"supportWatermarking",!0),Z0b:E(H,"showAllSubDubTracks",!1),edc:E(H,J("failOnGuidMismatch"),!1)},P8:{enabled:E(H,"qcEnabled",!1),en:E(K,"qcPackageId","")},Cr:E(H,"useRangeHeader",!1),AS:E(H,"enableMilestoneEventList",!0),ftb:E(Ca,"authenticationKeyNames",(0,p.Sd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),Q2b:E(K,"systemKeyWrapFormat"),T0b:E(H,"shouldSendUserAuthData",!0),mva:E(H,"sendUserAuthIfRequired",Q.mva),M0b:E(H,"shouldClearUserData",!1),oO:E(H,"usesMsl",!0),yRb:E(H,"mslDeleteStore",!1),ARb:E(H,"mslPersistStore",!0),$wb:E(H,"correctNetworkForShortTitles",!0),EVb:E(H,"postplayHighInitBitrate",!1),L2b:E(H,"supportsUnequalizedDownloadables",!0),dVa:E(I,J("debugAseDenominator"),100),U1:E(I,"aseAudioBufferSizeBytes",Q.U1.ba(x.Yt)),X1:E(I,"aseVideoBufferSizeBytes",Q.X1.ba(x.Yt)),jt:E(I,"minInitVideoBitrate",560),aRb:E(I,"minHCInitVideoBitrate",560),ty:E(I,"maxInitVideoBitrate",Infinity),XU:E(I,"minInitAudioBitrate",0),n7:E(I,"minHCInitAudioBitrate",0),LU:E(I,"maxInitAudioBitrate",65535),j7:E(I,"minAcceptableVideoBitrate",235),XB:E(I,"minRequiredBuffer",3E4),Zq:E(I,"minPrebufSize",7800),Jqa:E(I,"minCheckBufferingCompleteInterval",999999),Jta:E(P,"rebufferingFactor",1),Xq:E(I,"maxBufferingTime",2600),Dxa:E(H,"useMaxPrebufSize",!0),UB:E(I,"maxPrebufSize",45E3),pqa:E(I,"maxRebufSize",Infinity),J5:E(ma,"initialBitrateSelectionCurve",null),a1a:E(I,"initSelectionLowerBound",560),b1a:E(I,"initSelectionUpperBound",1050),mX:E(I,"throughputPercentForAudio",15),Lha:E(I,"bandwidthMargin",10),Mha:E(H,"bandwidthMarginContinuous",!1),Nha:E(ma,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),jja:E(I,"conservBandwidthMargin",20),Bwa:E(H,"switchConfigBasedOnInSessionTput",!1),lja:E(I,"conservBandwidthMarginTputThreshold",0),kja:E(ma,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Obb:E(H,"switchAlgoBasedOnHistIQR",!1),Cwa:E(K,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),p4a:E(L,"maxPlayerStateToSwitchConfig",-1),E3a:E(K,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),HEa:E(P,"IQRThreshold",.5),v0a:E(K,"histIQRCalcToUse","simple"),OU:E(I,"maxTotalBufferLevelPerSession",0),yS:E(H,"enableCombinedPlaygraphs",!0),nF:E(H,"enableAdPlaygraphs",!0),n9:E(H,"retainSbrOnFade",!1),dla:E(ja,"excludedContentPlaygraphIds",[]),J3:E(H,"enableDiscontiguousBuffering",!1),Nla:E(Y,"forceImmediateTransitionTypeForTitles",[]),Mla:E(I,"forceImmediateTransitionExitZone",0),L$:E(H,"useBufferSizeLimiter",!1),y5b:E(H,"useLegacyFragmentRounding",!1),q0a:E(I,"highWatermarkLevel",3E4),ucb:E(I,"toStableThreshold",3E4),z$:E(I,"toUnstableThreshold",Q.z$.ba(z.na)),Yva:E(H,"skipBitrateInUpswitch",!1),Uxa:E(I,"watermarkLevelForSkipStart",8E3),Qna:E(I,"highStreamRetentionWindow",9E4),Rpa:E(I,"lowStreamTransitionWindow",51E4),Sna:E(I,"highStreamRetentionWindowUp",3E5),Tpa:E(I,"lowStreamTransitionWindowUp",3E5),Rna:E(I,"highStreamRetentionWindowDown",6E5),Spa:E(I,"lowStreamTransitionWindowDown",0),Pna:E(P,"highStreamInfeasibleBitrateFactor",.5),oy:E(I,"lowestBufForUpswitch",15E3),AU:E(I,"lockPeriodAfterDownswitch",15E3),Wpa:E(I,"lowWatermarkLevel",25E3),py:E(I,"lowestWaterMarkLevel",2E4),Xpa:E(H,"lowestWaterMarkLevelBufferRelaxed",!1),c7:E(P,"mediaRate",1),U6:E(I,"maxTrailingBufferLen",1E4),Aha:E(I,"audioBufferTargetAvailableSize",262144),Ixa:E(I,"videoBufferTargetAvailableSize",1048576),x4a:E(I,"maxVideoTrailingBufferSize",8388608),b4a:E(I,"maxAudioTrailingBufferSize",393216),a4:E(P,"fastUpswitchFactor",3),mla:E(P,"fastDownswitchFactor",1),uG:E(I,"maxMediaBufferAllowed",24E4),Eab:E(H,"simulatePartialBlocks",!0),Dab:E(H,"simulateBufferFull",!0),mja:E(H,"considerConnectTime",!1),ija:E(P,"connectTimeMultiplier",1),uPb:E(I,"lowGradeModeEnterThreshold",12E4),vPb:E(I,"lowGradeModeExitThreshold",9E4),e4a:E(I,"maxDomainFailureWaitDuration",3E4),iqa:E(I,"maxAttemptsOnFailure",40),Fka:E(H,"enableMaxAttemptsOnFailure",!0),aXa:E(H,"exhaustAllLocationsForFailure",!0),l4a:E(I,"maxNetworkErrorsDuringBuffering",20),P6:E(I,"maxBufferingTimeAllowedWithNetworkError",12E4),mXa:E(I,"fastDomainSelectionBwThreshold",2E3),ccb:E(I,"throughputProbingEnterThreshold",4E4),dcb:E(I,"throughputProbingExitThreshold",34E3),u3a:E(I,"locationProbingTimeout",1E4),tXa:E(I,"finalLocationSelectionBwThreshold",1E4),acb:E(P,"throughputHighConfidenceLevel",.75),bcb:E(P,"throughputLowConfidenceLevel",.4),HWa:E(H,"enablePerfBasedLocationSwitch",!1),dH:E(H,"probeServerWhenError",!0),ita:E(I,"probeRequestTimeoutMilliseconds",8E3),rR:E(H,"allowSwitchback",!0),X7a:E(I,"probeDetailDenominator",100),Q6:E(I,"maxDelayToReportFailure",300),Epa:E(I,"locationStatisticsUpdateInterval",6E4),bxb:E(H,"countGapInBuffer",!1),Erb:E(H,"allowCallToStreamSelector",!0),Ttb:E(I,"bufferThresholdForAbort",1E4),kQb:E(I,"maxResponsesInitialTput",6),AWa:E(H,"enableInitialTputLogging",!1),QUb:E(I,"pipelineScheduleTimeoutMs",2),cM:E(I,"maxPartialBuffersAtBufferingStart",2),pQb:E(I,"maxStreamingSkew",4E3),iQb:E(I,"maxPendingBufferPercentage",10),u5:E(I,"headerRequestSize",4096),Uka:E(H,"estimateHeaderSize",!1),l7:E(I,"minBufferLenForHeaderDownloading",1E4),sua:E(I,"reserveForSkipbackBufferMs",1E4),sSb:E(I,"numExtraFragmentsAllowed",2),ko:E(H,"pipelineEnabled",!1),Lab:E(I,"socketReceiveBufferSize",0),e2:E(I,"audioSocketReceiveBufferSize",32768),X$:E(I,"videoSocketReceiveBufferSize",65536),Nna:E(I,"headersSocketReceiveBufferSize",32768),c5b:E(I,"updatePtsIntervalMs",1E3),Wtb:E(I,"bufferTraceDenominator",100),hSa:E(I,"bufferLevelNotifyIntervalMs",2E3),xR:E(I,"aseReportDenominator",0),vha:E(I,"aseReportIntervalMs",3E5),uCb:E(H,"enableAbortTesting",!1),nqb:E(I,"abortRequestFrequency",8),f2b:E(I,"streamingStatusIntervalMs",2E3),MV:E(I,"prebufferTimeLimit",24E4),P4a:E(I,"minBufferLevelForTrackSwitch",2E3),rsa:E(I,"penaltyFactorForLongConnectTime",2),Ppa:E(I,"longConnectTimeThreshold",200),Xga:E(I,"additionalBufferingLongConnectTime",2E3),Yga:E(I,"additionalBufferingPerFailure",8E3),ZV:E(I,"rebufferCheckDuration",6E4),MCb:E(H,"enableLookaheadHints",!1),sPb:E(I,"lookaheadFragments",2),KK:E(H,"enableOCSideChannel",!0),p_:E(N,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),hdb:E(H,"updateDrmRequestOnNetworkFailure",!1),SAb:E(H,"deferAseScheduling",!1),ZPb:E(I,"maxDiffAudioVideoEndPtsMs",16E3),Yja:E(I,"defaultHeaderCacheSize",4),Xja:E(I,"defaultHeaderCacheDataPrefetchMs",8E3),Yqa:E(H,"neverWipeHeaderCache",!0),Wqa:E(I,"networkFailureResetWaitMs",2E3),Vqa:E(I,"networkFailureAbandonMs",6E4),T6:E(I,"maxThrottledNetworkFailures",3),u$:E(I,"throttledNetworkFailureThresholdMs",200),Vpa:E(L,"lowThroughputThreshold",400),cla:E(H,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),vRb:E(H,"mp4ParsingInNative",!1),x1b:E(H,"sourceBufferInOrderAppend",!0),lN:E(H,"requireAudioStreamToEncompassVideo",!0),Drb:E(H,"allowAudioToStreamPastVideo",!0),EWa:E(H,"enableManagerDebugTraces",!1),N3a:E(I,"managerDebugMessageInterval",1E3),M3a:E(I,"managerDebugMessageCount",20),ifc:E(H,"notifyManifestCacheEom",!1),Vtb:E(I,"bufferThresholdToSwitchToSingleConnMs",18E4),Utb:E(I,"bufferThresholdToSwitchToParallelConnMs",12E4),o8:E(I,"periodicHistoryPersistMs",3E5),y9:E(I,"saveVideoBitrateMs",18E4),fRa:E(H,"appendMediaRequestOnComplete",!0),Pxa:E(H,"waitForDrmToAppendMedia",!1),Kla:E(H,J("forceAppendHeadersAfterDrm"),!1),nFb:E(H,J("forceAppendEncryptedStreamHeaderFirst"),!0),uXb:E(H,J("reappendRequestsOnSkip"),!1),FRb:E(I,"netIntrStoreWindow",36E3),cRb:E(I,"minNetIntrDuration",8E3),hEb:E(I,"fastHistoricBandwidthExpirationTime",10368E3),mtb:E(I,"bandwidthExpirationTime",5184E3),gEb:E(I,"failureExpirationTime",86400),cLb:E(I,"historyTimeOfDayGranularity",4),QDb:E(H,"expandDownloadTime",!1),lRb:E(I,"minimumMeasurementTime",500),kRb:E(I,"minimumMeasurementBytes",131072),m3b:E(I,"throughputMeasurementTimeout",2E3),dMb:E(I,"initThroughputMeasureDataSize",262144),n3b:E(K,"throughputPredictor","ewma"),l3b:E(I,"throughputMeasureWindow",5E3),r3b:E(I,"throughputWarmupTime",5E3),k3b:E(I,"throughputIQRMeasureWindow",5E3),cjb:E(I,"IQRBucketizerWindow",15E3),Gwb:E(I,"connectTimeHalflife",10),kZb:E(I,"responseTimeHalflife",10),bLb:E(I,"historicBandwidthUpdateInterval",2E3),jRb:E(I,"minimumBufferToStopProbing",1E4),$ua:E(K,"secondThroughputEstimator","none"),l$a:E(L,"secondThroughputMeasureWindowInMs",Infinity),ECb:E(ja,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),xEb:E(N,"filterDefinitionOverrides",{}),BAb:E(K,"defaultFilter","throughput-ewma"),WZb:E(K,"secondaryFilter","none"),CAb:E(N,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),Uqa:E(H,"needMinimumNetworkConfidence",!0),Qha:E(H,"biasTowardHistoricalThroughput",!0),Hga:E(H,"addHeaderDataToNetworkMonitor",!1),ewa:E(H,"startMonitorOnLoadStart",!1),dua:E(H,"reportFailedRequestsToNetworkMonitor",!1),kqa:E(L,"maxFastPlayBufferInMs",Infinity),g4a:E(L,"maxFastPlayBitThreshold",Infinity),iha:E(H,"appendFirstHeaderOnComplete",!0),nsb:E(K,"ase_stream_selector","optimized"),qoa:E(K,"initBitrateSelectorAlgorithm","default"),Zha:E(K,"bufferingSelectorAlgorithm","default"),jAb:E(K,"ase_ls_failure_simulation",""),Pja:E(H,"ase_dump_fragments",!1),Qja:E(I,"ase_location_history",0),eVa:E(I,"ase_throughput",0),kAb:E(H,"ase_simulate_verbose",!1),zVb:E(I,"pollingPeriod",150),dPb:E(I,"loadTimeMs",18E4),RPb:E(I,"marginTimeMs",1E4),nma:E(H,"getDeviceIdFromBindDevice",!1),Gga:E(H,"addFailedLogBlobsToQueue",!0),t4b:{"content-sampling":{Xq:E(I,"contentSamplingMaxBufferingTime",3E3),xN:E(K,"contentSamplingSelectStartingVMAFMethod","fallback"),iR:E(H,"contentSamplingActivateSelectStartingVMAF",!0),kt:E(I,"contentSamplingMinStartingVideoVMAF",80),VU:E(I,"contentSamplingMinAcceptableVMAF",70),zG:E(I,"contentSamplingMinAllowedVmaf",60)},billboard:{jt:E(I,"billboardMinInitVideoBitrate",1050),ty:E(I,"billboardMaxInitVideoBitrate",null),Zq:E(I,"billboardMinPrebufSize",null),UB:E(I,"billboardMaxPrebufSize",null),Xq:E(I,"billboardMaxBufferingTime",null),cM:E(I,"billboardMaxPartialBuffersAtBufferingStart",null),py:E(I,"billboardLowestWaterMarkLevel",6E3),oy:E(I,"billboardLowestBufForUpswitch",25E3),Cwa:E(K,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{jt:E(I,"preplayMinInitVideoBitrate",1050),ty:E(I,"preplayMaxInitVideoBitrate",null),Zq:E(I,"preplayMinPrebufSize",null),UB:E(I,"preplayMaxPrebufSize",null),Xq:E(I,"preplayMaxBufferingTime",null),cM:E(I,"preplayMaxPartialBuffersAtBufferingStart",null),py:E(I,"preplayLowestWaterMarkLevel",6E3),oy:E(I,"preplayLowestBufForUpswitch",25E3)},embedded:{jt:E(I,"embeddedMinInitVideoBitrate",1050),ty:E(I,"embeddedMaxInitVideoBitrate",null),Zq:E(I,"embeddedMinPrebufSize",null),UB:E(I,"embeddedMaxPrebufSize",null),Xq:E(I,"embeddedMaxBufferingTime",null),cM:E(I,"embeddedMaxPartialBuffersAtBufferingStart",null),py:E(I,"embeddedLowestWaterMarkLevel",6E3),oy:E(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{jt:E(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),ty:E(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Zq:E(I,"videoMerchBobHorizontalMinPrebufSize",null),UB:E(I,"videoMerchBobHorizontalMaxPrebufSize",null),Xq:E(I,"videoMerchBobHorizontalMaxBufferingTime",null),cM:E(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),py:E(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),oy:E(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{jt:E(I,"miniModalHorizontalMinInitVideoBitrate",null),ty:E(I,"miniModalHorizontalMaxInitVideoBitrate",null),Zq:E(I,"miniModalHorizontalMinPrebufSize",null),UB:E(I,"miniModalHorizontalMaxPrebufSize",null),Xq:E(I,"miniModalHorizontalMaxBufferingTime",500),cM:E(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),py:E(I,"miniModalHorizontalLowestWaterMarkLevel",null),oy:E(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},cDb:E(H,"enableVerbosePlaydelayLogging",!1),YCb:E(H,"enableSeamless",!1),t0a:E(I,"hindsightDenominator",0),s0a:E(I,"hindsightDebugDenominator",0),u0a:E(N,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),IWa:E(H,"enableSessionHistoryReport",!1),gWa:E(I,"earlyStageEstimatePeriod",1E4),X2a:E(I,"lateStageEstimatePeriod",3E4),m4a:E(I,"maxNumSessionHistoryStored",30),W4a:E(I,"minSessionHistoryDuration",3E4),KU:E(I,"maxActiveRequestsPerSession",3),$3a:E(I,"maxActiveRequestsSABCell100",2),xpa:E(H,"limitAudioDiscountByMaxAudioBitrate",!0),od:E(N,"browserInfo",{}),fub:E(I,J("busyGracePeriod"),199),w_b:E(H,J("sendTransitionLogblob"),!0),lCb:E(H,J("editVideoFragments"),!0),fWa:E(H,J("earlyAppendSingleChildBranch"),!0),MLb:E(H,J("includeSegmentInfoOnLogblobs"),!0),WDb:E(H,"exposeTestData",!1),VDb:E(H,J("exposeErrorData"),!1),gVa:E(H,"declareBufferingCompleteAtSegmentEnd",!0),wR:E(H,J("applyProfileTimestampOffset"),!1),M8:E(N,J("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Am:E(H,J("applyProfileStreamingOffset"),!1),e7:E(H,J("mediaSourceSupportsNegativePts"),!1),Jrb:E(H,J("allowSmallSeekDelta"),!1),n1b:E(I,J("smallSeekDeltaThresholdMilliseconds"),t.M_),zCb:E(H,"enableCDMAttestedDescriptors",!1),nua:E(H,"requireDownloadDataAtBuffering",!1),oua:E(H,"requireSetupConnectionDuringBuffering",!1),T8a:E(H,"recordFirstFragmentOnSubBranchCreate",!1),Mdb:E(H,"useMobileVMAF",!1),DVa:E(K,"desiredVMAFTypeMobile","phone_plus_lts"),EVa:E(K,"desiredVMAFTypeNonMobile","plus_lts"),iR:E(H,"activateSelectStartingVMAF",!1),kt:E(I,"minStartingVideoVMAF",1),VU:E(I,"minAcceptableVMAF",1),zG:E(I,"minAllowedVmaf",1),Mrb:E(H,"alwaysNotifyEOSForPlaygraph",!0),QCb:E(H,"enableNewAse",!0),z5b:E(H,"useNewApi",!0),O6:E(I,"maxAllowedOutstandingRequests",4),VJ:E(H,"alwaysRunUnderflowTimer",!0),Kqa:E(I,"minStreamableConcurrencyWindow",3E3),qwa:E(P,"streamableConcurrencyFactor",.3),LR:E(I,"bufferingConcurrencyWindow",7800),h1b:E(H,"singleStreamablePerBranch",!0),M3:E(H,"enableResolutionVMAFStreamFilter",!1),m9:E(N,"resolutionVMAFCappingRuleList",{}),usa:E(L,"percentCapTitlesForResolutionVMAFStreamFilter",100),zBb:E(H,"disableSkipping",!1),M$:E(H,"useHLSPlayer",Q.M$),Cxa:E(H,J("useExitZones"),!0),TYb:E(H,"requestSegmentVmaf",!1),GM:E(N,"perFragmentVMAFConfig",{enabled:!1}),esa:E(I,"paddingDurationMs",1E3),fsa:E(K,"paddingMediaType","padding"),Mbb:E(H,"supportsPtsChanged",!1),LVb:E(H,J("preferUnletterboxed"),!1),BWa:E(H,"enableKeySystemRestrictor",!1),FDb:E(I,"errorEventToRestrict",2),EDb:E(Y,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),DDb:E(Y,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),tWa:E(H,"enableCachedErrors",!1),qub:E(I,"cachedErrorCountLimit",20),tub:E(I,"cachedErrorExpirationSeconds",604800),uub:E(I,"cachedErrorsStorageTimeoutSeconds",2E3),wU:E(I,"liveTargetBufferDuration",1E4),C6:E(I,"liveEdgeCushion",2E3),H6:E(H,"liveSwitchStreamsOnErrorInPipeline",!1),KOb:E(L,"liveEdgeThreshold",1E4),tFb:E(L,"forceLiveEdgeInStartSlateIntervalMs",6E4),KCb:E(H,"enableLivePlaybackRateDriftCorrection",!0),SOb:E(P,"livePlaybackRateMin",.98),ROb:E(P,"livePlaybackRateMax",1.02),QOb:E(L,"livePlaybackRateAdjustmentThresholdMs",20),POb:E(L,"livePlaybackRateAdjustmentIntervalMs",1E3),OOb:E(P,"livePlaybackRateAdjustmentFactor",.1),pFb:E(L,"forceAstRelativeLiveBookmark",void 0),rFb:E(L,"forceEstRelativeLiveBookmark",void 0),O1b:E(L,"startSlateMs",void 0),UOb:E(L,"liveSlateMs",void 0)};Z=!0;b.hja=function(oa){var qa,Ha,Ya;qa=d.za.get(B.Jc).id;if(0 < b.config.z3a && 0 === qa % b.config.z3a)try{Ha=d.za.get(w.pl);Ya=d.za.get(v.Cw).As("config","info",{params:oa});Ha.vc(Ya);}catch(Wa){d.log.error("Failed to log config$apply",Wa);}qb._cad_global.config=b.config;(0,m.oa)(oa);oa && (db=(0,p.Sd)({},oa,{EU:!0}),(0,p.Sd)(db,ha,{EU:!0}),G(O,b.config),db.istestaccount && d.log.trace("Config applied for",Ba(Z?db:oa)),Z=!1);};(0,b.hja)(db);};b.P2=function(C){C=c(C);return (0,p.Sd)({},a(33888)(C),{d8:!0});};b.RTa=function(C,F,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));C={Av:C?b.config.XQb:b.config.Av,wy:C?b.config.eRb:G?b.config.fRb:b.config.wy,fWa:!F};return (0,p.Sd)({},a(33888)(C),{d8:!0});};b.Ewb=c;b.Dwb=l;},43382:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(24133);l=a(7942);f=a(68172);k=a(50876);r=a(89082);a=a(60634);d=r.za.get(a.Uh);d.register(f.U.BEa,function(g){k.jp && k.jp.generateKey && k.jp.importKey && k.jp.unwrapKey?(d.ke("wcs"),(0,c.MG)(k.jp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.ke("wcdone");g(l.ig);},function(m){var h;m="" + m;if(0 <= m.indexOf("missing crypto.subtle"))h=f.R.Aea;else 0 <= m.indexOf("timeout waiting for iframe to load") && (h=f.R.umb);g({xa:h,Kb:m});})):g({xa:f.R.Aea});});},89034:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.Jk=void 0;c=a(7942);l=a(37986);r=a(68172);f=a(70633);k=a(89082);d=a(39465);g=a(50876);m=a(60634);h=a(811);n=k.za.get(m.Uh);n.register(r.U.Zba,function(p){var q,u,t;q=k.za.get(h.tn);(0,f.oa)(l.config);(0,f.oa)(g.Fz && g.Fz.getDeviceId || g.mHa || q.bL);u=k.za.get(d.KBa);t=(0,k.Ri)("Device");n.ke("devs");u.create({deviceId:l.config.deviceId,bL:q.bL,GVa:"deviceid",ek:l.config.ek,Kn:q.Kn,lS:q.lS,userAgent:g.uD,Hpa:l.config.Hpa,nma:l.config.nma,cfc:l.config.Px?"mslstoretest":"mslstore",oO:l.config.oO}).then(function(w){b.Jk=w;qb._cad_global.device=b.Jk;t.info("Esn source: " + b.Jk.Q3);n.ke("devdone");p(c.ig);}).catch(function(w){w.ha=void 0;p(w);});});},43038:function(r,b,a){var g,m,h;function c(n,p,q,u,t){var w;w={};"right" == n.horizontalAlignment?w.right=100 * (q - p.left - p.width - t) / q + "%":w.left=100 * (p.left - t) / q + "%";"bottom" == n.verticalAlignment?w.bottom=100 * (u - p.top - p.height - t) / u + "%":w.top=100 * (p.top - t) / u + "%";return w;}function l(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function f(n,p,q,u,t){var w,v;w=n.style;v=(0,m.Vna)(n.text);for(n=n.lineBreaks;n--;){v="<br />" + v;}return k(v,w,p,q,u,t);}function k(n,p,q,u,t,w){var v;v=p.characterStyle;t=t[v];v=0 <= v.indexOf("MONOSPACE")?l(t,p.cellResolution) || t.lineHeight:t.lineHeight;u=p.characterSize * u.height / (v || 1);u=0 < w?(0,h.KI)(u * w):(0,h.qn)(u);w={"font-size":u + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=d(p.backgroundColor,p.backgroundOpacity));u=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=u + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + u + ",0px 1px " + u + ",1px 0px " + u + ",0px -1px " + u;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,g.$R)(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + w + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.RWa=b.vDb=b.tDb=b.wDb=b.uDb=b.SWa=b.TWa=b.Oka=void 0;g=a(24133);m=a(30818);h=a(50876);b.Oka=function(n,p,q,u,t){var w;w="";n.textNodes.forEach(function(v){w+=f(v,q,p,u,t);});n.region && n.region.multiRowAlignment && (w='<span style="display:inline-block;text-align:' + n.region.multiRowAlignment + '">' + w + "</span>");return w;};b.TWa=function(n,p,q,u,t){var w,v,x,z,A;w="";v=t.width;t=t.height;for(var y=p.length;y--;){x=p[y];z=n[y];z=z && z.region;A="position:absolute;background:" + u + ";width:" + (0,h.qn)(x.width + 2 * q) + "px;height:" + (0,h.qn)(x.height + 2 * q) + "px;";x=c(z,x,v,t,q);(0,m.Zf)(x,function(B,D){A+=B + ":" + D + ";";});w+='<div style="' + A + '"></div>';}return w;};b.SWa=c;b.uDb=l;b.wDb=f;b.tDb=k;b.vDb=d;b.RWa=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,g.$R)(p);};},797:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Vcb=void 0;c=a(50876);b.Vcb=function(l,f){function k(m,h,n){var t,v,y,x,z;if(m && 1 < m.length){for(var p=[],q=[],u=0;u < m.length;u++){p[u]=0;q[u]=0;}t=!1;for(u=0;u < m.length;u++){for(var w=u + 1;w < m.length;w++){v=m[u];y=m[w];if(0 > v.width || 0 > y.width || y.left > v.left + v.width || y.left + y.width < v.left || y.top > v.top + v.height?0:y.top + y.height >= v.top){x=(0,c.Nr)(v.left,y.left);z=(0,c.Nr)(v.top,y.top);x={width:(0,c.Nr)((0,c.Ew)(v.left + v.width,y.left + y.width) - x,0),height:(0,c.Nr)((0,c.Ew)(v.top + v.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,v=d(m[u]),y=d(m[w]),z && h || !z && !h))(x=(0,c.Nr)(x.width / 2,.25),v.x <= y.x?(q[u]-=x,q[w]+=x):(q[w]-=x,q[u]+=x));else if(z && !h || !z && h)(v=(0,c.Nr)(x.height / 2,.25),p[u]-=v,p[w]+=v);}}for(u=0;u < m.length;u++){if(-.25 > q[u] && 0 <= m[u].left + q[u] || .25 < q[u] && m[u].left + m[u].width + q[u] <= n.width)(m[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= m[u].top + p[u] || .25 < p[u] && m[u].top + m[u].height + p[u] <= n.height)(m[u].top+=p[u],t=!0);}return t;}}function d(m){return {x:m.left + m.width / 2,y:m.top + m.height / 2};}l=l.map(function(m){return {top:m.top,left:m.left,width:m.width,height:m.height};});(function(m,h){m.forEach(function(n){0 > n.left && n.left + n.width < h.width?n.left+=(0,c.Ew)(-n.left,h.width - (n.left + n.width)):n.left + n.width > h.width && 0 < n.left && (n.left-=(0,c.Ew)(n.left + n.width - h.width,n.left));0 > n.top && n.top + n.height < h.height?n.top+=(0,c.Ew)(-n.top,h.height - (n.top + n.height)):n.top + n.height > h.height && 0 < n.top && (n.top-=(0,c.Ew)(n.top + n.height - h.height,n.top));});})(l,f);for(var g=0;50 > g && k(l,!0,f);g++){;}for(g=0;50 > g && k(l,!1,f);g++){;}return l;};},83795:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.J3a=void 0;c=a(37986);l=a(7942);f=a(61831);r=a(68172);k=a(50876);d=a(95919);g=a(89082);a=a(60634);g.za.get(a.Uh).register(r.U.tEa,function(m){var p,q,u,t,w;function h(){return (0,k.KI)((0,f.Fn)() / u);}function n(){var v;v=h();if(v != w){for(var y=(0,k.Ew)(v - w,30);y--;){t.push(0);}(y=(0,k.Nr)(t.length - 31,0)) && t.splice(0,y);w=v;}t[t.length - 1]++;}p=c.config.zPb;q=-6 / (p - 2 - 2);u=l.Mr;t=[];w=h();(0,d.Toa)(p) && (setInterval(n,1E3 / p),b.J3a={KHb:function(){var x;for(var v=[],y=t.length - 1;y--;){x=t[y];v.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,k.qn)((x - 2) * q + 7));}return v;}});m(l.ig);});},43662:function(r,b,a){var d,g,m,h,n,p;function c(q){var u;q=new m.WO(q);if(1481462272 != q.Np())throw Error("Invalid header");u={XMR:{Version:q.Np(),RightsID:q.Pv(16)}};l(q,u.XMR,q.buffer.length);return u;}function l(q,u,t){var w,v,y,x,z;for(;q.position < t;){w=q.Zg();v=q.Np();v-=8;switch(w){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:f(w)};z=u[y];z?(0,p.isArray)(z)?z.push(x):(u[y]=[],u[y].push(z),u[y].push(x)):u[y]=x;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:l(q,x,q.position + v);break;case 5:x.Reserved1=q.Zg();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Zg();x.MinimumAnalogVideoOutputProtectionLevel=q.Zg();x.Reserved2=q.Zg();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Zg();break;case 10:x.Reserved=q.Pv(16);x.SymmetricCipherType=q.Zg();x.AsymmetricCipherType=q.Zg();v=q.Zg();x.EncryptedKeyLength=v;w=q.Pv(v);x.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:x.SignatureType=q.Pv(2);v=q.Zg();w=q.Pv(v);x.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:x.Reserved=q.Zg();break;case 18:x.BeginDate=q.Np();x.EndDate=q.Np();break;case 42:x.CurveType=q.Pv(2);v=q.Zg();w=q.Pv(v);x.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:x.ExpireAfterFirstPlay=q.Np();break;case 50:x.Sequence=q.Np();break;case 51:x.LicenseProcessingIndicator=q.Zg();break;case 52:x.MinimumSecurityLevel=q.Zg();break;case 57:x.PlayEnablerType=k(q.Pv(16));break;case 85:break;default:x.OtherData=q.Pv(v);}}}function f(q){return "0x" + q.toString(16);}function k(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.pAb=b.qAb=b.oAb=b.nAb=b.mAb=void 0;d=a(7942);g=a(89082);m=a(70834);h=a(30732);n=a(50791);p=a(95919);b.mAb=function(q,u,t){switch(u){case d.VY:q && (q=(0,g.URa)(q),(0,n.Meb)(q,function(w){w.ha && (w=w.object) && (w=(0,h.XYa)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,h.U6a)(w)) && (w=(0,g.uq)(w)) && (w=c(w)) && t(w);}));}};b.nAb=c;b.oAb=l;b.qAb=f;b.pAb=k;},5917:function(r,b){var c;function a(l,f){var k;k=this;this.jfa=[];c.forEach(function(d){(d=d(l,f)) && k.jfa.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.CP=b.VGa=void 0;c=[];a.prototype.Xy=function(l){var d;for(var f=[],k=this.jfa.length;k--;){d=this.jfa[k];d.Xy(l) && f.push(d.d4);}if(f.length)return f;};b.VGa=a;b.CP=function(l){c.push(l);};},91145:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(5917);c=a(89082);l=a(17244);f=a(21234);k=a(58998);(0,r.CP)(function(d,g){var m,h;m=c.za.get(l.ac);if(m().aCb){h=c.za.get(k.Jc);return new f.aCa(d,g,c.Cf,h,m);}});},21234:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u){var t;t=this;this.j=h;this.Ca=n;this.la=p;this.Ea=q;this.Q7={};this.DK={};this.IN=[];this.v1a=1E3;this.j$=l.dGa;this.Qra=function(){var w;w=t.j.lb.value === d.cb.me && t.j.state.value === d.Ub.$d && t.j.O === t.Ca.O;t.XT?w || (clearInterval(t.XT),t.XT=void 0,t.oU=void 0):w && (t.XT=qb.setInterval(t.s3b,t.v1a));};this.s3b=function(){var w,v,y,x;v=t.j.Td.value;v=v && v.stream;v=null !== (w=v && v.height) && void 0 !== w?w:null;if(null !== v && 0 < v){w=t.Ea.Fb().ba(m.na);y=t.j.je.DF();if(y){if(t.oU && w - t.oU.time < 2 * t.v1a && v === t.oU.height){x=y - t.oU.$Bb;t.Oga(v,x);t.Zqb(v,x);}t.oU={time:w,$Bb:y,height:v};t.j.q8 && t.j.q8.L_b(t.Q7);}}};this.ema=function(){var w;w={};t.DK && t.IN.forEach(function(v){var y,x,z;y=t.DK[v];if(y){x=0;z=0;(0,g.Zf)(y,function(A,B){z+=(0,g.Vi)(A);x+=B;});w[v]=z / x;}});return w;};this.rT=function(w){var v;v={};w.forEach(function(y){v[y]={};});t.DK && ((0,f.jY)(w),t.IN.forEach(function(y){var x,z,A,B;x=t.DK[y];if(x){z=0;A=0;(0,g.Zf)(x,function(E,J){z+=J;});B=Object.keys(x).map(Number);(0,f.jY)(B);for(var D=B.length - 1,C=B[D],F=w.length - 1;0 <= F;F--){for(var G=w[F];C >= G && 0 <= D;){(C=x[C]) && (A+=C);C=B[--D];}v[G][y]=(0,k.qn)(A / z * 100);}}}));return v;};this.log=this.la.Ua("DFF",h);this.A8=u().dCb;this.hQb=u().bCb;this.Y4a=u().cCb;this.Ca.uka={ema:this.ema,rT:this.rT};h.state.addListener(this.Qra);h.lb.addListener(this.Qra);h.addEventListener(d.ea.rG,this.Qra);}Object.defineProperty(b,"__esModule",{value:!0});b.aCa=void 0;l=a(7942);f=a(24133);k=a(50876);d=a(34202);g=a(30818);m=a(2467);c.prototype.Xy=function(h){return h.lower && h.height > this.Y4a?h.height >= this.CJb():!1;};c.prototype.Oga=function(h,n){var p;p=this.Q7[h];p || (this.Q7[h]=p=[],h > this.Y4a && (this.IN.push(h),(0,f.jY)(this.IN)));0 < n && !(this.WU && this.WU < h) && (this.WU=h);p.push(n);p.length > this.hQb && p.shift();};c.prototype.Zqb=function(h,n){var p;p=this.DK[h];p || (this.DK[h]=p={});h=p[n];p[n]=h?h + 1:1;};c.prototype.CJb=function(){var p,q;if(this.WU){for(var h=this.IN.length,n=0;n < h;n++){p=this.IN[n];if(p >= this.WU && p < this.j$){q=this.Q7[p];if(q && this.xvb(this.A8,q) && this.j$ != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ca.fp.set({reason:"droppedFrames",height:p}),this.j$=p);}}this.WU=void 0;}return this.j$;};c.prototype.xvb=function(h,n){var t,w;for(var p=h.length,q=n.length,u=0;u < p;u++){t=h[u];w=t[0];t=t[1];for(var v=0;v < q;v++){if(n[v] >= t && 0 >= --w)return !0;}}return !1;};Xa.Object.defineProperties(c.prototype,{d4:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.aCa=c;},88514:function(r,b,a){var l,f,k;function c(d,g,m,h,n,p){var q;q=this;this.j=d;this.Ca=g;this.la=m;this.config=h;this.qa=n;this.wc=p;this.Krb=function(u){!0 === u.oldValue && !1 === u.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.nZb());};this.q4b=function(u){var t,w,v;q.log.trace("UhdKeyStatus: " + u.oldValue + " -> " + u.newValue);w=null === u || void 0 === u?void 0:u.newValue;v=null === u || void 0 === u?void 0:u.oldValue;"usable" !== w && (q.G_b(w,(null === (t=null === u || void 0 === u?void 0:u.Hh) || void 0 === t?void 0:t.height) || 0),"usable" === v && (u=q.qa.fe.wa(q.UNb),q.log.error("UHD KeyStatus unexpectedly changed: " + u.ba(k.na))));};this.g2a=!1;this.log=this.la.Ua("KeyStatusStreamFilter",this.j);this.VQa=new f.Ib(!1,this.Krb);this.p4b=new f.Ib(void 0,this.q4b);}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;l=a(26984);f=a(14414);k=a(2467);c.prototype.Xy=function(d){return d.Kh && (this.n2b(),this.VQa.set(this.g2a && this.UKb),d.lower && 1080 < d.height && !this.VQa.value)?!0:!1;};c.prototype.xwb=function(){this.UKb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.l0a);};c.prototype.u5a=function(d){var g;g=this;Object.entries(d).forEach(function(m){var h,n,p;h=la(m);m=h.next().value;h=h.next().value;m=null !== (p=null === (n=g.TNb) || void 0 === n?void 0:n[m]) && void 0 !== p?p:0;1080 < m && (g.g2a="usable" === h,g.p4b.set(h,{height:m}));});};c.prototype.n2b=function(){var d,g,m;d=this;m=this.Ca.ee;!this.xNb && (0,l.Hoa)(m) && (this.xNb=!0,this.TNb=null === (g=null === m || void 0 === m?void 0:m.context) || void 0 === g?void 0:g.m6,this.u5a(m.keyStatuses.value),m.keyStatuses.addListener(function(h){return d.u5a(h.newValue);}),this.wc.Lj((0,k.Hb)(this.config.l0a),function(){return d.xwb();}),this.UNb=this.qa.fe);};c.prototype.G_b=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.Ca.fp.set({reason:"keyStatus",height:g});};Xa.Object.defineProperties(c.prototype,{d4:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.fFa=c;},22507:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(5917);c=a(37986);l=a(89082);f=a(88514);(0,r.CP)(function(k,d){if(c.config.SNb)return new f.fFa(k,d,l.Cf,c.config,l.qa,l.wc);});},19911:function(r,b,a){var l,f;function c(k,d){var g,m;g=(0,f.Ih)(k,"MSS");if(l.config.TQb)return {d4:"mss",Xy:function(h){var n,p;if(h.lower && 2160 <= h.height)a:{for(n=h;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === m){try{p=qb.MSMediaKeys;m=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){g.error("hasUltraHdDisplay exception");m=!0;}m || (g.warn("Restricting resolution due screen size",{MaxHeight:h.height}),d.fp.set({reason:"microsoftScreenSize",height:h.height}));}return !m;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Ljb=void 0;r=a(5917);l=a(37986);f=a(89082);(0,r.CP)(c);b.Ljb=c;},22:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(5917);c=a(37986);l=a(89082);(0,r.CP)(function(f,k){var d,g,m,h;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.r4b);g=d[k.xd];if(c.config.s4b && g){m={};h=(0,l.Ih)(f,"MediaStreamFilter");return {d4:"uiLabel",Xy:function(n){if(n.lower && n.height > g)return (m[n.height] || (m[n.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),k.fp.set({reason:"uiLabel",height:n.height})),!0);}};}});},93230:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.cEa=void 0;c=a(34202);l=a(89927);b.cEa=function(f){function k(d){f.fireEvent(c.ea.gF,{response:d,O:f.aa.O});}return {download:function(d,g){d.j=f;d=l.Ie.download(d,g);d.E1(k);return d;}};};},89927:function(r,b,a){var g,m,h,n,p,q,u,t,w,v,y,x,z,A;function c(){this.Di=(0,q.Ri)("Http");this.Wj=new g.Tj();this.PD=0;this.Tf={ssl:0,"non-ssl":0,invalid:0};this.H_={Ya:1,wmb:2,Cza:3};this.addEventListener=this.Wj.addListener;this.removeEventListener=this.Wj.removeListener;}function l(B){var D,C,F,G;D=B.url.split("?");C="sc=" + B.UZb;F=B.lub?"random=" + (1E17 * (0,w.g_)()).toFixed(0):"";G=D[0];G=D[1]?G + ("?" + D[1] + "&" + C):G + ("?" + C);G+=F?"&" + F:"";B.Ac && !(0,h.cpa)(G) && (B=m.config && m.config.KSa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function f(B,D){var C,F,G;C=B.url.split("?");F=k(B);G=C[0];F && (D.Nv=F,(void 0 === B.Cr?m.config.Cr:B.Cr) || B.nr !== x.JP?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(D.Nv=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.lub?"random=" + (1E17 * (0,w.g_)()).toFixed(0):"";m.config.KK && B.NW && (F="sc=" + B.NW + (F?"&" + F:""));G=C[1]?G + ("?" + C[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.Ac && !(0,h.cpa)(G) && (B=m.config && m.config.KSa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));D.url=G;}function k(B){var D;D=B.offset;if(void 0 !== D)return ((0,u.fS)(D),void 0 !== B.length?(B=D + B.length - 1,(0,u.fS)(B),D + "-" + B):D + "-");}function d(B,D,C,F){var G,E;G=F.G7a;E=F.headers;B.open(G?"POST":"GET",D,C);switch(F.responseType){case b.MT:B.responseType="arraybuffer";break;case b.Xna:(0,t.BSa)(B,"overrideMimeType",void 0,"text/xml");}G && (D={"Content-Type":(0,y.yg)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,t.Sd)(D,E):D);E && (0,t.Zf)(E,function(J,M){B.setRequestHeader(J,M);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.MT=b.Xna=b.Wna=b.kLb=b.Yna=b.jLb=b.y0a=b.v5=b.Ie=b.hLb=b.iLb=void 0;g=a(59883);m=a(37986);r=a(7942);h=a(24133);n=a(61831);p=a(68172);q=a(89082);u=a(70633);t=a(30818);w=a(50876);v=a(66052);y=a(95919);x=a(5485);z=a(47417);c.prototype.a1b=function(B){var D;D=new XMLHttpRequest();B=l(B);D.open("HEAD",B,!0);D.onreadystatechange=function(){2 === D.readyState && 200 <= D.status && 299 >= D.status && !1;};D.send();return function(){return D.abort();};};c.prototype.download=function(B,D){var P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db;function C(){var W;if(!ma){ma=!0;db && (qb.clearTimeout(db),db=null);P.Wj.removeListener(b.Yna,J);P.Zfa(Ba,Ka);Ka && (Ka.onloadstart=null,Ka.onreadystatechange=null,Ka.onprogress=null,Ka.onerror=null,Ka.onload=null,Ka=Ka.onabort=null);Ba.ha || (Ba.xa != p.R.gD?H.warn("Download failed",Y,(0,p.zw)(Ba)):H.trace("Download aborted",Y));W=ia;ia=null;null === W || void 0 === W?void 0:W.reduceRight(function(ha,ta){(0,v.Lf)(function(){return ta(Ba);});},null);P.Wj.Dc(b.y0a,Ba,!0);}}function F(){db && (qb.clearTimeout(db),db=null);db=qb.setTimeout(M,Va?R:N);}function G(W,ha,ta,Q){var O,Z;Ba.ha=!1;Ba.xa=W;O=(0,n.Fn)();Z=Ba.Xl;Z.Yi=Z.Yi || O;Z.Qp=Z.Qp || O;ha && 0 < ha && (Ba.Ml=ha,Ba.Ee=ha.toString());ta && (Ba.Kb=ta);Q && (Ba.xC=Q);W !== p.R.gP && W !== p.R.hD && W !== p.R.jP || !Ka || (Ka.onabort=null,L());C();}function E(W){var ha,ta;try{ta=W.getResponseHeader("X-Netflix.Retry.Server.Policy");ta && (ha=JSON.parse(ta));}catch(Q){!1;}return ha;}function J(){A() || G(p.R.gP);}function M(){G(Va?p.R.hD:p.R.jP);}function L(){try{null === Ka || void 0 === Ka?void 0:Ka.abort();}catch(W){}}function I(){G(p.R.gD);}P=this;(0,u.oa)(D);H=(null === (K=null === B || void 0 === B?void 0:B.j) || void 0 === K?0:K.log)?(0,q.Ih)(B.j,"Http"):this.Di;N=B.Q2 || m.config.Q2;R=B.fra || m.config.fra;Y={Num:this.PD++};ma=!1;ia=[D];ja={};this.aqb(B);Ba=new z.fEa(B,L,M,ja,function(W){ma || ((0,u.oa)(ia,"Callback should be added before download starts."),ia && ia.unshift(W));});Va=!1;(0,v.Lf)(function(){var W;if((0,y.bpa)(B.url))try{if((f(B,Ba),Ca=Ba.url,(0,u.gS)(Ca),Y.Url=Ca,A())){!1;Ka=new XMLHttpRequest();Ka.onreadystatechange=function(){2 === (null === Ka || void 0 === Ka?void 0:Ka.readyState) && (Va=!0,ja.Yi=(0,n.Fn)(),Ka.onreadystatechange=null,F(),!1,P.Zfa(Ba,Ka),Ba.IG({timestamp:ja.Yi,connect:!0,mediaRequest:B,start:ja.Qy,rt:[ja.Yi - ja.Qy],responseHeaders:Ba.headers}));};Ka.onprogress=function(ha){Va=!0;ja.S2=ha.loaded;F();P.Zfa(Ba,Ka);ha={mediaRequest:B,bytes:ha.loaded,timestamp:(0,n.Fn)(),bytesLoaded:ha.loaded,responseHeaders:Ba.headers};Ba.IG(ha);};Ka.onload=function(ha){if(!ma && Ka){(0,u.oa)(void 0 === ja.Qp);ja.Qp=(0,n.Fn)();ja.Yi=ja.Yi || ja.Qp;ja.S2=ha.loaded;if(200 <= Ka.status && 299 >= Ka.status){a:switch((ha=Ka,Ba.type)){case b.MT:ha=ha.response || new ArrayBuffer(0);break a;case b.Xna:ha=ha.responseXML;break a;default:ha=ha.responseText;}Ba.parsed=!1;Ba.content=ha;Ba.ha=!0;}else 420 === Ka.status?G(p.R.iP,Ka.status):G(p.R.hP,Ka.status,Ka.response,E(Ka));C();}};Ka.onabort=I;Ka.onerror=function(){var ha,ta;if(Ka){ha=Ka.status;"undefined" !== typeof m.config.WXa && (ha=m.config.WXa);if(0 < ha){if(420 === ha)G(p.R.iP,ha);else {try{ta=Ka.responseText;}catch(Q){}G(p.R.hP,ha,ta,E(Ka));}}else G(p.R.kP);}};W=(0,n.Fn)();d(Ka,Ca,!0,B);P.Wj.Dc(b.v5,Ba,!0);ja.Qy=W;Ba.uM({mediaRequest:B,timestamp:W});F();P.Wj.addListener(b.Yna,J);}else (0,v.Lf)(G.bind(void 0,p.R.gP));}catch(ha){H.error("Exception starting download",ha,Y);G(p.R.Wba,void 0,(0,t.ve)(ha));}else G(p.R.KDa);});return Ba;};c.prototype.zWb=function(B){var D,C;D=new XMLHttpRequest();C=B.wWb;D.open("HEAD",B.url,!0);D.timeout=m.config.ita;D.onreadystatechange=function(){2 === D.readyState && (!1,C && C.sM(D.status));};D.ontimeout=D.onerror=function(){!1;C && C.mra(D.status);};D.send();};c.prototype.aqb=function(B){var D;try{D=B.url;(0,y.bpa)(D)?0 === D.indexOf("https")?this.Tf.ssl++:0 === D.indexOf("http")?this.Tf["non-ssl"]++:this.Tf.invalid++:this.Tf.invalid++;}catch(C){}};c.prototype.Zfa=function(B,D){var C;if(!B.headers && D){C={};D.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=la(F.split(": "));F=G.next().value;G=aa(G).join(": ");F && (C[F.toLowerCase()]=G);});B.headers=C;}};b.iLb=f;b.hLb=k;A=r.JKa;b.Ie=new c();b.v5=1;b.y0a=2;b.jLb=3;b.Yna=4;b.kLb=5;b.Wna=b.Ie.H_.Ya;b.Xna=b.Ie.H_.wmb;b.MT=b.Ie.H_.Cza;qb._cad_global.http=b.Ie;},47417:function(r,b,a){var l;function c(f,k,d,g,m){this.E1=this.IG=this.uM=l.Iw;this.request=f;this.type=f.responseType;this.Xl=g;this.abort=k;this.timeout=d;this.E1=m;}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;l=a(7942);c.prototype.Z_b=function(f){this.uM=f;};c.prototype.d0b=function(f){this.IG=f;};b.fEa=c;},89082:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.za=b.QJa=b.YS=b.Ih=b.Ri=b.log=b.Cf=b.hL=b.URa=b.uq=b.qx=b.kc=b.ttb=b.Oha=b.rtb=b.stb=b.Li=b.pO=b.GX=b.eh=b.wc=b.qa=void 0;c=a(84722);r=a(71163);l=a(77003);f=a(53484);k=a(5266);d=a(31224);g=a(95919);m=a(97636);h=a(35664);a=a(65428);b.qa=c.dc.get(h.gg);b.wc=c.dc.get(a.Ci);b.eh=c.dc.get(f.lq);b.GX=b.eh.encode.bind(b.eh);b.pO=b.eh.decode.bind(b.eh);b.Li=c.dc.get(k.pw);b.stb=b.Li.encode.bind(b.Li);b.rtb=b.Li.decode.bind(b.Li);b.Oha=b.Li.wF.bind(b.Li);b.ttb=b.Li.vcb.bind(b.Li);b.kc=c.dc.get(d.fh);b.qx=function(n){n=(0,g.yg)(n)?(0,b.pO)(n):n;return b.kc.encode(n);};b.uq=b.kc.decode.bind(b.kc);b.URa=function(n){return (0,b.GX)((0,b.uq)(n));};b.hL=function(){return c.dc.get(l.uw);};b.Cf=c.dc.get(r.Xa);b.log=b.Cf.Ua("General");b.Ri=function(n,p){return b.Cf.Ua(n,void 0,p);};b.Ih=function(n,p,q){return b.Cf.Ua(p,n,q);};b.YS=function(n,p,q,u){return b.Cf.Ua(n,void 0,u,p,q);};b.QJa=function(n,p,q){return c.dc.get(m.PP)(n,p,q).tX();};b.za=c.dc;},9911:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(12648);l=a(7942);f=a(37986);k=a(58680);d=a(61831);r=a(68172);g=a(89082);m=a(85643);h=a(50876);n=a(66052);p=a(95919);q=a(14959);u=a(91022);a=a(60634);v=g.za.get(a.Uh);v.register(r.U.sEa,function(y){var z;function x(){var A,B,D;A=v.startTime;B={browserua:h.uD,browserhref:h.m_.href,initstart:A,initdelay:v.endTime - A};(A=h.Og.documentMode) && (B.browserdm="" + A);(0,p.RL)(f.config.pXa) && (B.fesn=f.config.pXa);Object.assign(B,(0,c.cna)());D=h.ju && h.ju.timing;D && f.config.mPb.map(function(C){var F;F=D[C];F && (B["pt_" + C]=F - (0,d.tTa)());});A=z.jIb();Object.entries(A).forEach(function(C){var F;F=la(C);C=F.next().value;F=F.next().value;return B["m_" + C]=F;});A=w.As("startup","info",B,k.Iz.Fla);t.vc(A);}w=g.za.get(u.Cw);t=g.za.get(q.pl);z=g.za.get(m.aJ);v.xU(function(){t.va();(0,n.Lf)(x);});y(l.ig);});},15883:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,w;function c(v,y){var z;function x(){function A(B,D){return D.ie && 0 !== D.ie.length && D.ie[0].pG?(0,f.My)(v,D).then(function(){z.trace("Successfully released license for session",JSON.stringify(D));return B?B.dW(D):Promise.resolve();}).catch(function(C){z.error("Unable to send stop command for session",JSON.stringify({Vy:D,error:C}));throw C;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.dW(D):Promise.resolve());}l(z).then(function(B){var D;D=B.D3.filter(function(C){return !1 === C.active;}).map(function(C){return A(B,C);});Promise.all(D).then(function(){z.info("release drm session completed for " + D.length + " entries");y(k.ig);}).catch(function(C){C=C || ({});C.DrmCacheSize=D.length;z.error("Unable to release one or more DRM session data",C);y(k.ig);});}).catch(function(B){z.error("Unable to load DRM session data",B);y(k.ig);});}z=(0,h.Ri)("PlayDataManager");y=y || k.Iw;d.config.Dr?y(k.ig):x();}function l(v){var y;if(!b.qka){y=h.za.get(n.Zaa);b.qka=new Promise(function(x,z){y.C8a().then(function(){x(y);}).catch(function(A){v.error("Unable to load DRM data for license release",A);z(A);});});}return b.qka;}Object.defineProperty(b,"__esModule",{value:!0});b.pJa=b.oJa=b.qka=void 0;f=a(49007);k=a(7942);d=a(37986);g=a(25892);m=a(811);h=a(89082);r=a(68172);n=a(68511);p=a(12496);q=a(34202);u=a(14959);t=a(60634);w=a(62298);b.oJa=function(v){var z,A,B,D,C,F;function y(){A || (v.ke("pdsb"),A=h.za.get(p.OP)().then(function(G){D=G;v.ke("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);v.ke("pdse");throw G;}));return A;}function x(){B=!0;D && D.close();g.he.removeListener(g.Nk,x);}z=(0,h.Ih)(v,"PlayDataManager");B=!1;C=h.za.get(m.x_);if(!C.zI || !C.xI){F=h.za.get(w.rda)();C.zI=F.Vy;C.xI=F.request;}v.ke("pdctor");v.addEventListener(q.ea.tg,function(){g.he.removeListener(g.Nk,x);});v.addEventListener(q.ea.tU,function(){var G;if(!d.config.Dr && v.ee){G=v.U2.oUa();l(z).then(function(E){return E.sQa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(q.ea.tg,function(){var G;if(!B){v.r6b();G=[(function(){return d.config.Dr || !v.ee?Promise.resolve():new Promise(function(E){var J;z.info("Sending the expedited playdata");J=v.U2.oUa();v.ee.bXa(J).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(M){return M?M.dW(J):Promise.resolve();}).then(function(){E(void 0);}).catch(function(M){z.error("Unable to send the expedited playdata",M);E();});});})(),(function(){return y().then(function(E){return E.XW(v.aa);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){h.za.get(u.pl).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){v.K7();}).catch(function(){v.K7();});}});g.he.addListener(g.Nk,x);return {};};b.pJa=function(){return new Promise(function(v){c({},function(y){v(y);});});};h.za.get(t.Uh).register(r.U.zz,function(v){v(k.ig);});},13472:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);l=a(88625);f=a(89034);k=a(37986);d=a(7942);g=a(68172);m=a(70633);h=a(89082);n=a(85643);p=a(3971);q=a(7336);u=a(30818);t=a(50876);w=a(95919);v=a(24133);y=a(74509);x=a(2467);r=a(60634);z=a(55689);A=a(40142);B=a(5485);D=a(98540);C={};F=h.za.get(r.Uh);F.register(g.U.uEa,function(G){var L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka;function E(Va){Va && Va.userList && k.config.M0b && (Va.userList=[]);K({esn:f.Jk.ek,esnPrefix:f.Jk.Kn,authenticationKeyNames:k.config.ftb,systemKeyWrapFormat:k.config.Q2b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Ba,storeState:Va,notifyMilestone:F.ke.bind(F),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:g.R.Gjb,MSL_READ_TIMEOUT:g.R.Fjb}},{result:function(db){J(db);},timeout:function(){G({xa:g.R.jGa});},error:function(db){G(M(g.R.jGa,void 0,db));}});}function J(Va){var W,ha,ta,Q;function db(){Ca && h.za.get(q.nw).create().then(function(O){return O.save(ia,ta,!1);}).catch(function(O){R.error("Error persisting msl store",(0,g.zw)(O));});}W=this;ha=h.za.get(y.Nz)((0,x.Hb)(100));Q=H.extend({init:function(O){this.TOa=O;},getResponse:function(O,Z,oa){var qa,Ha;Z=this.TOa;qa=Z.Sqa.Ie || qa;O=(0,w.apa)(O.body)?(0,h.GX)(O.body):O.body;(0,m.gS)(O,"Msl should not be sending empty request");O={url:Z.url,G7a:O,withCredentials:!0,PA:"nq-" + Z.method,headers:Z.headers};Z=this.TOa.timeout;O.Q2=Z;O.fra=Z;Ha=qa.download(O,function(Ya){try{if(Ya.ha)oa.result({body:Ya.content});else if(400 === Ya.Ml && Ya.Kb)oa.result({body:Ya.Kb});else throw (0,u.Sd)(new N("HTTP error, SubCode: " + Ya.xa + (Ya.Ml?", HttpCode: " + Ya.Ml:"")),{cadmiumResponse:Ya});}catch(Wa){oa.error(Wa);}});return {abort:function(){Ha.abort();}};}});ma && Va.addEventHandler("shouldpersist",function(O){ta=O.storeState;ha.Zi(db);});(0,u.Sd)(C,{Xdc:function(){ja=!0;},send:function(O){function Z(){var oa,qa;oa=O.Sqa;qa={method:O.method,nonReplayable:O.F5a,encrypted:O.oF,userId:O.Udb,body:O.body,timeout:2 * O.timeout,url:new Q(O),allowTokenRefresh:Ca,sendUserAuthIfRequired:Ka,shouldSendUserAuthData:k.config.T0b};oa.email?(qa.email=oa.email,qa.password=oa.password || ""):ja && (qa.useNetflixUserAuthData=!0);return qa;}return new Promise(function(oa,qa){var Ha;Ha=Z();Va.send(Ha).then(function(Ya){ja && (ja=!1);oa({ha:!0,body:Ya.body});}).catch(function(Ya){var Wa,rb;if(Ya.error){Wa=Ya.error.cadmiumResponse && Ya.error.cadmiumResponse.xa?Ya.error.cadmiumResponse.xa:Va.isErrorReauth(Ya.error)?g.R.iGa:Va.isErrorHeader(Ya.error)?g.R.zjb:g.R.yjb;rb=Va.getErrorCode(Ya.error);qa(M(Wa,rb,Ya.error));}else (R.error("Unknown MSL error",Ya),Ya.ic=Ya.subCode,qa({xa:Ya.ic?Ya.ic:g.R.Hjb}));});});},$U:Va});A.HD.XJ.mslFetch=function(O,Z){return c.__awaiter(W,void 0,void 0,function qa(){var Ha,Ya,Wa;return Ja(qa,function(rb){if(1 == rb.Cv)return (Ha=h.za.get(D.WI),Ma(rb,C.send({Sqa:{Ie:h.za.get(B.eu),profile:Ha},timeout:3E3,url:O.toString(),body:null === Z || void 0 === Z?void 0:Z.body,headers:{"Content-Type":"application/x-msl+json"},Udb:Ha,EYb:!1,F5a:!0,oF:!0}),2));Ya=rb.$X;Wa={get body() {this.bodyUsed=!0;return Ya.body;}};return rb.return((Wa.bodyUsed=!1,Wa.ok=Ya.ha,Wa.status=Ya.ha?200:400,Wa.statusText=Ya.ha?"OK":"Bad Request",Wa.type="basic",Wa.url=O.toString(),Wa.headers=new Headers({"Content-Type":"application/json"}),Wa.text=function(){return Promise.resolve(this.body);},Wa.json=function(){return Promise.resolve(JSON.parse(this.body));},Wa.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Wa.clone=function(){return Object.assign({},this);},Wa.blob=function(){return this.arrayBuffer().then(function(nb){return new Blob([nb]);});},Wa.formData=function(){throw Error("Not implemented");},Wa.redirected=!1,Wa));});});};G(d.ig);h.za.get(z.Oca).CRb(C);}function M(Va,db,W){var ha,ta,Q,O;Q={xa:Va,P3:db};if(W){O=function(Z){var oa;Z=Z || "" + W;if(W.stack){oa="" + W.stack;Z=0 <= oa.indexOf(Z)?oa:Z + oa;}return Z;};if(ta=W.cadmiumResponse){if(ha=ta.Ee && ta.Ee.toString())ta.Ee=ha;ta.xa=Va;ta.P3=db;ta.Kb=O(W.message);ta.error={ic:Va,Tc:ha,xy:db,data:W.cause,message:W.message};return ta;}O=O(W.errorMessage);ha=(0,u.Vi)(W.internalCode) || (0,u.Vi)(W.error && W.error.internalCode);ta=void 0 !== W.IDb?(0,v.sra)(W.IDb):void 0;}O && (Q.Kb=O);ha && (Q.Ee=ha);Q.error={ic:Va,Tc:ha.toString(),xy:db,data:ta,message:O};return Q;}(0,m.oa)(k.config);L=h.za.get(n.aJ);I=p.om.jj;if(t.Fz && t.jp && t.jp.unwrapKey){try{P=qb.netflix.msl;K=P.createMslClient;H=P.IHttpLocation;N=P.MslIoException;}catch(Va){G({xa:g.R.Ajb});return;}R=(0,h.Ri)("Msl");Y=k.config.yRb;ma=k.config.ARb;ia=k.config.Px?"mslstoretest":"mslstore";P=l.GH.G$a;ja=!0;Ca=!P || P.ha;Ba=(0,h.uq)(k.config.Px?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Ka=!!k.config.mva;h.za.get(q.nw).create().then(function(Va){Y?Va.remove(ia).then(function(){E();}).catch(function(db){R.error("Unable to delete MSL store",(0,g.zw)(db));E();}):ma?Va.load(ia).then(function(db){L.mark(I.Cjb);E(db.value);}).catch(function(db){db.xa == g.R.Ow?(L.mark(I.Ejb),E()):(R.error("Error loading msl store",(0,g.zw)(db)),L.mark(I.Djb),Va.remove(ia).then(function(){E();}).catch(function(W){G(W);}));}):E();}).catch(function(Va){R.error("Error creating app storage while loading msl store",(0,g.zw)(Va));G(Va);});}else G({xa:g.R.Bjb});});},89136:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.PCa=void 0;c=a(37986);l=a(25892);f=a(30818);k=a(68172);d=a(34202);b.PCa=function(g,m,h){function n(q){var u,t;u=q.error || q;t=(0,f.ve)(u);h.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.Xcb && c.config.w4b?0 <= u.indexOf(c.config.Xcb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),g.pd(k.U.VMa));}function p(){l.he.removeListener(l.h5,n);g.removeEventListener(d.ea.tg,p);g.removeEventListener(d.ea.st,p);}try{l.he.addListener(l.h5,n);g.addEventListener(d.ea.tg,p);c.config.DLb && g.addEventListener(d.ea.st,p);}catch(q){h.error("exception in exception handler ",q);}};},45108:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;c=a(37986);l=a(61831);f=a(68172);k=a(50995);d=a(50876);g=a(95919);m=a(34202);h=a(89082);n=a(92513);b.LEa=function(p){var u,t,w,v;function q(){p.state.value !== m.Ub.$d || p.lb.value !== m.cb.Wh && p.lb.value !== m.cb.cq?t.Vp():t.YA();}u=c.config.BUb;if(!p.OL() && u){t=h.za.get(n.XP)(u,function(){p.fireEvent(m.ea.BL,f.U.s_);});p.lb.addListener(q);p.state.addListener(q);if(c.config.eoa){w=(0,l.Fn)();v=new k.OKa(c.config.eoa,function(){var y,x;y=(0,l.Fn)();x=y - w;x > u && (p.fireEvent(m.ea.BL,f.U.ZZ),v.pTa());x > 2 * c.config.eoa && (p.foa=(0,d.Nr)(x,p.foa || 0));w=y;});v.p0b();}p.addEventListener(m.ea.tg,function(){t.Vp();(0,g.Uc)(v) && v.pTa();});}};},4985:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v;function c(y,x){this.j=y;this.aj=x;this.M2b=!1;this.log=(0,k.Ih)(this.j,"MediaAppendManager");this.Pb=this.j.Pb;this.$=this.Pb.$;this.PX=this.CR=!1;this.audio={type:f.Uj.audio,bv:[],Uk:[],FM:!1};this.video={type:f.Uj.video,bv:[],Uk:[],FM:!1};y={};this.XH=(y[v.v.X]=this.video,y[v.v.fa]=this.audio,y);this.closed=!1;this.sy=l.config.sy;this.m7=l.config.m7;this.fC=this.j.Wa.ag?l.config.Xra:l.config.fC;this.RRa=!0;this.kc=k.za.get("Base64EncoderSymbol");this.Dla=!1;this.ssa=[];(0,g.oa)(this.sy > this.m7,"bad config");(0,g.oa)(this.sy > this.fC,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;l=a(37986);f=a(20736);k=a(89082);d=a(68172);g=a(70633);m=a(30818);h=a(7942);n=a(34202);p=a(11102);q=a(2467);u=a(3971);t=a(56261);w=a(86343);v=a(18920);c.prototype.v4=function(){var z,A;function y(B,D){return x(B,D.d7);}function x(B,D){var C,F,G,E;G=!!D.response;E=D.response;if(D.Me)return B + (E.byteLength || 0);D=(null !== (C=null === D || void 0 === D?void 0:D.w2) && void 0 !== C?C:0) - (null !== (F=null === D || void 0 === D?void 0:D.x2) && void 0 !== F?F:0);return (G?E.byteLength:D) + B;}z=this.XH[v.v.X];A=this.XH[v.v.fa];return {videoToAppend:z.Uk.reduce(x,0),videoInBuffer:z.bv.reduce(y,0),audioToAppend:A.Uk.reduce(x,0),audioInBuffer:A.bv.reduce(y,0)};};c.prototype.pSb=function(){this.audio.yi && !this.audio.yi.sh() && (!1,this.audio.yi.eRa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.f0b=function(){this.audio.Mva=!0;this.video.Mva=!0;};c.prototype.m0b=function(y){y === v.v.fa?this.CR=!0:y === v.v.X && (this.PX=!0);};c.prototype.sh=function(){var y,x;return !(null === (y=this.audio.yi) || void 0 === y || !y.sh()) || !(null === (x=this.video.yi) || void 0 === x || !x.sh());};c.prototype.L9=function(y){var x,z;null === (x=this.audio.yi) || void 0 === x?void 0:x.L9(y);null === (z=this.video.yi) || void 0 === z?void 0:z.L9(y);};c.prototype.Xrb=function(y){var x;y.mediaType === v.v.fa?this.CR=!1:y.mediaType === v.v.X && (this.PX=!1);x=this.XH[y.mediaType];x?x.Uk.push(y):(0,g.oa)(!1);};c.prototype.Wrb=function(y,x,z){var A;A=this;x=this.nSa(y.mediaType,x,z);if(!this.Dla)if(y.mediaType === v.v.X)(this.dWb(y),this.Dla=!0,this.ssa.forEach(function(B){return A.kha(B);}),this.ssa=[]);else {this.ssa.push(x);return;}this.kha(x);};c.prototype.kha=function(y){var x;x=this.XH[y.mediaType];x?x.Uk.push(y):(0,g.oa)(!1);};c.prototype.nSa=function(y,x,z){return {mediaType:y,Zs:!1,response:x,Si:function(){return "header";},get Me() {return !this.Zs;},profile:z.profile};};c.prototype.dWb=function(y){(0,g.oa)(!!y.Wab,"startOfSegment properties need to be set before first header is appended");this.Dla || !l.config.nFb || !this.j.m5() && !this.j.xL() || y.Wab.I1a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.kc.decode(h.Bza),this.kha(this.nSa(v.v.X,y,{profile:t.H.cD})));};c.prototype.j0b=function(y){var x;x=this.XH[y.type];if(x)try{x.yi=y;}catch(z){this.pd(d.U.dda,{xa:(0,p.J4)(y.type),Kb:(0,m.ve)(z)});}};c.prototype.close=function(){this.$=this.Pb=void 0;this.closed=!0;};c.prototype.pd=function(y,x,z){this.closed || this.j.pd(y,x,z);};c.prototype.Uja=function(y){return this.QVa(this.audio,y,this.h3()) && this.QVa(this.video,y,this.h3());};c.prototype.h3=function(){return this.j.lb.value === n.cb.Ef?this.fC:this.m7;};c.prototype.B3b=function(){var y,x;y=this.video.Uk.filter(function(z){return !z.Me;}).reduce(function(z,A){return z + A.lF;},0);x=this.audio.Uk.filter(function(z){return !z.Me;}).reduce(function(z,A){return z + A.lF;},0);return Math.min(y,x);};c.prototype.QVa=function(y,x,z){var A;A=y.Vja;A=A && A.d7;return !y.yi || 0 === y.Uk.length && (y.type === f.Uj.audio && this.CR || y.type === f.Uj.video && this.PX)?!0:A && A.rC - x >= z || !1;};c.prototype.Ncb=function(y){this.M2b || (this.Mcb(this.audio,y),this.Mcb(this.video,y));this.closed || this.TSa();};c.prototype.TSa=function(){var y,x,z,A,B,D;A=!this.audio.yi || 0 !== this.audio.bv.length;B=0 === this.video.Uk.length && this.PX;D=!this.video.yi || 0 !== this.video.bv.length;!(0 === this.audio.Uk.length && this.CR && D || B && A) || (null === (y=this.audio.yi) || void 0 === y?0:y.sh()) || (null === (x=this.video.yi) || void 0 === x?0:x.sh()) || this.Ika || !(this.$.readyState > u.om.fP.HAVE_NOTHING) || this.aj.d6 || (this.Ika=!0,null === (z=this.Pb) || void 0 === z?void 0:z.endOfStream());};c.prototype.Mcb=function(y,x){var z,A,B,D;if(!this.closed && y.yi){A=y.yi;B=y.bv;!A.sh() && 0 < B.length && (y.Vja=B[B.length - 1]);if(y.Mva){if(A.sh())return;y.Mva=!1;D=null === (z=this.Pb) || void 0 === z?void 0:z.MZa().J7a(q.rm);D && 0 < D && A.remove(0,D);}for(z=y.Uk[0];z && z.response && (z.Me || z.WM - x <= this.sy);){if((this.Ika=!1,this.m4b(z)))(y.Uk.shift(),z=y.Uk[0]);else break;}!A.sh() && 0 < B.length && (y.Vja=B[B.length - 1]);}};c.prototype.m4b=function(y){var x,z,A;!1;(0,g.oa)(y && !!y.response);x=y.response;z=y.mediaType;A=this.XH[z];if(!this.closed && A.yi && !A.yi.sh()){try{y.Me && y.profile && A.yi.kvb(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});A.yi.eRa(x,y);y.Me || A.bv.push(this.Ryb(y));}catch(B){"QuotaExceededError" === B.name?(this.j.j3=this.j.j3?this.j.j3 + 1:1,this.RRa=!1,A.FM=!0):(this.log.error("Exception while appending media",y,B),this.pd("CodecSwitchingError" === B.name?d.U.hIa:d.U.Xkb,(0,p.J4)(z)));return;}return !0;}};c.prototype.Jyb=function(y){var x;if(w.gea[y.Tb])return w.gea[y.Tb];x=this.j.X_a(y.Pc);x || (this.log.warn("Could not find CDN",{cdnId:y.Pc}),x={id:y.Pc,t3a:y.location});return x;};c.prototype.HUa=function(y){var x,z;x=y.Tb;if(w.hea[x])return w.hea[x];y.mediaType === v.v.fa?z=this.j.T_a(x):y.mediaType === v.v.X && (z=this.j.h0a(x));z || this.log.error("Could not find stream",{stream:x});return z;};c.prototype.Ryb=function(y){var x;x=this.HUa(y);return {d7:y,stream:x,iK:{startTime:Math.floor(y.WM),endTime:Math.floor(y.rC)},Ac:this.Jyb(y)};};c.prototype.Cia=function(y){this.ZSa(y,v.v.fa);this.ZSa(y,v.v.X);};c.prototype.ZSa=function(y,x){var z,A,B,D,C,F,G,E,J;z=this;A=y;this.RRa && (A-=l.config.sua);B=this.XH[x];D=B.bv;G=!1;D.some(function(M,L){var I;I=M.d7;if(y < I.WM)return ((0,g.oa)(!1,"decoder content does not contain media time"),!0);A >= I.rC && (C=L);if(y < I.rC)return (F=L,L=x === v.v.fa?z.j.rf:z.j.Td,M !== L.value && (L.set(M),G=!0),!0);});if((B.FM || G) && void 0 !== C && !this.Ika){if(C + 1 === F){if(0 === C)return;C--;}E=D[C].d7.rC - 1;if(0 < E){J=B.yi;J && !J.sh()?(J.remove(0,E / h.Mr),B.FM=!1,D.splice(0,C + 1)):(B.FM=!0,!1);}}};c.prototype.G9a=function(){!1;[this.audio,this.video].forEach(function(y){y.bv=[];y.Vja=void 0;y.Uk=[];});this.PX=this.CR=!1;this.j.fireEvent(n.ea.Y6);};c.prototype.vna=function(){return [this.audio,this.video].filter(function(y){return y.yi;});};c.prototype.JGb=function(){var y,x;if(this.sh())(0,g.oa)(!1,"should not be busy while checking buffer ranges");else {y=this.vna().map(function(z){var A,B,D,C,F;C=z.Uk.filter(function(G){return G.Zs;});F=z.yi.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=C[0]) || void 0 === A?void 0:A.WM;A=null !== (D=null === (B=C[C.length - 1]) || void 0 === B?void 0:B.rC) && void 0 !== D?D:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,ca(y.map(function(z){return z.start;})));y=Math.min.apply(Math,ca(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Hb)(x),end:(0,q.Hb)(y)};}}};c.prototype.skip=function(y){(0,g.oa)(!this.sh(),"should not be busy while skipping");this.vna().forEach(function(x){x.FM=!0;});this.Cia(y);this.vna().forEach(function(x){0 < x.bv.length || (x.Uk=x.Uk.filter(function(z){return z.Me || z.rC > y?!0:!1;}));});};b.yGa=c;},66602:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gca="MediaElementHelpersSymbol";},50743:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.FGa=void 0;r=a(70655);l=a(17244);f=a(7942);a=a(86700);c.prototype.Ns=function(){return this.LMb()?f.$Ba:(/widevine/i).test(this.config().Vl)?f.wba:(/fps/i).test(this.config().Vl)?"fairplay":f.VY;};c.prototype.LMb=function(){return (/clearkey/i).test(this.config().Vl);};k=c;k=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(l.ac))],k);b.FGa=k;},31978:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function l(v,y,x,z){var A,B;A=this;this.j=v;this.type=y;this.log=z;this.K0=new d.Ib(!1);this.QD={data:[],state:"",operation:""};this.mimeType=this.gXa((this.type === w.v.X?this.j.Mg.value:this.j.tc.value).streams);this.Wj=new g.Tj();this.Lfa={Type:this.type};if(k.config.NB){B=!0;this.Cla=new d.Ib(!1);}this.log.trace("Adding source buffer",this.Lfa,{TypeId:this.mimeType});this.Qc=x.addSourceBuffer(this.mimeType);this.Qc.addEventListener("updatestart",function(){!1;A.QD.state="updatestart";});this.Qc.addEventListener("update",function(){!1;A.QD.state="update";});this.Qc.addEventListener("updateend",function(){var D;!1;A.K0.set(!1);A.QNa && A.QNa();A.QD.state="updateend";D=0;try{D=A.Qc.buffered.length;}catch(C){}B && D && (B=!1,A.Cla.set(!0),!1);});this.Qc.addEventListener("error",function(D){var C;!1;try{C=D.target.error && D.target.error.message;(D.message || C) && z.error("error event received on sourcebuffer",{mediaErrorMessage:D.message});}catch(F){}v.pd(h.U.Ykb,(0,f.J4)(A.type));});this.Qc.addEventListener("abort",function(){!1;});v.addEventListener(q.ea.closed,function(){A.Qc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Fgb=b.Hca=void 0;f=a(11102);k=a(37986);d=a(14414);g=a(59883);m=a(89082);a(5690);h=a(68172);a(2467);n=a(70633);p=a(95919);q=a(34202);u=a(50563);t=a(35001);w=a(18920);l.prototype.sh=function(){return this.K0.value;};l.prototype.updating=function(){return this.Qc?this.Qc.updating:!1;};l.prototype.L9=function(v){this.QNa=v;};l.prototype.lma=function(){return this.QD;};l.prototype.buffered=function(){return this.Qc.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.hma=function(){var v,z,A;try{v=this.Qc.buffered;if(v){for(var y=[],x=0;x < v.length;x++){z=1E3 * v.start(x);A=1E3 * v.end(x);(0,n.oa)(A > z);y.push({start:z,end:A});}return y;}}catch(B){}};l.prototype.w4=function(){var v,y;v=this.hma();if(v){v=v.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=v.reduce(function(x,z){return x + z.end - z.start;},0);v=v.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:v.join("|")};}};l.prototype.eRa=function(v,y){!1;try{(0,n.oa)(this.Qc.buffered && 1 >= this.Qc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.w4()));}catch(x){}(0,n.oa)(!this.sh());this.pab("append",v);y=y && y.O8 / 1E3;(0,p.tb)(y) && this.Qc.timestampOffset !== y && (!1,this.Qc.timestampOffset=y);this.Qc.appendBuffer(v);!1;this.K0.set(!0);};l.prototype.remove=function(v,y){(0,n.oa)(!this.sh());try{this.pab("remove");!1;this.Qc.remove(v,y);this.K0.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.Lfa);}};l.prototype.pab=function(v,y){this.QD.data=y || [];this.QD.state="init";this.QD.operation=v;};l.prototype.q0b=function(v,y){this.iOb=v / y * 1E3;};l.prototype.kvb=function(v){var y;if(this.Qc){if((v=this.gXa([{type:this.Qwb,Ld:v}]),v !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Qc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Qc.changeType(v);this.mimeType=v;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.Lfa,{From:y,To:v}),new c(x.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(v,y){!y || y.Me?this.jha(v,y):this.lha(v,y);return !0;};l.prototype.jha=function(v,y){this.j.je.jha(this,v,y || ({}));};l.prototype.lha=function(v,y){v=this.Kwb(v,y);!1;this.j.je.lha(v);};l.prototype.Kwb=function(v,y){var x;x=this.iOb || 0;return {Pvb:function(){this.response=void 0;},Si:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.pc.jc.DONE,WM:y.bb,rC:y.bb + y.duration,lF:y.duration,O8:x,ys:y.ys,I:y.I,Tb:y.Tb,Pc:+y.Pc,location:y.location,x2:y.offset,w2:y.offset + y.Ba - 1,bitrate:y.bitrate,response:v,LKb:v && 0 < v.byteLength,Zs:!0,get Me() {return !this.Zs;},q$a:this.lj - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.I,isHeader:this.Me,ptsStart:this.WM,ptsOffset:this.O8,responseType:this.nbc,duration:this.lF,readystate:this.pg};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var v;this.j.wE("EndOfStream");null === (v=this.j.je) || void 0 === v?void 0:v.L7(this.mediaType);};l.prototype.Vab=function(v){this.Npb=v;};l.prototype.addEventListener=function(v,y,x){this.Wj.addListener(v,y,x);};l.prototype.removeEventListener=function(v,y){this.Wj.removeListener(v,y);};l.prototype.gXa=function(v){var y;y=m.za.get(u.VP);return this.type === w.v.X?y.c3(v):y.W2(v);};Xa.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Wab:{configurable:!0,enumerable:!0,get:function(){return this.Npb;}},Qwb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Hca=l;ea(c,Error);b.Fgb=c;},37021:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P;function c(K){var H;H=this;this.j=K;this.Pb=this.j.Pb;this.log=(0,h.Ih)(this.j,"MediaPresenterASE");this.B7=this.i3=0;this.$=this.Pb.$;this.Cy=new I.hNa(this.$,this.j);this.Oab=this.m7a=this.b7a=this.e6=this.Hsa=!1;this.B6=new Set();this.P2b=h.za.get(B.Nz)((0,A.Hb)(x.M_));this.WJ=void 0;this.aj=h.za.get(C.uLa)(this.j);this.fw={};this.A4a={};this.CT={};this.Ag=new G.yGa(this.j,this.aj);this.N2b=function(){var N,R,Y;H.j.gX=(0,m.Fn)();if(!H.Ul() && H.xB){N=H.Pb.r_a();N || (H.JUb(),H.Ag.Ncb(H.mediaTime));H.j.paused.value || !H.Ag.Uja(H.mediaTime) || !H.aia() || N || H.aj.d6?H.Eua():H.Hsa || H.Fua();H.IUb();if(!H.Pb.r_a() && !H.e6){N=H.Pb.gL(!0);R=H.j.lb.value;Y=H.Awb();R !== Y && !1;Y === v.cb.cq?(H.mediaTime=H.j.Jp.ba(A.na),H.Eua()):Y !== v.cb.Ef && H.$4b(N);H.tdb();H.Ag.Cia(H.mediaTime);H.j.lb.set(Y);Y !== v.cb.Ef || R !== v.cb.me && R !== v.cb.Wh || H.Mra();}}};this.jl=(0,F.j8a)(this.N2b);this.mediaTime=K.bb;this.j.Fh=!1;this.Pb.addEventListener(z.fj.Nab,function(){H.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");H.Oab=!0;try{H.va();}catch(N){H.log.error("Exception while initializing",N);H.pd(n.U.Lkb);}});this.Pb.addEventListener(z.fj.c3a,function(N){N=N.J;H.Oab?H.f6a(N):H.B6.add(N);});}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;l=a(7942);f=a(37986);k=a(58680);d=a(25892);g=a(24133);m=a(61831);h=a(89082);a(5690);n=a(68172);p=a(27017);q=a(70633);u=a(19591);t=a(30818);w=a(66052);v=a(34202);y=a(95919);x=a(11102);z=a(99230);A=a(2467);B=a(74509);D=a(92513);C=a(62155);F=a(58875);G=a(4985);E=a(86393);J=a(26984);M=a(50876);L=a(18920);I=a(84258);P=a(3971);c.prototype.$Wb=function(K){var H,N,R;H=this;if(this.Cy.paused){N=Math.ceil(K.gMb);R=function(Y){H.aj.Dy?H.aj.Dy.time=Y:H.D4a=Y;};N > (this.aj.Dy?this.aj.Dy.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",N),R(N));K.Qla && (this.log.trace("ptsChanged forcedTimestamp",K.Qla),R(K.Qla));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.dZa=function(){return this.Pb.gL(!1);};c.prototype.E4=function(){return this.Pb.E4();};c.prototype.mv=function(){return this.Pb.mv();};c.prototype.DF=function(){return this.Pb.DF();};c.prototype.eT=function(){return this.Pb.eT();};c.prototype.va=function(){var K;K=this;this.log.trace("Video element initializing");this.Pb.sourceBuffers.forEach(function(H){return K.Ag.j0b(H);});this.aMb(this.j.gG);};c.prototype.aMb=function(K){var H,N;H=this;K?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.O}),null === (N=this.j.Za) || void 0 === N?void 0:N.E3(this.j.O));0 < this.B6.size && setTimeout(function(){H.log.trace("Notifying about licenses that were added before source buffers created");Array.from(H.B6).forEach(function(R){H.B6.delete(R);H.f6a(R);});},0);this.log.trace("Waiting for loadedmetadata");(0,g.HQa)(this.$,"loadedmetadata",function(){H.log.trace("Video element event: loadedmetadata");H.j.ke("md");});d.he.addListener(d.Nk,this.CT[d.Nk]=function(){return H.close();},l.OI);this.j.addEventListener(v.ea.tg,function(){return H.close();},l.OI);this.j.addEventListener(v.ea.b$a,function(){return H.Fua();});this.j.addEventListener(v.ea.rG,function(){return H.hTb();});this.j.paused.addListener(function(){return H.jl();});this.j.muted.addListener(function(){return H.wxa();});this.j.volume.addListener(function(){return H.wxa();});this.j.playbackRate.addListener(function(){return H.kO();});this.j.tq.addListener(function(){return H.jl();});this.j.gm.addListener(function(){return H.jl();});this.wxa();this.kO();this.Ag.L9(function(){return H.Z6();});this.Z6();this.f4b();};c.prototype.f6a=function(K){var H;this.j.ke("ld",K);null === (H=this.j.Za) || void 0 === H?void 0:H.E3(K);this.j.fireEvent(v.ea.$2a);};c.prototype.lha=function(K){var H;H=this;!1;this.Ag.Xrb(K);this.jvb(K).then(function(){H.Z6();H.j.fireEvent(v.ea.Y6);}).catch(function(N){H.pd(n.U.Pkb,{Kb:(0,t.ve)(N)});});};c.prototype.jha=function(K,H,N){N=void 0 === N?{}:N;H=this.iCb(K,H);this.Ag.Wrb(K,H,N);this.Z6();this.b7a || K.type !== L.v.X || (this.aj.d6 || this.seek(this.j.bb,v.Zc.Kr),this.b7a=!0);};c.prototype.f4b=function(){var K;K=this;this.Pb.addEventListener(z.fj.xW,this.fw[z.fj.xW]=function(){return K.xTb();});this.Pb.addEventListener(z.fj.In,this.fw[z.fj.In]=function(){return K.U7();});this.$.addEventListener("ended",this.fw.ended=function(){return K.bTb();});this.$.addEventListener("play",this.fw.play=function(){return K.Ira();});this.$.addEventListener("pause",this.fw.pause=function(){return K.Hra();});this.$.addEventListener("playing",this.fw.playing=function(){return K.Kra();});this.xB=!0;this.Ag.Ncb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.ke("vi");f.config.wVa?setTimeout(function(){K.tra=!0;K.jl();},f.config.wVa):this.tra=!0;this.H1b();this.j.fd.ia && this.I1b();(0,w.Lf)(function(){return K.jl();});};c.prototype.H1b=function(){var N;function K(){var R;N.j.lb.value !== v.cb.me || 0 !== (null === (R=N.j.je) || void 0 === R?void 0:R.E4()) || M.Og.hidden?(N.D5a.Vp(),R="stopTimer"):(N.D5a.YA(),R="ensureTimer");N.log.trace("No render timer update: " + R,{presentingState:v.cb[N.j.lb.value],hidden:M.Og.hidden});}function H(R){var Y,ma;R=void 0 === R?!0:R;Y=N.j.Za;ma=(null === Y || void 0 === Y?void 0:Y.Dh) && Y.$_a();N.j.lb.value == v.cb.Ef && N.j.state.value == v.Ub.$d && N.j.tq.value == v.uf.$d && N.j.gm.value == v.uf.$d && !N.j.Fh && ma?(R && N.k3.Vp(),N.k3.YA(),Y="ensureTimer"):(N.k3.Vp(),Y="stopTimer");N.log.trace("Timer update: " + Y,{presentingState:v.cb[N.j.lb.value],playbackState:v.Ub[N.j.state.value],avBufferingState:v.uf[N.j.tq.value],textBufferingState:v.uf[N.j.gm.value],autoplayWasBlocked:N.j.Fh,hasLicense:ma,restartTimer:R});}N=this;f.config.hVa && ((0,q.oa)(!this.k3),this.k3=h.za.get(D.XP)(f.config.hVa,function(){var R;R=h.za.get(p.qba).HVa(N.j);N.pd(R.code,R);}),this.j.lb.addListener(function(){return H();}),this.j.tq.addListener(function(){return H();}),this.j.gm.addListener(function(){return H();}),this.j.state.addListener(function(){return H();}),this.j.addEventListener(v.ea.$2a,function(){return H();}),this.j.addEventListener(v.ea.Fh,function(){return H();}),this.j.addEventListener(v.ea.Fha,function(){return H();}),this.j.addEventListener(v.ea.wC,function(){return H(!0);}),H());f.config.C5a && (this.D5a=h.za.get(D.XP)(f.config.C5a,function(){var R;0 === (null === (R=N.j.je) || void 0 === R?void 0:R.mv()) && (R=h.za.get(p.qba).HVa(N.j),N.pd(R.code,R));N.j.lb.removeListener(K);d.he.removeListener(d.Kq,N.CT[d.Kq]);}),this.j.lb.addListener(K),d.he.addListener(d.Kq,this.CT[d.Kq]=K),K());};c.prototype.I1b=function(){var N;function K(){var R,Y,ma,ia;N.Kxa.Vp();ma=N.Pb.sourceBuffers.find(function(ja){return ja.mediaType === L.v.X;});ma=null !== (R=null === ma || void 0 === ma?void 0:ma.hma()) && void 0 !== R?R:[];if(1 < ma.length){ia=N.j.lb.value == v.cb.me;R=(null === (Y=N.$) || void 0 === Y?void 0:Y.readyState) === P.om.fP.HAVE_CURRENT_DATA;Y=H(ma,N.mediaTime);ia && R && Y?(N.Kxa.YA(),ia="ensureTimer"):ia="stopTimer";N.log.trace("Video Gaps Monitor Timer update: " + ia,{presentingState:v.cb[N.j.lb.value],mediaTime:N.mediaTime,bufferedRanges:JSON.stringify(ma),nextRange:JSON.stringify(Y),readyStateIsStalled:R});}}function H(R,Y){R=la(R);for(var ma=R.next();!ma.done;ma=R.next()){if((ma=ma.value,ma.start >= Y))return ma;}}N=this;f.config.deb && ((0,q.oa)(!this.Kxa),this.Kxa=h.za.get(D.XP)(f.config.deb,function(){var R,Y;Y=N.Pb.sourceBuffers.find(function(ma){return ma.mediaType === L.v.X;});Y=null !== (R=null === Y || void 0 === Y?void 0:Y.hma()) && void 0 !== R?R:[];if(R=H(Y,N.mediaTime))(N.log.error("Detected media gaps: seeking over gap",{seekPoint:R.start,ranges:JSON.stringify(Y)}),N.seek(R.start,v.Zc.Nw));}),this.j.lb.addListener(function(){return K();}),this.j.mediaTime.addListener(function(){return K();}),K());};c.prototype.iCb=function(K,H){var N;N=this.j.ee;(N=(0,J.Hoa)(N)?N.iL():void 0) && K.type === L.v.X && ((K=new E.nP(this.log,{mediaType:L.v.X,url:"http://some-url"},H).Ha(N))?H=K:!1);return H;};c.prototype.Z6=function(){this.xB && this.jl();this.Ag.TSa();};c.prototype.P1b=function(){!1;this.j.lb.set(v.cb.Ef);this.e6=!0;this.jl();};c.prototype.ywb=function(){var K;K=this;this.e6 && (!1,this.e6=!1,(0,w.Lf)(function(){return K.seek(K.j.jB() || 0,v.Zc.X_);}));};c.prototype.v4=function(){return this.Ag.v4();};c.prototype.L7=function(K){var H;H=this;this.Ag.m0b(K);(0,w.Lf)(function(){return H.jl();});};c.prototype.QHb=function(){return {i3:this.i3,B7:this.B7};};c.prototype.jvb=function(K){var H;H=this.Pb && this.Pb.MZa();(0,q.oa)(this.j.Jp,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Jp && H && (K=Infinity !== K.q$a?K.q$a + K.O8:K.rC,K > this.j.Jp.J7a(A.na) && (this.j.Jp=(0,A.Hb)(K)));return Promise.resolve();};c.prototype.IUb=function(){var K,H;K=this;this.aj.n8 && (!1,this.aia() && this.Ag.Uja(this.mediaTime) && (this.Pb.seek(null !== (H=this.D4a) && void 0 !== H?H:this.mediaTime),this.D4a=void 0,this.aj.n8=!1,(0,w.Lf)(function(){return K.jl();})));};c.prototype.$4b=function(K){var H;if(K < this.mediaTime){H=this.mediaTime - K;f.config.KUb && K && H > x.M_ && (K={ElementTime:(0,u.ih)(K),MediaTime:(0,u.ih)(this.mediaTime)},H > x.KKa?this.pd(n.U.Zkb,{Kb:Object.assign({Trace:this.Pb.lB()},K)}):this.log.warn("VIDEO.currentTime became smaller",K));}else this.mediaTime=(0,u.Jw)(K,0,this.j.Jp.ba(A.na));};c.prototype.aia=function(){return this.j.tq.value === v.uf.$d && this.j.gm.value === v.uf.$d;};c.prototype.Awb=function(){var K,H,N;K=this;H=this.j.lb.value;N=H;this.aj.d6?N=v.cb.Ef:this.$ && this.$.ended?H === v.cb.me && (N=v.cb.cq):this.aia() && this.Ag.Uja(this.mediaTime)?this.Pb.rBb()?N=this.Cy.paused?v.cb.Wh:v.cb.me:this.P2b.Zi(function(){return K.O2b();}):N=this.j.Jp?this.j.Y_a(this.mediaTime,this.Ag.h3())?v.cb.Ef:v.cb.cq:v.cb.Ef;return N;};c.prototype.Mra=function(){var K;if(this.j.lb.value === v.cb.Ef){K=this.Ag.B3b() > this.Ag.h3();this.j.gm.value !== v.uf.$d?this.j.Zh.value?(this.j.fireEvent(v.ea.rx,{cc:k.wJa}),this.log.warn("rebuffer due to timed text",this.j.Zh.value.zg)):this.j.fireEvent(v.ea.YN):K?(this.i3++,this.j.fireEvent(v.ea.rx,{cc:k.tda})):(this.B7++,this.j.fireEvent(v.ea.rx,{cc:k.uda}));}};c.prototype.O2b=function(){this.Ul() || (f.config.qSb && this.Ag.pSb(),this.jl());};c.prototype.xTb=function(){this.jl();};c.prototype.U7=function(){this.jl();this.j.fireEvent(v.ea.In);};c.prototype.bTb=function(){this.log.trace("Video element event: ended");this.jl();};c.prototype.Ira=function(){this.log.trace("Video element event: play");this.jl();};c.prototype.Hra=function(){this.log.trace("Video element event: pause");this.Cy.Hra();this.jl();};c.prototype.Kra=function(){this.log.trace("Video element event: playing");this.Cy.Ira();this.jl();};c.prototype.wxa=function(){this.Ul() || (this.$ && this.$.volume !== this.j.volume.value && (this.$.volume=this.j.volume.value),this.$ && this.$.muted !== this.j.muted.value && (this.$.muted=this.j.muted.value));};c.prototype.kO=function(){!this.Ul() && this.$ && (this.$.playbackRate=this.j.playbackRate.value);};c.prototype.Fua=function(){var K;K=this;!this.Ul() && (0,y.Uc)(this.$) && !this.$.ended && this.tra && this.Cy.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.Cy.play()).then(function(){K.closed || (K.Hsa=!1,K.$.style.display=null,K.j.Fh=!1,K.j.fireEvent(v.ea.Fha));}).catch(function(H){"NotAllowedError" === H.name?(K.log.warn("Playback is blocked by the browser settings",H),K.j.Fh=!0,K.closed || (K.Hsa=!0,K.$.style.display="none",K.j.fireEvent(v.ea.Fh,{player:{play:function(){return K.Fua();}}}))):K.closed || K.m7a || (K.m7a=!0,K.log.error("Play promise rejected",H));}));};c.prototype.hTb=function(){this.aj.O2a=this.j.jB() || 0;};c.prototype.Eua=function(){this.Ul() || !(0,y.Uc)(this.$) || this.$.ended || !this.tra || this.Cy.paused || (this.log.trace("Calling pause on element"),this.Cy.pause());};c.prototype.tdb=function(K){this.j.mediaTime.set(this.mediaTime);K && this.j.kFb();};c.prototype.seek=function(K,H,N,R){var Y,ma;N=void 0 === N?this.j.I:N;R=void 0 === R?!1:R;ma=null === (Y=this.j.Za) || void 0 === Y?void 0:Y.Dh;!this.Ul() && ma && (this.j.fireEvent(v.ea.wC,{cc:H}),this.aj.Dy={time:K,cc:H,I:N,vFb:R},this.j.lb.set(v.cb.Ef),this.jl());};c.prototype.JUb=function(){var K,H,N,R,Y,ma,ia,ja;if(this.aj.Dy){K=this.aj.Dy;H=K.time;N=K.cc;R=K.I;Y=K.vFb;if(!this.Ag.sh() || N === v.Zc.Kr){K=this.j.fi(R).O;ma=this.Ag.sh()?void 0:this.Ag.JGb();ma=this.aj.vIb(H,N,R,Y,ma);R=ma.D7;Y=ma.ys;ia=ma.lVb;ma=ma.ci;this.Ag.Cia(this.mediaTime);ja=this.mediaTime;H=(0,u.ih)(H);this.j.wE("SEEKING: Requested: (" + K + ":" + N + ":" + H + ") - Actual: (contentPts: " + Y + ",playerPts: " + (ia + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:H,Actual:(0,u.ih)(R),Cause:N,Skip:ma});N === v.Zc.Kr || ma || (this.Ag.G9a(),this.Ag.f0b());this.mediaTime=R;this.aj.O2a=Y;H=this.j.rf.value;ia=this.j.Td.value;this.j.rf.set(null);this.j.Td.set(null);this.tdb(!0);this.aj.Dy=void 0;this.aj.n8=!0;this.j.fireEvent(v.ea.Ej,{ura:ja,D7:R,ys:Y,cc:N,skip:ma,rf:H,Td:ia,O:K});ma && this.Ag.skip(R);}}};c.prototype.pd=function(K,H,N){this.closed || this.j.pd(K,H,N);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Ag.close();this.Pb.removeEventListener(z.fj.xW,this.A4a[z.fj.xW]);this.Pb.removeEventListener(z.fj.In,this.A4a[z.fj.In]);this.$.removeEventListener("ended",this.fw.ended);this.$.removeEventListener("play",this.fw.play);this.$.removeEventListener("pause",this.fw.pause);this.$.removeEventListener("playing",this.fw.playing);this.Cy.close();d.he.removeListener(d.Nk,this.CT[d.Nk]);d.he.removeListener(d.Kq,this.CT[d.Kq]);this.closed=!0;try{this.$.volume=0;this.$.muted=!0;this.Eua();this.Pb.close();}catch(K){}this.$=void 0;this.Ag.G9a();}};c.prototype.Ul=function(){return this.closed?!0:(0,y.Uc)(this.$)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.OGa=c;},11102:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.KKa=b.M_=b.J4=void 0;c=a(18920);l=a(68172);b.J4=function(f){return f === c.v.fa?l.R.Cca:l.R.Dca;};b.M_=50;b.KKa=1E3;},31119:function(r,b,a){var l,f,k,d,g,m;function c(h){var n;(0,l.Ri)("MediaSourceASE").trace("Inside MediaSourceASE");n=h.pIb();this.readyState=m.jc.CLOSED;this.sourceBuffers=n.sourceBuffers;this.addSourceBuffer=function(p){return n.addSourceBuffer(p);};this.Tga=function(p){return n.Tga(p);};this.removeSourceBuffer=function(p){return n.removeSourceBuffer(p);};this.Es=function(p){return n.Es(p);};this.duration=void 0;this.readyState=m.jc.OPEN;this.Jf=f.za.get(k.jh).YB(m.Jf,{});h=new d.EventEmitter();h.on("subtitleData",function(p){(0,g.oa)(n.j.wb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");n.j.wb.value.xta(p);});this.events=h;}Object.defineProperty(b,"__esModule",{value:!0});b.TGa=void 0;l=a(89082);f=a(89082);k=a(89682);d=a(28075);g=a(70633);Object.defineProperty(c.prototype,"duration",{get:function(){return this.lj;},set:function(h){var n;this.lj=h || Infinity;n=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(p){p.lj=n;});}});m={jc:{CLOSED:0,OPEN:1,cq:2,name:["CLOSED","OPEN","ENDED"]},Jf:{gwb:!0,DRb:!0}};b.TGa=Object.assign(c,m);},86343:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.hea=b.gea=void 0;r=a(41427);a={};b.gea=(a[r.sn]={id:-1,name:"hardcoded",ec:1,type:"hardcoded",t3a:"-1",eNb:!1,location:{id:"-1",ec:1,level:100,weight:1}},a);a={};b.hea=(a[r.sn]={track:{type:"padding",trackId:"padding",zh:"padding",Af:"padding",kC:"other",re:"padding",uC:"padding",aG:"padding",zg:{}},type:"padding",Vb:"-1",bitrate:1,zb:100,Ld:"unknown",size:1,nka:{},zg:{},Kk:"",framerate:0,Kh:!1,zi:[],height:1,width:1},a);},94181:function(r,b,a){var l,f,k;function c(d,g,m,h,n,p,q,u,t,w,v){this.track=d;this.type=g;this.Vb=m;this.bitrate=h;this.zb=n;this.size=p;this.nka=q;this.Ld=u;this.framerate=t;this.Kh=w;this.zi=v;this.zg={Type:g,Bitrate:h,DownloadableId:m};}Object.defineProperty(b,"__esModule",{value:!0});b.Egb=b.MediaStream=void 0;l=a(7942);f=a(95919);k=a(20736);c.prototype.toJSON=function(){return this.zg;};c.prototype.u0b=function(d,g,m,h){(0,f.Uc)(d) && (0,f.Uc)(g) && (this.width=d,this.height=g,(0,f.tb)(m) && (0,f.tb)(h) && (this.width=Math.round(m / h * d)),this.zg.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.J_b=function(d,g,m,h,n,p){(0,f.Uc)(d) && (0,f.Uc)(g) && (0,f.Uc)(m) && (0,f.Uc)(h) && (this.Eja=d,this.QUa=g,this.PUa=m,this.OUa=h);(0,f.Uc)(n) && (0,f.Uc)(p) && (this.i7a=n,this.j7a=p);};b.MediaStream=c;b.Egb=function(d,g,m,h,n){if(d == l.e_ || d === k.Uj.audio)return g;if(d == l.zP || d === k.Uj.video)return m;if(d == k.Uj.Nwa)return h;if(d == k.Uj.axa)return n;};},20736:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uj={audio:"audio",video:"video",Nwa:"timedtext",axa:"trickplay"};},22528:function(r,b,a){var l,f,k,d,g,m,h;function c(n){var p,q,u,t;p=this;this.j=n;this.aS=void 0;this.dfa=(0,f.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Sea=(0,f.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Lea=(0,f.createElement)("DIV","width:100%;text-align:center");this.Hmb=this.Vea("Audio Bitrate");this.qga=this.Vea("Video Bitrate / VMAF");this.Pea=this.Vea("CDN");this.KQ={};this.BT=k.za.get(d.nn);this.dfa.appendChild(this.Sea);this.Sea.appendChild(this.Lea);q=(0,f.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.Gmb.bind(this),!1);this.Lea.appendChild(q);q=(0,f.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.dga.bind(this),!1);this.Lea.appendChild(q);u=this.Xob.bind(this);l.he.addListener(l.nB,u);n.addEventListener(m.ea.rG,function(){p.KQ={};});n.addEventListener(m.ea.tg,function(){l.he.removeListener(l.nB,u);});t=this.vpb.bind(this);n.Ac.forEach(function(w){w.addListener(t);});n.tc.addListener(t);n.Mg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.KJa=void 0;l=a(25892);f=a(24133);k=a(89082);d=a(53685);g=a(50364);m=a(34202);h=a(18920);c.prototype.show=function(){this.cR || (this.vPa(),document.body.appendChild(this.dfa),this.cR=!0);};c.prototype.pv=function(){this.cR && (document.body.removeChild(this.dfa),this.cR=!1);};c.prototype.toggle=function(){this.cR?this.pv():this.show();};c.prototype.ddb=function(){var q,u,t,w;function n(v,y,x){var z,A,B;A=[];y.filter(function(D){return D.Ld === v;}).forEach(function(D){0 <= x.indexOf(D)?(void 0 === B?B=D.bitrate:z=D.bitrate,void 0 === z && (z=D.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(v,y,x){var z;z=[];y.filter(function(A){return A.Ld === v;}).forEach(function(A){-1 === x.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.zs();t=this.j.mB().sort(function(v,y){return v.bitrate - y.bitrate;});w=t.reduce(function(v,y){0 > v.indexOf(y.Ld) && v.push(y.Ld);return v;},[]).map(function(v){return {profile:v,ranges:n(v,t,u),disallowed:p(v,t,u)};});!1;null === (q=this.j.Za) || void 0 === q?void 0:q.Q9(w,this.j.O);};c.prototype.Gmb=function(){var q,u;this.KQ={};for(var n=this.qga.options,p=n.length;p--;){q=n[p];q.selected && (this.KQ[q.value]=1);}this.aS=this.Xmb.bind(this);this.ddb();if(n=this.j.sg){u=this.Pea.value;n=n.filter(function(t){return t.id == u;})[0];p=this.j.Ac[h.v.X].value;n && n != p && (n.LSa={testreason:"streammanager",selreason:"userselection"},this.j.Ac[h.v.X].set(n));}this.pv();};c.prototype.dga=function(){this.aS=void 0;this.j.jab(this.j.O);this.pv();};c.prototype.Xmb=function(){var n;n=this;return this.j.mB().filter(function(p){return n.KQ[p.bitrate];});};c.prototype.vPa=function(){var n,p,q,u;n=this;p=this.j.tc.value;q=this.j.Mg.value;u=this.j.sg;p && (u=u.slice(),u.sort(function(t,w){return t.ec - w.ec;}),this.hga(this.Hmb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.Qg.value};})));q && (this.hga(this.qga,q.streams.map(function(t){var w,v,y;w=n.j.iM.Xy(t);v=t.bitrate;t=t.zb;y="" + v;t && (y+=" / " + t);w && (y+=" (" + w.join("|") + ")");return {value:v,caption:y,selected:n.aS?n.KQ[v]:!w};})),this.qga.removeAttribute("disabled"));u && (this.hga(this.Pea,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.Ac[h.v.X].value};})),this.Pea.removeAttribute("disabled"));};c.prototype.vpb=function(){this.cR && this.vPa();};c.prototype.Vea=function(n){var p,q;p=(0,f.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,f.createElement)("DIV",void 0,n);q=(0,f.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Sea.appendChild(p);return q;};c.prototype.hga=function(n,p){n.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,f.createElement)("option",void 0,q.caption,u);u.value=q.value;n.appendChild(u);});};c.prototype.Xob=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == g.Az.Dlb && this.BT.$oa && this.toggle();};b.KJa=c;},12062:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.CKa=void 0;c=a(89082);l=a(89927);b.CKa=(function(){(0,c.Ri)("ProbeDownloader");return {WS:function(f){f={url:f.url,wWb:f};!1;l.Ie.zWb(f);}};})();},97906:function(r,b,a){var l,f,k,d,g,m,h;function c(){var n;n=new f.Tj();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Dc.bind(this);this.b1=m++;this.Di=(0,k.Ri)("ProbeRequest");this.iPa=l.CKa;(0,d.oa)(void 0 !== this.iPa);this.pg=b.hj.jc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.hj=void 0;l=a(12062);f=a(59883);k=a(89082);d=a(70633);g=a(30818);m=0;(function(){function n(){return JSON.stringify({url:this.Xf,id:this.b1,affected:this.j0,readystate:this.pg});}(0,g.Sd)(c.prototype,{sM:function(p){this.pg !== b.hj.jc.du && this.pg !== b.hj.jc.DONE && (this.h1=p,p={url:this.Xf,affected:this.j0,probed:{requestId:this.b1,url:this.Xf,Pc:this.YQ,groupId:this.G0}},200 <= this.h1 && 299 >= this.h1?(this.pg=b.hj.jc.DONE,this.emit(b.hj.Bk.KP,p)):(this.pg=b.hj.jc.du,this.emit(b.hj.Bk.Hz,p)));},mra:function(p){this.pg !== b.hj.jc.du && this.pg !== b.hj.jc.DONE && (this.h1=p,p={url:this.Xf,affected:this.j0,probed:{requestId:this.b1,url:this.Xf,Pc:this.YQ,groupId:this.G0}},this.pg=b.hj.jc.du,this.emit(b.hj.Bk.Hz,p));},open:function(p,q,u){if(!p)return (!1,!1);this.Xf=p;this.j0=q;this.YQ=u;this.pg=b.hj.jc.OPENED;this.iPa.WS(this);this.pg=b.hj.jc.pu;return !0;},de:function(){!1;return !0;},Si:function(){return this.b1;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.pg;}},status:{get:function(){return this.h1;}},url:{get:function(){return this.Xf;}},wbc:{get:function(){return this.j0;}}});})();(function(n){n.Bk={KP:"pr0",Hz:"pr1"};n.jc={UNSENT:0,OPENED:1,pu:2,DONE:3,du:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(h || (h={}));b.hj=Object.assign(c,h);},75412:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(37986);l=a(7942);r=a(68172);f=a(89082);k=a(65872);a=a(60634);f.za.get(a.Uh).register(r.U.qEa,function(d){c.config.ZFb && f.za.get(k.dDa).start();d(l.ig);});},84258:function(r,b){function a(c,l){this.j=l;this.SG=!0;this.D$=!1;this.$=c;}Object.defineProperty(b,"__esModule",{value:!0});b.hNa=void 0;a.prototype.Ira=function(){this.SG && (this.SG=!1,this.j.paused.set(!1));};a.prototype.Hra=function(){this.SG || (this.SG=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.SG=!0,null === (c=this.$) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,l;c=this;return this.paused && !this.D$?(this.D$=!0,Promise.resolve(null === (l=this.$) || void 0 === l?void 0:l.play()).then(function(){c.D$=!1;}).catch(function(f){var k;c.D$=!1;c.SG=!(null === (k=c.$) || void 0 === k || !k.paused);throw f;})):Promise.resolve();};a.prototype.close=function(){this.$=void 0;};Xa.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.SG;}}});b.hNa=a;},82134:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zo=b.yfb=void 0;b.yfb=a;b.Zo=new a();},54415:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);l=a(91854);f=a(44744);k=a(97906);d=a(31978);g=a(37986);m=a(7942);h=a(49090);n=a(31119);p=a(61831);r=a(68172);q=a(89082);u=a(51943);t=a(50876);w=a(84853);b=a(60634);v=a(58680);y=a(82134);x=a(31224);z=a(53484);q.za.get(b.Uh).register(r.U.oEa,function(A){var B,D,C,F,G,E,J,M,L;B=q.za.get(u.vHa).qzb();D=q.za.get(h.uba).vI;C=q.za.get(f.QGa).gq;F=q.za.get(x.fh);G=q.za.get(z.lq);E={r8:(0,q.YS)("ASE"),jsb:(0,q.YS)("JS-ASE",void 0,"Platform"),Ri:q.YS,storage:w.storage,BIb:t.tBa,getTime:p.Fn,g3:function(I){return F.decode(I).buffer;},Tja:function(I){return G.encode(I);},WL:{},gq:C,hj:k.hj,vI:D,MediaSource:n.TGa,SourceBuffer:d.Hca,lT:function(){return [g.config.U1,g.config.X1];},zs:function(I){v.un.forEach(function(P){P.jab(I);});}};D=new Promise(function(I){w.storage.load("nh",function(P){E.WL.nh=P.ha?P.data:void 0;I();});});C=new Promise(function(I){w.storage.load("lh",function(P){E.WL.lh=P.ha?P.data:void 0;I();});});J=new Promise(function(I){w.storage.load("gh",function(P){E.WL.gh=P.ha?P.data:void 0;I();});});M=new Promise(function(I){w.storage.load("sth",function(P){E.WL.sth=P.ha?P.data:void 0;I();});});L=new Promise(function(I){w.storage.load("vb",function(P){E.WL.vb=P.ha?P.data:void 0;I();});});Promise.all([D,C,L,M,J]).then(function(){return c.__awaiter(this,void 0,void 0,function P(){var K,H;return Ja(P,function(N){if(1 == N.Cv)return (K=a(20401)(E),y.Zo.ai=a(69208),y.Zo.ai.declare(l.Kf),y.Zo.ai.set(a(33888)(g.config),!0,(0,q.YS)("ASE")),Ma(N,l.oL(K),2));H=N.$X;H.open(y.Zo.ai,B);H.H_b({audio:g.config.U1,video:g.config.X1},{G:g.config.sua,Ba:void 0});y.Zo.Sh=H;A(m.ig);N.Cv=0;});});}).catch(function(I){E.r8.error("Exception loading location history from local storage",I);});});},16512:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.zJa=void 0;c=a(7942);l=a(37986);f=a(61831);k=a(19591);d=a(50876);g=a(66052);m=a(95919);h=a(34202);b.zJa=function(n){var t,w,v,y,x,z;function p(){return n.state.value === h.Ub.LOADING || n.state.value === h.Ub.$d && n.lb.value === h.cb.Ef;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,g.Lf)(u));}function u(){var A,B,D,C,F,G,E,J;A=(0,f.Fn)();B=t.value;D=B?B.progress:0;C=n.state.value == h.Ub.LOADING || p() && A - w > l.config.fub;if(C && n.state.value == h.Ub.$d){if(n.hf.value === h.uf.jLa)(F=D,G=!0);else {E=A;v=v || A;y=y || v + l.config.ZQb + 1;(0,m.tb)(E) && (E=(0,d.Nr)(E,y),F=(0,d.qn)(1E3 * (0,k.Jw)((A - v) / (E - v),0,.99)) / 1E3);}if(F < D)if(D - F < l.config.VWb / 100)(F=D,x=void 0);else if(x){if(A - x > l.config.UWb){J=!0;x=void 0;}else F=D;}else (x=A,F=D);}else x=y=v=void 0;A=C?{sr:G,progress:F,WWb:J}:null;(!A || !t || !B || (0,m.tb)(A.progress) && !(0,m.tb)(B.progress) || (0,m.tb)(A.progress) && (0,m.tb)(B.progress) && .01 < (0,d.f_)(A.progress - B.progress) || A.sr !== B.sr) && t.set(A);}t=n.dia;w=0;n.state.addListener(function(){q();u();},c.Vca);n.lb.addListener(function(A){if(A.oldValue !== h.cb.Ef || A.newValue !== h.cb.Ef)w=(0,f.Fn)();q();});n.hf.addListener(function(){q();});n.tq.addListener(function(){q();});n.gm.addListener(function(){q();});z || (z=setInterval(u,100));};},58680:function(r,b,a){var l,f;function c(k,d){var g;g=b.un[0];g == d && (g=b.un[1]);g?g.close(function(){c(k,d);}):k && k(l.ig);}Object.defineProperty(b,"__esModule",{value:!0});b.yJa=b.wJa=b.tda=b.uda=b.Iz=b.vda=b.xJa=b.yda=b.xda=b.un=b.AJa=b.wda=void 0;l=a(7942);f=a(70633);b.wda=c;b.AJa=function(k,d){switch(k){case b.xJa:b.xda.push(d);return;case b.vda:b.yda.push(d);return;}(0,f.oa)(!1);};b.un=[];b.xda=[];b.yda=[];b.xJa=1;b.vda=3;b.Iz={index:0,i5a:void 0,Fla:void 0};b.uda="network";b.tda="media";b.wJa="timedtext";b.yJa="playback";},6538:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(37986);l=a(7942);r=a(68172);f=a(89082);b=a(60634);k=a(76820);f.za.get(b.Uh).register(r.U.vEa,function(g){var m,h,n;if(c.config.fr){m=(0,f.Ri)("PlayerPredictionModel");h=f.za.get(k.GD);n=a(92997);m.log=m.trace.bind(m);d=new n({},m,{hW:function(){},FYb:function(){}},h,{$G:function(){}});qb._cad_global.playerPredictionModel=d;m.info("ppm v2 initialized");}g(l.ig);});},50876:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dpa=b.localStorage=b.SLb=b.indexedDB=b.mHa=b.jp=b.Fz=b.Ez=b.URL=b.n_=b.Sjb=b.xGa=b.wGa=b.f_=b.g_=b.Ew=b.Nr=b.qn=b.Jjb=b.KI=b.iMa=b.tBa=b.fkb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.lx=b.Rjb=b.Og=b.ju=b.nHa=b.ku=b.m_=b.uD=void 0;r=qb;b.Be=r.navigator;b.uD=null === b.Be || void 0 === b.Be?void 0:b.Be.userAgent;b.m_=r.location;b.ku=r.screen;b.nHa=r.devicePixelRatio;b.ju=r.performance;b.Og=r.document;b.Rjb=b.Og.documentElement;b.lx=Array.prototype;b.sort=b.lx.sort;b.map=b.lx.map;b.slice=b.lx.slice;b.every=b.lx.every;b.reduce=b.lx.reduce;b.filter=b.lx.filter;b.forEach=b.lx.forEach;b.pop=b.lx.pop;b.fkb=Object.create;b.tBa=Date.now;b.iMa=String.fromCharCode;b.KI=Math.floor;b.Jjb=Math.ceil;b.qn=Math.round;b.Nr=Math.max;b.Ew=Math.min;b.g_=Math.random;b.f_=Math.abs;b.wGa=Math.pow;b.xGa=Math.sqrt;b.Sjb=r.escape;b.n_=r.unescape;b.URL=r.URL || r.webkitURL;b.Ez=r.MediaSource || r.WebKitMediaSource;b.Fz=r.webkitCrypto || r.msCrypto || r.crypto;b.jp=b.Fz && (b.Fz.webkitSubtle || b.Fz.subtle);b.mHa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.SLb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Dpa=a || "noex";}},84853:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(37986);l=a(7942);f=a(54779);r=a(68172);k=a(83637);d=a(66652);g=a(89082);a=a(60634);b.storage=b.storage || void 0;g.za.get(a.Uh).register(r.U.wEa,function(m){var h;switch(c.config.W1b){case "idb":h=k.fbb;break;case "none":h=f.hbb;break;case "ls":h=d.gbb;}h(function(n){n.ha?(b.storage=n.storage,m(l.ig)):m(n);});});},83637:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.fbb=void 0;c=a(89082);l=a(7336);f=a(89682);k=a(26083);b.fbb=function(d){c.za.get(l.nw).create().then(function(g){d({ha:!0,storage:new k.mca(g,c.za.get(f.jh))});}).catch(function(g){d(g);});};},66652:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.gbb=void 0;c=a(26083);l=a(89082);f=a(15085);k=a(89682);b.gbb=function(d){d({ha:!0,storage:new c.mca(l.za.get(f.GFa),l.za.get(k.jh))});};},54779:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.hbb=void 0;c=a(7942);l=a(89082);f=a(68172);a(30818);b.hbb=function(k){var d;(0,l.Ri)("Storage");d={};k({ha:!0,storage:{load:function(g,m){var h;if(d.hasOwnProperty(g)){h=d[g];!1;m({ha:!0,data:h,h$:g});}else (!1,m({xa:f.R.Ow}));},save:function(g,m,h,n){h && d.hasOwnProperty(g)?n({ha:!1}):(d[g]=m,!1,n && n({ha:!0,h$:g}));},remove:function(g,m){delete d[g];!1;m && m(c.ig);}}});};},88625:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.GH=void 0;c=a(7942);l=a(37986);f=a(25892);k=a(61831);d=a(68172);g=a(70633);m=a(89082);h=a(30818);n=a(50876);p=a(84853);q=a(95919);r=a(60634);m.za.get(r.Uh).register(d.U.xEa,function(u){var v,y,x;function t(){var z;t=c.Iw;z=setInterval(w,l.config.iPb);f.he.addListener(f.Nk,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,h.Zf)(y,function(B,D){localStorage.removeItem(D.Vq);}),clearInterval(z));},c.OI);}function w(){var z;z=(0,k.Tia)();(0,h.Zf)(y,function(A,B){!1;A=localStorage.getItem(B.Vq);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:x,count:1};localStorage.setItem(B.Vq,JSON.stringify(A));});}(0,g.oa)(p.storage);v=(0,m.Ri)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.GH={Ku:function(z,A,B){var C,F,G,E,J,M,L,I,P,K;function D(H){localStorage.setItem(G,JSON.stringify(H));H={Vq:G};y[G]=H;v.trace("Lock acquired",{Name:H.Vq});t();A({ha:!0,J6:H});}C=this;B=void 0 === B?!1:B;if(localStorage){F=(0,k.Tia)();G="lock-" + z;E={updated:F,sessionId:x,count:1};try{if((G in localStorage)){J=localStorage.getItem(G);M=0;L=JSON.parse(J);(0,q.IB)(L.updated) && (M=L.updated);I=(0,n.f_)(F - M) * c.Mr;P=x === L.sessionId;if(I < l.config.w3a){if(P)(L.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:x,count:L.count}),L.updated=F,D(L));else if(B){K=l.config.w3a - I + c.Mr;v.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:L.count,Epoch:F,LockEpoch:M,waitTimeoutMs:K});qb.setTimeout(function(){return C.Ku(z,A,!1);},K);}else A({ha:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:M}),D(E));}else D(E);}catch(H){v.error("Error acquiring Lock",{errorSubCode:d.R.ol,errorDetails:(0,h.ve)(H)});A({ha:!0});}}else (n.Dpa?v.error("Local storage access exception",{errorSubCode:d.R.Wlb,errorDetails:(0,h.ve)(n.Dpa)}):v.error("No localstorage",{errorSubCode:d.R.Xlb}),A({ha:!0}));},release:function(z,A){var B,D;(0,g.oa)(y[z.Vq] == z);if(localStorage){try{B=localStorage.getItem(z.Vq);D=JSON.parse(B);D && 1 < D.count?(--D.count,localStorage.setItem(z.Vq,JSON.stringify(D)),v.trace("Lock count decremented",{Name:z.Vq,count:D.count})):(localStorage.removeItem(z.Vq),delete y[z.Vq],v.trace("Lock released",{Name:z.Vq}));}catch(C){v.error("Unable to release Lock",{Name:z.Vq},C);}A && A(c.ig);}}};l.config.N3?b.GH.Ku("session",function(z){b.GH.G$a=z;u(c.ig);}):u(c.ig);});},17200:function(r,b,a){var k,d,g,m;function c(h,n,p,q){var u,t,w;(0,k.oa)((0,m.$s)(h) && !(0,m.isArray)(h));q=q || "";u="";t=h.hasOwnProperty(g.YX) && h[g.YX];t && (0,d.Zf)(t,function(v,y){u && (u+=" ");u+=v + '="' + f(y) + '"';});p=(n?n + ":":"") + p;t=q + "<" + p + (u?" " + u:"");w=h.hasOwnProperty(g.kw) && h[g.kw].trim && "" !== h[g.kw].trim() && h[g.kw];if(w)return t + ">" + f(w) + "</" + p + ">";h=l(h,n,q + "  ");return t + (h?">\n" + h + "\n" + q + "</" + p + ">":"/>");}function l(h,n,p){var q;(0,k.oa)((0,m.$s)(h) && !(0,m.isArray)(h));p=p || "";q="";(0,d.Zf)(h,function(u,t){var y;if("$" != u[0])for(var w=(0,d.vv)(t),v=0;v < w.length;v++){if((t=w[v],q && (q+="\n"),(0,m.$s)(t)))q+=c(t,n,u,p);else {y=(n?n + ":":"") + u;q+=p + "<" + y + ">" + f(t) + "</" + y + ">";}}});return q;}function f(h){if((0,m.yg)(h))return (0,d.Vna)(h);if((0,m.tb)(h))return ((0,k.fS)(h,"Convert non-integer numbers to string for xml serialization."),"" + h);if(null === h || void 0 === h)return "";(0,k.oa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.J3b=b.PNb=b.ONb=void 0;k=a(70633);d=a(30818);g=a(30732);m=a(95919);b.ONb=c;b.PNb=l;b.J3b=f;},30732:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.HPb=b.U6a=b.qUb=b.XYa=b.zUb=b.Leb=b.Keb=b.kw=b.$xa=b.Jeb=b.YX=void 0;c=a(30818);l=a(70633);b.YX="$attributes";b.Jeb="$children";b.$xa="$name";b.kw="$text";b.Keb="$parent";b.Leb="$sibling";b.zUb=/^\s*<\?xml.*\?>/i;b.XYa=function(f,k,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(k=arguments[g++]) && (f=f[k]);){;}return f;};b.qUb=function(f,k){var d;f?d=(0,c.Vi)(f[b.kw]):void 0 !== k && (d=k);(0,l.fS)(d);return d;};b.U6a=function(f,k){var d;f?d=f[b.kw]:void 0 !== k && (d=k);(0,l.cVa)(d);return d;};b.HPb=function(f,k){var d;d={};d[b.YX]=f;d[b.kw]=k;return d;};},50791:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Meb=void 0;c=a(89082);l=a(68172);f=a(38624);k=a(24504);d=a(66052);b.Meb=function(g,m){var h,n;try{n=(0,f.Neb)(g);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Lf)(function(){if(n && n.documentElement)try{h=(0,k.Oeb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Lf)(function(){h?m({ha:!0,object:h}):m({ha:!1,xa:l.R.cib});});});};},38624:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Neb=void 0;c=a(89082);l=a(95919);b.Neb=function(f){var k,d;if((0,l.RL)(f)){k=new DOMParser().parseFromString(f,"text/xml");d=k.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:f.slice(0,300),fileSize:f.length});}catch(g){}throw Error("xml parser error");}return k;}throw Error("bad xml text");};},24504:function(r,b,a){var l;function c(f){var k,d,g,m,h,n,p;d={};d[l.$xa]=f.localName;g={};d[l.YX]=g;m=[];d[l.Jeb]=m;h=f.attributes;n=h.length;for(k=0;k < n;k++){p=h[k];g[p.localName]=p.value;}f=f.childNodes;n=f.length;g={};for(k=0;k < n;k++){switch((h=f[k],h.nodeType)){case b.Reb:h=c(h);p=h[l.$xa];h[l.Keb]=d;m.push(h);d[p]?g[p][l.Leb]=h:d[p]=h;g[p]=h;break;case b.Seb:case b.Peb:(h=h.text || h.nodeValue,m.push(h),d[l.kw] || (d[l.kw]=h));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Qeb=b.Peb=b.Seb=b.P6b=b.Reb=b.Q6b=b.Oeb=void 0;l=a(30732);b.Oeb=function(f){return c(f.nodeType == b.Qeb?f.documentElement:f);};b.Q6b=c;b.Reb=1;b.P6b=2;b.Seb=3;b.Peb=4;b.Qeb=9;},38184:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.Kg=void 0;r=a(86700);c=a(11223);l=a(84778);f=a(33981);k=a(40679);d=a(52115);g=a(41162);m=a(36610);h=a(72611);n=a(29469);p=a(43908);q=a(87257);u=a(52614);t=a(24166);w=a(35532);v=a(54437);b.Kg=new r.ed(function(y){y(c.Hda).to(l.cKa).da();y(f.Jda).to(k.oKa).da();y(d.UI).to(g.aKa).da();y(h.yD).to(m.ZJa).da();y(n.iKa).to(p.hKa).da();y(q.mKa).Vd(function(x){var z;z=x.hb;return function(A){return new u.nKa(A,z.get(t.Bw),z.get(h.yD));};});y(w.nFa).Vd(function(x){var z;z=x.hb;return function(A,B,D){return new v.oFa(A,B,D,z.get(h.yD),z.get(d.UI));};});});},35532:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nFa="LegacyPostPlayShimFactorySymbol";},72611:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yD="PlaygraphConfigSymbol";},52115:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UI=b.AD=void 0;r=b.AD || (b.AD={});r.w9b="ident";r.xca="main";r.yAa="credits";b.UI="PlaygraphHelperSymbol";},11223:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hda="PlaygraphManagerFactorySymbol";},29469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iKa="PlaygraphPlaybackStrategyFactorySymbol";},87257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mKa="PlaygraphStateFactorySymbol";},33981:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jda="PlaygraphVideoPlayerFactorySymbol";},26986:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rw=void 0;r=b.Rw || (b.Rw={});r[r.BHa=0]="None";r[r.XCa=1]="Fetching";r[r.Chb=2]="Done";r[r.Error=3]="Error";},54437:function(r,b,a){var l,f;function c(k,d,g,m,h){this.Qh=k;this.Kg=d;this.log=g;this.ti=m;this.Zl=h;this.s8=new l.Bda();}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;l=a(92979);f=a(52115);c.prototype.Pqb=function(k){var d,g,m,h,n,p,q;this.log.info("Next episode added",k);p=this.s8.cqa(k.playbackParams);q=Math.max(0,null !== (m=null !== (g=null !== (d=k.startPts) && void 0 !== d?d:k.nextStartPts) && void 0 !== g?g:p.bb) && void 0 !== m?m:0);d=null !== (n=null !== (h=k.endPts) && void 0 !== h?h:k.currentEndPts) && void 0 !== n?n:p.Ui;return this.Kg.orb({O:k.movieId,bb:q,Ui:d,nb:p,W:k.manifest,Qh:this.Qh});};c.prototype.$Ub=function(k){var d,g,m,h,n,p;k=this.s8.cqa(k);this.log.info("Playing the next episode",k);m=this.Kg.TYa();h=this.Kg.MF();n=h.M[m];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.J !== h.M[q].J;});d=!this.ti.B8 || !(null === (g=k.cm) || void 0 === g?0:g.isUIAutoPlay);return p?this.Kg.yna(m,p,k,d):Promise.reject(Error("Next episode not found"));};c.prototype.x6b=function(k){var d,g;d=this.Zl.Iq(k,f.AD.xca);k=this.Zl.Iq(k,f.AD.yAa);g=this.Kg.ib;this.ti.B8 && g.qh !== k && g.Xv(k) && g.mT(d) !== k && this.Kg.Nj({I:d,pM:k});};b.oFa=c;},86769:function(r,b,a){var l;function c(f,k,d,g,m){var h;h=this;this.ib=f;this.Rj=k;this.Dt=d;this.Eb=g;this.Zl=m;this.D8=new Map();this.z0b();this.Eb.addListener(l.Ja.loaded,function(){return h.Q7a();});}Object.defineProperty(b,"__esModule",{value:!0});b.tD=void 0;l=a(34202);c.prototype.KQa=function(f){var k,d;k=this;d=Object.keys(this.ib.nk.M).find(function(g){return k.ib.nk.M[g].J === f.O;});f.id || (f.id=null !== d && void 0 !== d?d:this.Zl.Iq(f.O));d || (this.ib.nk=this.Zl.Zrb(this.ib.nk,f));d=this.aH(f.id);f.Ui && this.ib.f5b(f.id,f.Ui);return d;};c.prototype.Qcb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.zna=function(f,k){var d;d=this;k=void 0 === k?{}:k;return this.Dt.transition(f,k).then(function(){d.ib.qh=f;});};c.prototype.close=function(f){return this.Dt.close(f);};c.prototype.rv=function(){return this.Dt.cJb();};c.prototype.Tm=function(){return this.Dt.Tm();};c.prototype.KF=function(){return this.Dt.KF();};c.prototype.aH=function(f){this.D8.has(f) || this.D8.set(f,this.Dt.gf(this.eub(f)));return this.D8.get(f);};c.prototype.z0b=function(){var f;f=this;this.Dt.addListener(l.zD.AW,function(){return f.Eb.Dc(l.zD.AW);});Object.values(l.Ja).forEach(function(k){f.Dt.addListener(k,function(d){return f.Eb.Dc(k,d);});});};c.prototype.Ev=function(){this.Q7a();};c.prototype.Pra=function(f){this.Dt.e5b({id:f,O:this.ib.Od(f).J,Ui:this.ib.uJb(f)});};c.prototype.HG=function(){};c.prototype.Q7a=function(){var f,k;if(this.rv()){f=this.ib.qh;k=this.ib.mT(f);k && !this.D8.has(k) && (this.Pra(f),this.aH(k));}};c.prototype.eub=function(f){var k,d,g,m;d=this.ib.Od(f);g=this.Rj.wL(d.J);m=null === g || void 0 === g?void 0:g.nb;g=null === g || void 0 === g?void 0:g.W;return {id:f,O:d.J,bb:d.sa,Ui:null !== (k=null === m || void 0 === m?void 0:m.Ui) && void 0 !== k?k:d.ta,nb:m,W:g};};b.tD=c;},36610:function(r,b,a){var l,f,k,d,g;function c(m){return f.Se.call(this,m,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZJa=void 0;r=a(70655);l=a(86700);f=a(90187);k=a(59578);d=a(54662);g=a(2467);ea(c,f.Se);Xa.Object.defineProperties(c.prototype,{cWb:{configurable:!0,enumerable:!0,get:function(){return 2;}},bWb:{configurable:!0,enumerable:!0,get:function(){return (0,g.t7)(3);}},Exa:{configurable:!0,enumerable:!0,get:function(){return !1;}},N$:{configurable:!0,enumerable:!0,get:function(){return !1;}},Rdb:{configurable:!0,enumerable:!0,get:function(){return !1;}},VXa:{configurable:!0,enumerable:!0,get:function(){return !1;}},B8:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.dz,"prepareSegmentsUpfront")],a.prototype,"cWb",null);r.__decorate([d.config(d.lk,"prepareSegmentsDuration")],a.prototype,"bWb",null);r.__decorate([d.config(d.bd,"usePlaygraphForPostPlay")],a.prototype,"Exa",null);r.__decorate([d.config(d.bd,"usePlaygraphForSkipSegment")],a.prototype,"N$",null);r.__decorate([d.config(d.bd,"useSinglePlayerPlayback")],a.prototype,"Rdb",null);r.__decorate([d.config(d.bd,"forcePlaygraphTrace")],a.prototype,"VXa",null);r.__decorate([d.config(d.bd,"postPlayDefaultNextEpisode")],a.prototype,"B8",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl))],a);b.ZJa=a;},41162:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;r=a(70655);l=a(52115);f=a(86700);k=a(41427);c.prototype.uzb=function(d){var h,n,p;for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}h=this;if(0 === g.length)throw Error("Empty playgraph");n=new k.Rr().BC(this.Iq(g[0]));g.reverse().forEach(function(q){var u;u=h.Iq(q);n.gf(u,Object.assign({J:q,sa:0,ta:Infinity},p?{Db:p}:{}));p=u;});return n.ph();};c.prototype.Iq=function(d,g){g=void 0 === g?l.AD.xca:g;return d + ":" + g;};c.prototype.Zrb=function(d,g){var m,h,n,p;if(void 0 === n)n=null !== (m=g.id) && void 0 !== m?m:this.Iq(g.O);m=this.yZa(d);p=new k.Rr(d);p.gf(n,{J:g.O,sa:null !== (h=g.bb) && void 0 !== h?h:0,ta:Infinity});d=d.M[m];g={};p.gf(m,Object.assign({},d,{Db:n,next:Object.assign({},d.next || ({}),(g[n]={},g))}));return p.ph();};c.prototype.yZa=function(d){for(var g=d.we,m=g;m=d.M[m].Db;){g=m;}return g;};a=c;a=r.__decorate([(0,f.T)()],a);b.aKa=a;},84778:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,w,v,y,x){this.Cf=q;this.$ka=u;this.ti=t;this.Xwa=w;this.tVb=v;this.vVb=y;this.uVb=x;}Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;r=a(70655);l=a(86700);f=a(11874);k=a(71163);d=a(72611);g=a(47682);m=a(29469);h=a(8988);n=a(87257);a=a(33981);c.prototype.create=function(q){return new f.dKa(q,this.Cf,this.$ka,this.ti,this.Xwa,this.tVb,this.vVb,this.uVb);};p=c;p=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(g.$O)),r.__param(2,(0,l.l)(d.yD)),r.__param(3,(0,l.l)(h.JMa)),r.__param(4,(0,l.l)(m.iKa)),r.__param(5,(0,l.l)(n.mKa)),r.__param(6,(0,l.l)(a.Jda))],p);b.cKa=p;},11874:function(r,b,a){var l,f,k;function c(d,g,m,h,n,p,q,u){this.Xwa=n;this.Lxa=u;this.QS=!1;h.N$ && (d=new k.eKa().T3b(d));this.ib=q(d);this.Rj=new f.pKa(this.ib);this.Rj.M$a(this.ib.aa.J);this.log=g.Ua("PlaygraphManager");this.Eb=m.create();this.tt=p.create(this.ib,this.Rj,this.log,this.Eb);this.A0b();}Object.defineProperty(b,"__esModule",{value:!0});b.dKa=void 0;l=a(34202);f=a(58188);k=a(77417);c.prototype.RIb=function(){return this.ib.x8;};c.prototype.lma=function(){return this.ib.aa;};c.prototype.TYa=function(){return this.ib.qh;};c.prototype.MF=function(){return this.ib.nk;};c.prototype.Nj=function(d){for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}this.ib.Nj.apply(this.ib,ca(g));};c.prototype.Tvb=function(d){for(var g=[],m=0;m < arguments.length;++m){g[m - 0]=arguments[m];}this.ib.ARa(g);};c.prototype.Rt=function(d){this.ib.nk=d;};c.prototype.cj=function(d,g){this.ib.cj(d,g);};c.prototype.yna=function(d,g,m,h){var n,p;m=void 0 === m?{}:m;h=void 0 === h?!0:h;if(d !== this.ib.qh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.MF().M[d].next) && void 0 !== n?n:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.qab();null === (p=m.cm) || void 0 === p?void 0:p.isUIAutoPlay;return this.tt.zna(g,m,h);};c.prototype.rv=function(){return this.tt.rv();};c.prototype.addListener=function(d,g,m){this.Eb.addListener(d,g,m);};c.prototype.removeListener=function(d,g){this.Eb.removeListener(d,g);};c.prototype.Tm=function(){return this.tt.Tm();};c.prototype.sb=function(){return this.tt.KF();};c.prototype.xzb=function(d,g,m){var h;d=void 0 === d?this.MF().we:d;g=void 0 === g?{}:g;h=this.Lxa.FUa(this);this.XVb(null !== d && void 0 !== d?d:this.MF().we,g,m);return h;};c.prototype.orb=function(d){var g;this.log.info("Adding segment - movieId: " + d.O + ", startPts: " + d.bb + ", logicalEnd: " + d.Ui);g=Object.assign({},d.nb,d.bb?{bb:d.bb}:{},d.Ui?{Ui:d.Ui}:{});this.kbb(d.O,g,d.W);d=this.tt.KQa(d);this.qab();return d;};c.prototype.transition=function(d){var g;g=this.ib.mT(this.ib.qh);return g?this.yna(this.ib.qh,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.tt.close(d);};c.prototype.XVb=function(d,g,m){var h;void 0 === d && (d=null === (h=this.MF()) || void 0 === h?void 0:h.we);(g || m) && this.kbb(this.MF().M[d].J,null !== g && void 0 !== g?g:{},m);this.tt.aH(d);};c.prototype.kbb=function(d,g,m){m && this.Rj.F1(d,m);this.Rj.crb(d,g);};c.prototype.A0b=function(){var d;d=this;this.ib.q2b(function(){d.Rj.Ev();d.tt.Ev();});this.ib.r2b(function(g){d.tt.Pra(g);});this.ib.p2b(function(g){d.tt.HG(g);});this.addListener(l.zD.AW,function(){return d.yTb();});this.addListener(l.Ja.s1a,function(g){return d.oTb(g);});};c.prototype.qab=function(){var d;d=this;this.QS || (this.sb().Pga(l.ea.qH,function(g){return d.Fv(g);}),this.QS=!0);};c.prototype.oTb=function(d){var g;g=this;this.tt.Qcb(d).catch(function(){return g.Eb.Dc(l.Ja.error,d.tX());});};c.prototype.yTb=function(){var d;d=this.sb().getError();d?this.Eb.Dc(l.Ja.bK,d):(this.Eb.Dc(l.Ja.g2),this.Eb.Dc(l.Ja.Fl),this.Eb.Dc(l.Ja.Mt),this.Eb.Dc(l.Ja.kl),this.Eb.Dc(l.Ja.xX),this.Eb.Dc(l.Ja.bK));};c.prototype.Fv=function(d){var g,m,h;!1;g=d.metrics;if(g){m=this.sb();h=m.fi(d.position.segmentId);g=m.fi(g.srcsegment);this.Xwa.QWb(d,h,g,!!m.a_a().ag);}};b.dKa=c;},77417:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eKa=void 0;l=a(41427);c.prototype.T3b=function(f){var k;if(!this.uNb(f.M))return f;k=new l.Rr().BC(f.we);Object.entries(f.M).forEach(function(d){var g;g=la(d);d=g.next().value;g=g.next().value;d === f.we?k.gf(d,Object.assign(Object.assign({},g),{next:void 0,ta:void 0,Db:void 0})):k.gf(d,g);});return k.ph();};c.prototype.uNb=function(f){f=Object.values(f).map(function(k){return k.J;});return 1 === new Set(f).size;};b.eKa=c;},43908:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,w,v,y,x,z){this.Ea=u;this.b_b=w;this.ti=y;this.Zl=z;this.ZZb=t.BF(!1,"6.0041.573.911",u.id,x,v);}Object.defineProperty(b,"__esModule",{value:!0});b.hKa=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(72611);d=a(52335);g=a(8197);m=a(89895);h=a(17244);n=a(86769);p=a(63088);a=a(52115);c.prototype.create=function(u,t,w,v){var y,x;y=this.b_b.jzb(u,this.ZZb,t);x=u.Fxa;w.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.NLa(this.ti,u,t,w,y,v,this.Zl):new n.tD(u,t,y,v,this.Zl);};q=c;q=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(g.xLa)),r.__param(2,(0,l.l)(m.cea)),r.__param(3,(0,l.l)(h.ac)),r.__param(4,(0,l.l)(k.yD)),r.__param(5,(0,l.l)(p.w_)),r.__param(6,(0,l.l)(a.UI))],q);b.hKa=q;},52614:function(r,b,a){var l,f;function c(k,d,g){this.ay=d;this.ti=g;this.W0={};this.kdb=[];this.Jab=[];this.w5a=[];this.uha=new WeakMap();this.reset(k);}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=void 0;l=a(41427);f=a(41427);c.prototype.reset=function(k){var d;d=1 < Object.keys(k.M).length && 1 === new Set(Object.values(k.M).map(function(g){return g.J;})).size;this.cqb=this.ti.Rdb || d;this.aab(k);this.qh=k.we;this.dpb=this.ay.IA();this.Zva=new Map();};c.prototype.T4=function(k){if(this.Fxa)return this.nk;this.uha.has(k) || this.uha.set(k,(0,l.Y9)(k.O,k.I));return this.uha.get(k);};c.prototype.aab=function(k){this.epb=k;this.W0={};k=Object.keys(k.M);this.ARa(k);this.oSb();};c.prototype.Nj=function(k){var m;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}m=this;d.filter(function(h){return m.Xv(h.I);}).filter(function(h){h=h.pM;return !h || m.Xv(h);}).forEach(function(h){var n;n=h.I;m.W0[n]=m.Q5a(h.pM);m.iSb(n);});};c.prototype.ARa=function(k){var d;d=this;k.filter(function(g){return d.Xv(g);}).forEach(function(g){d.W0[g]=d.Q5a(d.Od(g).Db);});};c.prototype.cj=function(k,d){var g,m,h;g=this.Od(k);if(g && g.next){m=new f.Rr(this.nk);h=Object.keys(g.next).reduce(function(n,p){n[p]=void 0 === d[p]?g.next[p]:Object.assign({},g.next[p],{weight:d[p]});return n;},{});h=Object.assign({},g,{next:h});m.gf(k,h);this.nk=m.ph();}};c.prototype.Xv=function(k,d){d=void 0 === d?this.nk.M:d;return (k in d);};c.prototype.mT=function(k){return this.W0[k];};c.prototype.Od=function(k){return this.nk.M[k];};c.prototype.uJb=function(k){if(this.Zva.has(k))return this.Zva.get(k);k=this.Od(k);return isFinite(k.ta)?k.ta:void 0;};c.prototype.f5b=function(k,d){this.Zva.set(k,d);this.lSb(k);};c.prototype.q2b=function(k){this.kdb.push(k);};c.prototype.r2b=function(k){this.Jab.push(k);};c.prototype.p2b=function(k){this.w5a.push(k);};c.prototype.oSb=function(){var k;k=this;this.kdb.forEach(function(d){return d(k.nk);});};c.prototype.iSb=function(k){this.w5a.forEach(function(d){return d(k);});};c.prototype.lSb=function(k){this.Jab.forEach(function(d){return d(k);});};c.prototype.Q5a=function(k){return null === k?void 0:k;};Xa.Object.defineProperties(c.prototype,{x8:{configurable:!0,enumerable:!0,get:function(){return this.dpb;}},Fxa:{configurable:!0,enumerable:!0,get:function(){return this.cqb;}},nk:{configurable:!0,enumerable:!0,get:function(){return this.epb;},set:function(k){if(this.qh && !this.Xv(this.qh,k.M))throw Error("Provided playgraphMap does not contain the current segmentId " + this.qh);this.aab(k);}},qh:{configurable:!0,enumerable:!0,get:function(){return this.fnb;},set:function(k){if(!this.Xv(k))throw Error("Provided currentSegmentId " + k + " does not exist in the current playgraph");this.fnb=k;}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Od(this.qh);}}});b.nKa=c;},40679:function(r,b,a){var l,f,k,d;function c(g,m){this.Ea=g;this.mOb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.oKa=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(35532);c.prototype.create=function(g){return new (a(90399).g0)(this.Ea.Fb(),g);};c.prototype.FUa=function(g){return new (a(61664).Maa)(this.Ea.Fb(),g,this.mOb);};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Jc)),r.__param(1,(0,l.l)(k.nFa))],d);b.oKa=d;},58188:function(r,b,a){var l;function c(f){this.ga=f;this.tO={};this.Ev();}Object.defineProperty(b,"__esModule",{value:!0});b.pKa=void 0;l=a(26986);c.prototype.Ev=function(){var f;f=this;Object.values(this.ga.nk.M).forEach(function(k){k=k.J;f.tO[k] || f.k1a(k);});this.I$();};c.prototype.wL=function(f){return this.tO[f];};c.prototype.S_b=function(f){this.pT(f).state=l.Rw.XCa;this.I$();};c.prototype.R_b=function(f,k){f=this.pT(f);f.state=l.Rw.Error;f.error=k;f.M9a(!1);this.I$();};c.prototype.M$a=function(f){f=this.pT(f);f.state=l.Rw.Chb;f.M9a(!0);this.I$();};c.prototype.crb=function(f,k){this.pT(f).nb=k;};c.prototype.F1=function(f,k){this.pT(f).W=k;};c.prototype.pT=function(f){var k;return null !== (k=this.wL(f)) && void 0 !== k?k:this.k1a(f);};c.prototype.k1a=function(f){var k,d;k=void 0;d=new Promise(function(g,m){k=function(h){(h?g:m)();};});return this.tO[f]={state:l.Rw.BHa,sXb:d,M9a:k};};c.prototype.I$=function(){var k;for(var f=this.ga.qh;f=this.ga.mT(f);){k=this.Wm(f);if(this.tO[k].state === l.Rw.Error)break;if(this.tO[k].state === l.Rw.XCa)break;if(this.tO[k].state === l.Rw.BHa)break;}};c.prototype.Wm=function(f){return this.ga.nk.M[f].J;};b.pKa=c;},52335:function(r,b,a){var l,f,k,d,g;function c(m,h,n,p,q,u,t){var w;w=d.tD.call(this,h,n,q,u,t) || this;w.ti=m;w.la=p;w.QS=!1;w.Ska=new Map();w.rTb=function(){w.KF().Pga(f.ea.qH,function(v){w.Eb.Dc(f.zD.AW);w.ib.qh=v.position.segmentId;});};w.VLb();u.addListener(f.Ja.loaded,w.rTb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.NLa=void 0;l=a(41427);f=a(34202);k=a(68172);d=a(86769);g=a(52115);ea(c,d.tD);c.prototype.KQa=function(m){var h,n,p,q,u,t,w,v,y,x,z;h=this;p=this.ib.nk;q=this.Zl.Iq(m.O,"ident");u=this.Zl.Iq(m.O,"main");t=this.Zl.Iq(m.O,"credits");w=isFinite(m.Ui);v=isFinite(m.bb) && m.O !== p.M[p.we].J;y={};x=new l.Rr(p).gf(u,Object.assign({J:m.O,sa:v && m.bb || 0,ta:null !== (n=m.Ui) && void 0 !== n?n:Infinity},w?{next:(y[t]={},y),Db:t}:{}));v && (n={},x.gf(q,{J:m.O,sa:0,ta:m.bb,next:(n[u]={},n),Db:u}));w && x.gf(t,{J:m.O,sa:m.Ui,ta:Infinity});if(!this.ib.Xv(u)){m=p.M[this.Zl.yZa(p)].J;z=this.Zl.Iq(m,g.AD.yAa);[this.Zl.Iq(m,g.AD.xca),z].filter(function(A){return h.ib.Xv(A);}).forEach(function(A){var B,D,C;B=h.ib.Od(A);D=A === z || h.ti.B8;C={};x.gf(A,Object.assign({},B,{next:Object.assign({},B.next,(C[u]={},C))},D?{Db:u}:{}));});}this.ib.nk=x.ph();return this.aH(u);};c.prototype.Ev=function(){this.rv() && this.KF().Ev();};c.prototype.Pra=function(){};c.prototype.HG=function(m){this.KF().HG(m);};c.prototype.zna=function(m,h,n){h=void 0 === h?{}:h;this.la.debug("goToSegment " + m);return this.KF().DT(m,h,n);};c.prototype.aH=function(m){if(m === this.YZb)return null;this.YZb=m;return this.QS?this.Rj.wL(this.ib.Od(m).J).sXb:(this.QS=!0,d.tD.prototype.aH.call(this,m));};c.prototype.Qcb=function(m){return m.errorCode && this.Ska.has(m.errorCode)?this.Ska.get(m.errorCode)(m):Promise.reject(Error("Error " + m.errorCode + " isn't recoverable"));};c.prototype.VLb=function(){var m;m=this;this.Ska.set(k.U.hIa,function(){var h,n;return null !== (n=null === (h=d.tD.prototype.aH.call(m,m.ib.qh)) || void 0 === h?void 0:h.then(function(){var p,q;d.tD.prototype.zna.call(m,m.ib.qh,null !== (q=null === (p=m.Rj.wL(m.ib.aa.J)) || void 0 === p?void 0:p.nb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.NLa=c;},907:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.l8a=void 0;r=a(86700);c=a(52022);l=a(39498);f=a(84036);k=a(98367);b.l8a=new r.ed(function(d){d(c.WBa).to(l.VBa).da();d(f.rP).to(k.tFa).da();});},85060:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.PTa=b.Foa=b.Rma=b.O4=b.hEa=b.Clb=b.Jr=b.QDa=b.Q_=b.P_=b.uNa=b.vNa=b.$Ha=b.ZY=b.TEMPORARY=b.Zt=void 0;c=a(95919);l=a(83931);b.Zt="cenc";b.TEMPORARY="temporary";b.ZY="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.$Ha="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.vNa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.uNa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.P_="SW_SECURE_CRYPTO";b.Q_="SW_SECURE_DECODE";b.QDa="HW_SECURE_DECODE";b.Jr="HW_SECURE_ALL";b.Clb={P_:"SW_SECURE_CRYPTO",Q_:"SW_SECURE_DECODE",QDa:"HW_SECURE_DECODE",Jr:"HW_SECURE_ALL"};b.hEa=[b.Jr];b.O4=function(f){var k;k=f.getConfiguration();return [b.Jr,b.Q_,b.P_].find(function(d){var g;return null === (g=k.videoCapabilities) || void 0 === g?void 0:g.some(function(m){return m.robustness === d;});});};b.Rma=function(f){var k,m;try{for(var d=/\((\d[^)]+)\)/g,g;g=d.exec(f);){m=Number(g[1]);(0,c.tb)(m) && (k=m);}}catch(h){}return k;};b.Foa=function(f){return l.zd.Ai.test(f);};b.PTa=function(f){return f.robustness?f.keySystem + "." + f.robustness:f.keySystem;};},34902:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ema=void 0;c=a(89082);b.Ema=function(l){var f;f={};try{l.forEach(function(k){var d,g;if(k.jF){for(var m=(0,c.qx),h=k.jF,n=0,p=new Uint8Array(16),q=0;q < h.length;q+=2){p[n++]=parseInt(h.slice(q,q + 2),16);}m=m(p);k=null !== (d=k.height) && void 0 !== d?d:k.rua;f[m]=Math.max(k,null !== (g=f[m]) && void 0 !== g?g:0);}});}catch(k){}return f;};},52022:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WBa="DrmProviderSymbol";},84036:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rP="LicenseProviderSymbol";},41047:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wpa=b.Bh=void 0;(function(a){a[a.pm=0]="STANDARD";a[a.pn=1]="LIMITED";})(b.Bh || (b.Bh={}));b.wpa=function(a){return ["STANDARD","LIMITED"][a];};},39498:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p,q,u,t){this.Ah=p;this.xA=q;this.K5b=u;this.XL=t;}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;r=a(70655);l=a(86700);f=a(89682);k=a(31224);d=a(53484);g=a(56594);m=a(41047);h=a(85060);a=a(84036);c.prototype.Vg=function(p){var q;q=this;return this.Ah.FA(p.tj[0].data[0],[8,4])?Promise.resolve({ie:[{id:"ddd",pG:"cert",sU:void 0}],Rk:[{sessionId:"ddd",data:new Uint8Array(this.xA.decode(h.uNa))}]}):this.Ah.FA(p.tj[0].data[0],this.K5b.decode("certificate"))?Promise.resolve({ie:[{id:"ddd",pG:"cert",sU:void 0}],Rk:[{sessionId:"ddd",data:new Uint8Array(this.xA.decode(h.ZY))}]}):this.XL.Ku(this.QFb(p)).then(function(u){return q.RFb(u);});};c.prototype.release=function(p){return this.XL.release(this.VFb(p)).then(function(){});};c.prototype.QFb=function(p){var q,u;q=this;u=p.tj.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.xA.encode(w)};});});return {ma:p.ma,Df:p.Df,C3:p.C3,pf:(0,m.wpa)(p.pf),Nm:g.Ak[p.Nm],tj:u.reduce(function(t,w){return t.concat(w);},[]),ji:p.ji,eg:p.eg};};c.prototype.VFb=function(p){return {ma:p.ma,ie:p.ie};};c.prototype.RFb=function(p){return {ie:p.ie,Rk:p.Rk};};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.jh)),r.__param(1,(0,l.l)(k.fh)),r.__param(2,(0,l.l)(d.lq)),r.__param(3,(0,l.l)(a.rP))],n);b.VBa=n;},98367:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u){this.tqb=h;this.kYb=n;this.A9a=q;this.lZb=u;this.la=p.Ua("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(50055);a(43662);d=a(29766);g=a(92582);a=a(10707);c.prototype.Ku=function(h){var n,p;n=this;!1;p=this.A9a.R3b(h);return this.tqb.Mn(this.la,h.ji,p).then(function(q){q.map(function(u){return u.nOb;});return n.lZb.Fcb(q);}).catch(function(q){n.la.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(h){var n;n=this;!1;h=this.A9a.U3b(h);return this.kYb.Bf(this.la,h).then(function(){return {ha:!0};}).catch(function(p){n.la.error("PBO release license failed",p);return Promise.reject(p);});};m=c;m=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.rIa)),r.__param(1,(0,l.l)(d.eJa)),r.__param(2,(0,l.l)(f.Xa)),r.__param(3,(0,l.l)(g.HIa)),r.__param(4,(0,l.l)(a.kda))],m);b.tFa=m;},56170:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.KVa=b.Q_a=b.Ycb=b.gC=b.h7=b.E4a=void 0;r=a(71334);c=a(38135);l=a(90014);f=a(17233);a=a(22013);b.E4a=r;b.h7=function(k,d){return (0,b.E4a)(function(g,m){return void 0 !== m?m:g;},k,d);};b.gC=c;b.Ycb=l;b.Q_a=f;b.KVa=a;},7336:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dmb="StorageValidatorSymbol";b.nw="AppStorageFactorySymbol";},84913:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bMa="Storage";},8028:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(86700);c=a(37462);l=a(56646);f=a(15085);k=a(9190);d=a(36459);g=a(80979);m=a(62983);h=a(49317);n=a(7336);p=a(44870);q=a(52622);b.storage=new r.ed(function(u){u(l.pHa).Vd(function(){return function(){return qb.localStorage;};});u(l.kEa).Vd(function(){return function(){return qb.indexedDB;};});u(p.ZGa).to(q.YGa).da();u(n.nw).to(h.Uya).da();u(f.GFa).to(k.FFa).da();u(c.a_).to(m.NEa).da();u(d.PEa).to(g.OEa).da();u(d.jEa).to(g.iEa).da();u(d.REa).to(g.QEa).da();});},15085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GFa="LocalStorageSymbol";},44870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZGa="MemoryStorageSymbol";},56646:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wjb="NativeLocalStorageSymbol";b.pHa="NativeLocalStorageFactorySymbol";b.kEa="IDBFactorySymbol";},94112:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pgb="__default_rule_key__";},49317:function(r,b,a){var f,k,d,g,m,h,n;function c(p,q,u,t){this.la=p;this.config=q;this.wLb=u;this.zqa=t;this.SE={mem:{storage:this.zqa,key:"mem"}};this.GC=this.config.GC;}function l(p,q,u,t){this.Cf=p;this.fl=q;this.zqa=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.yaa=b.Uya=void 0;r=a(70655);f=a(86700);k=a(68172);d=a(36459);g=a(71163);m=a(44870);h=a(94112);a=a(53685);l.prototype.create=function(){this.bS || (this.bS=this.qK());return this.bS;};l.prototype.qK=function(){this.Rrb=new c(this.Cf.Ua("AppStorage"),this.config,this.fl,this.zqa);return this.Rrb.create();};n=l;n=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.Xa)),r.__param(1,(0,f.l)(d.REa)),r.__param(2,(0,f.l)(m.ZGa)),r.__param(3,(0,f.l)(a.nn))],n);b.Uya=n;c.prototype.create=function(){var p;p=this;return this.czb().then(function(q){if(!p.Wub(q,p.config.OT))throw p.XRb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.dT(p).storage.load(p).then(function(w){u(w);}).catch(function(w){t(w);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(w,v){t.dT(p).storage.save(p,q,u).then(function(y){w(y);}).catch(function(y){v(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.dT(p).storage.remove(p).then(function(){u();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.$8a("mem").then(function(){return p.$8a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.la.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.l3a("mem").then(function(u){q=q.concat(u);return p.l3a("idb");}).catch(function(u){p.vNb(u) || p.la.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.la.error("load all failed",u);throw u;});};c.prototype.czb=function(){var p;p=this;return this.wLb.create().then(function(q){p.SE.idb={storage:q,key:"idb"};}).catch(function(q){p.la.error("idb failed to load",q);return q || ({xa:k.R.Go});});};c.prototype.Wub=function(p,q){return !p || p && q?!0:!1;};c.prototype.XRb=function(p){var q;q="";p && (q+=p.xa);return {xa:q};};c.prototype.$8a=function(p){return (p=this.SE[p])?p.storage.removeAll():Promise.resolve();};c.prototype.l3a=function(p){return (p=this.SE[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.NEb=function(p){for(var q in this.GC){if(p.startsWith(q))return this.GC[q];}return this.GC[h.Pgb];};c.prototype.dT=function(p){var q,u;q=this;this.NEb(p).every(function(t){return q.SE[t]?(u=q.SE[t],!1):!0;});if(!u){this.la.error("component not found for storageKey",{V1b:p,Ibc:Object.keys(this.SE),rules:this.GC});u=this.SE.mem;}this.la.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.vNb=function(p){return (p && (p.xa || p.errorSubCode)) === k.R.Ow;};b.yaa=c;},26083:function(r,b){function a(c,l){this.Su=c;this.Yd=l;}Object.defineProperty(b,"__esModule",{value:!0});b.mca=void 0;a.prototype.load=function(c,l){var f;f=this;this.Su.load(c).then(function(k){l && l(a.Dbb(k));}).catch(function(k){l && l(f.Tka(c,k));});};a.prototype.save=function(c,l,f,k){var d;d=this;this.Su.save(c,l,f).then(function(){k && k(a.Dbb({key:c,value:l}));}).catch(function(g){k && k(d.Tka(c,g));});};a.prototype.remove=function(c,l){var f;f=this;this.Su.remove(c).then(function(){l && l({ha:!0,h$:c});}).catch(function(k){l && l(f.Tka(c,k));});};a.Dbb=function(c){return {ha:!0,data:c.value,h$:c.key};};a.prototype.Tka=function(c,l){return {ha:!1,h$:c,xa:l.xa,Kb:l.cc?this.Yd.ve(l.cc):void 0};};b.mca=a;},9190:function(r,b,a){var l,f,k;function c(d){this.jC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.FFa=void 0;r=a(70655);l=a(86700);f=a(68172);a=a(56646);c.prototype.load=function(d){var g;g=this;return new Promise(function(m,h){var n,p;try{n=g.jC.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}m({key:d,value:p});}else h({xa:f.R.Ow});}catch(q){h({xa:f.R.lLa,cc:q});}});};c.prototype.save=function(d,g,m){var h;h=this;return new Promise(function(n,p){if(m && h.jC.getItem(d))n(!1);else try{"string" === typeof g?h.jC.setItem(d,g):h.jC.setItem(d,JSON.stringify(g));n(!0);}catch(q){p({xa:f.R.mLa,cc:q});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(m,h){try{g.jC.removeItem(d);m();}catch(n){h({xa:f.R.$da,cc:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Wjb))],k);b.FFa=k;},52622:function(r,b,a){var l,f,k;function c(d){this.Cf=d;this.DG={};this.la=this.Cf.Ua("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;r=a(70655);l=a(86700);f=a(68172);a=a(71163);c.prototype.load=function(d){var g;if(this.DG.hasOwnProperty(d)){g=this.DG[d];this.la.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.la.debug("Storage entry not found",{key:d});return Promise.reject({xa:f.R.Ow});};c.prototype.save=function(d,g,m){if(m && this.DG.hasOwnProperty(d))return Promise.resolve(!1);this.DG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.DG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.DG).map(function(g){var m;m=la(g);g=m.next().value;m=m.next().value;return {key:g,value:m};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.DG={};return Promise.resolve();};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],k);b.YGa=k;},43310:function(r,b,a){var f,k,d;function c(g,m,h){this.config=g;this.mo=m;this.jC=h;}function l(g,m){this.reason=g;this.cc=m;}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=b.NKa=void 0;f=a(68172);k=a(29853);(function(g){g[g.Sca=0]="NoData";g[g.Error=1]="Error";g[g.$I=2]="Timeout";})(d=b.NKa || (b.NKa={}));c.prototype.load=function(g){var m;m=this;return new Promise(function(h,n){m.X3("get",!1,g).then(function(p){h({key:g,value:p});}).catch(function(p){var q;q=f.R.lLa;switch(p.reason){case d.Sca:q=f.R.Ow;break;case d.$I:q=f.R.Vlb;}n({xa:q,cc:p.cc});});});};c.prototype.save=function(g,m,h){var n;n=this;return new Promise(function(p,q){n.X3(h?"add":"put",!0,{name:g,data:m}).then(function(){p(!h);}).catch(function(u){var t;t=f.R.mLa;switch(u.reason){case d.$I:t=f.R.Ylb;}q({xa:t,cc:u.cc});});});};c.prototype.remove=function(g){var m;m=this;return new Promise(function(h,n){m.X3("delete",!0,g).then(function(){h();}).catch(function(p){var q;q=f.R.$da;switch(p.reason){case d.$I:q=f.R.kLa;}n({xa:q,cc:p.cc});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(m,h){g.X3("clear",!0,"").then(function(){m();}).catch(function(n){var p;p=f.R.$da;switch(n.reason){case d.$I:p=f.R.kLa;}h({xa:p,cc:n.cc});});});};c.prototype.loadAll=function(){var g;g=this;return this.mo.Pp(this.config.timeout,new Promise(function(m,h){var n,p,q;if(g.config.Uva)h(new l(g.config.Uva));else {n=[];p=g.jC.transaction(g.config.kV,"readonly");q=p.objectStore(g.config.kV).openCursor();p.onerror=function(){h(new l(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{n.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){h(new l(d.Error,t));}else m(n);};q.onerror=function(){h(new l(d.Error,q.error));};}})).catch(function(m){return m instanceof k.jq?Promise.reject(new l(d.$I,m)):m instanceof l?Promise.reject(m):Promise.reject(new l(d.Error,m));});};c.prototype.X3=function(g,m,h){var n;n=this;return this.mo.Pp(this.config.timeout,new Promise(function(p,q){var u,t;u=n.jC.transaction(n.config.kV,m?"readwrite":"readonly");t=u.objectStore(n.config.kV)[g](h);u.onerror=function(){q(new l(d.Error,t.error));};t.onsuccess=function(w){var v;if("get" == g)try{v=w.target.result;v?p(v.data):q(new l(d.Sca));}catch(y){q(new l(d.Sca,y));}else p(void 0);};t.onerror=function(){q(new l(d.Error,t.error));};})).catch(function(p){return p instanceof k.jq?Promise.reject(new l(d.$I,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(d.Error,p));});};b.MEa=c;},37462:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.a_="IndexedDBConfigSymbol";},36459:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jEa="IDBDatabaseFactorySymbol";b.PEa="IndexedDBFactorySymbol";b.REa="IndexedDBStorageFactorySymbol";},62983:function(r,b,a){var l,f,k,d,g;function c(m,h){m=k.Se.call(this,m,"IndexedDBConfigImpl") || this;m.config=h;m.version=1;m.kV="namedatapairs";return m;}Object.defineProperty(b,"__esModule",{value:!0});b.NEa=void 0;r=a(70655);l=a(86700);f=a(54662);k=a(90187);d=a(53685);a=a(59578);ea(c,k.Se);Xa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Px?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.ibb;}},S1:{configurable:!0,enumerable:!0,get:function(){return this.config.S1;}},Vva:{configurable:!0,enumerable:!0,get:function(){return 0;}},Uva:{configurable:!0,enumerable:!0,get:function(){return 0;}},RXa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([f.config(f.dz,"simulateIdbOpenError")],g.prototype,"Vva",null);r.__decorate([f.config(f.dz,"simulateIdbLoadAllError")],g.prototype,"Uva",null);r.__decorate([f.config(f.bd,"fixInvalidDatabase")],g.prototype,"RXa",null);g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.wl)),r.__param(1,(0,l.l)(d.nn))],g);b.NEa=g;},80979:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,w,v;function c(y,x,z,A,B,D){this.config=x;this.eS=z;this.fl=A;this.V5b=B;this.vk=D;this.la=y.Ua(n.bMa);}function l(y,x){this.config=y;this.bO=x;}function f(y,x,z,A,B){this.config=x;this.bO=z;this.vk=B;this.la=y.Ua(n.bMa);this.eS=new Promise(function(D,C){var F;try{F=A();F?D(F):C({xa:h.R.mEa});}catch(G){C({xa:h.R.$Z,cc:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=b.OEa=b.iEa=void 0;r=a(70655);k=a(86700);d=a(71163);g=a(43310);m=a(56646);h=a(68172);n=a(84913);p=a(37462);q=a(29853);u=a(7336);t=a(85643);w=a(36459);v=a(3971);f.prototype.create=function(){this.Mja || (this.Mja=this.qK());return this.Mja;};f.prototype.Es=function(y){var x;x=this;this.Mja=null;return this.bO.Pp(this.config.timeout,new Promise(function(z,A){y.close();x.delete(y.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.jq?Promise.reject({xa:h.R.$Z}):z.xa?Promise.reject(z):Promise.reject({xa:h.R.$Z,cc:z});});};f.prototype.delete=function(y){var x;x=this;return this.bO.Pp(this.config.timeout,new Promise(function(z,A){x.eS.then(function(B){var D;D=B.deleteDatabase(y);D.onsuccess=function(){z();};D.onerror=function(){A({xa:h.R.$Z,cc:D.error});};}).catch(function(B){A(B);});}));};f.prototype.qK=function(){var y,x;y=this;return this.bO.Pp(this.config.timeout,new Promise(function(z,A){if(y.config.Vva)return A({xa:y.config.Vva});y.eS.then(function(B){y.vk.mark(v.jj.zib);x=B.open(y.config.name,y.config.version);if(!x)return A({xa:h.R.nEa});x.onblocked=function(){y.vk.mark(v.jj.wib);A({xa:h.R.sib});};x.onupgradeneeded=function(){var D;y.vk.mark(v.jj.Gib);D=x.result;try{D.createObjectStore(y.config.kV,{keyPath:"name"});}catch(C){y.la.error("Exception while creating object store",C);}};x.onsuccess=function(D){var C,F;y.vk.mark(v.jj.Fib);try{C=D.target.result;F=C.objectStoreNames.length;y.la.trace("objectstorenames length ",F);if(0 === F){y.la.error("invalid indexedDb state, deleting");y.vk.mark(v.jj.yib);try{C.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){A({xa:h.R.rib});},1);return;}}catch(G){y.la.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.vk.mark(v.jj.xib);y.la.error("IndexedDB open error",x.error);A({xa:h.R.tib,cc:x.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.jq){try{x && x.readyState && y.vk.mark("readyState-" + x.readyState);}catch(A){}if(y.config.S1 && x && "done" === x.readyState){if(y.P5b(x))return (y.vk.mark(v.jj.Dib),Promise.resolve(x.result));y.vk.mark(v.jj.Cib);}y.vk.mark(v.jj.Bib);return Promise.reject({xa:h.R.vib});}if(z.xa)return Promise.reject(z);y.vk.mark(v.jj.Aib);y.la.error("IndexedDB open exception occurred",z);return Promise.reject({xa:h.R.uib,cc:z});});};f.prototype.P5b=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.vk.mark(v.jj.Eib);this.la.error("failed to check open request state",x);}return !1;};a=f;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.Xa)),r.__param(1,(0,k.l)(p.a_)),r.__param(2,(0,k.l)(q.Jz)),r.__param(3,(0,k.l)(m.kEa)),r.__param(4,(0,k.l)(t.aJ))],a);b.iEa=a;l.prototype.create=function(y){return Promise.resolve(new g.MEa(this.config,this.bO,y));};a=l;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(p.a_)),r.__param(1,(0,k.l)(q.Jz))],a);b.OEa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.bS || (this.bS=this.qK(this.V5b));return this.bS;};c.prototype.qK=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,A){x.vk.mark(v.jj.Ulb);x.eS.create().then(function(B){x.fl.create(B).then(function(D){Promise.all(y.map(function(C){return C.validate(D);})).then(function(){x.storage=D;z(x.storage);}).catch(function(C){x.la.debug("DB validation failed, cause: " + C);x.config.RXa?(x.la.debug("Fixing corrupt DB"),x.eS.Es(B).then(function(){x.la.error("Invalid database deleted, creating new database.");x.qK().then(function(F){x.la.error("Invalid database successfully recreated.");x.storage=F;z(x.storage);});}).catch(function(F){x.la.error("Couldn't delete invalid database.");A(F);})):(x.la.debug("Ignoring invalid DB due to config"),x.storage=D,z(x.storage));});}).catch(function(D){A(D);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.Xa)),r.__param(1,(0,k.l)(p.a_)),r.__param(2,(0,k.l)(w.jEa)),r.__param(3,(0,k.l)(w.PEa)),r.__param(4,(0,k.optional)()),r.__param(4,(0,k.CG)(u.dmb)),r.__param(5,(0,k.l)(t.aJ))],a);b.QEa=a;},33010:function(r,b,a){var f;function c(k,d,g){this.start=k;this.track=d;this.IC=Array.isArray(g)?g:[];}function l(k,d){this.log=k;this.iz=d;this.Bta=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;f=a(70633);l.prototype.wqb=function(k,d){this.t5a(k,d,"activating");};l.prototype.aAb=function(k){this.Kka(k,"de-activating");};l.prototype.t5a=function(k,d,g){var m;this.ck && this.Kka(k,"close current for new");m=[];this.orphans.length && (m.push.apply(m,ca(this.orphans)),this.orphans=[]);this.ck=new c(k,d,m);this.iz && this.log.trace("new range: " + g,this.ck);};l.prototype.Kka=function(k,d){this.ck && (this.ck.end=k,this.Bta.push(this.ck),this.iz && this.log.trace("end range: " + d,this.ck || ({})),this.ck=void 0);};l.prototype.Cdb=function(k){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.ck?this.ck.IC.push.apply(this.ck.IC,ca(d)):this.orphans.push.apply(this.orphans,ca(d));};l.prototype.nna=function(k){var d,g;d=this.Bta.slice(0);if(this.ck && "undefined" !== typeof k){g=new c(this.ck.start,this.ck.track,this.ck.IC);g.end=k;d.push(g);}k=d.reduce(function(m,h){var n,p,q,u;if(!h.track)return m;p=h.track.Vb;q=h.track.Rl(h.start,h.end);if(void 0 === q || null === q)return m;u=new Set(h.IC);m[p]?(h=m[p],h.expected+=q,h.missed+=q - u.size):m[p]={dlid:p,bcp47:h.track.re,profile:h.track.profile,expected:q,missed:q - u.size,startPts:null !== (n=h.track.yJb()) && void 0 !== n?n:0};return m;},{});k=Object.values(k);this.iz && this.log.trace("subtitleqoe:",JSON.stringify(k,null,"\t"));return k;};l.prototype.pJb=function(k){var d,g,m,h;d=this.Bta.slice(0);g=0;m=0;if(this.ck && "undefined" != typeof k){h=new c(this.ck.start,this.ck.track,this.ck.IC);h.end=k;d.push(h);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,f.oa)(!1,"negative range");n.yC=0;return;}p=new Set(n.IC);q=n.track.Rl(n.start,n.end);n.Y3=q;n.yC=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.yC=100;p=n.end - n.start;g+=p;m+=n.yC * p;});h=g?Math.round(m / g):100;this.log.trace("qoe score " + h + ", at pts: " + k);this.iz && (k=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.yC),lang:n.track?n.track.re:"none","actual  ":n.IC.join(" "),expected:n.Y3};}),this.log.trace("score for each range: ",JSON.stringify(k,function(n,p){return p;}," ")));return h;};b.kMa=l;},90642:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.PH=void 0;r=a(86700);c=a(91018);l=a(32711);f=a(35368);k=a(59415);b.PH=new r.ed(function(d){d(k.zMa).to(c.yMa);d(f.wMa).ll(new l.vMa());d(k.xMa).Vd(function(g){return function(){return g.hb.get(k.zMa);};});});},59415:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zMa="ThroughputTrackerSymbol";b.xMa="ThroughputTrackerFactorySymbol";},35368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wMa="ThroughputTrackerConfigSymbol";},5099:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;c=a(36845);b.OBa=function(l,f){this.TBb=l;this.size=f.Poa()?c.Ia:f;};},32711:function(r,b,a){function c(l){this.UBb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.vMa=void 0;r=a(70655);a=a(86700);c=r.__decorate([(0,a.T)()],c);b.vMa=c;},91018:function(r,b,a){var l,f,k,d;function c(g){this.config=g;this.Xva=f.Ia;this.HN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.yMa=void 0;r=a(70655);l=a(86700);f=a(36845);k=a(2467);a=a(35368);c.prototype.Vm=function(){var m;for(var g;0 < this.HN.length;){g=this.HN.shift();this.rQa(g);}g=void 0 === this.qS || void 0 === this.hF?k.Ia:this.hF.wa(this.qS);m=g.k2a()?0:this.Xva.ba(f.WC) / g.ba(k.na);return {Iwa:Math.floor(m),Mcc:g.ba(k.na)};};c.prototype.Oqb=function(g){this.Xva=this.Xva.add(g.size);this.HN.push(g.TBb);for(this.HN.sort(function(m,h){return m.start.Ik(h.start);});this.HN.length > this.config.UBb;){g=this.HN.shift();this.rQa(g);}};c.prototype.rQa=function(g){void 0 === this.qS && (this.qS=g.start);void 0 !== this.hF && 0 > this.hF.Ik(g.start) && (this.qS=this.qS.add(g.start.wa(this.hF)));if(void 0 === this.hF || 0 > this.hF.Ik(g.end))this.hF=g.end;};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.wMa))],d);b.yMa=d;},14659:function(r,b,a){var l,f,k,d,g,m,h,n,p;function c(q,u,t,w,v,y){var x,z;q=g.DD.call(this,u,q,q,v,!0,{Af:"",kC:"content"},"1",[{Ig:0,url:t,type:"unknown"}],"xx",w || q,m.Eo.SI,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=y;q.Cr=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.AMa=void 0;r=a(58680);l=a(37986);f=a(25892);k=a(89082);d=a(24133);g=a(31360);m=a(65853);h=a(89927);n=a(50364);p=a(34202);(0,r.AJa)(r.vda,function(q){var t;function u(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.Az.kmb){v=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var y,x,z;y=v.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.kn.Ega("nourl",x,{content:z.result});});}});v.click();}}t=(0,k.Ih)(q,"TimedTextCustomTrack");l.config.Lja && (t.info("Loading url",{Url:l.config.Lja}),q.kn.Ega(l.config.Lja,"custom"));f.he.addListener(f.nB,u);q.addEventListener(p.ea.tg,function(){f.he.removeListener(f.nB,u);});});ea(c,g.DD);c.Qyb=function(q,u,t,w){var v;v="custom" + c.sMb++;return new c(v,q,u,t,-1,w);};c.prototype.ZVa=function(){var q;q=this;return new Promise(function(u,t){var w,v;if(null === (w=q.options) || void 0 === w?0:w.content)u(q.options.content);else if(q.url){v={responseType:h.Wna,url:q.url,track:q,Ac:void 0,PA:"tt-" + q.re,nr:"unknown"};q.j.x5.download(v,function(y){y.ha?u(y.content):(y.reason="downloadfailed",y.url=v.url,y.track=q,t(y));});}});};b.AMa=c;c.sMb=0;},15789:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){this.l4=h;this.mF={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.P$a(n);this.Hla=this.lZa(this.l4);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.BMa=void 0;l=a(24133);f=a(797);k=a(43038);d=a(37986);g=a(50876);m=a(30818);c.prototype.Tm=function(){return this.element;};c.prototype.F_b=function(h){this.ox=h;};c.prototype.P_b=function(h){this.entry=h;this.fH();};c.prototype.V_b=function(h){this.P$a(h);this.fH();};c.prototype.W_b=function(h){this.lang=h;this.fH();};c.prototype.fH=function(){var h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F;h=this;p=this.Tm();q=p.parentElement;u=q && q.clientWidth || 0;t=q && q.clientHeight || 0;w=0;v=0;y=0;q={width:u,height:t};z=null !== (n=d.config.x$.characterSize) && void 0 !== n?n:d.config.Mwa.characterSize;this.lang && d.config.E5 && d.config.E5.includes(this.lang) && "MEDIUM" === z && (y=1.4);this.lang && d.config.F5 && d.config.F5.includes(this.lang) && "SMALL" === z && (y=1.6);if(0 < u && 0 < t && this.entry){this.ox && (q=(0,l.k4)(u,t,this.ox),w=Math.round((u - q.width) / 2),v=Math.round((t - q.height) / 2));A=this.Mub(q);B=(0,l.k4)(A.width,A.height,this.ox);A=(x=this.u1b(this.entry.blocks)) && x.map(function(G){var E;E=(0,k.Oka)(G,B,h.l4,h.Hla,y);G=(0,k.RWa)(G) + ";position:absolute";return (0,l.createElement)("div",G,E,c.dba);});}Object.assign(this.mF,{left:w + "px",right:w + "px",top:v + "px",bottom:v + "px"});p.style.display="none";p.style.direction=this.mF.direction;p.innerHTML="";if(A && A.length){n=q.width;u=q.height;w=q;this.IR && (w=this.rqb(q,this.IR,t,v));this.mF.margin=this.Wq?this.z2(q,"top") + "px " + this.z2(q,"right") + "px " + this.z2(q,"bottom") + "px " + this.z2(q,"left") + "px ":void 0;A.forEach(function(G){return p.appendChild(G);});t=(0,l.$R)(this.mF);p.style.cssText=t + ";visibility:hidden;z-index:-1";v=[];for(z=A.length - 1;0 <= z;z--){D=A[z];C=x[z];F=this.E5a(D,C,n,u);y=0 < y?n / F.width * y:n / F.width;F.width > n && (D.innerHTML=(0,k.Oka)(C,q,this.l4,this.Hla,y),F=this.E5a(D,C,n,u));v[z]=F;}v=(0,f.Vcb)(v,w);if(z=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(w=z.windowColor,z=z.windowOpacity,w && 0 < z && (D=Math.round(u / 50),q=(0,k.TWa)(x,v,D,w,q),q=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,q,c.dba),p.insertBefore(q,p.firstChild)));p.style.display="none";for(q=v.length - 1;0 <= q;q--){z=v[q];w=A[q].style;D=x[q].region;z=(0,k.SWa)(D,z,n,u,0);Object.assign(w,z);}p.style.cssText=t;}};c.prototype.Eva=function(h){this.IR=h;this.fH();};c.prototype.rna=function(){return this.IR;};c.prototype.Fva=function(h){this.Wq=h;this.fH();};c.prototype.sna=function(){return this.Wq;};c.prototype.tna=function(){return "block" === this.mF.display;};c.prototype.Gva=function(h){var n;n=h?"block":"none";this.element.style.display=n;this.mF.display=n;h && this.fH();};c.prototype.Q4b=function(h){this.l4=h;this.Hla=this.lZa(h);};c.prototype.lZa=function(h){var n,p;n=this;p={};(0,m.Zf)(h,function(q,u){p[q]=n.CQb(u);});return p;};c.prototype.P$a=function(h){this.mF.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.z2=function(h,n){if(this.Wq){if("left" === n || "right" === n)return h.width * (this.Wq[n] || 0);if("top" === n || "bottom" === n)return h.height * (this.Wq[n] || 0);}return 0;};c.prototype.Mub=function(h){return this.Wq?{height:h.height * (1 - (this.Wq.top || 0) - (this.Wq.bottom || 0)),width:h.width * (1 - (this.Wq.left || 0) - (this.Wq.right || 0))}:h;};c.prototype.CQb=function(h){var n;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,l.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.dba);g.Og.body.appendChild(h);n={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};g.Og.body.removeChild(h);return n;};c.prototype.E5a=function(h,n,p,q){var u,t,w,v,y;u=n.region;t=(u.marginTop || 0) * q;w=(u.marginBottom || 0) * q;v=(u.marginLeft || 0) * p;y=(u.marginRight || 0) * p;n=h.clientWidth || 1;h=h.clientHeight || 1;switch(u.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - w - h) / 2;break;default:q=q - w - h;}switch(u.horizontalAlignment){case "left":p=v;break;case "right":p=p - y - n;break;default:p=(v + p - y - n) / 2;}return {top:q,left:p,width:n,height:h};};c.prototype.rqb=function(h,n,p,q){return {height:p - Math.max(q,n.bottom || 0) - Math.max(q,n.top || 0),width:h.width};};c.prototype.u1b=function(h){var n,p;if(!h || 0 === h.length)return h;p=h.filter(function(t){var w;return "horizontal-tb" === (null === (w=t.region) || void 0 === w?void 0:w.writingMode);}).sort(function(t,w){return t.region.marginTop - w.region.marginTop;});if(!p || 0 === p.length)return h;for(var q=0,u=0;q < p.length && u < h.length;u++){"horizontal-tb" === (null === (n=h[u].region) || void 0 === n?void 0:n.writingMode) && (h[u]=p[q++]);}return h;};b.BMa=c;c.dba={"class":"player-timedtext-text-container"};},2108:function(r,b){function a(c,l){var f;f=this;this.NZa=c;this.b6a=l;this.Qwa=!1;this.xM=function(){f.hm=void 0;f.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.EMa=void 0;a.prototype.update=function(c){var l,f,k,d,g;k=this.NZa();if(this.Ddb !== k){d=null === (f=null === (l=this.FU) || void 0 === l?void 0:l.fB(k)) || void 0 === f?void 0:f[0];if(d && ("startTime" in d))if(d.startTime <= k && k <= d.endTime){g=d;this.ndb(d.endTime - k);}else this.ndb(d.startTime - k);this.Ddb=k;this.zga !== g && (this.zga=g,!c && this.b6a && this.b6a());}};a.prototype.start=function(){this.Qwa=!0;this.update();};a.prototype.W$a=function(c){this.FU=c;this.zga=this.Ddb=void 0;c || this.stop();};a.prototype.stop=function(){this.Qwa=!1;this.Vp();};a.prototype.lGb=function(){this.update(!0);return this.zga;};a.prototype.ndb=function(c){this.Vp();this.Qwa && 0 < c && (this.hm=setTimeout(this.xM,c + a.Qjb));};a.prototype.Vp=function(){this.hm && (clearTimeout(this.hm),this.hm=void 0);};b.EMa=a;a.Qjb=10;},31360:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma){this.j=x;this.trackId=z;this.aG=A;this.ec=B;this.xg=D;this.zcb=C;this.Vb=F;this.urls=G;this.re=E;this.displayName=J;this.zh=M;this.JH=L;this.variant=I;this.uC=P;this.profile=K;this.ht=H;this.H7=N;this.yFb=R;this.a6=Y;this.Us=ma;this.type=d.Uj.Nwa;this.Cr=void 0;this.ik=!(!K || K != m.vl.LI);this.zg={bcp47:E,trackId:z,downloadableId:F,isImageBased:this.ik};this.log=(0,g.Ih)(x,"TimedTextTrack");this.state=y.o_;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.DD=void 0;l=a(70655);f=a(89927);k=a(37986);d=a(20736);g=a(89082);m=a(56261);h=a(70633);n=a(95919);p=a(43625);q=a(34202);u=a(68172);t=a(55134);w=a(5485);v=a(91854);(function(x){x[x.o_=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.lD=2]="LOADED";x[x.qP=3]="LOAD_FAILED";})(y || (y={}));c.prototype.I5=function(){var x;x=this;if(this.j.state.value === q.Ub.CLOSED || this.j.state.value === q.Ub.CLOSING)return Promise.reject({ha:!1});if(this.ik)return this.jMb();if(this.j.fd.ia)return (this.state=y.LOADING,this.i1a());this.XVa || (this.XVa=this.ZVa());return this.XVa.then(function(z){return x.i1a(z);});};c.prototype.getState=function(){return this.state;};c.prototype.Wn=function(){return this.H7;};c.prototype.Ym=function(){return this.yFb;};c.prototype.mna=function(){var x;return (null === (x=this.ZW) || void 0 === x?0:x.ready)?this.ZW.FU:void 0;};c.prototype.Rl=function(x,z){var A;try{return null === (A=this.mna()) || void 0 === A?void 0:A.Rl(x,z);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:z,isImageBased:this.ik});}};c.prototype.yJb=function(){var x,z,A;if(!(0,n.Uc)(this.bb))try{A=null === (z=null === (x=this.mna()) || void 0 === x?void 0:x.fB(0)) || void 0 === z?void 0:z[0];this.bb=null === A || void 0 === A?void 0:A.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.bb;};c.prototype.xta=function(x){var z,A;(0,h.oa)((0,v.x1a)(x));(0,h.oa)(null === (z=this.j.W) || void 0 === z?void 0:z.Fa.Aj,"Live manifest is unavailable.");(0,h.oa)(null === (A=this.ZW) || void 0 === A?void 0:A.FU,"Subtitle manager is unavailable");z=x.o4b;this.ZW.FU.xta({I:x.I,xml:z,bb:x.bb,lf:x.lf,size:z.length,gr:x.gr,endOfStream:x.endOfStream});};c.prototype.S9=function(x){return this.j.state.value === q.Ub.CLOSING || this.j.state.value === q.Ub.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.wb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.JUa=function(x){var z,A;z=this;A=(0,g.Ih)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,p.KUa)(this.j,A,this.request,this);x=new t.default(A,x);this.ZW={FU:x,ready:!1};x.on("ready",function(){z.ZW.ready=!0;});return x;};c.prototype.jMb=function(){var x,z,A,B,D,C,F;x=this;if(!this.f1a){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",NRa:!1,Fqa:this.ht.offset,N4a:this.ht.length,xe:this.j.mediaTime.value || 0,bufferSize:k.config.ELb,E9:{M:this.j.aT()}};A=(this.urls || []).map(function(G){return G.Ig;});B=0;D={};C=!0;F=function(G,E){var J;(0,n.Uc)(G)?C || x.S9(x.Ps(x.Bs,"","image"))?(C=!1,x.ht.url=null === (J=x.y4(x.Bs)) || void 0 === J?void 0:J.url,z.url=x.ht.url,D[G]=(D[G] || 0) + 1,J=x.JUa(z),J.on("ready",function(){E({ha:!0,track:x});}),J.on("error",function(M){var L;M=Object.assign({ha:!1},M);L=x.Ps(x.Bs,x.ht.url,"image");L.details={midxoffset:x.ht.offset,midxsize:x.ht.length};L.errorstring=M.errorString;D[G] <= k.config.mcb?(x.g4(L,!0,"retry with current cdn"),x.Kha(D[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.Ps(x.Bs,"","image"));F(x.Bs,E);})):(x.Bs=A[B++],x.Bs?(x.g4(L,!0,"retry with next cdn"),x.Kha(D[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.Ps(x.Bs,"","image"));F(x.Bs,E);})):(x.g4(L,!1,"all cdns tried"),E({ha:!1,xRb:"all cdns failed for image subs",track:x})));}),J.start()):E({ha:!1,aborted:!0}):(E({ha:!1,xRb:"cdnId is not defined for image subs downloadUrl"}),x.g4(x.Ps(0,"","image"),!1,"cdnId is undefined"));};this.Bs=A[B++];this.f1a=new Promise(function(G,E){F(x.Bs,function(J){J.ha?(x.log.info("Loaded image subtitle manager"),x.state=y.lD,G(J)):(x.log.error("Unable to load image subtitles manager",J),x.state=y.qP,E(J));});});}return this.f1a;};c.prototype.i1a=function(x){var z,A;z=this;A=this.j.RC.value;(0,h.oa)(A);(0,h.oa)(void 0 !== x || this.j.fd.ia);return new Promise(function(B,D){var C;C=z.JUa({profile:z.profile,xml:x,Kf:k.config.Mwa,preferences:k.config.x$,xe:z.j.mediaTime.value || 0,NRa:!1,videoSize:A,ia:z.j.fd.ia});C.on("ready",function(){B(C);}).on("error",function(F){D({ha:!1,error:F});}).start();}).then(function(){z.state=y.lD;return {ha:!0,track:z};}).catch(function(B){z.log.error("Unable to parse timed text track",(0,u.zw)(B),z.zg,{url:B.url});z.state=y.qP;B.reason="parseerror";B.track=z;throw B;});};c.prototype.g4=function(x,z,A){x=Object.assign({},x,{shc:z,status:A});this.j.fireEvent(q.ea.SN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var A,B,D;A=this;this.log.trace("Downloading",x);D=this.y4(this.Bs);x={url:x.url,offset:x.offset,length:x.size,Cr:this.Cr,responseType:f.MT,headers:{},Ac:D?{id:D.Ig}:void 0,PA:"tt-" + this.re,nr:null !== (B=null === D || void 0 === D?void 0:D.type) && void 0 !== B?B:w.JP};this.j.x5.download(x,function(C){A.log.trace("imgsub: request status " + C.ha);C.ha?z(null,new Uint8Array(C.content)):z({xa:C.xa,Ee:C.Ee});});};c.prototype.Ps=function(x,z,A){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Vb,subtitletype:A,bcp47:this.re,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.ik};};c.prototype.y4=function(x){return (this.urls || []).find(function(z){return z.Ig === x;});};c.prototype.ZVa=function(){var B,D;function x(C){return l.__awaiter(B,void 0,void 0,function G(){var E,J,M;J=this;return Ja(G,function(L){E=A();M=J.Ps(C.Ac.Ig,C.url,"text");M.errorstring=C.reason;return E && J.S9(M)?L.return(J.Kha(D[E.Ig]).then(z)):L.return(Promise.reject({ha:!1,aborted:!0}));});});}function z(){return l.__awaiter(B,void 0,void 0,function F(){var G,E,J;J=this;return Ja(F,function(M){G=A();E=null === G || void 0 === G?void 0:G.url;return G && E?(D[G.Ig]=(D[G.Ig] || 0) + 1,M.return(J.PBb(E,G).catch(x))):M.return(Promise.reject({}));});});}function A(){return (B.urls || []).find(function(C){return !!((D[C.Ig] || 0) < k.config.mcb);});}B=this;this.state=y.LOADING;D={};return z();};c.prototype.Kha=function(x){return new Promise(function(z){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(A);},A);});};c.prototype.PBb=function(x,z){var A;A=this;this.log.trace("Downloading",z && ({Ac:z.Ig}),this.Ps(z.Ig,x,"text"));return new Promise(function(B,D){var C,F;F={responseType:f.Wna,url:x,track:A,Ac:{id:z.Ig},PA:"tt-" + A.re,nr:null !== (C=z.type) && void 0 !== C?C:w.JP};A.j.x5.download(F,function(G){G.ha?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:F.url,track:A,Ac:z}),D(G));});});};Xa.Object.defineProperties(c.prototype,{Af:{configurable:!0,enumerable:!0,get:function(){return this.zcb.Af;}},kC:{configurable:!0,enumerable:!0,get:function(){return this.zcb.kC;}}});b.DD=c;c.Lz=y;},43625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KUa=void 0;b.KUa=function(a,c,l,f){return {ZIb:function(){var k;k=a.Uma();f.Us && (k+=f.Us);return k;},la:c,request:l,mf:!1};};},26047:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u;function c(t){var w;w=this;this.j=t;this.xwa=this.n5a=0;this.tg=this.Wk=!1;this.Sp=0;this.B5=new Set();this.KW=!0;this.kl=function(){var v,y;w.l9();w.XE && (w.log.info("Deactivating",w.XE),w.Zy.aAb(w.Ms()));w.j.Zh.set(null);w.RH.W$a(void 0);w.nTa();v=w.j.wb.value;v && v.Wn() && !v.Ym() && (v=null);if(v && w.j.lb.value !== q.cb.Ef){y=w.Ms();w.Zy.wqb(y,v);}v?(w.log.info("Activating",v),w.j.gm.set(v.getState() === l.DD.Lz.lD?q.uf.$d:q.uf.Qe),w.Wk || w.j.ke("tt_start"),v.I5().then(w.OJ).catch(w.OJ)):w.j.gm.set(q.uf.$d);w.XE=v;w.gz();};this.sync=function(){w.Wk && (w.RH.start(),w.j.lb.value !== q.cb.me && w.RH.stop());};this.gz=function(){var v;w.KW && w.j.state.value === q.Ub.$d && w.j.lb.value !== q.cb.Ef && (w.$g?v=w.RH.lGb():w.j.wb.value && (v=c.Q1b[w.j.wb.value.getState()]));v && (0,p.Uc)(v.startTime) && w.j.Kt.value !== v && (w.n5a++,w.xwa+=w.RH.NZa() - v.startTime,w.QRa=Math.ceil(w.xwa / (w.n5a + 0)));w.j.Kt.set(v);};this.Ms=function(){var v;v=w.j.Uma();w.XE && w.XE.Us && (v+=w.XE.Us);return v;};this.Ora=function(v){w.B5.add(v);w.KW && (w.fireEvent(c.Aab,v),v && v.id && (w.Zy.Cdb(v.id),!1));w.log.trace("showsubtitle",w.X4(v));};this.qV=function(v){w.B5.delete(v) && w.KW && (w.fireEvent(c.n9a,v),w.log.trace("removesubtitle",w.X4(v)));};this.$Kb=function(){w.B5.forEach(function(v){w.fireEvent(c.n9a,v);w.log.trace("hide subtitle",w.X4(v));});};this.qZb=function(){w.B5.forEach(function(v){w.fireEvent(c.Aab,v);w.log.trace("resume subtitle",w.X4(v));});};this.uh=function(){w.log.warn("imagesubs buffer underflow",w.j.wb.value.zg);w.j.gm.set(q.uf.Qe);};this.yra=function(){w.log.info("imagesubs buffering complete",w.j.wb.value.zg);w.j.gm.set(q.uf.$d);};this.U7=function(){w.Wk && w.$g && w.$g.hz(w.Ms());};this.k6a=function(v){w.Wk && w.$g && (w.$g.pause(),w.$g.CC(v.ys));};this.Fv=function(){w.Wk && w.$g && w.$g.n8a();};this.h6a=function(v){w.$g && w.$g.Nj(v.qh,v.pM);};this.p6a=function(v){w.$g && w.$g.cj(v.I,v.p5b);};this.qTb=function(){w.Wk=!0;(0,n.Lf)(function(){var v,y;(null === (v=w.XE) || void 0 === v?0:v.ik)?null === (y=w.$g) || void 0 === y?void 0:y.hz(w.Ms()):w.sync();w.gz();});};this.nTb=function(){w.nTa();w.RH.stop();w.gz();w.tg=!0;w.l9();};this.Sra=function(v){(v=v.newValue) && (0,p.isArray)(v.blocks) && (w.Zy.Cdb.apply(w.Zy,ca(v.blocks.map(function(y){return y.id;}))),!1);};this.tTb=function(v){w.i5b(v.newValue,v.oldValue);w.sync();w.gz();};this.OJ=function(v){var y;if(!w.tg){y=v.track;if(y === w.j.wb.value)try{w.$g=y.mna();y.ik?w.uqb(v):w.vqb(v);}catch(x){w.log.error("Error activating track:",x,y);return;}w.Wk || w.j.ke(v.ha?"tt_comp":"tt_err");v.ha?(d.config.a$a?setTimeout(function(){w.j.gm.set(q.uf.$d);},d.config.a$a):w.j.gm.set(q.uf.$d),y.ik || w.gz()):v.aborted?w.log.warn("aborted timed text track loading"):d.config.lEb?w.j.pd(h.U.Pib,{Kb:v.track?v.track.zg:{}}):(w.log.error("ignore subtitle initialization error",v),w.j.gm.set(q.uf.$d));}};this.Eb=new k.Tj();this.Zy=new m.kMa((0,g.Ih)(t,"SubtitleTracker"),d.config.$Cb);this.log=(0,g.Ih)(t,"TimedTextManager");this.RH=new f.EMa(this.Ms,this.gz);this.j.wb.addListener(this.kl);d.config.HVb?(this.j.addEventListener(q.ea.Wk,this.qTb),this.kl()):(this.j.gm.set(q.uf.$d),this.j.addEventListener(q.ea.Wk,function(){w.Wk=!0;w.kl();}));this.j.lb.addListener(this.tTb);this.j.addEventListener(q.ea.Gwa,this.sync);this.j.Kt.addListener(this.Sra);this.j.addEventListener(q.ea.tg,this.nTb);}Object.defineProperty(b,"__esModule",{value:!0});b.CMa=void 0;l=a(31360);f=a(2108);k=a(59883);d=a(37986);g=a(89082);m=a(33010);h=a(68172);n=a(66052);p=a(95919);q=a(34202);u=a(14659);c.prototype.$0b=function(){this.KW=!0;this.qZb();this.gz();};c.prototype.aLb=function(){this.KW=!1;this.$Kb();this.gz();};c.prototype.addEventListener=function(t,w,v){this.Eb.addListener(t,w,v);};c.prototype.removeEventListener=function(t,w){this.Eb.removeListener(t,w);};c.prototype.fireEvent=function(t,w,v){this.Eb.Dc(t,w,v);};c.prototype.Ega=function(t,w,v){var y,x;y=this;x=u.AMa.Qyb(this.j,t,w,v);this.q1a(this.j.bh,x);this.j.bi.forEach(function(z){y.q1a(z.bh,x);});this.j.wb.set(x);this.j.fireEvent(q.ea.Mt);};c.prototype.MVb=function(t){this.qua(t)?t.I5().then(function(){}):Promise.resolve();};c.prototype.IJb=function(t){return this.Zy.pJb(t);};c.prototype.nna=function(t){return this.Zy.nna(t);};c.prototype.yT=function(){var t,w;t=this.j.pX;w=d.config.Mwa.characterSize;w={size:d.config.x$.characterSize || w};t && (w.visibility=t.tna(),w.IR=t.rna(),w.Wq=t.sna());return w;};c.prototype.o0b=function(t){d.config.x$.characterSize=t;t=this.j.wb.value;this.qua(t) && !t.ik && t.I5().then(this.OJ).catch(this.OJ);};c.prototype.i5b=function(t,w){var v;t === q.cb.me || t == q.cb.Wh?w !== q.cb.me && w !== q.cb.Wh && ((w=this.j.wb.value) && !this.qua(w) || this.Zy.t5a(this.Ms(),w || void 0,"presentingstate:" + t)):t !== q.cb.Ef && t !== q.cb.cq || this.Zy.Kka(null !== (v=this.Ms()) && void 0 !== v?v:void 0,"presentingstate:" + t);};c.prototype.l9=function(){this.Sp=0;clearTimeout(this.pN);};c.prototype.nTa=function(){var t;this.$g && this.$g.stop();(null === (t=this.XE) || void 0 === t?0:t.ik) && this.L3a("removeListener");this.$g=void 0;};c.prototype.L3a=function(t){this.$g && (this.$g[t]("showsubtitle",this.Ora),this.$g[t]("removesubtitle",this.qV),this.$g[t]("underflow",this.uh),this.$g[t]("bufferingComplete",this.yra),"addListener" === t?(this.j.addEventListener(q.ea.In,this.U7),this.j.addEventListener(q.ea.Ej,this.k6a),this.j.addEventListener(q.ea.qH,this.Fv),this.j.addEventListener(q.ea.E7,this.h6a),this.j.addEventListener(q.ea.rxa,this.p6a)):(this.j.removeEventListener(q.ea.In,this.U7),this.j.removeEventListener(q.ea.Ej,this.k6a),this.j.removeEventListener(q.ea.qH,this.Fv),this.j.removeEventListener(q.ea.E7,this.h6a),this.j.removeEventListener(q.ea.rxa,this.p6a)));};c.prototype.X4=function(t){return {currentPts:this.Ms(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.uqb=function(t){var w,v;w=this;v=t.track;if(!v || !v.ik)throw Error("Not an image base subtitle");t.ha?(this.l9(),this.L3a("addListener"),this.log.info("Activated",v),this.j.Zh.set(v),this.Wk?(0,n.Lf)(function(){w.$g.hz(w.Ms());}):this.$g.pause()):this.Q9a(v,t);};c.prototype.vqb=function(t){var w,v;w=t.track;v=t.ha;if(!w || w.ik)throw Error("Not a valid text track");v?(this.l9(),this.RH.W$a(this.$g),this.log.info("Activated",w),this.j.Zh.set(w)):this.Q9a(w,(0,h.zw)(t));this.gz();};c.prototype.Q9a=function(t,w){var v,y;v=this;y=this.Sp < d.config.lQb;y && (this.pN=setTimeout(function(){v.Sp++;t.I5().then(v.OJ).catch(v.OJ);},d.config.w3b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.ik)?" img subtitle":""),{retry:y},w,t);};c.prototype.qua=function(t){return !(!t || t.Wn() && !t.Ym());};c.prototype.q1a=function(t,w){var v;v=t.findIndex(function(y){return y.ec >= w.ec;});-1 === v && (v=0);t.splice(v,0,w);};b.CMa=c;r={};c.Q1b=(r[l.DD.Lz.LOADING]={yU:!0},r[l.DD.Lz.qP]={Hs:!0},r);c.Aab="showsubtitle";c.n9a="removesubtitle";},31205:function(r,b,a){var l,f,k,d,g,m;function c(h){var n,p,q,u;n=this;this.j=h;this.ZSb=function(){var t;k.he.removeListener(k.i5,n.m6a);t=n.Un.Tm();t && t.parentNode && t.parentNode.removeChild(t);};this.Sra=function(t){n.Un.P_b(t.newValue);};this.DTb=function(t){var w;n.Un.V_b(t.newValue?t.newValue.a6:void 0);n.Un.W_b(null === (w=t.newValue) || void 0 === w?void 0:w.re);n.Un.Q4b(n.kZa(t.newValue));};this.m6a=function(){n.Un.fH();};q=h.wb.value?h.wb.value.a6:void 0;u=null === (p=h.wb.value) || void 0 === p?void 0:p.re;p=this.kZa(h.wb.value);this.Un=new g.BMa(p,q,u);q=h.RC.value;(0,f.oa)(.1 < q.width / q.height);this.Un.F_b(q.width / q.height);h.pk.appendChild(this.Un.Tm());h.Kt.addListener(this.Sra);h.wb.addListener(this.DTb);h.addEventListener(m.ea.tg,this.ZSb,l.OI);k.he.addListener(k.i5,this.m6a);}Object.defineProperty(b,"__esModule",{value:!0});b.DMa=void 0;l=a(7942);f=a(70633);k=a(25892);d=a(37986);g=a(15789);m=a(34202);c.prototype.Gva=function(h){this.Un.Gva(h);};c.prototype.tna=function(){return this.Un.tna();};c.prototype.Eva=function(h){this.Un.Eva(h);};c.prototype.rna=function(){return this.Un.rna();};c.prototype.Fva=function(h){this.Un.Fva(h);};c.prototype.sna=function(){return this.Un.sna();};c.prototype.kZa=function(h){var n;if(h && d.config.A6 && 0 <= d.config.A6.indexOf(h.re)){n=Object.assign({},d.config.w$);Object.entries(n).forEach(function(p){var q;q=la(p);p=q.next().value;q=q.next().value;n[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return n;}return d.config.w$;};b.DMa=c;},99275:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jqa=void 0;b.jqa=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],f=c(l),k=1;k < a.length;k++){d=a[k];g=c(d);g > f && (l=d,f=g);}return l;}};},38229:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Yd=void 0;r=a(86700);c=a(79646);l=a(99435);f=a(27429);k=a(35032);d=a(58236);g=a(91026);m=a(89414);h=a(19761);n=a(80911);p=a(55349);b.Yd=new r.ed(function(q){q(k.W_).to(c.jMa).da();q(d.Oda).to(f.GKa).da();q(g.dNa).to(l.cNa).da();q(m.gkb).to(h.NHa).da();q(n.ANa).to(p.zNa).da();});},58875:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j8a=void 0;b.j8a=function(a){var c,l;c=!1;l=!1;return function(){if(c)l=!0;else for(l=!0;l;){l=!1;c=!0;a();c=!1;}};};},42029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.z6=void 0;b.z6=function(a,c,l){var f;if(l.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");f=l.get;l.get=function(){var k,d;k=f.apply(this,arguments);d={enumerable:l.enumerable,value:k};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return k;};};},89414:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gkb="ObjectComparerSymbol";},77878:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.lV=b.wh=void 0;c=a(56170);b.wh=function(l,f){return [].concat.apply([],ca(l)).map(function(k){return Object.assign({name:k},null !== f && void 0 !== f?f:{});});};b.lV=function(l,f){for(var k=[],d=1;d < arguments.length;++d){k[d - 1]=arguments[d];}return (0,c.KVa)(function(g,m){return g.name === m;},l,k);};},58236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oda="QueryStringDataProviderSymbol";},35032:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.W_=b.Do=void 0;b.Do=function(){};b.W_="StringObjectReaderSymbol";},75183:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FS=b.Uoa=void 0;b.Uoa=function(a){return void 0 !== a && null !== a;};b.FS=function(){return null;};},91026:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dNa="UuidProviderSymbol";},80911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ANa="WindowUtilsSymbol";},19761:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.NHa=void 0;r=a(70655);l=a(86700);f=a(36447);c.prototype.compare=function(k,d){var g;g=[];this.$ia(k,d,"",g);return g;};c.prototype.$ia=function(k,d,g,m){var h;h=this;if(f.jD.tA(k))f.jD.tA(d) && k.length === d.length?k.forEach(function(q,u){h.$ia(k[u],d[u],g + "[" + u + "]",m);}):m.push({a:k,b:d,path:g});else if(f.jD.sR(k) && null != k){if(f.jD.sR(d) && null != d){for(var n in k){this.$ia(k[n],d[n],g + "." + n,m);}for(var p in d){(p in k) || void 0 === d[p] || m.push({a:void 0,b:d[p],path:g + "." + p});}}else m.push({a:k,b:d,path:g});}else k !== d && m.push({a:k,b:d,path:g});};a=c;a=r.__decorate([(0,l.T)()],a);b.NHa=a;},27429:function(r,b,a){var l,f,k,d;function c(g){this.location=g;(0,f.ao)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.GKa=void 0;r=a(70655);f=a(60920);k=a(63088);a=a(86700);c.CV=function(g){var m,n,p;m={};if(0 < g.length){g=g.split("&");for(var h=0;h < g.length;h++){n=g[h].trim();p=n.indexOf("=");0 <= p?m[decodeURIComponent(n.substr(0,p).replace(l.iIa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(l.iIa,"%20")):m[n.toLowerCase()]="";}}return m;};Xa.Object.defineProperties(c.prototype,{fXb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.CV(this.q8a);}},q8a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.YV)return this.YV;this.YV=this.location.search.substr(1);g=this.YV.indexOf("#");0 <= g && (this.YV=this.q8a.substr(0,g));return this.YV;}}});d=l=c;d.iIa=/[+]/g;d=l=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(k.IFa))],d);b.GKa=d;},79646:function(r,b,a){var l,f,k,d,g,m;function c(h,n){this.is=h;this.json=n;(0,f.ao)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.jMa=void 0;r=a(70655);f=a(60920);k=a(63088);d=a(86700);g=a(89542);m=a(35032);c.prototype.E8a=function(h){var n;n=this;return l.read(h,function(p){return parseInt(p);},function(p){return n.is.eha(p);});};c.prototype.Dta=function(h){var n;n=this;return l.read(h,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.v1(p);});};c.prototype.Np=function(h){var n;n=this;return l.read(h,function(p){return parseInt(p);},function(p){return n.is.tR(p);});};c.prototype.oXb=function(h){var n;n=this;return l.read(h,function(p){return parseFloat(p);},function(p){return n.is.ak(p);});};c.prototype.D8a=function(h,n){return l.read(h,function(p){return l.HEb(p,n);},function(p){return void 0 !== p;});};c.prototype.Hta=function(h,n){return l.read(h,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.F8a=function(h){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(h,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.sR(q) && p(q);});}catch(q){return new m.Do();}};c.prototype.Dj=function(h,n,p){var q,u;q=this;p=void 0 === p?1:p;h=h.trim();u=n instanceof Function?n:this.pzb(n,p);n=h.indexOf("[");p=h.lastIndexOf("]");if(0 != n || p != h.length - 1)return new m.Do();h=h.substring(n + 1,p);try{return l.tUb(h).map(function(t){t=u(q,l.T5b(t));if(t instanceof m.Do)throw t;return t;});}catch(t){return t instanceof m.Do?t:new m.Do();}};c.prototype.pzb=function(h,n){var p;p=this;n=void 0 === n?1:n;return function(q,u){q=l.FIb(h);return 1 < n?p.Dj(u,h,n - 1):q(p,u);};};c.HEb=function(h,n){var q;for(var p in n){q=parseInt(p);if(n[q] == h)return q;}};c.read=function(h,n,p){h=n(h);return void 0 !== h && p(h)?h:new m.Do();};c.FIb=function(h){switch(h){case "int":return function(n,p){return n.E8a(p);};case "bool":return function(n,p){return n.Dta(p);};case "uint":return function(n,p){return n.Np(p);};case "float":return function(n,p){return n.oXb(p);};case "string":return function(n,p){return n.Hta(p);};case "object":return function(n,p){return n.F8a(p);};}};c.tUb=function(h){var y;for(var n=[["[","]"]],p=[],q=0,u=0,t=0,w=[],v={};u < h.length;(v={yO:v.yO},++u)){v.yO=h.charAt(u);y=void 0;"," == v.yO && 0 == t?(p.push(h.substr(q,u - q)),q=u + 1):(y=n.find((function(x){return function(z){return z[0] == x.yO;};})(v)))?(++t,w.push(y)):0 < w.length && w[w.length - 1][1] == v.yO && (--t,w.pop());}if(q != u)p.push(h.substr(q,u - q));else if(q == u && 0 < q)throw new m.Do();return p;};c.T5b=function(h){var n;n=h.charAt(0);if('"' == n || "'" == n){if(h.charAt(h.length - 1) != n)throw new m.Do();return h.substring(1,h.length - 1);}return h;};a=l=c;a=l=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.Wf)),r.__param(1,(0,d.l)(k.kD))],a);b.jMa=a;},99435:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cNa=void 0;r=a(70655);a=a(86700);c.prototype.mYa=function(f){var k;k=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return k.mYa(d);});};l=c;l=r.__decorate([(0,a.T)()],l);b.cNa=l;},55349:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zNa=void 0;r=a(70655);l=a(86700);f=a(50876);c.prototype.fJb=function(){var k;k=qb.devicePixelRatio || 1;return {width:f.ku.width * k,height:f.ku.height * k};};a=c;a=r.__decorate([(0,l.T)()],a);b.zNa=a;},27138:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Haa="AsePrefetcherAdapterSymbol";b.iza="AsePrefetcherProviderSymbol";},19419:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yaa="CacheManagerFactorySymbol";},99216:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;Object.defineProperty(b,"__esModule",{value:!0});b.cd=void 0;r=a(86700);c=a(2869);l=a(90098);f=a(76820);k=a(97204);d=a(65537);g=a(52686);m=a(61932);h=a(2094);n=a(10382);p=a(84337);q=a(57730);u=a(82134);t=a(27138);w=a(33841);v=a(19419);y=a(30676);b.cd=new r.ed(function(x){x(c.rJa).to(l.qJa).da();x(k.Kda).to(d.yKa).da();x(f.GD).to(g.mNa).da();x(p.xKa).to(n.tGa).da();x(p.wKa).to(h.sFa).da();x(p.vKa).to(m.mFa).da();x(t.iza).G3b(function(){var z;return null === (z=u.Zo.Sh) || void 0 === z?void 0:z.Lv;});x(t.Haa).to(w.hza).da();x(q.Ida).to(q.kKa);x(v.Yaa).to(y.BAa).da();});},2869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rJa="PlayPredictionDeserializerSymbol";},84337:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xKa="PreparerManifestFetcherSymbol";b.wKa="PreparerLicenseFetcherSymbol";b.vKa="PreparerLegacyLicenseFetcherSymbol";},73374:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gj=void 0;r=b.gj || (b.gj={});r.Hn="created";r.Zv="started";r.TN="succeeded";r.Hs="failed";r.Kd="cancelled";r.HSa="cancelled_on_start";r.ria="cancelled_not_encrypted";},97204:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kda=b.VI=void 0;r=b.VI || (b.VI={});r.Z2b="taskstart";r.X2b="taskabort";r.Y2b="taskfail";r.$2b="tasksuccess";b.Kda="PreparerTaskSchedulerSymbol";},76820:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GD="VideoPreparerSymbol";},33841:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A;function c(){var B;B=this;this.promise=new Promise(function(D,C){B.resolve=D;B.reject=C;});}function l(B,D,C,F,G){var E;E=this;this.Rsa=C;this.VVb=F;this.Oh=G;this.UX=[];this.mC=new Map();this.Zna=new Map();this.sTb=function(J){var M,L;J=J.wishListItem.key.J;if(E.mC.has(J)){L=E.mC.get(J);J=L.NM;L=L.dja;null === (M=L.resolve) || void 0 === M?void 0:M.call(L,J);}};this.Y7=function(J){var M,L;M=J.J;L=J.W;J.target.Nxa(J.J) || (E.Pe.has({J:M}) && (E.Pe.Sm(M).Gq=!0),null === L || void 0 === L?void 0:L.then(function(I){var P;P=I.Fa;P && P.bc && P.cp && P.cp.forEach(function(K){var H;H={Gf:{bc:P.bc,wd:M}};E.Pe.has({J:K.O,wd:P.O,bc:P.bc}) && (E.Pe.Sm(K.O,H).Gq=!0);});}).catch(function(){}),E.c9a(M),E.mab(E.UX));};this.cXa=function(J,M){var L,I;L=J.J;I=J.W;J.target.Nxa(L) || (null === I || void 0 === I?void 0:I.then(function(P){(P=P.Fa) && P.bc && P.bc === M.bc && L === M.wd && (P={Gf:{bc:P.bc,wd:L}},E.Pe.has(M) && (E.Pe.Sm(M.J,P).Gq=!0),E.Zna.delete(E.Pe.generateKey(M)));}).catch(function(){}));};this.la=B.Ua("VideoPreparer");this.config=D();}Object.defineProperty(b,"__esModule",{value:!0});b.hza=void 0;r=a(70655);f=a(71163);a(45186);k=a(82134);d=a(91854);g=a(17244);m=a(37986);h=a(93);n=a(27138);p=a(86700);q=a(57730);u=a(28075);t=a(76586);w=a(41047);v=a(39540);y=a(27181);x=a(73374);z=a(70633);A=a(83337);l.prototype.va=function(B){var D;D=this;this.Pe=new v.yea(function(C,F){return D.$u(C,B,k.Zo.ai,F);},function(C,F){return D.Uv(C,B,F);});};l.prototype.fetch=function(B,D){var C;C=this;if(-1 === D.events.listeners("manifestRemovedFromCache").indexOf(this.Y7))D.events.on("manifestRemovedFromCache",this.Y7);if(-1 === D.events.listeners("playbackClosing").indexOf(this.Y7))D.events.on("playbackClosing",this.Y7);!1;return this.Vx(B.O,D,B.nb).then(function(F){if("LIVE" === F.Fa.eg)throw {status:x.gj.HSa};C.mab(C.qwb(C.Ozb(B,D)));return C.mC.get(B.O).dja.promise;});};l.prototype.getStats=function(){return this.Lv.getStats();};l.prototype.X1b=function(B,D,C){D={mh:D,W:C};this.Zna.set(this.Pe.generateKey(B),D);};l.prototype.TIb=function(B){return this.Zna.get(this.Pe.generateKey(B));};l.prototype.qwb=function(B){return [B].concat(ca(this.UX.filter(function(D){return D.key.J !== B.key.J;}))).slice(0,this.config.TVb).map(this.config.UVb?function(D,C){return Object.assign({},D,{priority:C});}:function(D){return D;});};l.prototype.GZa=function(B,D,C){var F;F=this;C=void 0 === C?{}:C;return this.Vx(B,D,C).then(function(G){F.lUa(G,D);return G.Fa;});};l.prototype.Vx=function(B,D,C){var F;C=void 0 === C?{}:C;return this.Oh.Vx({ma:null !== (F=D.Ss(B)) && void 0 !== F?F:D.d3(B),J:B,Hq:h.ql.RI,pf:w.Bh.pn,Wa:C});};l.prototype.Uv=function(B,D,C){var F,G,E,J,M,L;F=this;(0,z.oa)(C.Gf,"auxiliaryOptions must exist if an adBreak hydration was requested");E=C.Gf;J=E.bc;M=E.wd;(0,z.oa)(!!J,"auxiliaryManifestToken must exist if an adBreak hydration was requested");L=this.Pe.Sm(null === (G=null === C || void 0 === C?void 0:C.Gf) || void 0 === G?void 0:G.wd);return L.Xp.then(function(I){var P,K,H;I=I.W.Df;P=L.ma;(0,z.oa)(void 0 !== P,"parent xid must exist if an adBreak hydration was requested");K=h.ql.pm;H={LL:!0,ag:!1,OC:Date.now()};return F.Oh.Vx({ma:Number(P),Wa:H,J:M,Hq:K,pf:void 0,gO:void 0,Hf:{mh:B,bc:J,wd:M,wV:I}},!1).then(function(N){var R,Y;F.lUa(N,D);N.cp.forEach(function(ma){var Ca;function ia(Ba){F.cXa(Ba,Ca);D.events.ar("playbackClosing",ia);}function ja(Ba){F.cXa(Ba,Ca);D.events.ar("manifestRemovedFromCache",ja);}Ca={J:ma.Fa.O,wd:M,bc:J};F.X1b(Ca,B,ma);D.events.on("manifestRemovedFromCache",ja);D.events.on("playbackClosing",ia);});if(null === (R=N.Fa.zm) || void 0 === R || !R.ce.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (M + ", adBreakToken: " + B));return null === (Y=N.Fa.zm) || void 0 === Y?void 0:Y.ce[0];});});};l.prototype.lUa=function(B,D){var C,F,G;C=this;F=B.Fa;null === (G=F.cp) || void 0 === G?void 0:G.forEach(function(E){C.$u(E.O,D,k.Zo.ai,{Gf:{bc:E.bc,wd:F.O}},E);});};l.prototype.Ozb=function(B,D){var C,F,G,E,J,M;G=new c();if(this.mC.has(B.O)){E=this.mC.get(B.O);J=E.NM;if(J.O === B.O && J.xd === B.xd)M=E.G6b.key;this.Lv.getStats().contents.some(function(L){return L.id === B.O;}) && (G=E.dja);}E=k.Zo.ai.Gn((0,m.P2)(B.xd));M || (M={J:B.O,config:E});J={J:B.O};this.Pe.has(J) || this.Pe.store(J,this.Mzb(B,D,E));D={key:M,dec:!1,priority:B.priority,n2:d.N.Ma(null !== (F=null === (C=B.nb) || void 0 === C?void 0:C.bb) && void 0 !== F?F:0),Pe:this.Pe};this.mC.set(B.O,{G6b:D,NM:B,dja:G});return D;};l.prototype.Mzb=function(B,D,C){var F,G,E;F=this;G=B.O;return {get ma() {return D.Ss(G);},Gq:!1,events:new u.EventEmitter(),GSa:function(){},get Xp() {E || (E=F.GZa(B.O,D,B.nb).then(function(J){return {W:J,Yu:J.l5 && !J.pB,config:C,Qva:{}};}));return E;},J:G,ywa:!1,equals:function(J){var M;M=D.Ss(G);return J && J.J === G && (!J.ma || !M || M === J.ma);}};};l.prototype.$u=function(B,D,C,F,G){var E,J,M,L,I,P,K,H;E=this;I=D.Ss(B);if(I || F){P={J:B,wd:null === (J=null === F || void 0 === F?void 0:F.Gf) || void 0 === J?void 0:J.wd,bc:null === (M=null === F || void 0 === F?void 0:F.Gf) || void 0 === M?void 0:M.bc};if(!this.Pe.has(P)){K=null !== I && void 0 !== I?I:this.Pe.Sm(null === (L=null === F || void 0 === F?void 0:F.Gf) || void 0 === L?void 0:L.wd).ma;this.Pe.store(P,{GSa:function(){},equals:function(N){return N && N.J === P.J && (K === N.ma || !N.ma || !K);},get Xp() {H || (H=(G?Promise.resolve(G):E.GZa(B,D)).then(function(N){return {W:N,Yu:N.l5 && !N.pB,config:C,Qva:{}};}));return H;},set Xp(N) {H=N;},events:new u.EventEmitter(),ma:K,J:P.J,Gq:!1,ywa:!1});}}};l.prototype.V$a=function(B){this.UX=B;};l.prototype.mab=function(B){this.V$a(B);this.Lv.lab(this.UX);};l.prototype.c9a=function(B){this.mC.has(B) && (this.V$a(this.UX.filter(function(D){return D.key.J !== B;})),this.mC.delete(B));};Xa.Object.defineProperties(l.prototype,{Lv:{configurable:!0,enumerable:!0,get:function(){this.ex || (this.ex=this.VVb(),this.ex.Rga(new A.dLa()).xva(this.Rsa).dab(new y.TEa()).J$a({uB:this.config.SVb}),this.ex.events.on("prefetchComplete",this.sTb));return this.ex;}}});a=l;a=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(f.Xa)),r.__param(1,(0,p.l)(g.ac)),r.__param(2,(0,p.l)(q.Ida)),r.__param(3,(0,p.l)(n.iza)),r.__param(4,(0,p.l)(t.rD))],a);b.hza=a;},30676:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){var q;q=this;this.Yf=n;n=p();this.rg=new m({log:h.Ua("CacheManager"),qa:{getTime:function(){return q.Yf.Fb().ba(d.na);}},Promise:Promise,mf:!1,pub:n.aWb,oub:n.ZVb,UDb:n.P7a,TDb:n.$Vb});}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(71163);d=a(2467);g=a(17244);m=a(22153);c=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(f.Jc)),r.__param(2,(0,l.l)(g.ac))],c);b.BAa=c;},27181:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.TEa=void 0;a.prototype.DXa=function(c,l){var f;return null !== (f=this.IEb(c,l)) && void 0 !== f?f:this.MEb(c,l);};a.prototype.IEb=function(c,l){var f,k;f=this;k=l.ga;return c.find(function(d){var g;return f.l3(k,null === (g=d.ga) || void 0 === g?void 0:g.ga);});};a.prototype.MEb=function(c,l){var f,k;f=l.ga.we;k=l.ga.M[f];return c.find(function(d){var g;d=null === (g=d.ga) || void 0 === g?void 0:g.ga;d=(g=null === d || void 0 === d?void 0:d.we) && (null === d || void 0 === d?void 0:d.M[g]) || void 0;return f === g && k.J === (null === d || void 0 === d?void 0:d.J) && k.sa === (null === d || void 0 === d?void 0:d.sa);});};a.prototype.l3=function(c,l){var f;f=this;return c === l?!0:"object" !== typeof c || "object" !== typeof l?c === l:Object.keys(c).length === Object.keys(l).length && Object.keys(c).every(function(k){return f.l3(c[k],l[k]);});};b.TEa=a;},61932:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z;function c(A,B,D,C,F,G,E,J,M,L,I){this.dr=D;this.PW=C;this.kc=F;this.qa=G;this.Ea=E;this.XL=J;this.WUb=M;this.Oh=L;this.ei=I;this.log=A.Ua("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.mFa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(17244);d=a(73374);g=a(3971);m=a(41047);h=a(811);n=a(50563);p=a(84036);q=a(31224);u=a(2467);t=a(35664);w=a(58998);v=a(45186);y=a(62298);x=a(76586);a=a(23152);c.prototype.fetch=function(A,B){var D;D=this;this.log.trace("Fetching LDL",(0,v.AI)(A));this.O=A.O;this.cd=B;return B.dL(A.O,"ldl").catch(function(){D.log.trace("Requesting a new license",(0,v.AI)(A));return D.Oh.x4(A.O).then(function(C){var F,G;D.W=C;D.Fa=C.Fa;if(C=D.cd.uab(A.O,D.Fa))throw {status:C};C=D.Fa.St[0].SV;F=D.Fa.St[0].rka;G=(C?C:[F]).map(function(E){return D.kc.decode(E.bytes);});D.ee=D.HA({oWa:D.log,Qka:function(E){return D.handleError(E);},ke:void 0,lra:function(){},qa:{getTime:function(){return D.Ea.Fb().ba(u.na);},tdc:function(){return D.qa.fe.ba(u.rm);}}});B.K$a(A.O,D.ee);return D.ee.create(D.config.Vl).then(function(){return D.ee.Vg(m.Bh.pn,G,!0);}).then(function(){return D.ee;}).catch(function(E){D.handleError(E);throw E;});}).catch(function(C){D.log.warn("Manifest not available for ldl request",C);if(void 0 !== C.status)throw C;throw {status:d.gj.Kd};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.ee.close();this.cd.iTa(this.O);this.cd.Sia(this.O);};c.prototype.HA=function(A){var B,D;B=this;if(!this.dr.zI || !this.dr.xI){D=this.WUb();this.dr.zI=D.Vy;this.dr.xI=D.request;}D=new this.dr.xI(A.oWa,function(C){var F;F=[];C.tj.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.kc.encode(G.data)});});C={tj:F,C3:[B.Fa.Kk],pf:g.om.hUa(C.pf),Df:B.Fa.Df,ma:B.cd.d3(B.O),ji:B.W.ji,eg:B.W.Fa.eg};B.log.trace("xid created ",{MovieId:B.O,xid:C.ma});return B.XL.Ku(C);},void 0,{mf:!1,hk:!1});return this.dr.zI(A.oWa,A.ke,{mf:!1,hk:!1,kd:D,UV:this.config.h8a,$:void 0,iz:this.config.wWa,onerror:A.Qka,lra:A.lra,qa:A.qa,UG:!1,Nsb:this.PW.W2([]),d6b:this.PW.c3([]),vpa:this.ei.P1.ba(u.na)});};z=c;z=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(k.ac)),r.__param(2,(0,l.l)(h.x_)),r.__param(3,(0,l.l)(n.VP)),r.__param(4,(0,l.l)(q.fh)),r.__param(5,(0,l.l)(t.gg)),r.__param(6,(0,l.l)(w.Jc)),r.__param(7,(0,l.l)(p.rP)),r.__param(8,(0,l.l)(y.rda)),r.__param(9,(0,l.l)(x.rD)),r.__param(10,(0,l.l)(a.fq))],z);b.mFa=z;},2094:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t;function c(w,v,y,x,z,A){this.kc=y;this.YBb=x;this.gM=z;this.Oh=A;this.log=w.Ua("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(17244);d=a(41047);g=a(31224);m=a(96630);h=a(26041);n=a(73374);p=a(45186);q=a(76586);u=a(85060);t=a(34902);c.prototype.fetch=function(w,v){var y;y=this;this.log.trace("Fetching LDL",(0,p.AI)(w));this.O=w.O;this.cd=v;return v.dL(w.O,"ldl").then(function(x){return x.J9;}).catch(function(){y.log.trace("Requesting a new license",(0,p.AI)(w));return y.Oh.x4(w.O).then(function(x){var z,A,B,D,C,F;y.Fa=x.Fa;if(v.W_a(w.O))return v.dL(w.O,"ldl").then(function(G){return G.J9;});z=y.cd.uab(w.O,y.Fa);if(z)throw {status:z};A=y.Fa.St[0];z=A.SV;B=A.rka;A=A.streams[0].GA;D=(0,u.Foa)(A);C=(z?z:[B]).map(function(G){return y.kc.decode(G.bytes);});F=y.YBb().then(function(G){var E;E={type:d.Bh.pn,initData:C,T5:D,context:{m6:(0,t.Ema)(x.Fa.St[0].streams)},si:{O:w.O,ma:v.d3(w.O),Df:y.Fa.Df,Kk:y.Fa.Kk,ji:x.ji,eg:x.Fa.eg}};return G.Vg(E,y.gM());}).catch(function(G){y.handleError("Unable to prepare an EME session.",G);throw G;});y.cd.K$a(w.O,{J9:F,source:"videopreparer"},function(){if(!y.cd.Nxa(w.O))try{F.then(function(G){return G.close();}).catch(function(G){y.handleError("Unable to cleanup LDL session, Unable to get the session.",G);});}catch(G){y.handleError("Unable to cleanup LDL session, unexpected exception.",G);}});return F;}).catch(function(x){y.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.gj.Kd};});});};c.prototype.handleError=function(w,v){this.log.warn(w + " LDL is now invalid.",v);this.cd.iTa(this.O);this.cd.Sia(this.O);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(k.ac)),r.__param(2,(0,l.l)(g.fh)),r.__param(3,(0,l.l)(m.UY)),r.__param(4,(0,l.l)(h.BP)),r.__param(5,(0,l.l)(q.rD))],a);b.sFa=a;},10382:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,w,v,y){this.GU=w;this.Yf=v;this.Oh=y;this.log=u.Ua("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;r=a(70655);l=a(17244);f=a(86700);k=a(71163);d=a(58998);g=a(2467);m=a(23251);h=a(93);n=a(45186);p=a(76586);q=a(41047);c.prototype.fetch=function(u,t){var w,v;this.log.trace("Fetching manifest",(0,n.AI)(u));v=u.nb;this.config.qqb && v && v.W && !this.Oh.k5(u.O) && (!(("clientGenesis" in v.W) && v.W.clientGenesis) || "number" === typeof v.W.clientGenesis && Date.now() - v.W.clientGenesis < this.config.P7a) && (v=this.GU.create(v.W)) && (v.jH=this.Yf.Fb().ba(g.na),v.kN=this.Yf.Fb().ba(g.na),this.Oh.YW(u.O,v));return this.Oh.Vx({ma:t.d3(u.O),J:u.O,Wa:null !== (w=u.nb) && void 0 !== w?w:{},Hq:h.ql.RI,pf:q.Bh.pn},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",J:u.O,W:y});});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Xa)),r.__param(1,(0,f.l)(l.ac)),r.__param(2,(0,f.l)(m.JI)),r.__param(3,(0,f.l)(d.Jc)),r.__param(4,(0,f.l)(p.rD))],a);b.tGa=a;},90098:function(r,b,a){var l,f,k;function c(d,g){this.ub=g;this.la=d.Ua("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.qJa=void 0;r=a(70655);l=a(86700);f=a(71163);a=a(89542);c.prototype.lBb=function(d){var g;g=this;try{return {direction:d.direction,mec:d.layoutHasChanged,Ofc:d.rowInteractionIndex,Gb:d.lolomos.map(function(m){return g.gBb(m);})};}catch(m){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.gBb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(m){return g.fBb(m);}),requestId:d.requestId,rowIndex:d.rowIndex,Pfc:d.rowSegment};};c.prototype.fBb=function(d){var g,m;g={xe:d.pts,property:d.property,J:d.viewableId,index:d.index};m=d.preplay;this.ub.vg(m) && (g.F8=this.kBb(m));d=d.params;this.ub.vg(d) && (g.nb=this.BVa(d));return g;};c.prototype.kBb=function(d){var g;g={xe:d.pts,J:d.viewableId,HM:d.pipelineNum,index:d.index};d=d.params;this.ub.vg(d) && (g.nb=this.BVa(d));return g;};c.prototype.BVa=function(d){return {xd:d.uiLabel,Pj:d.trackingId,cm:d.sessionParams};};c.prototype.jBb=function(d){var g;g=this;try{return d.map(function(m){return g.hBb(m);});}catch(m){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.hBb=function(d){var g,m;m=d.params;this.ub.vg(m) && (g=this.iBb(m));return {O:d.movieId,priority:d.priority,force:d.force,nb:g,xd:d.uiLabel,$gc:d.uiExpectedStartTime,Zgc:d.uiExpectedEndTime,Lk:d.firstTimeAdded};};c.prototype.iBb=function(d){var g,m;g=void 0;m=d.sessionParams;this.ub.vg(m) && (g=m);return {i2:this.eBb(d.authParams),cm:g,Pj:d.trackingId,bb:d.startPts,W:d.manifest,ag:d.isBranching};};c.prototype.eBb=function(d){return {PUb:null === d || void 0 === d?void 0:d.pinCapableClient};};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(a.Wf))],k);b.qJa=k;},57730:function(r,b,a){var l,f,k,d;function c(g,m){this.Zl=g;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Ida=b.kKa=void 0;r=a(70655);l=a(86700);f=a(52115);k=a(41427);a=a(17244);c.prototype.T3a=function(g){var m,h;m=this;if(g.Cd.key.ga)return Promise.resolve(g.Cd.key.ga);h=g.Cd.key.J;return g.Cd.Pe.Sm(h).Xp.then(function(n){n=n.W;return n.hp?(0,k.C2)(n.hp,{config:m.config()}):(0,k.Y9)(h,m.Zl.Iq(h));});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.UI)),r.__param(1,(0,l.l)(a.ac))],d);b.kKa=d;b.Ida="PlaygraphResolverSymbol";},45186:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AI=void 0;b.AI=function(){return "";};},96467:function(r,b,a){var l,f;function c(k,d,g,m,h,n,p,q){this.type=k;this.Hn=d;this.LUb=void 0 === g?!1:g;this.notify=h;this.rEb=n;this.NM=p;this.cd=q;this.id=++f;this.status=l.gj.Hn;}Object.defineProperty(b,"__esModule",{value:!0});b.RP=void 0;l=a(73374);f=0;c.prototype.Ps=function(){var k;k={id:this.id,type:this.type,created:this.Hn,status:this.status,movieId:this.O};this.startTime && (k.startTime=this.startTime);this.endTime && this.startTime && (k.duration=this.endTime - this.startTime,k.endTime=this.endTime);return k;};c.prototype.sM=function(k){this.notify && this.notify(k);};c.prototype.AZb=function(){return this.rEb.fetch(this.NM,this.cd);};Xa.Object.defineProperties(c.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.NM.O;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.NM.priority;}}});b.RP=c;},65537:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u,t,w,v){this.is=w;this.Yf=v;this.log=u.Ua("TaskScheduler");this.Eb=new p.Tj();this.config=t();this.currentIteration=this.dS=0;this.OH=[];this.paused=!1;this.f$=[];this.MTa=[];this.qMb=this.config.YVb || q.append;this.addEventListener=this.Eb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.yKa=void 0;r=a(70655);l=a(86700);f=a(97204);k=a(71163);d=a(17244);g=a(73374);m=a(89542);h=a(58998);n=a(2467);p=a(59883);(function(u){u.prepend="prepend";u.append="append";u.xLb="ignore";})(q || (q={}));c.prototype.jrb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.OH=this.rMb(u);this.dS=0;this.currentIteration+=1;this.Lf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Lf=function(){var u,t,w,v;u=this;if(this.dS === this.OH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.dS,numberOfTasks:this.OH.length});else {t=this.AIb();w=this.currentIteration;t.startTime=this.Yf.Fb().ba(n.na);t.status=g.gj.Zv;this.Eb.Dc(f.VI.Z2b,{O:t.O,type:t.type});this.f$.push(t);v=function(y){t.endTime=u.Yf.Fb().ba(n.na);y();u.MTa.push(t);u.f$.splice(u.f$.indexOf(t),1);u.currentIteration === w && (u.dS++,u.Lf());};t.AZb().then(function(){v(function(){t.status=g.gj.TN;u.mta(t,f.VI.$2b,"task succeeded");});}).catch(function(y){v(function(){0 <= [g.gj.Kd,g.gj.HSa,g.gj.ria].indexOf(y.status)?(t.status=y.status,u.mta(t,f.VI.X2b,"cancelled task")):(t.status=g.gj.Hs,u.mta(t,f.VI.Y2b,"task failed",y));});});}};c.prototype.AIb=function(){return this.OH[this.dS];};c.prototype.getStats=function(u,t,w){var v,y,x,z;v=this.MTa.map(function(A){return A.Ps();});y=this.f$.map(function(A){return A.Ps();});x=this.is.vg(u) && this.is.vg(t);z={};if(this.is.vg(w))return (z.zwb=v.filter(function(A){return A.movieId === w;}),z);v.concat(y).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.gj.Zv?A.startTime:A.endTime;x && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.mta=function(u,t,w,v){var y;y=u.Ps();v?this.log.warn(w,y,v):this.log.trace(w,y);this.Eb.Dc(t,{O:u.O,type:u.type,reason:u.status});u.sM(y);};c.prototype.rMb=function(u){var t,w;t=this.OH.filter(function(v){return v.LUb && v.status === g.gj.Hn;});w=this.qMb;return w === q.xLb?[].concat(u):w === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(d.ac)),r.__param(2,(0,l.l)(m.Wf)),r.__param(3,(0,l.l)(h.Jc))],a);b.yKa=a;},83337:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.dLa=void 0;a.prototype.mia=function(c,l){var f;c=l(c);null === (f=c.Zk) || void 0 === f?void 0:f.forEach(function(k){k.nbb.video.push({CSa:!1,yj:function(d){return d.filter(function(g){return !g.Kh || 1080 >= g.qW;});}});});return c;};b.dLa=a;},52686:function(r,b,a){var f,k,d,g,m,h,n,p,q,u,t,w,v,y;function c(x,z,A,B,D,C,F,G,E,J,M){this.O6b=A;this.ub=B;this.Yf=D;this.Hd=C;this.rXa=F;this.pEb=G;this.qEb=E;this.c4=J;this.events=new y.EventEmitter();this.log=x.Ua("VideoPreparer");this.config=z();this.Zxa={};this.v7={};this.Tf={num_of_calls:0,num_of_movies:0};this.c4.va(this);this.rg=M.rg;}function l(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.mNa=void 0;r=a(70655);f=a(96467);k=a(17244);d=a(86700);g=a(71163);m=a(24166);h=a(89542);n=a(97204);p=a(58998);q=a(2467);u=a(73374);t=a(19419);w=a(84337);v=a(27138);y=a(28075);c.prototype.K$a=function(x,z,A){this.rg.setData(x,"ldl",z,A);};c.prototype.W_a=function(x){return this.rg.GT(x,"ldl");};c.prototype.iTa=function(x){this.rg.clearData(x,"ldl",void 0,!0);};c.prototype.dL=function(x,z){return this.rg.getData(x,z);};c.prototype.GYa=function(x){var z;z=this.rg.getData(x,"ldl");this.rg.clearData(x,"ldl",void 0,!0);return z;};c.prototype.Nxa=function(x){return this.abb === x || this.NUa === x;};c.prototype.$G=function(x,z){var A,B,D;A=this;x=x.map(function(C){C.nb=C.nb || ({i2:{PUb:!1},Pj:0});A.ub.aF(C.nb.Pj) || (C.nb.Pj=0);A.ub.aF(C.xe) && (C.nb.bb=C.xe);return C;});B=x.map(function(C){return A.Ezb(C,z);}).reduce(function(C,F){return C.concat(F);},[]);D=B.map(function(C){return C.O + "-" + C.type;});this.log.trace("prepare tasks",D);this.Hd.jrb(B);this.Tf.num_of_calls++;this.Tf.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,A){return Object.assign(Object.assign({},A && this.v7[A] || ({})),{OH:this.Hd.getStats(x,z,A),cache:this.rg.getStats(x,z),aGb:Object.assign(Object.assign({},this.Tf),this.c4.getStats())});};c.prototype.xKb=function(x){this.abb=x;};c.prototype.vKb=function(x){this.log.trace("task scheduler paused on playback created");this.Hd.pause();this.config.$Ab && this.rg.Nia(x,["manifest"]);this.config.ZAb && this.rg.Nia(x,["ldl"]);this.config.XAb && this.rg.clearData(x,"manifest");this.c4.c9a(x);this.NUa=x;};c.prototype.R_a=function(){this.log.info("ad played, clearing all manifests from cache");this.SXa();};c.prototype.S_a=function(){this.log.info("track changed, clearing all manifests from cache");this.SXa();};c.prototype.uKb=function(x){var z;z=this;this.config.YAb?this.rg.clearData(x,"manifest"):this.rg.GT(x,"manifest") && this.rg.getData(x,"manifest").then(function(A){A.Fa.isSupplemental || z.rg.clearData(x,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",A);});this.Sia(x);this.abb=this.NUa=void 0;this.events.emit("playbackClosing",{J:x,type:"playbackClosing",target:this});};c.prototype.SXa=function(){this.rg.Nia("none",["manifest","ldl"]);};c.prototype.Sia=function(x){delete this.Zxa[x];};c.prototype.Ss=function(x){return this.Zxa[x];};c.prototype.d3=function(x){return this.Zxa[x]=this.O6b.IA();};c.prototype.uab=function(x,z){if(this.W_a(x))return u.gj.Kd;if(!z.pB)return u.gj.ria;};c.prototype.Ezb=function(x,z){var A,B;x.xd && x.nb && (x.nb.xd=x.xd);this.g5b(x.O,x.Lk);A=this.kzb(x,z);B=this.gzb(x,null === A || void 0 === A?void 0:A.id,z);x=this.nzb(x,null === A || void 0 === A?void 0:A.id,z);return [A,B,x].filter(l);};c.prototype.kzb=function(x,z){if(this.rg.GT(x.O,"manifest"))this.log.trace("manifest exists in cache for " + x.O);else return new f.RP("manifest",this.Yf.Fb().ba(q.na),!!x.nb.Nua,void 0,z,this.rXa,x,this);};c.prototype.gzb=function(x,z,A){if(this.config.zS)if(this.rg.GT(x.O,"ldl"))!1;else return this.config.Dr?new f.RP("ldl",this.Yf.Fb().ba(q.na),!!x.nb.Nua,z,A,this.pEb,x,this):new f.RP("ldl",this.Yf.Fb().ba(q.na),!!x.nb.Nua,z,A,this.qEb,x,this);};c.prototype.nzb=function(x,z,A){if(this.config.FWa)return new f.RP("getMedia",this.Yf.Fb().ba(q.na),!!x.nb.Nua,z,A,this.c4,x,this);};c.prototype.g5b=function(x,z){this.v7[x] || (this.v7[x]={C8:0,Lk:0});x=this.v7[x];x.C8=(void 0 !== x?void 0 !== x.C8?x.C8:0:0) + 1;x.Lk=z;};a=c;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.Xa)),r.__param(1,(0,d.l)(k.ac)),r.__param(2,(0,d.l)(m.Bw)),r.__param(3,(0,d.l)(h.Wf)),r.__param(4,(0,d.l)(p.Jc)),r.__param(5,(0,d.l)(n.Kda)),r.__param(6,(0,d.l)(w.xKa)),r.__param(7,(0,d.l)(w.wKa)),r.__param(8,(0,d.l)(w.vKa)),r.__param(9,(0,d.l)(v.Haa)),r.__param(10,(0,d.l)(t.Yaa))],a);b.mNa=a;},32408:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.heb=void 0;r=a(86700);c=a(63034);l=a(27279);b.heb=new r.ed(function(f){f(c.kNa).to(l.jNa).da();});},63034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kNa="VideoPlayerFactorySymbol";},34202:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zc=b.cb=b.uf=b.Ub=b.hY=b.ea=b.cca=b.zD=b.Ja=void 0;(function(c){c.r3a="loadedtracks";c.q3a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.In="currenttimechanged";c.adb="unthrottledcurrenttimechanged";c.s2="bufferedtimechanged";c.vka="durationchanged";c.Mxa="videosizechanged";c.Y6a="pausedchanged";c.Ssa="playingchanged";c.OWa="endedchanged";c.bK="busychanged";c.g2="audiotracklistchanged";c.Fl="audiotrackchanged";c.Mt="timedtexttracklistchanged";c.kl="timedtexttrackchanged";c.xX="trickplayframeschanged";c.m5a="mutedchanged";c.peb="volumechanged";c.Pva="showsubtitle";c.Wta="removesubtitle";c.z6b="watermark";c.Xoa="isReadyToTransition";c.BL="inactivated";c.s1a="internalPlaybackError";c.e_b="segmentmaploaded";c.f_b="segmentpresenting";c.MRa="autoplaywasallowed";c.j2="autoplaywasblocked";c.Arb="adsstatechanged";c.PB="livestatechanged";})(b.Ja || (b.Ja={}));(b.zD || (b.zD={})).AW="playgraphsegmenttransition";b.cca=a;a.D$a="serverTimeChanged";(function(c){c.AE="aseReport";c.G6="liveReport";c.F6="livePipelineFailover";c.Fha="autoplayWasAllowed";c.Fh="autoplayWasBlocked";c.rx="bufferUnderrun";c.closed="closed";c.tg="closing";c.In="currentTimeChanged";c.gF="downloadComplete";c.BL="inactivated";c.$2a="licenseAdded";c.tU="licensed";c.zU="locationSelected";c.aqa="manifestClosing";c.rG="manifestPresenting";c.Y6="mediaBufferChanged";c.E7="nextBranchingSegmentChosen";c.st="playbackStart";c.Wk="playbackReady";c.Ej="repositioned";c.wC="repositioning";c.b$a="safePlayRequested";c.qH="segmentPresenting";c.EW="serverSwitch";c.yab="shouldUpdateVideoDiagInfo";c.SN="subtitleError";c.Gwa="throttledMediaTimeChanged";c.bdb="unthrottledMediaTimeChanged";c.YN="timedTextRebuffer";c.Mt="timedTextTrackListChanged";c.xX="trickPlayFramesChanged";c.rxa="updateNextBranchingSegmentWeights";c.Vdb="userInitiatedPause";c.Wdb="userInitiatedResume";c.Ecb="tracksHydrated";c.PB="livestatechanged";})(b.ea || (b.ea={}));(b.hY || (b.hY={})).oA="adBreakComplete";(function(c){c[c.MI=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.$d=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Ub || (b.Ub={}));(function(c){c[c.$d=1]="NORMAL";c[c.Qe=2]="BUFFERING";c[c.jLa=3]="STALLED";})(b.uf || (b.uf={}));(function(c){c[c.Ef=1]="WAITING";c[c.me=2]="PLAYING";c[c.Wh=3]="PAUSED";c[c.cq=4]="ENDED";})(b.cb || (b.cb={}));(function(c){c[c.Kr=0]="INITIAL";c[c.Nw=1]="SEEK";c[c.pP=2]="LIVE_EDGE";c[c.X_=3]="TRACK_CHANGED";c[c.YI=4]="SEGMENT_CHANGED";c[c.$Y=5]="FORCE_REBUFFER";})(b.Zc || (b.Zc={}));},51842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LAa="CdnPartitionerSymbol";},6474:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.w0a=void 0;r=a(86700);c=a(50209);l=a(17602);f=a(31383);k=a(80688);d=a(78139);g=a(62907);m=a(99494);h=a(93397);n=a(31303);p=a(83250);q=a(98431);u=a(83443);t=a(88693);w=a(77174);v=a(46883);y=a(51842);x=a(64317);z=a(89043);A=a(14641);B=a(89869);b.w0a=new r.ed(function(D){D(c.SDa).to(l.RDa).da();D(f.WDa).to(k.VDa).da();D(d.FDa).to(g.EDa).da();D(m.HDa).to(h.GDa).da();D(y.LAa).to(x.KAa).da();D(n.UJa).to(p.TJa).da();D(q.jea).to(u.cMa);D(t.tP).to(z.sP);D(A.wP).to(B.vP);D(w.Sba).to(v.ZDa);});},77174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sba="HLSConfigSymbol";},78139:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FDa="HLSPlaylistBuilderSymbol";},99494:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HDa="HLSPlaylistTransformerSymbol";},50209:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SDa="HeaderFetcherSymbol";},31383:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WDa="HLSHeaderParserFactorySymbol";},88693:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.D9b="LogblobBuilderSymbol";b.tP="HLSLogblobBuilderFactorySymbol";},14641:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wP="HLSLogblobMonitorFactorySymbol";},31303:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UJa="PlayerPlaydataMonitorSymbol";},98431:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jea="StreamChangeDetectorSymbol";},64317:function(r,b,a){var l,f;function c(k){this.la=k.Ua("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;r=a(70655);l=a(86700);a=a(71163);c.prototype.OGb=function(k){var g,m,h,n,p,q,u;function d(t,w,v){var y,x,z;y=t.map(function(A){return A.Ig;});y.sort(function(A,B){return w[A] - w[B];});if(1 === y.length)(!1,h.set(v,{SM:t[0],z9:t[0]}));else {x=y.find(function(A){return g.has(A);});x || ((x=y.find(function(A){return !m.has(A);}))?g.add(x):(x=y[0],!1));z=y.find(function(A){return m.has(A) && A !== x;});z || ((z=y.find(function(A){return !g.has(A) && A !== x;}))?m.add(z):(z=y.find(function(A){return A !== x;}),!1));h.set(v,{SM:t.find(function(A){return A.Ig === x;}),z9:t.find(function(A){return A.Ig === z;})});}}g=new Set();m=new Set();h=new Map();n=k.video;p=k.audio;q=k.text;u=k.sk.reduce(function(t,w){t[w.id]=w.ec;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,u,t.Mm);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.Mm);});q.forEach(function(t){var w,v;if(!t.track.EB || t.track.Y5){w=t.stream;t=t.id;v=w.urls.reduce(function(y,x,z){y[x.Ig]=z + 1;return y;},{});d(w.urls,v,t);}});return h;};f=c;f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],f);b.KAa=f;},46883:function(r,b,a){var l,f,k,d;function c(g){return f.Se.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;r=a(70655);l=a(86700);f=a(90187);k=a(59578);a=a(54662);ea(c,f.Se);Xa.Object.defineProperties(c.prototype,{D7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Av:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},wy:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},x0a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},kt:{configurable:!0,enumerable:!0,get:function(){return 80;}}});d=c;r.__decorate([a.config(a.bd,"playsInline")],d.prototype,"D7a",null);r.__decorate([a.config(a.zB,"minAudioMediaRequestDuration")],d.prototype,"Av",null);r.__decorate([a.config(a.zB,"minVideoMediaRequestDuration")],d.prototype,"wy",null);r.__decorate([a.config(a.zB,"hlsVideoMediaRequestTargetDuration")],d.prototype,"x0a",null);r.__decorate([a.config(a.zB,"minStartingVideoVMAF")],d.prototype,"kt",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.wl))],d);b.ZDa=d;},62907:function(r,b,a){var d,g,m,h,n,p,q,u,t,w,v,y;function c(x,z){this.jS=z;this.Rd=x.filter(function(A){return A.exa[p.vl.h0];}).map(function(A){return {track:A,stream:A.exa[p.vl.h0],id:A.$Va[p.vl.h0]};});}function l(x,z,A){var B;this.NH=z;this.kt=A;B=x[0];this.vX=B.streams.map(function(D){return {track:B,IT:D.Sab,stream:D};});}function f(x,z,A,B){function D(C,F){return C.bitrate > F.bitrate?C:F;}this.log=x;this.NH=A;this.jS=B;this.vX=z.map(function(C){var F;F=C.streams.reduce(D);return {track:C,IT:F.tk?F.tk.offset + F.tk.size:void 0,stream:F};});}function k(x,z,A,B,D,C){this.WKb=x;this.YKb=z;this.xVb=A;this.cvb=B;this.KT=D;this.Cf=C;this.la=C.Ua("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.lmb=b.tmb=b.zfb=b.EDa=void 0;r=a(70655);d=a(86700);g=a(50209);m=a(31383);h=a(68172);n=a(56003);p=a(56261);q=a(99494);u=a(51842);t=a(77174);w=a(71163);v=a(75183);y=a(18920);k.prototype.ph=function(x,z){var A,B,D,C,F,G;A=this;C=x.Fa;x=this.xGb(C,z);F=this.aKb(C,z);G=null !== (D=null === (B=C.aW) || void 0 === B?void 0:B.$N) && void 0 !== D?D:C.aO.find(function(E){var J;return E.id === (null === (J=C.n3) || void 0 === J?void 0:J[0].Cbb);}).cg;B=new c(C.aO,G);return Promise.all([x,F,B]).then(function(E){var J,M;J=la(E);E=J.next().value;M=J.next().value;J=J.next().value;E={audio:E.getMetadata(),video:M.getMetadata(),text:J.getMetadata(),nVa:E.mma(),EAb:J.mma(),duration:C.duration,sk:C.sk};M=A.cvb.OGb(E);z("h_s");return {LPb:A.xVb.transform(E,M),fvb:M,$1b:E};});};k.prototype.aKb=function(x,z){var A;A=new l(x.St,this.KT.x0a,this.KT.kt);return this.UVa(A.vX,y.v.X,z).then(function(B){A.sva(B);return A;});};k.prototype.xGb=function(x,z){var A,B,D,C;D=null !== (B=null === (A=x.aW) || void 0 === A?void 0:A.ap) && void 0 !== B?B:x.rs.find(function(F){var G;return F.id === (null === (G=x.n3) || void 0 === G?void 0:G[0].ap);}).cg;C=new f(this.la,x.rs,this.KT.Av,D);return this.UVa(C.vX,y.v.fa,z).then(function(F){C.sva(F);return C;});};k.prototype.isa=function(x,z,A,B){if(x=this.YKb.parse(z,x,A))return x;this.la.error("Failed to parse headers",{type:z === y.v.fa?"audio":"video",downloadableId:B.stream.Mm});};k.prototype.UVa=function(x,z,A){var B;B=this;return Promise.all(x.map(function(D,C){if(D.IT)return B.WKb.download({urls:D.stream.urls,offset:0,length:D.IT}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + C + "_s");return B.isa(F,z,z == y.v.fa?B.KT.Av:B.KT.wy,D);}).catch(function(){A("h_" + D.track.zh[0] + "_" + C + "_f");B.la.warn("Failed to download and parse headers for " + D.stream.Mm);});B.la.warn("Stream data offset is missing",{downloadableId:D.stream.Mm});}));};a=k;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.SDa)),r.__param(1,(0,d.l)(m.WDa)),r.__param(2,(0,d.l)(q.HDa)),r.__param(3,(0,d.l)(u.LAa)),r.__param(4,(0,d.l)(t.Sba)),r.__param(5,(0,d.l)(w.Xa))],a);b.EDa=a;f.prototype.sva=function(x){var z;z=this;if(!x.find(function(A){return void 0 !== A;}))throw n.Mc.Ceb(h.U.CEa,h.R.Cca);this.Rd=this.vX.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,Ka:B,NH:z.NH};}).filter(v.Uoa);};f.prototype.getMetadata=function(){return this.Rd;};f.prototype.mma=function(){var x,z;x=this;if(!this.Rd.find(function(A){return A.track.cg === x.jS;}) && 0 < this.Rd.length){z=this.Rd[0].track.cg;this.log.warn("Did not find metadata for audio track " + this.jS + ", falling back to " + z);return z;}return this.jS;};b.zfb=f;l.prototype.sva=function(x){var z,A;z=this;if(!x.find(function(B){return void 0 !== B;}))throw n.Mc.Ceb(h.U.CEa,h.R.Dca);A=this.vX.map(function(B,D){if(D=x[D])return {track:B.track,stream:B.stream,Ka:D,NH:z.NH};}).filter(v.Uoa);this.Rd=this.HIb(A);};l.prototype.getMetadata=function(){return this.Rd;};l.prototype.HIb=function(x){var z,A,B;z=this;x.sort(function(D){return D.stream.bitrate;});A=x.findIndex(function(D){var C;return (null !== (C=D.stream.zb) && void 0 !== C?C:0) >= z.kt;});if(-1 !== A && A !== x.length - 1){B=x[A];x.splice(A,1);x.push(B);}x.reverse();return x;};b.tmb=l;c.prototype.mma=function(){return this.jS;};c.prototype.getMetadata=function(){return this.Rd;};b.lmb=c;},93397:function(r,b,a){var l,f,k,d,g,m;function c(h){this.la=h.Ua("HLSPlaylistTransformerImpl");this.j6b=d.RY.Bq();this.Xsb=g.rba.Bq();}Object.defineProperty(b,"__esModule",{value:!0});b.GDa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(65853);d=a(73124);g=a(21973);m=[0,1];c.prototype.transform=function(h,n){var p,q,u,t,w,v,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=h.text;t=h.audio;w=h.video;v=h.duration;y=h.nVa;x=h.EAb;u.forEach(function(A){m.forEach(function(B){var D,C,F,G;D=0 === B;C=A.stream;F=A.track;G=n.get(A.id);D=D?G.SM:G.z9;C=p.MJb({url:D.url,duration:v / 1E3,size:C.size,Kl:"Manifest for subtitles " + F.language + ' stream "' + F.LB + '", ' + F.cg + ", cdn " + D.Ig});p.la.trace("Text variant manifest",C.join("\n"));B=p.NJb({groupId:B,name:F.LB,Goa:F.cg === x,Ym:F.Y5,FMb:F.zh === k.Eo.naa,language:F.language,uri:p.N6(C)});q.push(B);});});t.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,J;D=0 === B;C=A.stream;F=A.track;G=A.Ka;E=A.NH;J=n.get(C.Mm);D=D?J.SM:J.z9;C=p.OZa({url:D.url,IT:C.tk.offset + C.tk.size,Ka:G,Tbb:Math.floor(E / 1E3),Kl:"Manifest for audio " + F.language + ' stream "' + F.LB + '", ' + F.cg + ", cdn " + D.Ig});p.la.trace("Audio variant manifest",C.join("\n"));B=p.yGb({groupId:B,language:F.language,name:F.LB,Goa:F.cg === y,uri:p.N6(C)});q.push(B);});});z=this.Xsb[t[0].track.profile];w.forEach(function(A){m.forEach(function(B){var D,C,F,G,E,J;D=0 === B;C=A.stream;F=A.track;G=A.Ka;E=A.NH;J=n.get(C.Mm);J=D?J.SM:J.z9;D=0 < u.length;F=p.OZa({url:J.url,IT:C.tk?C.tk.offset + C.tk.size:C.Sab,Ka:G,Tbb:Math.floor(E / 1E3),Kl:"Manifest for video bitrate " + C.bitrate + ", stream " + F.cg + ", cdn " + J.Ig});p.la.trace("Video variant manifest",F.join("\n"));B=p.bKb({groupId:B,GR:1E3 * C.bitrate,jtb:1E3 * C.bitrate,kNb:0 <= C.GA.indexOf("-hdr-") || 0 <= C.GA.indexOf("-dv5-"),framerate:(C.eYa / C.dYa).toFixed(3),al:C.rua + "x" + C.D9a,c6b:p.j6b[C.GA],Msb:z,e3b:D});q.push(B);B=p.N6(F);q.push("" + B);});});this.la.trace("Primary manifest",q.join("\n"));return this.N6(q);};c.prototype.yGb=function(h){var n;n=h.Goa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + h.groupId + '"','CHANNELS="2"','LANGUAGE="' + h.language + '"','NAME="' + h.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + h.uri + '"'].join(", ");};c.prototype.OZa=function(h){var n,p;n=h.Ka;p=["#EXTM3U","# " + h.Kl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + h.Tbb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + n[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];n.forEach(function(q,u){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.bb.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.hub + "@" + q.byteOffset);p.push("{$U}&fi=" + u);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.bKb=function(h){var n,p;n=h.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + h.GR,"AVERAGE-BANDWIDTH=" + h.jtb,"VIDEO-RANGE=" + (h.kNb?"PQ":"SDR"),"FRAME-RATE=" + h.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + h.al,'CODECS="' + h.c6b + "," + h.Msb + '"'];h.e3b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.MJb=function(h){var n;n=h.duration;return ["#EXTM3U","# " + h.Kl,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + h.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.NJb=function(h){var n,p,q;n=h.Goa;p=h.language;q=h.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + h.groupId + '"','NAME="' + h.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (h.Ym?"YES":"NO")];h.FMb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.N6=function(h){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(h.join("\n"));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa))],a);b.GDa=a;},17602:function(r,b,a){var l,f,k,d;function c(g,m){this.lLb=g;this.log=m.Ua("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(2381);d=a(5485);c.prototype.download=function(g){var h,n,p,q,u;function m(t){if(u < n.length - 1)return (!1,u++,h.WVa(n[u].url,p,q).catch(m));throw t;}h=this;n=g.urls;p=g.offset;q=g.length;u=0;return this.WVa(n[u].url,p,q).catch(m);};c.prototype.WVa=function(g,m,h){return this.lLb.download({url:g,withCredentials:!1,responseType:d.ResponseType.Sfb,PA:"hls_headers",Cr:!0,offset:m,length:h,nr:d.JP},{t4a:1});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.bEa)),r.__param(1,(0,l.l)(f.Xa))],a);b.RDa=a;},80688:function(r,b,a){var l,f,k;function c(d){this.la=d.Ua("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.VDa=void 0;r=a(70655);l=a(86700);f=a(86393);a=a(71163);c.prototype.parse=function(d,g,m){d=new f.Co(this.la,{mediaType:d},g,["sidx"]).parse();if(d.ot && d.Ka)return this.$ga(d.Ka,m);};c.prototype.$ga=function(d,g){var m,h,n,p,q;m=0;h=0;n=0;p=d.offset;q=[];d.kf.forEach(function(u,t){h+=u;n+=d.sizes[t];if(1E3 * h / d.S >= g || t === d.kf.length - 1)(q.push({duration:h / d.S,bb:m / d.S,byteOffset:p,hub:n}),m+=h,h=0,p+=n,n=0);});return q;};k=c;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],k);b.VDa=k;},89043:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t){this.Cf=n;this.ny=p;this.Of=q;this.uc=u;this.Ea=t;}Object.defineProperty(b,"__esModule",{value:!0});b.sP=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(71163);d=a(14959);g=a(95114);m=a(91022);h=a(94139);c.prototype.create=function(n){return new h.uP(this.Cf,this.ny,this.Of,this.Ea,this.uc,n);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.Xa)),r.__param(1,(0,l.l)(m.Cw)),r.__param(2,(0,l.l)(d.pl)),r.__param(3,(0,l.l)(g.rca)),r.__param(4,(0,l.l)(f.Jc))],a);b.sP=a;},94139:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t,w){var v;v=this;this.ny=p;this.Of=q;this.Ea=u;this.uc=t;this.Eqa=this.AB=this.iW=0;this.kG=!1;this.vy=function(){var y;y=v.IV();y.prstate=v.Wx();y.paustate=v.j.dt();y.midplayseq=v.Eqa++;v.uc.DL(y);v.vc(l.Ec.vy,void 0,h.Jd | h.Sr,y);};this.Fh=function(){v.vc(l.Ec.aSa,void 0,h.Jd | h.yo,{});};this.kl=function(y){v.qpa=v.getTime();v.rpa=y.oldValue;};this.BR=function(y){v.jpa=y.oldValue;};this.m8=function(y){y != v.kG && (v.iwa(v.kG,y),v.kG=y);};this.iwa=function(y,x){var z;z=v.j.Ca;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};v.uc.up(y,z.Td.value && z.Td.value.stream,z.rf.value && z.rf.value.stream);v.vc(l.Ec.WW,void 0,h.Jd,y);};this.RW=function(y){v.vc(l.Ec.Qab,void 0,h.Jd,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.az=function(y){var x,z,A;x=v.j.Ca;z=x.wb.value;if(y.newValue || z && z.Wn() && !z.Ym()){A=(y=null !== (A=y.newValue) && void 0 !== A?A:z)?{trackId:y.trackId,bcp47:y.re,downloadableId:y.Vb,rank:y.ec,isImageBased:y.ik}:{};y=(y=v.rpa)?{trackId:y.trackId,bcp47:y.re,downloadableId:y.Vb,rank:y.ec,isImageBased:y.ik}:{};A={switchdelay:(0,f.$f)(v.getTime() - v.qpa),track:A,oldtrack:y};v.uc.up(A,x.Td.value && x.Td.value.stream,x.rf.value && x.rf.value.stream);v.vc(l.Ec.ncb,void 0,h.Jd,A);}};this.Dsa=function(y,x){var z;z=v.j.Ca;y={waittime:(0,f.$f)(y),abortedevent:"resumeplay",resumeplayreason:x};v.uc.up(y,z.Oe.value,z.Qg.value);v.vc(l.Ec.JM,void 0,h.Jd | h.yo,y);};this.Ct=function(y,x,z){y={playdelay:(0,f.$f)(y),reason:z,intrplayseq:v.AB - 1,skipped:x};"repos" === z && (y.prstate=!0 === v.j.vi.value?"playing":"paused");v.vc(l.Ec.Ct,void 0,h.Jd | h.Qr,y);};this.Dha=function(){var y,x,z,A;x=v.j.Ca.tc.value;z=v.j.Ca.Qg.value.Vb;x=x?{trackId:x.trackId,bcp47:x.re,downloadableId:z,rank:x.ec,chan:x.channels}:{};z=v.jy;A=null === (y=v.jpa) || void 0 === y?void 0:y.Vb;y=z?{trackId:z.trackId,bcp47:z.re,downloadableId:A,rank:z.ec,chan:z.channels}:{};v.vc(l.Ec.IRa,void 0,h.Jd,{switchdelay:(0,f.$f)(v.getTime() - v.kpa),track:x,oldtrack:y});};this.Fl=function(y){v.kpa=v.getTime();v.jy=y.oldValue;};this.Esa=function(){var y,x,z;y=v.j.Ca;x={abortedevent:"startplay",trackid:y.Pj,prstate:v.Wx(),paustate:v.j.dt()};try{z=(0,k.LF)();z && (x.pdltime=z);(0,f.Sd)(x,y.Vc,{prefix:"sm_"});}catch(A){}v.uc.D5(x,y);v.uc.EL(x,!1,y.Mg.value,y);v.uc.up(x,y.Oe.value,y.Qg.value);v.XF(x);v.vc(l.Ec.JM,void 0,h.Jd | h.Sr | h.yo,x);};this.wx=function(y,x,z,A){y={moff:(0,f.Ol)(z),moffms:(0,f.$f)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Vb,vdlidold:y.Vb,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:A};v.vc(l.Ec.wx,void 0,0,y);};this.vC=function(y,x,z){y={moffold:(0,f.Ol)(y),reposseq:v.iW++,prstate:v.Wx(),paustate:v.j.dt()};v.uc.up(y,z && z.stream,x && x.stream);v.vc(l.Ec.vC,void 0,h.Jd,y);};this.vr=function(y){var x,z,A,B,D;B=y.Ca;D={playdelaysdk:(0,f.$f)(v.j.OR()),applicationPlaydelay:(0,f.$f)(v.j.kia()),playdelay:(0,f.$f)(v.j.lia()),trackid:B.Pj,bookmark:(0,f.$f)(B.Gl || 0),pbnum:B.index};v.j.Fh && (D.blocked=v.j.Fh);D.initvbitrate=v.j.TT;v.uc.ioa(D);v.uc.O0a(D);D.esnSource=null === (x=qb._cad_global.device) || void 0 === x?void 0:x.Q3;v.V0a(D,B);D.pdltime=(0,k.LF)();(0,f.Sd)(D,B.Vc,{prefix:"sm_"});D.ttTrackFields=null === (z=B.wb.value) || void 0 === z?void 0:z.zg;v.uc.K0a(D,B.tc.value,B);v.uc.EL(D,!0,B.Mg.value,B);D.packageId=null === (A=B.W) || void 0 === A?void 0:A.Fa.en;v.uc.DL(D);v.uc.D5(D,B);v.XF(D);v.vc(l.Ec.vr,y.rh,h.Jd | h.Qr | h.Sr | h.bD | h.yo,D);};this.Nx=function(){var y,x,z;y=v.j;x=y.Ca;y=y.rh;z=v.IV();z.paustate=!v.j.FB();z.muted=v.j.Noa();z.endreason=y?"error":v.j.Ioa()?"ended":"stopped";v.uc.EL(z,!1,x.Mg.value,x);v.uc.DL(z);v.XF(z);v.vc(l.Ec.Nx,y,h.Jd | h.Qr | h.Sr | h.bD | h.yo,z);};this.Zta=function(y,x,z){var A;A=v.j.Ca.rf;y={moff:(0,f.Ol)(z),moffms:(0,f.$f)(z),vdlidold:y.Vb,vbitrateold:y.bitrate};v.uc.up(y,x,A.value && A.value.stream);v.vc(l.Ec.fW,void 0,0,y);};this.Wx=function(){var y;y=v.j.lb.value;return y === g.cb.me?"playing":y === g.cb.Wh?"paused":y === g.cb.cq?"ended":"waiting";};this.la=n.Ua("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.uP=void 0;l=a(63563);f=a(30818);k=a(24133);d=a(68172);g=a(34202);m=a(2467);c.prototype.getTime=function(){return this.Ea.Fb().ba(m.na);};c.prototype.fna=function(){return this.getTime() - this.j.Ca.Qh.ba(m.na);};c.prototype.V0a=function(n,p){var q;if(p=null === (q=p.Mg.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,k.EO)(p.map(function(u){return u.bitrate;})),n.maxresheight=(0,k.EO)(p.map(function(u){return u.height;})));};c.prototype.XF=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.IV=function(){var n,p,q,u;n=this.j.Ca;p=n.Vk;q={totaltime:(0,f.Ol)(p.pp()),totalcontenttime:(0,f.Ol)(p.zT()),reposcount:this.iW,intrplaycount:this.AB};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=n.Oe.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.dma()) && (q.abrdel=u);(u=p.t5() && p.yYa()) && (q.tw_vmaf=u);(p=p.wYa()) && (0,f.Sd)(q,p);q.rbfrs=this.AB;this.V0a(q,n);return q;};c.prototype.vc=function(n,p,q,u){var t,w,v;t=this;p && (0,d.YY)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.xa,this.fna(),void 0) && (w="info");v=this.j.Ca;this.Dga(u,p,q);p=w || (p?"error":"info");u=this.ny.As(n,p,u,v);this.Of.vc(u);"error" !== p && n !== l.Ec.Nx || this.Of.flush(!1).catch(function(){t.la.debug("Failed to flush the logblobs");});};c.prototype.Dga=function(n,p,q){var u;u=this.j.Ca;this.uc.N0a(n,u);q & h.Jd && this.uc.R0a(n,u,!1);q & h.Qr && this.uc.T0a(n,u);q & h.Sr && this.uc.U0a(n,this.j.Tm());p && q & h.bD && this.uc.P0a(n,u,p);q & h.yo && this.uc.ioa(n);};b.uP=c;(function(n){n[n.Jd=1]="MOFF";n[n.Qr=2]="PRESENTEDSTREAMS";n[n.Sr=4]="SCREEN";n[n.bD=8]="FATALERROR";n[n.yo=16]="BROWSERINFO";})(h || (h={}));},89869:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p,q,u,t){this.Of=n;this.config=p;this.qa=q;this.Ea=u;this.Npa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.vP=void 0;r=a(70655);l=a(86700);f=a(58998);k=a(35664);d=a(17244);g=a(14959);m=a(88693);h=a(72342);c.prototype.create=function(n){return new h.xP(n,this.Of,this.config,this.Ea,this.Npa.create(n));};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.pl)),r.__param(1,(0,l.l)(d.ac)),r.__param(2,(0,l.l)(k.gg)),r.__param(3,(0,l.l)(f.Jc)),r.__param(4,(0,l.l)(m.tP))],a);b.vP=a;},72342:function(r,b,a){var l,f,k;function c(d,g,m,h,n){var p;p=this;this.j=d;this.Of=g;this.config=m;this.Ea=h;this.eb=n;this.RR=function(){p.tg();p.j.Ca.Zh.removeListener(p.az);p.j.Ca.wb.removeListener(p.eb.kl);p.j.Ca.tc.removeListener(p.Fl);p.j.Ca.Qg.removeListener(p.eb.BR);p.j.vi.removeListener(p.C7a);p.j.jN.removeListener(p.Ej);p.j.Ca.Td.removeListener(p.QV);p.j.lb.removeListener(p.Xu);p.j.lb.removeListener(p.hK);p.j.Ca.Oe.removeListener(p.OX);p.j.Ca.playbackRate.removeListener(p.eb.RW);p.j.removeEventListener(k.Ja.closed,p.RR);p.j.removeEventListener(k.Ja.j2,p.eb.Fh);};this.hK=function(){p.j.lb.value === k.cb.me && (p.j.lb.removeListener(p.hK),p.st());};this.az=function(q){p.Hp && p.eb.az(q);};this.Ej=function(q){p.Hp && void 0 !== q.newValue && (p.kr && p.wo && p.eb.Dsa(p.getTime() - p.wo,p.kr),p.kr="repos",p.eb.vC(q.newValue,p.j.Ca.rf.value,p.j.Ca.Td.value),p.wo=p.getTime(),(0,f.Lf)(p.Xu));};this.C7a=function(q){p.Hp && p.eb.m8(!q.newValue);};this.Fl=function(q){q.oldValue && (p.jy=q.oldValue,p.eb.Fl(q),p.kr="repos",p.wo=p.getTime(),(0,f.Lf)(p.Xu));};this.Xu=function(){var q;if(p.wo && p.j.lb.value !== k.cb.Ef){q=p.getTime() - p.wo;p.eb.Ct(q,!1,p.kr);p.jy && p.jy != p.j.Ca.tc.value && p.eb.Dha();p.wo=void 0;p.kr=void 0;}};this.st=function(){p.Hp || (p.Hp=!0,p.eb.vr(p.j),p.roa(),p.config().L5 && (p.dy=qb.setTimeout(function(){p.Of.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.dy=void 0;},p.config().L5)));};this.tg=function(){p.dy && (qb.clearTimeout(p.dy),p.dy=void 0);p.CX && p.CX();p.Hp?p.eb.Nx():p.j.rh?p.eb.vr(p.j):p.eb.Esa();};this.OX=function(q){q.oldValue && q.Hh && q.Hh.OE && p.eb.wx(q.oldValue,q.newValue,q.Hh.OE,q.Hh.GR);};this.QV=function(q){var u;if(q.newValue){u=q.newValue.stream;p.lG != u && (p.lG && u && p.eb.Zta(p.lG,u,q.newValue.iK.startTime),p.lG=u);}};this.c$();}Object.defineProperty(b,"__esModule",{value:!0});b.xP=void 0;l=a(2467);f=a(66052);k=a(34202);c.prototype.c$=function(){this.j.addEventListener(k.Ja.closed,this.RR);this.j.addEventListener(k.Ja.j2,this.eb.Fh);this.j.Ca.Zh.addListener(this.az);this.j.Ca.wb.addListener(this.eb.kl);this.j.Ca.tc.addListener(this.Fl);this.j.Ca.Qg.addListener(this.eb.BR);this.j.vi.addListener(this.C7a);this.j.jN.addListener(this.Ej);this.j.Ca.Td.addListener(this.QV);this.j.lb.addListener(this.Xu);this.j.lb.addListener(this.hK);this.j.Ca.Oe.addListener(this.OX);this.j.Ca.playbackRate.addListener(this.eb.RW);};c.prototype.getTime=function(){return this.Ea.Fb().ba(l.na);};c.prototype.roa=function(){var d,g,m;d=this;m=[];this.config().L4a && (this.config().M4a.forEach(function(h){m.push(qb.setTimeout(d.eb.vy,h));}),this.config().i7 && (g=qb.setInterval(this.eb.vy,this.config().i7)),this.CX=function(){m.forEach(function(h){qb.clearTimeout(h);});g && qb.clearInterval(g);});};b.xP=c;},83250:function(r,b,a){var l,f,k,d,g;function c(m,h){var p;function n(){p.qsa.then(function(q){p.la.trace("Unloading PBO Playdata Services");q.close();});d.he.removeListener(d.Nk,n);}p=this;this.$6a=h;this.qsa=h();this.la=m.Ua("PlayerPlaydataMonitorImpl");d.he.addListener(d.Nk,n);}Object.defineProperty(b,"__esModule",{value:!0});b.TJa=void 0;r=a(70655);l=a(86700);f=a(71163);k=a(12496);d=a(25892);g=a(34202);c.prototype.Oj=function(m,h){this.qsa.then(function(n){n.Oj(h,!0,function(p){return m.close(p);});n.gwa(h);m.addEventListener(g.Ja.Ssa,function(){m.FB() && n.w$a(h).catch(function(p){(p=p.KM) && m.close(p);});});m.addEventListener(g.Ja.kl,function(){n.H9(h).catch(function(p){(p=p.KM) && m.close(p);});});m.addEventListener(g.Ja.Fl,function(){n.H9(h).catch(function(p){(p=p.KM) && m.close(p);});});});};c.prototype.XW=function(m){return this.qsa.then(function(h){h.ebb();return h.XW(m).catch();});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.Xa)),r.__param(1,(0,l.l)(k.OP))],a);b.TJa=a;},83443:function(r,b,a){var l,f,k,d;function c(g){this.Cqa={};this.G5={};this.r6=-1;this.uwa=new k.Ib(null);this.Xsa=new k.Ib(null);this.la=g.Ua("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.cMa=void 0;r=a(70655);l=a(86700);f=a(91854);k=a(14414);a=a(71163);c.prototype.va=function(g,m,h){var n;n=this;g.forEach(function(p){p.stream.urls.forEach(function(q){n.Cqa[q.url]=[p,q.Ig];});});this.$ja=m;this.AAb=h;new PerformanceObserver(function(p){n.S4b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.L$a=function(g){var m,h,n;if(this.$ja){h=this.K4(g);if(h !== this.r6){for(this.r6=h;0 <= h && !this.G5[h];){h--;}n=la(null !== (m=this.G5[h]) && void 0 !== m?m:[this.$ja,this.AAb]);m=n.next().value;n=n.next().value;this.la.debug("Setting time to " + g + ", using metadata from fragment " + h + " for " + ((0,f.wG)(m.track.type) + " track with bitrate ") + (m.stream.bitrate + " from cdn " + n));g=m.Ka[this.r6];h=g.bb;this.Xsa.set({stream:m,iK:{startTime:Math.floor(1E3 * h),endTime:Math.floor(1E3 * (h + g.duration))},Fm:n});}}};c.prototype.K4=function(g){var m,h,n,p,q;m=this.$ja.Ka;g/=1E3;h=0;n=m.length - 1;if(g >= m[n].bb)return n;for(;n >= h;){p=h + Math.floor((n - h) / 2);q=m[p];if(g < q.bb)n=p - 1;else if(g >= q.bb + q.duration)h=p + 1;else return p;}return m.length - 1;};c.prototype.S4b=function(g){var m;m=this;g.filter(function(h){return "video" === h.initiatorType;}).forEach(function(h){var n,p,q;n=h.name.indexOf("&fi=");if(0 < n){p=h.name.substring(0,n);n=Number(h.name.substring(n + 4));if(m.Cqa[p]){q=la(m.Cqa[p]);h=q.next().value;q=q.next().value;p && !Number.isNaN(n) && h && (m.G5[n] && (m.r6=-1),m.G5[n]=[h,q],p=h.Ka[n].bb,!1,m.uwa.set(h,{OE:Math.floor(1E3 * p),Fm:q}));}}});};d=c;d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Xa))],d);b.cMa=d;},24631:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w;function c(v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K){var H,N,R;H=this;this.KV=y;this.ay=x;this.Ea=z;this.Oh=A;this.Eb=B;this.IU=D;this.wVb=C;this.q7a=F;this.Y$=G;this.f2=E;this.qa=J;this.$L=M;this.config=L;this.uA=I;this.u=P;this.vh=K;this.yU=new n.Ib(!0);this.vi=new n.Ib(!1);this.sr=new n.Ib(!1);this.ended=new n.Ib(!1);this.v2=new n.Ib(0);this.lb=new n.Ib(l.cb.Ef);this.jN=new n.Ib(void 0);this.loaded=this.UW=this.closed=!1;this.T7a=function(Y,ma){return function(ia){var ja,Ca,Ba,Ka,Va;ja=ia.newValue;Ca=ja.Fm;ia=ja.iK;Ba=ja.stream;ja=Y.value;Ka=ja.streams.find(function(db){return db.bitrate === Ba.stream.bitrate;});Va=H.Ca.sg.find(function(db){return db.id === Ca;});H.log.info("Presenting " + Ka.type + " request with bitrate " + Ka.bitrate + ", track " + (ja.trackId + " [" + ia.startTime + "..." + ia.endTime + "]"));ma.set({stream:Ka,iK:ia,Ac:Va});};};this.sbb=function(Y,ma,ia){return function(ja){var Ca,Ba;Ca=Y.value;Ba=Ca.streams.find(function(Ka){return Ka.bitrate === ja.newValue.stream.bitrate;});H.log.info("Streaming " + Ba.type + " stream with bitrate " + Ba.bitrate + ", track " + Ca.trackId);ma.set(Ba,{OE:ja.Hh.OE,GR:void 0});Ca=H.Ca.sg.filter(function(Ka){return Ka.id === ja.Hh.Fm;})[0];ia.set(Ca);};};this.KXa=new Set();this.log=v.Ua("HLSVideoPlayer");this.$=(0,f.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.$.playsInline=this.config.D7a;this.Ca=this.KV(k.Iz.index++,P.O,P.id,null !== (N=P.nb) && void 0 !== N?N:{},this.ay.IA(),this.Ea.Fb(),!1,void 0,function(){return H.Jq();});this.Ca.mediaTime.set(null !== (R=this.Ca.Gl) && void 0 !== R?R:0);this.jI();this.fob=this.$L.create(this);this.fob;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.lNa=void 0;l=a(34202);f=a(24133);k=a(58680);d=a(93);g=a(41047);m=a(68172);h=a(3971);n=a(14414);p=a(2467);q=a(95919);u=a(56170);t=a(30818);w=a(18920);c.prototype.J2b=function(){return !!this.$.canPlayType && ("" !== this.$.canPlayType("application/vnd.apple.mpegURL") || "" !== this.$.canPlayType("audio/mpegurl"));};c.prototype.jI=function(){var v;v=this;this.$.addEventListener("loadedmetadata",function(){v.kb(l.Ja.r3a);v.kb(l.Ja.q3a);v.kb(l.Ja.Fl);v.kb(l.Ja.g2);v.kb(l.Ja.kl);v.kb(l.Ja.Mt);});this.$.addEventListener("error",function(y){y=v.vh(m.U.fIa,y);v.close(y);});this.$.addEventListener("timeupdate",function(){v.ended.set(!1);v.Ca.mediaTime.set(v.Jq());v.fka();v.kb(l.Ja.In);v.kb(l.Ja.adb);});this.$.addEventListener("durationchange",function(){v.kb(l.Ja.vka);});this.$.addEventListener("resize",function(){v.kb(l.Ja.Mxa);});this.$.addEventListener("playing",function(){v.fka();v.sr.set(!1);v.vi.set(!0);v.ended.set(!1);v.lb.set(l.cb.me);});this.$.addEventListener("pause",function(){v.vi.set(!1);v.sr.set(!1);v.lb.set(l.cb.Wh);});this.$.addEventListener("waiting",function(){v.lb.set(l.cb.Ef);});this.$.addEventListener("stalled",function(){v.sr.set(!0);});this.$.addEventListener("seeking",function(){v.sr.set(!1);v.jN.set(v.Ca.mediaTime.value);v.lb.set(l.cb.Ef);});this.$.addEventListener("seeked",function(){void 0 !== v.jN.value && (v.Ca.Vk.nra(v.jN.value,v.Jq()),v.jN.set(void 0));v.lb.set(v.FB()?l.cb.me:l.cb.Wh);});this.$.addEventListener("progress",function(){v.kb(l.Ja.s2);v.K4b();});this.$.addEventListener("ended",function(){v.lb.set(l.cb.cq);v.sr.set(!1);v.vi.set(!1);v.ended.set(!0);});this.$.addEventListener("volumechange",function(){v.kb(l.Ja.peb);v.kb(l.Ja.m5a);});this.vi.addListener(function(){v.kb(l.Ja.Ssa);v.kb(l.Ja.Y6a);v.hK();});this.v2.addListener(function(){v.kb(l.Ja.bK);});this.sr.addListener(function(){v.kb(l.Ja.bK);});this.yU.addListener(function(){v.hK();});this.ended.addListener(function(){v.kb(l.Ja.OWa);});this.Ca.playbackRate.addListener(function(y){v.$.playbackRate=y.newValue;});};c.prototype.hK=function(){!this.FB() || this.yU.value || this.UW || this.LRa || (this.UW=!0,this.Ca.ey=this.qa.uH,this.q7a.Oj(this,this.Ca));};c.prototype.OR=function(){return this.JV - (this.Ca.Qh.ba(p.na) + this.Ea.my.ba(p.na));};c.prototype.yF=function(){var v;v=this.Ca.Wa.OC;return (0,q.tb)(v)?v:this.Ca.Qh.ba(p.na) + this.Ea.my.ba(p.na);};c.prototype.kia=function(){return this.qa.fe.ba(p.na) - this.yF();};c.prototype.lia=function(){return this.JV - this.yF();};c.prototype.K4b=function(){var v;v=this.$.readyState <= h.om.fP.HAVE_METADATA?0:this.$.readyState <= h.om.fP.HAVE_CURRENT_DATA?.5:1;1 === v && (this.JV=this.qa.fe.ba(p.na),this.yU.set(!1),this.xla(l.Ja.loaded));this.v2.set(v);};c.prototype.fka=function(){var v;v=this.Jq();this.Y$.L$a(v);this.f2.L$a(v);};c.prototype.DW=function(){var v;v=this;this.Ca.ke("ats");return this.Oh.Vx({ma:this.Ca.ma,Wa:this.Ca.Wa,J:this.Ca.O,Hq:d.ql.O_,pf:g.Bh.pm}).then(function(y){var z;function x(A){var B;B=A;A && A.Wn() && !A.Ym() && (B=null);v.Ca.Zh.set(B);}v.Ca.ke("at");z=v.IU.create({}).T6a(y);v.Ca.W=y;v.Ca.zc=z;v.$.audioTracks.addEventListener("addtrack",function(){v.ydb(v.Ca.tc.value);});v.$.audioTracks.addEventListener("change",function(){for(var A,B,D={},C=la(v.$.audioTracks),F=C.next();!F.done;(D={zO:D.zO},F=C.next())){D.zO=F.value;D.zO.enabled && D.zO.label !== (null === (A=v.Ca.tc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=v.Ca.bi.find((function(G){return function(E){return E.displayName === G.zO.label;};})(D))) && void 0 !== B?B:null,v.Ca.tc.set(F));}});v.Ca.tc.addListener(function(A){v.ydb(A.newValue);v.kb(l.Ja.Fl);v.kb(l.Ja.Mt);});v.$.textTracks.addEventListener("addtrack",function(){v.zdb(v.Ca.wb.value);});v.$.textTracks.addEventListener("change",function(){var G;for(var A,B,D=v.$.textTracks,C={},F=0;F < D.length;(C={AO:C.AO},F++)){if((C.AO=D[F],"showing" === C.AO.mode && C.AO.label !== (null === (A=v.Ca.wb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=v.Ca.bh.find((function(E){return function(J){return J.displayName === E.AO.label;};})(C))) && void 0 !== B?B:null;v.Ca.wb.set(G);x(G);}}});v.Ca.wb.set(z.iS);x(z.iS);v.Ca.wb.addListener(function(A){v.zdb(A.newValue);v.kb(l.Ja.kl);});return v.wVb.ph(y,function(A){return v.Ca.ke(A);});}).then(function(y){var x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H;x=y.LPb;z=y.fvb;y=y.$1b;A=y.audio;B=y.nVa;D=y.video;C=v.Ca;F=C.Qg;G=C.tc;E=C.bi;J=C.Oe;M=C.Mg;y=C.Gl;L=C.Td;I=C.rf;P=C.Vk;C=C.zc;C.bi=E.filter(function(N){return A.find(function(R){return R.track.cg === N.trackId;});});M.set(C.o3);G.set(E.find(function(N){return N.trackId === B;}));C=D[0];K=C.stream;E=A.find(function(N){return N.track.cg === B;});H=E.stream;v.TT=K.bitrate;v.Y$.Xsa.addListener(v.T7a(M,L));v.Y$.uwa.addListener(v.sbb(M,J,v.Ca.Ac[w.v.X]));J=z.get(K.Mm).SM.Ig;v.Y$.va(D,C,J);v.f2.Xsa.addListener(v.T7a(G,I));v.f2.uwa.addListener(v.sbb(G,F,v.Ca.Ac[w.v.fa]));z=z.get(H.Mm).SM.Ig;v.f2.va(A,E,z);v.$.src=x;v.$.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;v.$.load();P.nra(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.ve)(y);v.log.error("uncaught exception",y,z);}v.close(v.vh(null !== (x=y.code) && void 0 !== x?x:m.U.VMa,y));});};c.prototype.zdb=function(v){var z;for(var y=this.$.textTracks,x=0;x < y.length;x++){z=y[x];z.label === v.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== v.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.ydb=function(v){for(var y=la(this.$.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== v.displayName || x.enabled || (!1,x.enabled=!0);x.label !== v.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.On=function(){};c.prototype.Ql=function(){};c.prototype.Jq=function(){return Math.floor(1E3 * this.$.currentTime);};c.prototype.A4=function(){return this.Jq();};c.prototype.gL=function(){return this.Jq();};c.prototype.kma=function(){return Math.floor(1E3 * this.$.duration);};c.prototype.QZa=function(){return this.u.O;};c.prototype.Ss=function(){return this.Ca.ma;};c.prototype.Tm=function(){return this.$;};c.prototype.rv=function(){return null === this.sh();};c.prototype.FB=function(){return this.vi.value;};c.prototype.dt=function(){return !this.vi.value;};c.prototype.Ioa=function(){return this.$.ended;};c.prototype.sh=function(){return 1 !== this.v2.value?{stalled:this.sr.value,progress:this.v2.value,progressRollback:!1}:null;};c.prototype.getError=function(){var v,y;return null !== (y=null === (v=this.rh) || void 0 === v?void 0:v.tX()) && void 0 !== y?y:null;};c.prototype.EYa=function(){return 1 === this.$.buffered.length?1E3 * this.$.buffered.end(0):null;};c.prototype.L_a=function(){return {width:this.$.videoWidth,height:this.$.videoHeight};};c.prototype.Noa=function(){return this.$.muted;};c.prototype.M_a=function(){return this.$.volume;};c.prototype.Y$a=function(v){this.$.muted=v;};c.prototype.kab=function(v){this.$.volume=v;};c.prototype.addEventListener=function(v,y,x){this.Eb.addListener(v,y,x);};c.prototype.removeEventListener=function(v,y){this.Eb.removeListener(v,y);};c.prototype.load=function(){var v;v=this;this.loaded || (this.loaded=!0,this.uA.xU(function(y){v.J2b()?y.ha?v.DW():v.close(v.vh(y.errorCode || m.U.Yba,y)):v.close(v.vh(m.U.lib));}));};c.prototype.close=function(v){if(this.closed)return Promise.resolve();this.Ca.mediaTime.set(this.Jq());this.fka();this.Ca.ZR=this.A4();this.closed=!0;this.$.removeAttribute("src");this.$.load();null === v || void 0 === v?void 0:v.$$a(!this.yU.value);(this.rh=v) && this.kb(l.Ja.error,v.tX());this.kb(l.Ja.closed);return this.q7a.XW(this.Ca);};c.prototype.play=function(){var v,y;v=this;y=this.$.play();this.LRa=!1;y && y.then(function(){v.xla(l.Ja.MRa);}).catch(function(x){v.kb(l.Ja.bK);"NotAllowedError" === x.name && (v.log.warn("Playback is blocked by the browser settings",x),v.LRa=!0,v.Fh=!0,v.xla(l.Ja.j2,{player:{play:function(){return v.play();}}}));});};c.prototype.kb=function(v,y,x){y=y || ({});y.target=this;this.Eb.Dc(v,y,!x);};c.prototype.xla=function(v,y){this.KXa.has(v) || (this.KXa.add(v),this.kb(v,y,void 0));};c.prototype.pause=function(){this.$.pause();};c.prototype.X6a=function(){this.pause();};c.prototype.seek=function(v){this.$.currentTime=v / 1E3;};c.prototype.X0a=function(v){this.close(this.vh(m.U.vCa,m.R.Go,v));};c.prototype.pL=function(){return this.Ca.playbackRate.value;};c.prototype.O9=function(v){this.Ca.playbackRate.set(v);};c.prototype.uYa=function(){var v;v=this;return this.Ca.bi.map(function(y){return v.qp(y);});};c.prototype.qna=function(v){var y;y=this;return this.tT(v).map(function(x){return y.qp(x);});};c.prototype.tYa=function(){var v;v=this.Ca.tc.value;return v && this.qp(v);};c.prototype.pna=function(){var v;v=this.Ca.wb.value;return v && this.qp(v);};c.prototype.I$a=function(v){if((v=this.MS(v)) && v.xg)return (this.Ca.tc.set(v),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Dva=function(v){var y,x;y=this;x=this.Ca.bh.find(function(z){return y.qp(z) === v;});if(x && x.xg)return (this.Ca.wb.set(x),this.Ca.Zh.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.KZa=function(){var v;return this.kT(this.Ca.bi,null === (v=this.Ca.W) || void 0 === v?void 0:v.Fa.q4a);};c.prototype.Hma=function(v){var y;return this.kT(this.tT(v),null === (y=this.Ca.W) || void 0 === y?void 0:y.Fa.r4a);};c.prototype.qp=function(v){var y;y=v.vta=v.vta || ({trackId:v.trackId,bcp47:v.re,displayName:v.displayName,trackType:v.zh,rawTrackType:v.uC,channels:v.channels});this.Roa(v) && (y.isNative=v.isNative,y.surroundFormatLabel=v.dX);this.Soa(v) && (y.isNoneTrack=v.Wn(),y.isForcedNarrative=v.Ym(),y.isImageBased=v.ik);y.subType=v.JH;y.variant=v.variant;return y;};c.prototype.Roa=function(v){return "undefined" !== typeof v.isNative;};c.prototype.Soa=function(v){return "undefined" !== typeof v.Wn && "undefined" !== typeof v.Ym;};c.prototype.MS=function(v){var y;y=this;return v && this.Ca.bi.find(function(x){return y.qp(x) === v;});};c.prototype.tT=function(v){var y;v=this.MS(v) || this.Ca.tc.value;return null !== (y=null === v || void 0 === v?void 0:v.bh) && void 0 !== y?y:[];};c.prototype.kT=function(v,y){var x;x=v.length - 1;if("number" !== typeof y)return x;v=v.findIndex(function(z){return z.ec > y;});return -1 === v?x:v - 1;};c.prototype.J$=function(v){this.Ca.Wa=(0,u.h7)(this.Ca.Wa,v);};c.prototype.fi=function(v){if(v !== this.Ca.I)throw (!1,Error("Unknown segmentId " + v));return this.Ca;};c.prototype.a_a=function(){return this.Ca.Wa;};c.prototype.Pga=function(){!1;};c.prototype.Ev=function(){!1;};c.prototype.HG=function(){!1;};c.prototype.DT=function(){!1;return Promise.reject();};c.prototype.gna=function(){return {};};c.prototype.B4=function(){};c.prototype.rYa=function(){return {};};c.prototype.rva=function(){};c.prototype.KN=function(){};c.prototype.B1a=function(){return !1;};c.prototype.YYa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.NK=function(){!1;return Promise.resolve({success:!0});};c.prototype.H_a=function(){!1;};c.prototype.yT=function(){!1;};c.prototype.DN=function(){!1;};c.prototype.Hva=function(){!1;};c.prototype.n3a=function(){!1;};c.prototype.kYa=function(){!1;return Promise.reject();};c.prototype.n7a=function(){!1;return Promise.reject();};c.prototype.s8a=function(){!1;return Promise.reject();};c.prototype.cj=function(){!1;return Promise.reject();};c.prototype.$G=function(){!1;};b.lNa=c;},88790:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p,q,u,t,w,v,y,x,z,A,B,D,C){var F;F=this;this.Yd=h;this.ub=n;this.Eb=q;this.ut=t;this.VR=w;this.lYa=v;this.config=x;this.vh=A;this.u=B;this.j=z.create(B.O,B.Qh,y,D,C,B.nb,B.id,B.W);this.j.background.set(!0);this.log=p.Ua("VideoPlayer",this.j);this.a7a=[];this.ended=!1;this.jI();this.j.state.addListener(function(G){G.newValue === f.Ub.$d && F.kb(f.Ja.Xoa,{movieId:B.O});});this.j.Wa.ag && (this.$J=u.Gyb(this,this.j),this.j.addEventListener(f.ea.qH,function(G){G=G.position.segmentId;F.gOb !== G && (F.gOb=G,F.kb(f.Ja.f_b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;l=a(68172);f=a(34202);k=a(2467);d=a(50876);g=a(8010);m=a(30818);c.prototype.rv=function(){return this.j.state.value === f.Ub.$d;};c.prototype.QZa=function(){return this.j.O;};c.prototype.Ss=function(){return this.j.ma;};c.prototype.Tm=function(){return this.j.pk;};c.prototype.FB=function(){return this.j.vi.value;};c.prototype.dt=function(){return this.j.paused.value;};c.prototype.Ioa=function(){return this.ended;};c.prototype.sh=function(){var h;h=this.j.dia.value;return h?{networkStalled:!!h.sr,stalled:!!h.sr,progress:h.progress,progressRollback:!!h.WWb}:null;};c.prototype.getError=function(){var h;h=this.j.rh;return h?h.tX():null;};c.prototype.On=function(){var h;return null === (h=this.j.On()) || void 0 === h?void 0:h.kDb;};c.prototype.Ql=function(){return this.j.fd;};c.prototype.gL=function(){return this.Ql().ia?this.Ql().d5():this.Jq();};c.prototype.Jq=function(){return this.j.mediaTime.value;};c.prototype.EYa=function(){var h;h=(this.A4() || 0) + this.j.DYa();return Math.min(h,this.kma());};c.prototype.A4=function(){return this.Ql().ia?this.Ql().d5():this.j.jB();};c.prototype.kma=function(){return this.Ql().ia?this.Ql().DZa():this.j.Ex.ba(k.na);};c.prototype.L_a=function(){var h;h=this.j.RC.value;return h?{width:h.width,height:h.height}:null;};c.prototype.B4=function(){return this.j.B4();};c.prototype.kYa=function(h){var n,p;return (null === (n=this.j.W) || void 0 === n?0:n.ji.lL("generateScreenshots"))?this.lYa.Mn(this.log,this.j.W.ji,h):(n=null === (p=this.j.Wa) || void 0 === p?void 0:p.en)?this.lYa.Bf(this.log,Object.assign({packageId:n},h)):Promise.reject("Unknown packageId");};c.prototype.YYa=function(){return this.gHb(this.j.IVa);};c.prototype.uYa=function(){var h;h=this;return this.j.bi.map(function(n){return h.qp(n);});};c.prototype.KZa=function(){var h;return this.kT(this.j.bi,null === (h=this.j.W) || void 0 === h?void 0:h.Fa.q4a);};c.prototype.qna=function(h){var n;n=this;return this.tT(h).map(function(p){return n.qp(p);});};c.prototype.Hma=function(h){var n;return this.kT(this.tT(h),null === (n=this.j.W) || void 0 === n?void 0:n.Fa.r4a);};c.prototype.Noa=function(){return this.j.muted.value;};c.prototype.M_a=function(){return this.j.volume.value;};c.prototype.tYa=function(){var h,n;n=(null === (h=this.Hv) || void 0 === h?void 0:h.tc) || this.j.tc.value;return n && this.qp(n);};c.prototype.pna=function(){var h,n;n=(null === (h=this.Hv) || void 0 === h?void 0:h.lX) || this.j.wb.value;return n && this.qp(n);};c.prototype.B1a=function(){return this.j.background.value;};c.prototype.Y$a=function(h){this.j.muted.set(!!h);};c.prototype.kab=function(h){this.j.volume.set(this.wSb(h));};c.prototype.O9=function(h){this.j.playbackRate.set(h);};c.prototype.pL=function(){return this.j.playbackRate.value;};c.prototype.I$a=function(h){var n,p,q,u,t;n=this;q=this.MS(h);if(q){if(q.xg)return (this.j.tc.set(q),Promise.resolve());u=(h=(null === (p=this.Hv) || void 0 === p?void 0:p.lX) || this.j.wb.value) && this.e2a(q,h)?h:q.bh[0];p=q.trackId;t=u.trackId;this.Hv={tc:q,lX:u};this.kb(f.Ja.Fl);this.kb(f.Ja.Mt);u !== h && this.kb(f.Ja.kl);return this.j.A0a(p,t).then(function(w){w=w.tc;n.Hv=void 0;n.j.tc.set(w);}).catch(function(w){n.Hv=void 0;w=n.Yd.ve(w);n.log.error(w);n.close(n.vh(l.U.pD,{xa:l.R.yca,Kb:w,VF:{uLb:q.trackId,D0a:q.re,vLb:u.trackId,E0a:u.re}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Dva=function(h){var n,p,q,u;n=this;q=(null === (p=this.Hv) || void 0 === p?void 0:p.tc) || this.j.tc.value;if(null !== q){u=q.bh;p={};for(var t=0;t < u.length;(p={Fr:p.Fr},t++)){p.Fr=u[t];if(!h && null === p.Fr)return (this.j.wb.set(null),Promise.resolve());if(this.qp(p.Fr) === h){if(p.Fr.xg)return (this.log.info("Setting Timed Text, profile: " + p.Fr.profile),this.j.wb.set(p.Fr),Promise.resolve());h=q.trackId;u=p.Fr.trackId;this.Hv={tc:q,lX:p.Fr};this.kb(f.Ja.kl);return this.j.A0a(h,u).then(function(w){w=w.lX;n.Hv=void 0;n.j.wb.set(w);}).catch((function(w){return function(v){n.Hv=void 0;v=n.Yd.ve(v);n.log.error(v);n.close(n.vh(l.U.pD,{xa:l.R.yca,Kb:v,VF:{uLb:q.trackId,D0a:q.re,vLb:w.Fr.trackId,E0a:w.Fr.re}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.rva=function(h){this.j.background.set(h);};c.prototype.KN=function(){this.j.KN();};c.prototype.J$=function(h){this.j.J$(h);};c.prototype.fi=function(h){return this.j.fi(h);};c.prototype.a_a=function(){return this.j.Wa;};c.prototype.Ev=function(){this.j.Ev();};c.prototype.HG=function(h){this.j.HG(h);};c.prototype.DT=function(h,n,p){return this.j.DT(h,n,p);};c.prototype.Pga=function(h,n){this.j.addEventListener(h,n,void 0);};c.prototype.addEventListener=function(h,n,p){this.Eb.addListener(h,n,p);};c.prototype.removeEventListener=function(h,n){this.Eb.removeListener(h,n);};c.prototype.$G=function(){};c.prototype.load=function(){var h;h=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{h.kb(f.Ja.r3a,void 0,!0);n.W && (n.W.Fa.zeb && h.kb(f.Ja.z6b,n.W.Fa.zeb,!0),n.W.Fa.hp && h.kb(f.Ja.e_b,{segmentMap:n.W.Fa.hp},!0));p({ha:!0});}catch(q){p({xa:l.R.ol,Kb:h.Yd.ve(q)});}}));};c.prototype.close=function(h){var n;n=this;this.uTa || (this.uTa=new Promise(function(p){h?n.j.PE(h,p):n.j.close(p);}));return this.uTa;};c.prototype.play=function(){this.j.Fh?this.j.fireEvent(f.ea.b$a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(f.ea.Wdb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(f.ea.Vdb));};c.prototype.X6a=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{rM:!0});};c.prototype.seek=function(h,n,p,q){n=void 0 === n?f.Zc.Nw:n;this.j.Xub() && (this.Ql().ia && this.Ql().j2a(this.Ql().S9a(h))?this.Ql().B9():this.j.je?(this.Ql().ia && (h=this.Ql().S9a(h)),this.j.je.seek(h,n,p,q)):(this.Ql().ia && (h=this.Ql().Fma(h).Gl),this.j.Gl=h));};c.prototype.n7a=function(h){return this.$J?(this.log.trace("Playing a segment",h),this.$J.play(h)):Promise.resolve();};c.prototype.s8a=function(h){return this.$J?(this.log.trace("Queueing a segment",h),this.$J.YM(h)):Promise.resolve();};c.prototype.cj=function(h,n){return this.$J?(this.log.trace("Updating next segment weights",h,n),this.$J.cj(h,n)):Promise.resolve();};c.prototype.yT=function(){var h;h=this.j.kn.yT();return {bounds:h.IR,margins:h.Wq,size:h.size,visibility:h.visibility};};c.prototype.DN=function(h){var n,p,q;n=h.bounds;p=h.margins;q=h.size;h=h.visibility;this.j.pX && (n && this.j.pX.Eva(n),p && this.j.pX.Fva(p),"boolean" === typeof h && this.j.pX.Gva(h));this.j.kn && q && this.j.kn.o0b(q);};c.prototype.Hva=function(h){this.j.im=h;};c.prototype.H_a=function(h){return this.j.bz && this.j.bz.CHb(h) || null;};c.prototype.rYa=function(){return this.Yd.YB({playerver:this.config.version,jssid:this.config.QNb,groupName:this.config.FHb(),xid:this.j.ma,pbi:this.j.index},this.config.YUb,{prefix:"pi_"});};c.prototype.X0a=function(h){this.j.pd(l.U.vCa,l.R.Go,h);};c.prototype.n3a=function(h,n,p,q){if(!this.ub.YQa(h))throw Error("invalid url");this.a7a.push({url:h,name:n,htb:p,options:q});this.f8a();};c.prototype.gna=function(){var h,n,p,q,u,t,w,v;h={};n=this.j.UW;try{if((this.j.rh && (h.errorCode=this.j.rh.x3,h.errorType=n?"endplay":"startplay"),h.playdelay=(0,m.$f)(this.j.OR()),h.xid=this.j.ma,this.j.W && this.ub.Xo(this.j.W.Fa.en) && (h.packageId=Number(this.j.W.Fa.en)),h.auth=this.j.AGb(),n)){h.totaltime=this.j.Vk?this.Ol(this.j.Vk.pp("content")):0;h.abrdel=this.j.Vk?this.j.Vk.dma():0;p=this.j.je;q=p?p.DF():null;this.ub.ak(q) && (h.totdfr=q);q=p?p.eT():null;this.ub.ak(q) && (h.totcfr=q);u=p?p.QHb():null;u && (h.rbfrs_decoder=u.i3,h.rbfrs_network=u.B7);h.rbfrs_delay=this.j.Vk?this.j.Vk.Coa:0;h.init_vbr=this.j.N5;t=this.LF();this.ub.aF(t) && (h.pdltime=t);w=this.j.Td.value;v=w && w.stream;v && (h.vbr=v.bitrate,h.vdlid=v.Vb);h.bufferedTime=this.j.DYa();}}catch(y){this.log.error("error capturing session summary",y);}return h;};c.prototype.NK=function(h){this.j.Wa.cm && (this.j.Wa.cm.userEngageAction=1);return this.ub.ak(this.j.mediaTime.value)?(h=Object.assign(Object.assign({},this.ut.create(this.j)),{action:h}),this.VR(g.zo.NK).Mn(this.log,this.j.W.ji,h).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.ic,errorExternalCode:n.Tc,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.gHb=function(h){return {register:h.register.bind(h),notifyUpdated:h.P5a.bind(h),getModel:h.sIb.bind(h),getGroups:h.iT.bind(h),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h),getTime:h.getTime.bind(h)};};c.prototype.qp=function(h){var n;n=h.vta=h.vta || ({trackId:h.trackId,bcp47:h.re,displayName:h.displayName,trackType:h.zh,rawTrackType:h.uC,channels:h.channels});this.Roa(h) && (n.isNative=h.isNative,n.surroundFormatLabel=h.dX);this.Soa(h) && (n.isNoneTrack=h.Wn(),n.isForcedNarrative=h.Ym(),n.isImageBased=h.ik);n.subType=h.JH;n.variant=h.variant;return n;};c.prototype.Roa=function(h){return "undefined" !== typeof h.isNative;};c.prototype.Soa=function(h){return "undefined" !== typeof h.Wn && "undefined" !== typeof h.Ym;};c.prototype.MS=function(h){var n;n=this;return h && this.j.bi.find(function(p){return n.qp(p) === h;});};c.prototype.tT=function(h){var n,p;h=this.MS(h) || (null === (n=this.Hv) || void 0 === n?void 0:n.tc) || this.j.tc.value;return null !== (p=null === h || void 0 === h?void 0:h.bh) && void 0 !== p?p:[];};c.prototype.kT=function(h,n){var p;p=h.length - 1;if("number" !== typeof n)return p;h=h.findIndex(function(q){return q.ec > n;});return -1 === h?p:h - 1;};c.prototype.e2a=function(h,n){return 0 <= h.bh.indexOf(n);};c.prototype.wSb=function(h){return 0 <= h?1 >= h?h:1:0;};c.prototype.Ol=function(h){return this.ub.ak(h)?(h / 1E3).toFixed(0):"";};c.prototype.kb=function(h,n,p){n=n || ({});n.target=this;this.Eb.Dc(h,n,!p);};c.prototype.jI=function(){var h;h=this;this.j.addEventListener(f.ea.Gwa,function(){h.kb(f.Ja.In);});this.j.RC.addListener(function(){h.kb(f.Ja.Mxa);});this.j.addEventListener(f.ea.bdb,function(){h.kb(f.Ja.adb);});this.j.addEventListener(f.ea.Y6,function(){h.kb(f.Ja.s2);});this.j.addEventListener(f.ea.Ej,function(){h.kb(f.Ja.s2);});this.j.addEventListener(f.ea.BL,function(n){h.kb(f.Ja.BL,{errorCode:n});});this.j.addEventListener(f.ea.Fha,function(){h.kb(f.Ja.MRa);});this.j.addEventListener(f.ea.Fh,function(n){h.kb(f.Ja.j2,n);});this.j.addEventListener(f.ea.Ecb,function(){h.kb(f.Ja.g2);h.kb(f.Ja.Mt);});this.j.vi.addListener(function(){h.kb(f.Ja.Ssa);});this.j.paused.addListener(function(){h.kb(f.Ja.Y6a);});this.j.muted.addListener(function(){h.kb(f.Ja.m5a);});this.j.volume.addListener(function(){h.kb(f.Ja.peb);});this.j.lb.addListener(function(){h.jdb();});this.j.state.addListener(function(){h.jdb();});this.j.dia.addListener(function(n){h.ePb || h.j.state.value != f.Ub.$d || n.newValue || (h.ePb=!0,h.kb(f.Ja.loaded),setTimeout(function(){h.log.debug.bind(h.log,"summary ",h.gna());}));h.kb(f.Ja.bK);});this.j.tc.addListener(function(){h.kb(f.Ja.Fl);h.kb(f.Ja.Mt);setTimeout(function(){var n,p;n=h.j.tc.value;p=h.j.wb.value;null === n || null === p || h.e2a(n,p) || (h.log.info("Changing timed text track to match audio track"),h.j.wb.set(n.bh[0]));},0);});this.j.wb.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || h.kb(f.Ja.kl);});this.j.addEventListener(f.ea.Mt,function(){h.kb(f.Ja.Mt);});this.j.addEventListener(f.ea.xX,function(){h.kb(f.Ja.xX);});this.j.state.addListener(function(n){switch(n.newValue){case f.Ub.$d:h.kb(f.Ja.vka);h.kb(f.Ja.Mxa);h.kb(f.Ja.g2);h.kb(f.Ja.Mt);h.kb(f.Ja.q3a);h.f8a();h.D6b();break;case f.Ub.CLOSING:h.j.rh && h.kb(f.Ja.s1a,h.j.rh);break;case f.Ub.CLOSED:(h.kb(f.Ja.closed),h.Eb.wg());}});this.j.addEventListener(f.ea.PB,function(){h.kb(f.Ja.PB);h.kb(f.Ja.In);h.kb(f.Ja.s2);h.kb(f.Ja.vka);});};c.prototype.D6b=function(){var h;h=this;this.j.kn.addEventListener("showsubtitle",function(n){h.kb(f.Ja.Pva,n,!0);});this.j.kn.addEventListener("removesubtitle",function(n){h.kb(f.Ja.Wta,n,!0);});this.j.On().Dl.addListener(function(){h.kb(f.Ja.Arb);});};c.prototype.f8a=function(){if(this.j.state.value == f.Ub.$d){for(var h,n,p;n=this.a7a.shift();){h=this.j.kn.Ega(n.url,n.name,n.options);n.htb && (p=h);}p && this.j.wb.set(p);}};c.prototype.jdb=function(){var h;h=this.j.state.value == f.Ub.$d && this.j.lb.value == f.cb.cq;this.ended !== h && (this.ended=h,this.j.wE("Ended changed: " + h),(h || this.j.state.value === f.Ub.CLOSING) && this.kb(f.Ja.OWa));};c.prototype.LF=function(){var h,n;try{h=/playercore.*js/;n=d.ju.getEntriesByType("resource").filter(function(p){return null !== h.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.XEa=c;},27279:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M;function c(L){this.dc=L;}Object.defineProperty(b,"__esModule",{value:!0});b.jNa=void 0;r=a(70655);l=a(86700);f=a(98540);k=a(89682);d=a(89542);g=a(71163);m=a(1265);h=a(89895);n=a(56281);p=a(88790);q=a(78274);u=a(8010);t=a(17445);w=a(24631);v=a(21182);y=a(24166);x=a(58998);z=a(76586);A=a(69379);B=a(78139);D=a(17244);C=a(31303);F=a(98431);G=a(35664);E=a(77174);J=a(14641);M=a(60634);c.prototype.rK=function(L,I,P,K,H,N){return this.dc.get(D.ac)().M$?new w.lNa(this.dc.get(g.Xa),this.dc.get(v.Cda),this.dc.get(y.Bw),this.dc.get(x.Jc),this.dc.get(z.rD),this.dc.get(m.Gba),this.dc.get(A.Eca),this.dc.get(B.FDa),this.dc.get(C.UJa),this.dc.get(F.jea),this.dc.get(F.jea),this.dc.get(G.gg),this.dc.get(J.wP),this.dc.get(E.Sba),this.dc.get(M.Uh),K,P):new p.XEa(this.dc.get(k.jh),this.dc.get(d.Wf),this.dc.get(g.Xa),this.dc.get(m.Gba),this.dc.get(h.cea),this.dc.get(q.mda),this.dc.get(u.Fba),this.dc.get(t.FIa),this.dc.get(n.MBa),L,I,P,K,H,N);};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.UEa))],a);b.jNa=a;},77424:function(r,b,a){r.exports={wlb:a(62448),R7b:a(69675)};},69675:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;}function l(f){this.Ve=null;this.Yr=f;this.size=0;}b=a(5301);c.prototype.Sg=function(f){return f?this.right:this.left;};c.prototype.Up=function(f,k){f?this.right=k:this.left=k;};l.prototype=new b();l.prototype.Ws=function(f){if(null === this.Ve)(this.Ve=new c(f),this.size++);else for(var k=0,d=null,g=this.Ve;;){if(null === g){g=new c(f);d.Up(k,g);ret=!0;this.size++;break;}if(0 === this.Yr(g.data,f))break;k=0 > this.Yr(g.data,f);d=g;g=g.Sg(k);}};l.prototype.remove=function(f){var k,d,n;if(null === this.Ve)return !1;k=new c(void 0);d=k;d.right=this.Ve;for(var g=null,m=null,h=1;null !== d.Sg(h);){g=d;d=d.Sg(h);n=this.Yr(f,d.data);h=0 < n;0 === n && (m=d);}return null !== m?(m.data=d.data,g.Up(g.right === d,d.Sg(null === d.left)),this.Ve=k.right,this.size--,!0):!1;};r.exports=l;},62448:function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function l(g){this.Ve=null;this.Yr=g;this.size=0;}function f(g){return null !== g && g.red;}function k(g,m){var h;h=g.Sg(!m);g.Up(!m,h.Sg(m));h.Up(m,g);g.red=!0;h.red=!1;return h;}function d(g,m){g.Up(!m,k(g.Sg(!m),!m));return k(g,m);}b=a(5301);c.prototype.Sg=function(g){return g?this.right:this.left;};c.prototype.Up=function(g,m){g?this.right=m:this.left=m;};l.prototype=new b();l.prototype.Ws=function(g){var m,h,n,p,q,u,t,w;if(null === this.Ve)(this.Ve=new c(g),this.size++);else {m=new c(void 0);h=0;n=0;p=null;q=m;u=null;t=this.Ve;for(q.right=this.Ve;;){null === t?(t=new c(g),u.Up(h,t),this.size++):f(t.left) && f(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(f(t) && f(u)){w=q.right === p;t === u.Sg(n)?q.Up(w,k(p,!n)):q.Up(w,d(p,!n));}w=this.Yr(t.data,g);if(0 === w)break;n=h;h=0 > w;null !== p && (q=p);p=u;u=t;t=t.Sg(h);}this.Ve=m.right;}this.Ve.red=!1;};l.prototype.remove=function(g){var m,h,t,w,v;if(null === this.Ve)return !1;m=new c(void 0);h=m;h.right=this.Ve;for(var n=null,p,q=null,u=1;null !== h.Sg(u);){t=u;p=n;n=h;h=h.Sg(u);w=this.Yr(g,h.data);u=0 < w;0 === w && (q=h);if(!f(h) && !f(h.Sg(u)))if(f(h.Sg(!u)))(p=k(h,u),n.Up(t,p),n=p);else if(!f(h.Sg(!u)) && (w=n.Sg(!t),null !== w))if(f(w.Sg(!t)) || f(w.Sg(t))){v=p.right === n;f(w.Sg(t))?p.Up(v,d(n,t)):f(w.Sg(!t)) && p.Up(v,k(n,t));t=p.Sg(v);t.red=!0;h.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,w.red=!0,h.red=!0);}null !== q && (q.data=h.data,n.Up(n.right === h,h.Sg(null === h.left)),this.size--);this.Ve=m.right;null !== this.Ve && (this.Ve.red=!1);return null !== q;};r.exports=l;},5301:function(r){function b(){}function a(c){this.UPa=c;this.Io=[];this.ng=null;}b.prototype.clear=function(){this.Ve=null;this.size=0;};b.prototype.find=function(c){var f;for(var l=this.Ve;null !== l;){f=this.Yr(c,l.data);if(0 === f)return l.data;l=l.Sg(0 < f);}return null;};b.prototype.lowerBound=function(c){var d;for(var l=this.Ve,f=this.iterator(),k=this.Yr;null !== l;){d=k(c,l.data);if(0 === d)return (f.ng=l,f);f.Io.push(l);l=l.Sg(0 < d);}for(d=f.Io.length - 1;0 <= d;--d){if((l=f.Io[d],0 > k(c,l.data)))return (f.ng=l,f.Io.length=d,f);}f.Io.length=0;return f;};b.prototype.upperBound=function(c){for(var l=this.lowerBound(c),f=this.Yr;null !== l.data() && 0 === f(l.data(),c);){l.next();}return l;};b.prototype.min=function(){var c;c=this.Ve;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Ve;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Fs=function(c){for(var l=this.iterator(),f;null !== (f=l.next());){c(f);}};a.prototype.data=function(){return null !== this.ng?this.ng.data:null;};a.prototype.next=function(){var c;if(null === this.ng){c=this.UPa.Ve;null !== c && this.SOa(c);}else if(null === this.ng.right){do {if((c=this.ng,this.Io.length))this.ng=this.Io.pop();else {this.ng=null;break;}}while(this.ng.right === c);}else (this.Io.push(this.ng),this.SOa(this.ng.right));return null !== this.ng?this.ng.data:null;};a.prototype.cH=function(){var c;if(null === this.ng){c=this.UPa.Ve;null !== c && this.OOa(c);}else if(null === this.ng.left){do {if((c=this.ng,this.Io.length))this.ng=this.Io.pop();else {this.ng=null;break;}}while(this.ng.left === c);}else (this.Io.push(this.ng),this.OOa(this.ng.left));return null !== this.ng?this.ng.data:null;};a.prototype.SOa=function(c){for(;null !== c.left;){this.Io.push(c);c=c.left;}this.ng=c;};a.prototype.OOa=function(c){for(;null !== c.right;){this.Io.push(c);c=c.right;}this.ng=c;};r.exports=b;},21924:function(r,b,a){var c,l,f;c=a(40210);l=a(55559);f=l(c("String.prototype.indexOf"));r.exports=function(k,d){d=c(k,!!d);return "function" === typeof d && -1 < f(k,".prototype.")?l(d):d;};},55559:function(r,b,a){var l,f,k,d,g,m,h;function c(){return d(l,f,arguments);}l=a(58612);b=a(40210);f=b("%Function.prototype.apply%");k=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || l.call(k,f);g=b("%Object.getOwnPropertyDescriptor%",!0);m=b("%Object.defineProperty%",!0);h=b("%Math.max%");if(m)try{m({},"a",{value:1});}catch(n){m=null;}r.exports=function(n){var p;p=d(l,k,arguments);g && m && g(p,"length").configurable && m(p,"length",{value:1 + h(0,n.length - (arguments.length - 1))});return p;};m?m(r.exports,"apply",{value:c}):r.exports.apply=c;},4289:function(r,b,a){var c,l,f,k,d,g;c=a(82215);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");f=Object.prototype.toString;k=Array.prototype.concat;d=Object.defineProperty;b=a(31044)();g=d && b;r.exports=function(m,h){var n,p,u,t,w,v;n=2 < arguments.length?arguments[2]:{};p=c(h);l && (p=k.call(p,Object.getOwnPropertySymbols(h)));for(var q=0;q < p.length;q+=1){u=m;t=p[q];w=h[p[q]];v=n[p[q]];if(!((t in u)) || "function" === typeof v && "[object Function]" === f.call(v) && v())g?d(u,t,{configurable:!0,enumerable:!1,value:w,writable:!0}):u[t]=w;}};},41503:function(r,b,a){var c,l,f,k,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(34149);f=a(95320);k=a(18923);d=a(12636);r.exports=function(g){var m,h,n;if(l(g))return g;m="default";1 < arguments.length && (arguments[1] === String?m="string":arguments[1] === Number && (m="number"));if(c)if(Symbol.toPrimitive){h=Symbol.toPrimitive;n=g[h];if(null !== n && "undefined" !== typeof n){if(!f(n))throw new TypeError(n + " returned for property " + h + " of object " + g + " is not a function");h=n;}else h=void 0;}else d(g) && (h=Symbol.prototype.valueOf);if("undefined" !== typeof h){m=h.call(g,m);if(l(m))return m;throw new TypeError("unable to convert exotic object to primitive");}"default" === m && (k(g) || d(g)) && (m="string");a:{m="default" === m?"number":m;if("undefined" === typeof g || null === g)throw new TypeError("Cannot call method on " + g);if("string" !== typeof m || "number" !== m && "string" !== m)throw new TypeError('hint must be "string" or "number"');m="string" === m?["toString","valueOf"]:["valueOf","toString"];for(h=0;h < m.length;++h){if((n=g[m[h]],f(n) && (n=n.call(g),l(n))))break a;}throw new TypeError("No default value");}return n;};},34149:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},17187:function(r){function b(){this.gb=this.gb || ({});this.hs=this.hs || void 0;}function a(l){return "function" === typeof l;}function c(l){return "object" === typeof l && null !== l;}r.exports=b;b.EventEmitter=b;b.prototype.gb=void 0;b.prototype.hs=void 0;b.Zja=10;b.prototype.setMaxListeners=function(l){if("number" !== typeof l || 0 > l || isNaN(l))throw TypeError("n must be a positive number");this.hs=l;return this;};b.prototype.emit=function(l){var f,k,d,g;this.gb || (this.gb={});if("error" === l && (!this.gb.error || c(this.gb.error) && !this.gb.error.length)){k=arguments[1];if(k instanceof Error)throw k;d=Error('Uncaught, unspecified "error" event. (' + k + ")");d.context=k;throw d;}d=this.gb[l];if(void 0 === d)return !1;if(a(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:(k=Array.prototype.slice.call(arguments,1),d.apply(this,k));}else if(c(d)){k=Array.prototype.slice.call(arguments,1);g=d.slice();d=g.length;for(f=0;f < d;f++){g[f].apply(this,k);}}return !0;};b.prototype.addListener=function(l,f){if(!a(f))throw TypeError("listener must be a function");this.gb || (this.gb={});this.gb.MRb && this.emit("newListener",l,a(f.listener)?f.listener:f);this.gb[l]?c(this.gb[l])?this.gb[l].push(f):this.gb[l]=[this.gb[l],f]:this.gb[l]=f;c(this.gb[l]) && !this.gb[l].Sxa && (f=void 0 === this.hs?b.Zja:this.hs) && 0 < f && this.gb[l].length > f && (this.gb[l].Sxa=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.gb[l].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(l,f){var d;function k(){this.removeListener(l,k);d || (d=!0,f.apply(this,arguments));}if(!a(f))throw TypeError("listener must be a function");d=!1;k.listener=f;this.on(l,k);return this;};b.prototype.removeListener=function(l,f){var k,d,g;if(!a(f))throw TypeError("listener must be a function");if(!this.gb || !this.gb[l])return this;k=this.gb[l];d=k.length;g=-1;if(k === f || a(k.listener) && k.listener === f)(delete this.gb[l],this.gb.removeListener && this.emit("removeListener",l,f));else if(c(k)){for(;0 < d--;){if(k[d] === f || k[d].listener && k[d].listener === f){g=d;break;}}if(0 > g)return this;1 === k.length?(k.length=0,delete this.gb[l]):k.splice(g,1);this.gb.removeListener && this.emit("removeListener",l,f);}return this;};b.prototype.removeAllListeners=function(l){var f;if(!this.gb)return this;if(!this.gb.removeListener)return (0 === arguments.length?this.gb={}:this.gb[l] && delete this.gb[l],this);if(0 === arguments.length){for(f in this.gb){"removeListener" !== f && this.removeAllListeners(f);}this.removeAllListeners("removeListener");this.gb={};return this;}f=this.gb[l];if(a(f))this.removeListener(l,f);else if(f)for(;f.length;){this.removeListener(l,f[f.length - 1]);}delete this.gb[l];return this;};b.prototype.listeners=function(l){return this.gb && this.gb[l]?a(this.gb[l])?[this.gb[l]]:this.gb[l].slice():[];};b.prototype.listenerCount=function(l){if(this.gb){l=this.gb[l];if(a(l))return 1;if(l)return l.length;}return 0;};b.listenerCount=function(l,f){return l.listenerCount(f);};},17648:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var f=b.call(arguments,1),k,d=Math.max(0,l.length - f.length),g=[],m=0;m < d;m++){g.push("$" + m);}k=Function("binder","return function (" + g.join(",") + "){ return binder.apply(this,arguments); }")(function(){var h;if(this instanceof k){h=l.apply(this,f.concat(b.call(arguments)));return Object(h) === h?h:this;}return l.apply(c,f.concat(b.call(arguments)));});l.prototype && (d=function(){},d.prototype=l.prototype,k.prototype=new d(),d.prototype=null);return k;};},58612:function(r,b,a){b=a(17648);r.exports=Function.prototype.bind || b;},40210:function(r,b,a){var k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C;function c(F){var G,E,J;G=A(F,0,1);E=A(F,-1);if("%" === G && "%" !== E)throw new k("invalid intrinsic syntax, expected closing `%`");if("%" === E && "%" !== G)throw new k("invalid intrinsic syntax, expected opening `%`");J=[];z(F,D,function(M,L,I,P){J[J.length]=I?z(P,C,"$1"):L || M;});return J;}function l(){throw new g();}function f(F){try{return d('"use strict"; return (' + F + ").constructor;")();}catch(G){}}k=SyntaxError;d=Function;g=TypeError;m=Object.getOwnPropertyDescriptor;if(m)try{m({},"");}catch(F){m=null;}b=m?(function(){try{return (arguments.callee,l);}catch(F){try{return m(arguments,"callee").get;}catch(G){return l;}}})():l;h=a(41405)();n=Object.getPrototypeOf || (function(F){return F.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);u={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && h?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && h?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?n(("")[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":k,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":g,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(F){b=n(n(F));u["%Error.prototype%"]=b;}t=function E(G){var J,M;if("%AsyncFunction%" === G)J=f("async function () {}");else if("%GeneratorFunction%" === G)J=f("function* () {}");else if("%AsyncGeneratorFunction%" === G)J=f("async function* () {}");else if("%AsyncGenerator%" === G){M=E("%AsyncGeneratorFunction%");M && (J=M.prototype);}else "%AsyncIteratorPrototype%" === G && (M=E("%AsyncGenerator%")) && (J=n(M.prototype));return u[G]=J;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(58612);v=a(17642);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;C=/\\(\\)?/g;r.exports=function(G,E){var J,M,L,I,P,K,H,N,R;if("string" !== typeof G || 0 === G.length)throw new g("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof E)throw new g('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");J=c(G);M=0 < J.length?J[0]:"";L="%" + M + "%";I=L;if(v(w,I)){P=w[I];I="%" + P[0] + "%";}if(v(u,I)){K=u[I];K === p && (K=t(I));if("undefined" === typeof K && !E)throw new g("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new k("intrinsic " + L + " does not exist!");L=K;I=!1;P && (M=P[0],x(J,y([0,1],P)));P=1;for(K=!0;P < J.length;P+=1){H=J[P];N=A(H,0,1);R=A(H,-1);if(('"' === N || "'" === N || "`" === N || '"' === R || "'" === R || "`" === R) && N !== R)throw new k("property names with quotes must have matching quotes");"constructor" !== H && K || (I=!0);M+="." + H;N="%" + M + "%";if(v(u,N))L=u[N];else if(null != L){if(!((H in L))){if(!E)throw new g("base intrinsic for " + G + " exists, but the property is not available.");return;}m && P + 1 >= J.length?(R=m(L,H),L=(K=!!R) && ("get" in R) && !(("originalValue" in R.get))?R.get:L[H]):(K=v(L,H),L=L[H]);K && !I && (u[N]=L);}}return L;};},31044:function(r,b,a){var l;function c(){if(l)try{return (l({},"a",{value:1}),!0);}catch(f){}return !1;}l=a(40210)("%Object.defineProperty%",!0);c.EKb=function(){if(!c())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(f){return !0;}};r.exports=c;},41405:function(r,b,a){var c,l;c="undefined" !== typeof Symbol && Symbol;l=a(55419);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},55419:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},96410:function(r,b,a){var c;c=a(55419);r.exports=function(){return c() && !!Symbol.toStringTag;};},17642:function(r,b,a){b=a(58612);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},99934:function(r,b,a){var f,k;function c(d,g,m,h,n){var p,q,t;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():m;if(q && void 0 !== m)throw Error(f.Rib);Reflect.Kna(d,g) && (p=Reflect.getMetadata(d,g));m=p[n];if(Array.isArray(m)){q=0;for(var u=m;q < u.length;q++){t=u[q];if(t.key === h.key)throw Error(f.thb + " " + t.key.toString());}}else m=[];m.push(h);p[n]=m;Reflect.p3(d,p,g);}function l(d,g){return function(m,h){g(m,h,d);};}Object.defineProperty(b,"__esModule",{value:!0});f=a(16674);k=a(6867);b.MH=function(d,g,m,h){c(k.mMa,d,g,h,m);};b.iX=function(d,g,m){c(k.nMa,d.constructor,g,m);};b.MA=function(d,g,m){"number" === typeof m?(d=[l(m,d)],Reflect.MA(d,g)):"string" === typeof m?Reflect.MA([d],g,m):Reflect.MA([d],g);};},5744:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);l=a(6867);f=a(47738);k=a(99934);r=(function(){function d(g){this.Pmb=g;}d.prototype.E4b=function(){return this.Pmb();};return d;})();b.kca=r;b.l=function(d){return function(g,m,h){var n;if(void 0 === d)throw Error(c.nmb(g.name));n=new f.Metadata(l.lP,d);"number" === typeof h?k.MH(g,m,h,n):k.iX(g,m,n);};};},64315:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);l=a(6867);b.T=function(){return function(f){var k;if(Reflect.Kna(l.Yca,f))throw Error(c.shb);k=Reflect.getMetadata(l.Qgb,f) || [];Reflect.p3(l.Yca,k,f);return f;};};},71693:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);l=a(47738);f=a(99934);b.CG=function(k){return function(d,g,m){var h;h=new l.Metadata(c.qD,k);"number" === typeof m?f.MH(d,g,m,h):f.iX(d,g,h);};};},38085:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);l=a(47738);f=a(99934);b.o5a=function(k){return function(d,g,m){var h;h=new l.Metadata(c.Dz,k);"number" === typeof m?f.MH(d,g,m,h):f.iX(d,g,h);};};},6515:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);l=a(47738);f=a(99934);b.optional=function(){return function(k,d,g){var m;m=new l.Metadata(c.KHa,!0);"number" === typeof g?f.MH(k,d,g,m):f.iX(k,d,m);};};},7014:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);l=a(6867);f=a(47738);b.H7a=function(){return function(k,d){d=new f.Metadata(l.NP,d);if(Reflect.Kna(l.NP,k.constructor))throw Error(c.Ijb);Reflect.p3(l.NP,d,k.constructor);};};},32052:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(47738);l=a(99934);b.Rbb=function(f,k){return function(d,g,m){var h;h=new c.Metadata(f,k);"number" === typeof m?l.MH(d,g,m,h):l.iX(d,g,h);};};},55638:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);l=a(47738);f=a(99934);b.jX=function(k){return function(d,g,m){var h;h=new l.Metadata(c.j_,k);f.MH(d,g,m,h);};};},86757:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);l=a(47738);f=a(99934);b.ln=function(){return function(k,d,g){var m;m=new l.Metadata(c.ZP,!0);f.MH(k,d,g,m);};};},44290:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(28421);l=a(37791);r=(function(){function f(k,d){this.id=l.id();this.yga=!1;this.Dg=k;this.scope=d;this.type=c.dj.ejb;this.UE=function(){return !0;};this.EK=this.Dv=this.Iy=this.VK=this.cache=this.Tl=null;}f.prototype.clone=function(){var k;k=new f(this.Dg,this.scope);k.yga=!1;k.Tl=this.Tl;k.EK=this.EK;k.scope=this.scope;k.type=this.type;k.VK=this.VK;k.Iy=this.Iy;k.UE=this.UE;k.Dv=this.Dv;k.cache=this.cache;return k;};return f;})();b.Tfb=r;},23184:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Saa={R9b:2,AHa:0,hkb:1};},16674:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.shb="Cannot apply @injectable decorator multiple times.";b.thb="Metadata key was used more than once in a parameter:";b.IP="NULL argument";b.cFa="Key Not Found";b.Web="Ambiguous match found for serviceIdentifier:";b.kgb="Could not unbind serviceIdentifier:";b.Tjb="No matching bindings found for serviceIdentifier:";b.vjb="Missing required @injectable annotation in:";b.wjb="Missing required @inject or @multiInject annotation in:";b.nmb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.ogb="Circular dependency found:";b.i$b="Sorry, this feature is not fully implemented yet.";b.Qib="Invalid binding type:";b.Vjb="No snapshot available to restore.";b.Uib="Invalid return type in middleware. Middleware must return!";b.Tib="Value provided to function binding must be a function!";b.Vib="The toSelf function can only be applied when a constructor is used as service identifier";b.Rib="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Yeb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Cgb="Invalid Container constructor argument. Container options must be an object.";b.Agb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.zgb="Invalid Container option. Auto bind injectable must be a boolean";b.Bgb="Invalid Container option. Skip base check must be a boolean";b.Ijb="Cannot apply @postConstruct decorator multiple times in the same class";b.blb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.pgb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Rlb="Maximum call stack size exceeded";},28421:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gr={Request:"Request",eea:"Singleton",a0:"Transient"};b.dj={ZAa:"ConstantValue",$Aa:"Constructor",fCa:"DynamicValue",Iba:"Factory",Function:"Function",Instance:"Instance",ejb:"Invalid",FKa:"Provider"};b.Pw={OAa:"ClassProperty",aBa:"ConstructorArgument",xea:"Variable"};},6867:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dz="named";b.j_="name";b.ZP="unmanaged";b.KHa="optional";b.lP="inject";b.qD="multi_inject";b.mMa="inversify:tagged";b.nMa="inversify:tagged_props";b.Yca="inversify:paramtypes";b.Qgb="design:paramtypes";b.NP="post_construct";},51389:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u;c=this && this.__awaiter || (function(t,w,v,y){return new (v || (v=Promise))(function(x,z){function A(C){try{D(y.next(C));}catch(F){z(F);}}function B(C){try{D(y["throw"](C));}catch(F){z(F);}}function D(C){C.done?x(C.value):new v(function(F){F(C.value);}).then(A,B);}D((y=y.apply(t,w || [])).next());});});l=this && this.__generator || (function(t,w){var x,z,A,B,D;function v(C){return function(F){return y([C,F]);};}function y(C){if(z)throw new TypeError("Generator is already executing.");for(;x;){try{if((z=1,A && (B=A[C[0] & 2?"return":C[0]?"throw":"next"]) && !(B=B.call(A,C[1])).done))return B;if((A=0,B))C=[0,B.value];switch(C[0]){case 0:case 1:B=C;break;case 4:return (x.label++,{value:C[1],done:!1});case 5:x.label++;A=C[1];C=[0];continue;case 7:C=x.NG.pop();x.Qj.pop();continue;default:if(!(B=x.Qj,B=0 < B.length && B[B.length - 1]) && (6 === C[0] || 2 === C[0])){x=0;continue;}if(3 === C[0] && (!B || C[1] > B[0] && C[1] < B[3]))x.label=C[1];else if(6 === C[0] && x.label < B[1])(x.label=B[1],B=C);else if(B && x.label < B[2])(x.label=B[2],x.NG.push(C));else {B[2] && x.NG.pop();x.Qj.pop();continue;}}C=w.call(t,x);}catch(F){C=[6,F];A=0;}finally{z=B=0;}}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}x={label:0,Qa:function(){if(B[0] & 1)throw B[1];return B[1];},Qj:[],NG:[]};return (D={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});f=a(44290);k=a(16674);d=a(28421);a(6867);g=a(51377);m=a(86311);h=a(31927);n=a(51860);p=a(37791);q=a(55800);a(85700);u=a(80175);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + k.Cgb);if(void 0 === w.ZE)w.ZE=d.Gr.a0;else if(w.ZE !== d.Gr.eea && w.ZE !== d.Gr.a0 && w.ZE !== d.Gr.Request)throw Error("" + k.Agb);if(void 0 === w.ER)w.ER=!1;else if("boolean" !== typeof w.ER)throw Error("" + k.zgb);if(void 0 === w.zH)w.zH=!1;else if("boolean" !== typeof w.zH)throw Error("" + k.Bgb);this.options={ER:w.ER,ZE:w.ZE,zH:w.zH};this.id=p.id();this.MD=new u.mjb();this.Lpb=[];this.parent=this.Pfa=null;this.pob=new g.Kca();}t.prototype.load=function(){var x,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.hOa();for(var y=0;y < w.length;y++){x=w[y];z=v(x.id);x.Rta(z.XRa,z.Ucb,z.l2a,z.K8a);}};t.prototype.xU=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var y,x,z,A,B;return l(this,function(D){switch(D.label){case 0:(y=this.hOa(),x=0,z=w,D.label=1);case 1:if(!(x < z.length))return [3,4];A=z[x];B=y(A.id);return [4,A.Rta(B.XRa,B.Ucb,B.l2a,B.K8a)];case 2:(D.Qa(),D.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.Zcb=function(){function w(z){return function(A){return A.c5a === z;};}for(var v=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(z){z=w(z.id);v.MD.rYb(z);});};t.prototype.bind=function(w){var v;v=new f.Tfb(w,this.options.ZE || d.Gr.a0);this.MD.add(w,v);return new n.Vfb(v);};t.prototype.vXb=function(w){this.Tcb(w);return this.bind(w);};t.prototype.Tcb=function(w){try{this.MD.remove(w);}catch(v){throw Error(k.kgb + " " + q.rL(w));}};t.prototype.D1a=function(w){var v;v=this.MD.Z_a(w);!v && this.parent && (v=this.parent.D1a(w));return v;};t.prototype.restore=function(){var w;w=this.Lpb.pop();if(void 0 === w)throw Error(k.Vjb);this.MD=w.HR;this.Pfa=w.UQb;};t.prototype.Kyb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.gOa(!1,!1,d.Pw.xea,w);};t.prototype.getAll=function(w){return this.gOa(!0,!0,d.Pw.xea,w);};t.prototype.resolve=function(w){var v;v=this.Kyb();v.bind(w).tcb();return v.get(w);};t.prototype.hOa=function(){var z;function w(A){return function(B){B=z.vXb.bind(z)(B);B.yc.c5a=A;return B;};}function v(){return function(A){return z.D1a.bind(z)(A);};}function y(){return function(A){z.Tcb.bind(z)(A);};}function x(A){return function(B){B=z.bind.bind(z)(B);B.yc.c5a=A;return B;};}z=this;return function(A){return {XRa:x(A),l2a:v(A),K8a:w(A),Ucb:y(A)};};};t.prototype.gOa=function(w,v,y,x){var z;z=null;w={ktb:w,Swb:function(A){return A;},gNb:v,key:void 0,Dg:x,W2b:y,value:void 0};if(this.Pfa){if((z=this.Pfa(w),void 0 === z || null === z))throw Error(k.Uib);}else z=this.cpb()(w);return z;};t.prototype.cpb=function(){var w;w=this;return function(v){var y;y=m.IM(w.pob,w,v.gNb,v.W2b,v.Dg,v.key,v.value,v.ktb);y=v.Swb(y);return h.resolve(y);};};return t;})();b.AY=r;},33244:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37791);b.ed=(function(){return function(l){this.id=c.id();this.Rta=l;};})();b.uza=(function(){return function(l){this.id=c.id();this.Rta=l;};})();},85700:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.h8b=(function(){function a(){}a.of=function(c,l){var f;f=new a();f.HR=c;f.UQb=l;return f;};return a;})();},80175:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);r=(function(){function l(){this.Ff=new Map();}l.prototype.add=function(f,k){var d;if(null === f || void 0 === f)throw Error(c.IP);if(null === k || void 0 === k)throw Error(c.IP);d=this.Ff.get(f);void 0 !== d?(d.push(k),this.Ff.set(f,d)):this.Ff.set(f,[k]);};l.prototype.get=function(f){if(null === f || void 0 === f)throw Error(c.IP);f=this.Ff.get(f);if(void 0 !== f)return f;throw Error(c.cFa);};l.prototype.remove=function(f){if(null === f || void 0 === f)throw Error(c.IP);if(!this.Ff.delete(f))throw Error(c.cFa);};l.prototype.rYb=function(f){var k;k=this;this.Ff.forEach(function(d,g){d=d.filter(function(m){return !f(m);});0 < d.length?k.Ff.set(g,d):k.Ff.delete(g);});};l.prototype.Z_a=function(f){if(null === f || void 0 === f)throw Error(c.IP);return this.Ff.has(f);};l.prototype.clone=function(){var f;f=new l();this.Ff.forEach(function(k,d){k.forEach(function(g){return f.add(d,g.clone());});});return f;};return l;})();b.mjb=r;},86700:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(6867);b.G9b=r;r=a(51389);b.AY=r.AY;r=a(28421);b.Gr=r.Gr;b.dj=r.dj;b.Pw=r.Pw;r=a(33244);b.uza=r.uza;b.ed=r.ed;r=a(64315);b.T=r.T;r=a(32052);b.Rbb=r.Rbb;r=a(38085);b.o5a=r.o5a;r=a(5744);b.l=r.l;b.kca=r.kca;r=a(6515);b.optional=r.optional;r=a(86757);b.ln=r.ln;r=a(71693);b.CG=r.CG;r=a(55638);b.jX=r.jX;r=a(7014);b.H7a=r.H7a;r=a(51377);b.Kca=r.Kca;r=a(37791);b.id=r.id;r=a(99934);b.MA=r.MA;r=a(80758);b.Lcb=r.Lcb;b.Sbb=r.Sbb;b.p5a=r.p5a;b.Scb=r.Scb;r=a(55800);b.rL=r.rL;a=a(70600);b.l5a=a.l5a;},95228:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37791);r=(function(){function l(f){this.id=c.id();this.hb=f;}l.prototype.arb=function(f){this.IM=f;};return l;})();b.dBa=r;},47738:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);r=(function(){function l(f,k){this.key=f;this.value=k;}l.prototype.toString=function(){return this.key === c.Dz?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},51377:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);r=(function(){function l(){}l.prototype.QYa=function(f){var k;k=Reflect.getMetadata(c.Yca,f);f=Reflect.getMetadata(c.mMa,f);return {ITa:k,I5b:f || ({})};};l.prototype.YIb=function(f){return Reflect.getMetadata(c.nMa,f) || [];};return l;})();b.Kca=r;},55314:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jlb=(function(){return function(a,c){this.BM=a;this.Cua=c;};})();},86311:function(r,b,a){var d,g,m,h,n,p,q,u,t,w,v,y;function c(x,z,A,B,D){var C,F;C=k(A.hb,D.Dg);F=[];C.length === d.Saa.AHa && A.hb.options.ER && "function" === typeof D.Dg && x.QYa(D.Dg).ITa && (A.hb.bind(D.Dg).tcb(),C=k(A.hb,D.Dg));F=z?C:C.filter(function(G){var E;E=new v.Request(G.Dg,A,B,G,D);return G.UE(E);});l(D.Dg,F,D,A.hb);return F;}function l(x,z,A,B){switch(z.length){case d.Saa.AHa:if(A.S1a())return z;x=p.rL(x);z=g.Tjb;z+=p.rOb(x,A);z+=p.h3a(B,x,k);throw Error(z);case d.Saa.hkb:if(!A.isArray())return z;default:if(A.isArray())return z;x=p.rL(x);z=g.Web + " " + x;z+=p.h3a(B,x,k);throw Error(z);}}function f(x,z,A,B,D,C){var F;if(null === D){z=c(x,z,B,null,C);F=new v.Request(A,B,null,z,C);A=new t.jlb(B,F);B.arb(A);}else (z=c(x,z,B,D,C),F=D.pQa(C.Dg,z,C));z.forEach(function(G){var E,J,M;E=null;if(C.isArray())E=F.pQa(G.Dg,G,C);else {if(G.cache)return;E=F;}if(G.type === m.dj.Instance && null !== G.Tl){J=w.dHb(x,G.Tl);if(!B.hb.options.zH){M=w.CGb(x,G.Tl);if(J.length < M)throw (G=g.Yeb(w.getFunctionName(G.Tl)),Error(G));}J.forEach(function(L){f(x,!1,L.Dg,B,E,L);});}});}function k(x,z){var A,B;A=[];B=x.MD;B.Z_a(z)?A=B.get(z):null !== x.parent && (A=k(x.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(23184);g=a(16674);m=a(28421);h=a(6867);n=a(85265);p=a(55800);q=a(95228);u=a(47738);t=a(55314);w=a(6E3);v=a(6748);y=a(18924);b.sdc=function(x){return x.MD;};b.IM=function(x,z,A,B,D,C,F,G){void 0 === G && (G=!1);z=new q.dBa(z);A=new u.Metadata(A?h.qD:h.lP,D);B=new y.Z_(B,"",D,A);void 0 !== C && (C=new u.Metadata(C,F),B.Rd.push(C));try{return (f(x,G,D,z,null,B),z);}catch(E){throw (n.c2a(E) && z.IM && p.Kvb(z.IM.Cua),E);}};b.occ=function(x,z,A,B){A=new y.Z_(m.Pw.xea,"",z,new u.Metadata(A,B));x=new q.dBa(x);return new v.Request(z,x,null,[],A);};},88460:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.PN=c;}a.prototype.startsWith=function(c){return 0 === this.PN.indexOf(c);};a.prototype.endsWith=function(c){var l;l=c.split("").reverse().join("");c=this.PN.split("").reverse().join("");return this.startsWith.call({PN:c},l);};a.prototype.contains=function(c){return -1 !== this.PN.indexOf(c);};a.prototype.equals=function(c){return this.PN === c;};a.prototype.value=function(){return this.PN;};return a;})();b.ulb=r;},6E3:function(r,b,a){var d,g,m,h,n,p;function c(q,u,t,w){var v,y,x,z,B,D,C,F,G,E,J,M;v=q.QYa(t);y=v.ITa;if(void 0 === y)throw Error(g.vjb + " " + u + ".");v=v.I5b;x=Object.keys(v);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var A=0;A < z;A++){B=A;D=w;C=u;F=y;G=v[B.toString()] || [];E=k(G);J=!0 !== E.ln;F=F[B];M=E.l || E.CG;F=M?M:F;F instanceof d.kca && (F=F.E4b());if(J){J=F === Function;J=F === Object || J || void 0 === F;if(!D && J)throw Error(g.wjb + " argument " + B + " in class " + C + ".");B=new p.Z_(m.Pw.aBa,E.jX,F);B.Rd=G;G=B;}else G=null;null !== G && x.push(G);}q=l(q,t);return x.concat(q);}function l(q,u){var x,z,A;for(var t=q.YIb(u),w=[],v=0,y=Object.keys(t);v < y.length;v++){x=y[v];z=t[x];A=k(t[x]);x=new p.Z_(m.Pw.OAa,A.jX || x,A.l || A.CG);x.Rd=z;w.push(x);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=l(q,u),w=w.concat(q));return w;}function f(q,u){var t,w;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=n.getFunctionName(u);t=c(q,t,u,!0);w=t.map(function(v){return v.Rd.filter(function(y){return y.key === h.ZP;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:f(q,u);}return 0;}function k(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[h.lP],CG:u[h.qD],jX:u[h.j_],ln:u[h.ZP]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(5744);g=a(16674);m=a(28421);h=a(6867);n=a(55800);b.getFunctionName=n.getFunctionName;p=a(18924);b.dHb=function(q,u){var t;t=n.getFunctionName(u);return c(q,t,u,!1);};b.CGb=f;},6748:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37791);r=(function(){function l(f,k,d,g,m){this.id=c.id();this.Dg=f;this.BM=k;this.Ay=d;this.target=m;this.Hia=[];this.HR=Array.isArray(g)?g:[g];this.SYb=null === d?new Map():null;}l.prototype.pQa=function(f,k,d){f=new l(f,this.BM,this,k,d);this.Hia.push(f);return f;};return l;})();b.Request=r;},18924:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);l=a(37791);f=a(47738);k=a(88460);r=(function(){function d(g,m,h,n){this.id=l.id();this.type=g;this.Dg=h;this.name=new k.ulb(m || "");this.Rd=[];g=null;"string" === typeof n?g=new f.Metadata(c.Dz,n):n instanceof f.Metadata && (g=n);null !== g && this.Rd.push(g);}d.prototype.g0a=function(g){for(var m=0,h=this.Rd;m < h.length;m++){if(h[m].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.g0a(c.qD);};d.prototype.VPb=function(g){return this.gqa(c.qD)(g);};d.prototype.Ooa=function(){return this.g0a(c.Dz);};d.prototype.Zoa=function(){return this.Rd.some(function(g){return g.key !== c.lP && g.key !== c.qD && g.key !== c.j_ && g.key !== c.ZP && g.key !== c.Dz;});};d.prototype.S1a=function(){return this.gqa(c.KHa)(!0);};d.prototype.uIb=function(){return this.Ooa()?this.Rd.filter(function(g){return g.key === c.Dz;})[0]:null;};d.prototype.aHb=function(){return this.Zoa()?this.Rd.filter(function(g){return g.key !== c.lP && g.key !== c.qD && g.key !== c.j_ && g.key !== c.ZP && g.key !== c.Dz;}):null;};d.prototype.gqa=function(g){var m;m=this;return function(h){var q;for(var n=0,p=m.Rd;n < p.length;n++){q=p[n];if(q.key === g && q.value === h)return !0;}return !1;};};return d;})();b.Z_=r;},52279:function(r,b,a){var f,k,d;function c(g,m,h){var n;m=m.filter(function(p){return null !== p.target && p.target.type === k.Pw.OAa;});n=m.map(h);m.forEach(function(p,q){p=p.target.name.value();g[p]=n[q];});return g;}function l(g,m){var h;if(Reflect.MKb(d.NP,g)){h=Reflect.getMetadata(d.NP,g);try{m[h.value]();}catch(n){throw Error(f.blb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});f=a(16674);k=a(28421);d=a(6867);b.eZb=function(g,m,h){var n;n=null;0 < m.length?(n=m.filter(function(p){return null !== p.target && p.target.type === k.Pw.aBa;}).map(h),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,m,h)):n=new g();l(g,n);return n;};},31927:function(r,b,a){var f,k,d,g,m;function c(h){return function(n){var p,q,u,t,w;p=n.HR;q=n.Hia;u=n.target && n.target.isArray();t=!n.Ay || !n.Ay.target || !n.target || !n.Ay.target.VPb(n.target.Dg);if(u && t)return q.map(function(v){return c(h)(v);});u=null;if(!n.target.S1a() || 0 !== p.length){w=p[0];p=w.scope === k.Gr.eea;t=w.scope === k.Gr.Request;if(p && w.yga)return w.cache;if(t && null !== h && h.has(w.id))return h.get(w.id);if(w.type === k.dj.ZAa)u=w.cache;else if(w.type === k.dj.Function)u=w.cache;else if(w.type === k.dj.$Aa)u=w.Tl;else if(w.type === k.dj.fCa && null !== w.EK)u=l("toDynamicValue",w.Dg,function(){return w.EK(n.BM);});else if(w.type === k.dj.Iba && null !== w.VK)u=l("toFactory",w.Dg,function(){return w.VK(n.BM);});else if(w.type === k.dj.FKa && null !== w.Iy)u=l("toProvider",w.Dg,function(){return w.Iy(n.BM);});else if(w.type === k.dj.Instance && null !== w.Tl)u=m.eZb(w.Tl,q,c(h));else throw (q=g.rL(n.Dg),Error(f.Qib + " " + q));"function" === typeof w.Dv && (u=w.Dv(n.BM,u));p && (w.cache=u,w.yga=!0);t && null !== h && !h.has(w.id) && h.set(w.id,u);return u;}};}function l(h,n,p){try{return p();}catch(q){if(d.c2a(q))throw Error(f.pgb(h,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});f=a(16674);k=a(28421);d=a(85265);g=a(55800);m=a(52279);b.resolve=function(h){return c(h.IM.Cua.SYb)(h.IM.Cua);};},83366:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(28421);l=a(71325);r=(function(){function f(k){this.yc=k;}f.prototype.da=function(){this.yc.scope=c.Gr.eea;return new l.VC(this.yc);};f.prototype.doa=function(){this.yc.scope=c.Gr.a0;return new l.VC(this.yc);};return f;})();b.Ufb=r;},99812:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(83366);l=a(51811);f=a(98370);r=(function(){function k(d){this.yc=d;this.jQ=new f.Taa(this.yc);this.Jea=new l.nY(this.yc);this.NNa=new c.Ufb(d);}k.prototype.da=function(){return this.NNa.da();};k.prototype.doa=function(){return this.NNa.doa();};k.prototype.when=function(d){return this.jQ.when(d);};k.prototype.SX=function(){return this.jQ.SX();};k.prototype.Dv=function(d){return this.Jea.Dv(d);};return k;})();b.Kza=r;},51811:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(98370);r=(function(){function l(f){this.yc=f;}l.prototype.Dv=function(f){this.yc.Dv=f;return new c.Taa(this.yc);};return l;})();b.nY=r;},51860:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);l=a(28421);f=a(99812);k=a(71325);r=(function(){function d(g){this.yc=g;}d.prototype.to=function(g){this.yc.type=l.dj.Instance;this.yc.Tl=g;return new f.Kza(this.yc);};d.prototype.tcb=function(){if("function" !== typeof this.yc.Dg)throw Error("" + c.Vib);this.to(this.yc.Dg);};d.prototype.ll=function(g){this.yc.type=l.dj.ZAa;this.yc.cache=g;this.yc.EK=null;this.yc.Tl=null;new k.VC(this.yc);};d.prototype.LC=function(g){this.yc.type=l.dj.fCa;this.yc.cache=null;this.yc.EK=g;this.yc.Tl=null;return new f.Kza(this.yc);};d.prototype.F3b=function(g){this.yc.type=l.dj.$Aa;this.yc.Tl=g;new k.VC(this.yc);};d.prototype.Vd=function(g){this.yc.type=l.dj.Iba;this.yc.VK=g;new k.VC(this.yc);};d.prototype.G3b=function(g){if("function" !== typeof g)throw Error(c.Tib);this.ll(g);this.yc.type=l.dj.Function;};d.prototype.rcb=function(g){this.yc.type=l.dj.Iba;this.yc.VK=function(m){return function(){return m.hb.get(g);};};new k.VC(this.yc);};d.prototype.sX=function(g){this.yc.type=l.dj.FKa;this.yc.Iy=g;new k.VC(this.yc);};d.prototype.I3b=function(g){this.LC(function(m){return m.hb.get(g);});};return d;})();b.Vfb=r;},71325:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(51811);l=a(98370);r=(function(){function f(k){this.yc=k;this.jQ=new l.Taa(this.yc);this.Jea=new c.nY(this.yc);}f.prototype.when=function(k){return this.jQ.when(k);};f.prototype.SX=function(){return this.jQ.SX();};f.prototype.Dv=function(k){return this.Jea.Dv(k);};return f;})();b.VC=r;},98370:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(51811);a(80758);r=(function(){function l(f){this.yc=f;}l.prototype.when=function(f){this.yc.UE=f;return new c.nY(this.yc);};l.prototype.SX=function(){this.yc.UE=function(f){return null !== f.target && !f.target.Ooa() && !f.target.Zoa();};return new c.nY(this.yc);};return l;})();b.Taa=r;},80758:function(r,b,a){var f;function c(k){return function(d){function g(m){return null !== m && null !== m.target && m.target.gqa(k)(d);}g.G4a=new f.Metadata(k,d);return g;};}function l(k,d){k=k.Ay;return null !== k?d(k)?!0:l(k,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(6867);f=a(47738);b.Lcb=l;b.Sbb=c;a=c(r.Dz);b.p5a=a;b.Scb=function(k){return function(d){var g;if(null !== d){g=d.HR[0];return "string" === typeof k?g.Dg === k:k === d.HR[0].Tl;}return !1;};};},70600:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.l5a=function(a){return function(c){return function(){for(var l=[],f=0;f < arguments.length;f++){l[f]=arguments[f];}return l.forEach(function(k){return a.bind(k).I3b(c);});};};};},85265:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);b.c2a=function(l){return l instanceof RangeError || l.message === c.Rlb;};},37791:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},55800:function(r,b,a){var g;function c(m){return "function" === typeof m?m.name:"symbol" === typeof m?m.toString():m;}function l(m,h){return null === m.Ay?!1:m.Ay.Dg === h?!0:l(m.Ay,h);}function f(m){function h(n,p){var q;void 0 === p && (p=[]);q=c(n.Dg);p.push(q);return null !== n.Ay?h(n.Ay,p):p;}return h(m).reverse().join(" --\x3e ");}function k(m){m.Hia.forEach(function(h){if(l(h,h.Dg))throw (h=f(h),Error(g.ogb + " " + h));k(h);});}function d(m){var h;if(m.name)return m.name;m=m.toString();h=m.match(/^function\s*([^\s(]+)/);return h?h[1]:"Anonymous function: " + m;}Object.defineProperty(b,"__esModule",{value:!0});g=a(16674);b.rL=c;b.h3a=function(m,h,n){var p;p="";m=n(m,h);0 !== m.length && (p="\nRegistered bindings:",m.forEach(function(q){var u;u="Object";null !== q.Tl && (u=d(q.Tl));p=p + "\n " + u;q.UE.G4a && (p=p + " - " + q.UE.G4a);}));return p;};b.Kvb=k;b.rOb=function(m,h){var n,p;if(h.Zoa() || h.Ooa()){n="";p=h.uIb();h=h.aHb();null !== p && (n+=p.toString() + "\n");null !== h && h.forEach(function(q){n+=q.toString() + "\n";});return " " + m + "\n " + m + " - " + n;}return " " + m;};b.getFunctionName=d;},95320:function(r){var l,f,k,d,g,m,h,n;function b(){return !1;}function a(p){try{if(c(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=l.call(p);return g.test(q);}catch(u){return !1;}}l=Function.prototype.toString;f="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof f && "function" === typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw d;}});d={};f(function(){throw 42;},null,k);}catch(p){p !== d && (f=null);}else f=null;g=/^\s*class\b/;m=Object.prototype.toString;h="function" === typeof Symbol && !!Symbol.toStringTag;n=!((0 in [,]));"object" === typeof document && m.call(document.all) === m.call(document.all) && (b=function(p){var q;if(!(!n && p || "undefined" !== typeof p && "object" !== typeof p))try{q=m.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(u){}return !1;});r.exports=f?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{f(p,null,k);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(h)return a(p);if(c(p))return !1;q=m.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},18923:function(r,b,a){var c,l,f;c=Date.prototype.getDay;l=Object.prototype.toString;f=a(96410)();r.exports=function(k){if("object" !== typeof k || null === k)k=!1;else if(f)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object Date]" === l.call(k);return k;};},98420:function(r,b,a){var c,l,f,k,d,g,m;b=a(21924);if(a=a(96410)()){c=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");f={};k=function(){throw f;};d={toString:k,valueOf:k};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=k);}g=b("Object.prototype.toString");m=Object.getOwnPropertyDescriptor;r.exports=a?function(h){var n;if(!h || "object" !== typeof h)return !1;n=m(h,"lastIndex");if(!n || !c(n,"value"))return !1;try{l(h,d);}catch(p){return p === f;}}:function(h){return !h || "object" !== typeof h && "function" !== typeof h?!1:"[object RegExp]" === g(h);};},29981:function(r,b,a){var c,l,f;c=String.prototype.valueOf;l=Object.prototype.toString;f=a(96410)();r.exports=function(k){if("string" === typeof k)k=!0;else if("object" !== typeof k)k=!1;else if(f)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object String]" === l.call(k);return k;};},12636:function(r,b,a){var c,l,f;c=Object.prototype.toString;if(a(41405)()){l=Symbol.prototype.toString;f=/^Symbol\(.*\)$/;r.exports=function(k){if("symbol" === typeof k)return !0;if("[object Symbol]" !== c.call(k))return !1;try{return "symbol" !== typeof k.valueOf()?!1:f.test(l.call(k));}catch(d){return !1;}};}else r.exports=function(){return !1;};},43186:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma;Object.defineProperties(b,{__esModule:{value:!0}});b.Pya=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(94160);d=a(21173);g=a(13024);m=a(43956);h=a(6495);n=a(73520);p=a(47571);a(64196);q=a(59708);u=a(44724);t=a(89098);w=a(92758);v=a(33969);y=a(89909);x=a(74573);z=a(22258);A=a(72393);B=a(50971);D=a(79906);C=a(74005);F=c.__importDefault(a(29736));G=a(96607);E=a(1684);J=a(38534);M=a(5015);L=a(19829);I=a(19824);P=a(65398);K=a(23711);H=a(3442);N=a(56151);R=a(46127);Y=a(37293);ma=a(27291);r=(function(){function ia(ja){this.V=ja;this.events=new l.EventEmitter();this.Sa=d.Wt.CLOSED;this.Ju=[];this.MW=[];this.NQ=[];this.Po=[];this.ONa={};this.e1={};this.twa=d.GO.default;this.Tpb=new x.tu({cn:this,source:"engine",co:10,console:ja});}Object.defineProperties(ia.prototype,{Lv:{get:function(){(0,u.assert)(this.ex);return this.ex;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{qVb:{get:function(){return this.NQ;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{ZG:{get:function(){return this.Po.map(function(ja){return ja.ga;});},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{sVb:{get:function(){return this.Po;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{Ic:{get:function(){this.QH();return this.Bx.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{cV:{get:function(){this.QH();return this.Bx.cV;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{yp:{get:function(){this.QH();return this.Bx.yp;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{l6b:{get:function(){return this.Ju.length;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{aK:{get:function(){return this.ONa;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{iSa:{get:function(){return this.yl;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{AH:{get:function(){return this.e1;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{IQb:{get:function(){return this.QOa || (this.QOa=this.Eub());},enumerable:!1,configurable:!0}});ia.prototype.open=function(ja,Ca,Ba,Ka){var Va;Va=this;if(this.Sa === d.Wt.OPEN)return !1;this.Y=ja;this.Yp=new B.WP(new D.U_({hi:!0,currentTime:function(){return f.N.Ma(F.default.time.Ga());},speed:1}),this.V,"Engine Scheduler");this.oOa=new h.kDa(this.V,ja);this.fA=new q.$Ka(this.g6.bind(this),ja);ja.L$ && (this.yl=new g.fAa(this.V,function(){return Va.aK;}));this.Bx=n.UAa.Pma(ja,this.V,Ca);this.Sa=d.Wt.OPEN;ja=Object.create(ja,{Grb:{value:ja.Yqa || ja.Frb}});this.ex=(0,K.oT)(ja);Ba && this.ex.dab(Ba);Ka && this.ex.xva(Ka);this.z7a=new H.jKa({uj:function(){Va.Sa !== d.Wt.CLOSED && Va.fA.uj("playgraphOpportunity");}});this.ROa=new J.XGa(function(){return Va.Q4();},function(){return Va.R4().global;},this.V);this.zzb();return !0;};ia.prototype.qR=function(ja,Ca,Ba,Ka,Va){var db,W,ha;db=this;void 0 === Va && (Va=!0);this.QH();Ba=Object.create(Ba,{EN:{value:this.AH}});if(Va){W=this.Lv.Mvb(ja,Ba);if(W)return (W.Bdb(Ca),ja=this.no.bind(this,Ka,W),W.g0b(ja),W);}W=new I.bLa(function(ta){return db.no(Ka,ha,ta);},function(ta){return db.Uv(Ka,ta);});ha=(0,R.a3)(this.Y,[ja,Ca,Ba,ia.RRb++,this.Ic,W,function(ta){return db.fA.uj(ta);},Va?this.Lv.Lvb.bind(this.Lv):function(){},this.Q4.bind(this),this.yl],this.V);ha.Ye(new v.XLa(ha));ha.Ye(new y.qMa(ha.Gd));ha.K6.Ye(new M.kza(ha));ha.K6.Ye(new P.yFa(ha));this.eA.iH.forEach(function(ta){return ha.Ye(ta);});this.z7a.qR(ha);ja=new l.Re();ja.on(ha.events,"requestsPruned",this.WYb.bind(this));ja.on(ha.events,"weightUpdated",this.Ura.bind(this));ja.on(ha.events,"underflow",this.uh.bind(this,ha));this.Po.push({ga:ha,Sk:ja,bW:0});this.Ura();return ha;};ia.prototype.uh=function(ja){ja=this.ROa.LFb(ja);(null === ja || void 0 === ja?0:ja.u3) || this.Lv.reset();};ia.prototype.Oy=function(ja){this.z7a.Oy(ja);this.Po=this.Po.filter(function(Ca){return Ca.ga === ja?(Ca.Sk.clear(),!1):!0;});ja.Pa();this.Ura();};ia.prototype.erb=function(ja,Ca){var Ba,Ka,Va;this.QH();Va=Ca.bg;Va=void 0 === Va?[p.v.fa,p.v.X]:Va;ja=(0,Y.rK)(this.Y,[ja,Va,c.__assign({EN:null !== (Ka=null !== (Ba=Ca.EN) && void 0 !== Ba?Ba:this.e1) && void 0 !== Ka?Ka:{}},Ca)]);this.NQ.push(ja);return ja;};ia.prototype.i9a=function(ja){this.QH();this.NQ=this.NQ.filter(function(Ca){return Ca !== ja;});ja.Pa();};ia.prototype.H_b=function(ja,Ca){this.ONa=ja;this.e1=Ca;this.QOa=void 0;};ia.prototype.BN=function(ja,Ca){var Ba,Ka;Ka=null === (Ba=(0,k.Hc)(this.Ju,function(Va){return Va.TE.equals(ja);})) || void 0 === Ba?void 0:Ba.pa;Ka?Ka.BN(c.__assign(c.__assign({},Ca),{iV:this.jra.bind(this)})):this.MW.push({keb:ja,Qva:Ca});};ia.prototype.k9a=function(ja){this.MW=this.MW.filter(function(Ca){return !Ca.keb.equals(ja);});};ia.prototype.close=function(){this.Sa !== d.Wt.CLOSED && (this.nYb(),(0,u.assert)(0 === this.Ju.length,"Unexpected viewable lease after Playgraph destruction."),this.mYb(),this.MW=[],delete this.Bx,this.Sa=d.Wt.CLOSED,this.Yp.Pa());};ia.prototype.n0b=function(ja){this.twa=ja;this.fA.uj("streamingModeChanged");};ia.prototype.zzb=function(){this.eA=new L.Uda(this.Y);this.eA.Ye(new G.FCa(this));this.eA.Ye(new A.cLa(this.Ic,this.fA));this.eA.Ye(new w.CCa(this.Ic));this.eA.Ye(new z.Qw(this.Tpb));this.eA.Ye(new z.Qw(this.fA.xp));this.eA.Ye(new z.Qw(this.oOa.dh));this.eA.Ye(new z.Qw(this.ROa.dh));};ia.prototype.jra=function(){};ia.prototype.lO=function(ja){return c.__awaiter(this,void 0,void 0,function(){var Ca,Ba,Ka,Va;return c.__generator(this,function(db){switch(db.label){case 0:return ((0,u.assert)(ja,"ase.updateViewable(): Viewable config not found."),Ca=(0,k.Hc)(this.Ju,function(W){return !0 !== W.TE.Gq && W.TE.equals(ja);}),(0,u.assert)(Ca,"ase.updateViewable(): Viewable entry not found."),[4,Ca.jz]);case 1:return (Ba=db.Qa(),Va=(Ka=Ba).lO,[4,ja.Xp]);case 2:return (Va.apply(Ka,[db.Qa()]),[2]);}});});};ia.prototype.no=function(ja,Ca,Ba){var Ka,Va,db,W;Ka=this;Va=Ba.J;db=ja.Sm(Va,Ba.jW);(0,u.assert)(db,"ase.requestViewable(): Viewable config not found.");W=(0,k.Hc)(this.Ju,function(ha){return !0 !== ha.TE.Gq && ha.TE.equals(db);});W || (W={TE:db,jz:(function(){return c.__awaiter(Ka,void 0,void 0,function(){var ha,ta;return c.__generator(this,function(Q){switch(Q.label){case 0:return [4,db.Xp];case 1:return (ha=Q.Qa(),ta=this.$u(Va,db,ha),W.pa=ta,[2,ta]);}});});})(),pa:void 0,lOb:new t.lca(function(ha){ha() && Ka.Yta(W);},(0,C.Nh)(F.default,this.V,("").concat(Va)))},this.Ju.push(W));ja=new ma.tNa(W,this.V,Ca,Ba);ja.events.once("error",this.Yta.bind(this,W,!1));return ja;};ia.prototype.Yta=function(ja,Ca){var Ba,Ka;void 0 === Ca && (Ca=!0);(0,u.assert)(ja,"expected viewableEntry to exist");Ba=ja.pa;Ka=ja.jz;Ca && (Ba?Ba.Pa():Ka.then(function(Va){Va.Pa();}));this.Ju=this.Ju.filter(function(Va){return Va !== ja;});};ia.prototype.$u=function(ja,Ca,Ba){var Va,db,W,ha,ta,Q;function Ka(O){Va.events.emit("logdata",O);}Va=this;this.QH();db=Ba.W;W=Ba.Yu;ha=Ba.np;ta=Ba.bg;ta=void 0 === ta?p.Bz:ta;Ba=Ba.config;Q=[new m.Jca(p.v.fa),new m.Jca(p.v.X)];db={W:db,config:Ba,Yu:W,np:ha,bg:ta,Ic:this.Bx.Ic,yp:this.Bx.yp,HDb:{oB:function(){return Va.fA.uj("networkFailureReset");},sf:this.sf.bind(this,ja),Rq:this.Rq.bind(this,ja),FG:Ka},XKb:{FG:Ka,nL:function(O){return Q[O];},aec:function(){return !0;}},lW:{Ru:this.Ru.bind(this),At:this.At.bind(this)},AH:this.e1};ja=new m.rza(ja,db);Ba.KK && (db=(0,k.Hc)(this.MW,function(O){return O.keb.equals(Ca);})) && (db=db.Qva,this.k9a(Ca),ja.BN(c.__assign(c.__assign({},db),{iV:this.jra.bind(this)})));return ja;};ia.prototype.Uv=function(ja,Ca){return c.__awaiter(this,void 0,void 0,function(){var Ba,Ka,Va,db,W,ha,ta,Q,O;return c.__generator(this,function(Z){switch(Z.label){case 0:(Ba=Ca.mh,Ka=Ca.J,Va=ja.Sm(Ka),(0,u.assert)(Va,"ase.requestAdBreakHydration(): Parent viewable config not found."),db=(0,k.Hc)(this.Ju,function(oa){return !0 !== oa.TE.Gq && oa.TE.equals(Va);}),(0,u.assert)(db,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(Ka)),W=db.pa,(0,u.assert)(W,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(Ka)),ha=W.W.bc,ta={Gf:{bc:ha,wd:Ka}},Z.label=1);case 1:return (Z.Qj.push([1,3,,4]),[4,ja.Uv(Ba,ta)]);case 2:return (Q=Z.Qa(),[2,{A1:Q,wha:W}]);case 3:return (O=Z.Qa(),[2,Promise.reject(O)]);case 4:return [2];}});});};ia.prototype.g6=function(){var ja,Ca;(0,u.assert)(this.state === d.Wt.OPEN);ja=this.R4();Ca=this.uL();return this.oOa.l6a(ja,Ca);};ia.prototype.uL=function(){var ja,Ca,Ba;ja=this;Ba=null !== (Ca=this.Y.RVb) && void 0 !== Ca?Ca:this.Po.every(function(Ka){return !Ka.ga.Nq;});Ca=(0,k.flatten)(this.Po.map(function(Ka){return Ka.ga.uL().map(function(Va){Ka.ga.Nq || 1 === Ka.bW || (Va.QF=Ka.bW);return Va;});}));this.twa === d.GO.disabled?Ca=[]:this.twa === d.GO.tPb && (Ca=Ca.filter(function(Ka){return ja.Y.c4a >= Ka.wr - Ka.Cq;}));Ba || (Ba=Ca.filter(function(Ka){var Va;return 1 === (null !== (Va=Ka.QF) && void 0 !== Va?Va:1);}),Ba.length && (Ca=Ba));Ba=this.Ju.reduce(function(Ka,Va){return Va.pa?c.__spreadArray(c.__spreadArray([],c.__read(Ka),!1),c.__read(Va.pa.uL()),!1):Ka;},[]);return (0,k.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(Ca),!1),c.__read(Ba),!1));};ia.prototype.QH=function(){if(this.Sa === d.Wt.CLOSED)throw Error("Engine CLOSED");};ia.prototype.nYb=function(){var ja,Ka;try{for(var Ca=c.__values(this.Po),Ba=Ca.next();!Ba.done;Ba=Ca.next()){Ka=Ba.value;Ka.Sk.clear();this.Oy(Ka.ga);}}catch(db){var Va;Va={error:db};}finally{try{Ba && !Ba.done && (ja=Ca.return) && ja.call(Ca);}finally{if(Va)throw Va.error;}}};ia.prototype.mYb=function(){var ja;try{for(var Ca=c.__values(this.NQ),Ba=Ca.next();!Ba.done;Ba=Ca.next()){this.i9a(Ba.value);}}catch(Va){var Ka;Ka={error:Va};}finally{try{Ba && !Ba.done && (ja=Ca.return) && ja.call(Ca);}finally{if(Ka)throw Ka.error;}}};ia.prototype.sf=function(ja,Ca,Ba,Ka,Va,db,W){var ha;void 0 === W && (W=!1);ha=!1;this.c_a(ja).forEach(function(ta){if(!W || (0,p.Vn)(ta.hf.value))ha=ta.sf(Ca,ja,Ba,Ka,Va,db,W);});return ha;};ia.prototype.Rq=function(ja){return this.c_a(ja).some(function(Ca){return Ca.Rq();});};ia.prototype.c_a=function(ja){return this.Po.filter(function(Ca){var Ba;for(Ca=Ca.ga;Ca.Ta;){Ca=Ca.Ta;}Ba=Ca.ga;return Object.keys(Ba.M).some(function(Ka){return Ba.M[Ka].J === ja;});}).map(function(Ca){return Ca.ga;});};ia.prototype.R4=function(){var ja;ja=new E.iDa();this.Po.forEach(function(Ca){var Ba,Ka;Ba=Ca.ga;Ca=Ca.bW;Ka=Ba.R4();Ka.QF=Ca;ja.add(Ba.id,Ka);});return ja;};ia.prototype.Q4=function(){return this.IQb;};ia.prototype.Eub=function(){var ja,Ca;Ca=(0,N.ySa)(this.Y,this.aK);return {total:(ja={},ja[p.v.X]=this.aK.video || Infinity,ja[p.v.fa]=this.aK.audio || Infinity,ja[p.v.Ya]=this.aK.text || Infinity,ja.total=this.aK.total || Infinity,ja),jwa:Ca};};ia.prototype.Ru=function(ja){var Ca;this.fA.Ru(ja);null === (Ca=this.yl) || void 0 === Ca?void 0:Ca.Ru(ja);};ia.prototype.At=function(ja){this.fA.At(ja);};ia.prototype.Ura=function(){var ja;ja=this.ZG.reduce(function(Ca,Ba){return Math.max(Ba.weight,0) + Ca;},0);this.Po.forEach(function(Ca){Ca.bW=0 >= Ca.ga.weight?0:Ca.ga.weight / ja;});};ia.prototype.WYb=function(ja){var Ca;Ca=this;this.yl && ja.requests.forEach(function(Ba){return Ca.yl.At(Ba);});};ia.RRb=0;c.__decorate([(0,x.Sb)({methodName:"open"})],ia.prototype,"open",null);c.__decorate([(0,x.Sb)({methodName:"addPlaygraph",context:function(ja){var Ca,Ba;return {playgraphCount:null !== (Ba=null === (Ca=ja.a6a.Po) || void 0 === Ca?void 0:Ca.length) && void 0 !== Ba?Ba:0};}})],ia.prototype,"qR",null);c.__decorate([(0,x.Sb)({methodName:"removePlaygraph",context:function(ja){return {playgraphCount:ja.a6a.Po.length};}})],ia.prototype,"Oy",null);c.__decorate([(0,x.Sb)({methodName:"close"})],ia.prototype,"close",null);c.__decorate([(0,x.Sb)({methodName:"setStreamingMode",sq:!0})],ia.prototype,"n0b",null);c.__decorate([(0,x.Sb)({methodName:"notifyAseException",sq:!0})],ia.prototype,"jra",null);c.__decorate([(0,x.Sb)({methodName:"updateViewable"})],ia.prototype,"lO",null);c.__decorate([(0,x.Sb)({methodName:"requestViewable"})],ia.prototype,"no",null);c.__decorate([(0,x.Sb)({methodName:"removeViewable"})],ia.prototype,"Yta",null);c.__decorate([(0,x.Sb)({methodName:"createViewable"})],ia.prototype,"$u",null);c.__decorate([(0,x.Sb)({methodName:"requestAdBreakHydration"})],ia.prototype,"Uv",null);c.__decorate([(0,x.Sb)({methodName:"issueRequestOpportunity",dk:!0,return:!0})],ia.prototype,"g6",null);c.__decorate([(0,x.Sb)({methodName:"reportStreamingFailure",sq:!0})],ia.prototype,"sf",null);return ia;})();b.Pya=r;},37293:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rK=void 0;c=a(70655);l=a(19821);f=a(51472);b.rK=function(k,d){var g,m,h;g=[function(n){return new (l.Faa.bind.apply(l.Faa,c.__spreadArray([void 0],c.__read(n.hVb),!1)))();}];if(k.yS){m=a(70744).oja;g.unshift(function(n,p){return m(n,p);});}if(k.nF){h=a(70744).oja;g.unshift(function(n,p){return h(n,p);});}return f.SO.P5({hVb:d},g);};},46127:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.a3=void 0;c=a(70655);l=a(95994);f=a(19709);k=a(86021);d=a(51472);b.a3=function(g,m,h){var n,p,q,u;n=[function(t){return new (f.Gaa.bind.apply(f.Gaa,c.__spreadArray([void 0],c.__read(t.LV),!1)))();}];p=(0,k.Wm)({ga:m[0]});l.K && h.trace("Creating playgraph",{Cfc:p,jcc:g.yS,Ze:g.nF});if(g.yS){q=a(93750);n.unshift(function(t,w){return q.YR({},t,w);});}if(g.nF){u=a(48487);n.unshift(function(t,w){return u.YR({},t,w);});}return d.SO.P5({LV:m,fha:[]},n);};},79391:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aZb=b.oL=void 0;c=a(70655).__importDefault(a(29736));l=a(43186);b.oL=function(){var k;if(!f){k=new c.default.Console("ASEJS","media|asejs");f=new l.Pya(k);}return f;};b.aZb=function(){f=void 0;};},3442:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jKa=void 0;r=(function(){function a(c){this.uj=c.uj;this.ov=this.XLb();}a.prototype.qR=function(c){c.events.on("requestsPruned",this.ov);};a.prototype.Oy=function(c){c.events.removeListener("requestsPruned",this.ov);};a.prototype.XLb=function(){var c;c=this;return function(){return c.uj();};};return a;})();b.jKa=r;},23711:function(r,b,a){var l,f,k,d;function c(){return l.__awaiter(this,void 0,void 0,function(){var g;return l.__generator(this,function(m){switch(m.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(79391));})];case 1:return (g=m.Qa().oL,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.oT=void 0;l=a(70655);f=a(12568);k=l.__importDefault(a(29736));b.oT=function(g){var m;m=new k.default.Console("ASEJS","media|asejs");d || (d=new f.uKa(function(){return c();},g,m));return d;};},56151:function(r,b,a){var l;function c(f,k,d,g){return f && k?Math.min(f - k * d,f - g):(f || Infinity) - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.ySa=void 0;l=a(47571);b.ySa=function(f,k){var d,g,m,h,n,p,q,u;u=c(k.audio,k.Cbc,f.pja,null !== (g=f.dUa) && void 0 !== g?g:0);g=c(k.video,k.nhc,f.pja,null !== (m=f.fUa) && void 0 !== m?m:0);m=c(k.text,k.Lgc,f.pja,null !== (h=f.eUa) && void 0 !== h?h:0);return (d={},d[l.v.fa]=u,d[l.v.X]=g,d[l.v.Ya]=m,d.total=(k.total || Infinity) - (null !== (n=f.dUa) && void 0 !== n?n:0) - (null !== (p=f.fUa) && void 0 !== p?p:0) - (null !== (q=f.eUa) && void 0 !== q?q:0),d);};},27291:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.tNa=void 0;c=a(70655);l=a(28075);f=a(95994);k=a(42324);r=(function(){function d(g,m,h,n){this.neb=g;this.console=m;this.psb=h;this.jW=n;this.events=new l.EventEmitter();this.oG=g.lOb.Ku();}Object.defineProperties(d.prototype,{pa:{get:function(){var g;return null === (g=this.neb) || void 0 === g?void 0:g.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jz:{get:function(){var g;g=this;return (function(){return c.__awaiter(g,void 0,void 0,function(){var m;return c.__generator(this,function(h){switch(h.label){case 0:return (h.Qj.push([0,2,,3]),[4,this.neb.jz]);case 1:return [2,h.Qa()];case 2:throw (m=h.Qa(),k.zda.mNb(m) && this.psb.sf(m),f.K && this.console.trace("Removing broken viewable entry due to error",this.jW),this.events.emit("error",{error:m}),m);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.tNa=r;},69570:function(r,b,a){var l;function c(f,k){var d;void 0 === k && (k=c);d="";f.TK && (d=null === f || void 0 === f?void 0:f.TK.map(k).reduce(function(g,m){return ("").concat(g,",").concat(m);}));return ("").concat(null === f || void 0 === f?void 0:f.name,"::").concat(null === f || void 0 === f?void 0:f.message,"::{").concat(null === f || void 0 === f?void 0:f.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.xaa=void 0;l=a(70655);r=(function(f){function k(d,g){d=f.call(this,k.dGb(d,g)) || this;d.rnb=g;d.name="AggregateError";return d;}l.__extends(k,f);k.dGb=function(d,g){return g.reduce(function(m,h){return ("").concat(m,"\n").concat(h);},d);};k.stringify=function(d){return c(d);};Object.defineProperties(k.prototype,{TK:{get:function(){return this.rnb;},enumerable:!1,configurable:!0}});return k;})(Error);b.xaa=r;},5607:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(74104),b);r.__exportStar(a(2150),b);r.__exportStar(a(15063),b);},74104:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},2150:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},15063:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CMb=b.x1a=void 0;b.x1a=function(a){return ("ttml" in a);};b.CMb=function(a){return ("images" in a);};},31976:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},45356:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},35510:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lm=void 0;r=b.lm || (b.lm={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.qm=2]="STREAMING";},12677:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},21173:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wt=b.GO=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.tPb=2]="lowCpuPlaybackStarting";})(b.GO || (b.GO={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Wt || (b.Wt={}));},93959:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qc=void 0;r=a(70655);r.__exportStar(a(21173),b);r.__exportStar(a(45356),b);r.__exportStar(a(35510),b);r.__exportStar(a(12677),b);r.__exportStar(a(619),b);r.__exportStar(a(5607),b);r.__exportStar(a(2150),b);r.__exportStar(a(56365),b);r.__exportStar(a(31976),b);r.__exportStar(a(13815),b);c=a(19829);Object.defineProperties(b,{qc:{enumerable:!0,get:function(){return c.qc;}}});},619:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},56365:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},49944:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pI=void 0;r=b.pI || (b.pI={});r[r.start=0]="start";r[r.end=1]="end";},34117:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},36178:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},96080:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},5594:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(49944),b);r.__exportStar(a(96080),b);r.__exportStar(a(34117),b);r.__exportStar(a(36178),b);},13815:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(5594),b);},69565:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$p=void 0;c=a(70655).__importDefault(a(29736));l=a(312);r=(function(){function f(k){k=("(").concat(k,")");this.V=new c.default.Console("ASEJS","media|asejs",k);this.Nfa=[];}f.prototype.nv=function(k){var d;if(!this.Nfa[k]){d=("[").concat(k,"]");this.Nfa[k]=(0,l.Nh)(c.default,this.V,d);}return this.Nfa[k];};return f;})();b.$p=new r(0);},43956:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.rza=b.Jca=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(19236);r=a(23563);d=a(34684);g=a(89718);m=a(22687);h=a(47571);n=c.__importDefault(a(29736));p=a(44724);a(74005);q=a(61360);u=a(60482);t=a(28035);w=a(31047);v=a(36088);y=a(3591);b.Jca=(function(){return function(x){this.mediaType=x;this.V2a=void 0;};})();a=(function(x){function z(A,B){var D,C,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca;C=B.W;F=B.bg;G=B.Yu;E=B.np;J=B.config;M=B.XKb;L=B.lW;I=B.Ic;P=B.yp;K=B.HDb;B=B.AH;H=x.call(this) || this;H.J=A;H.o0a=!1;H.U2a=0;H.zJ={};H.uv=(D={},D[h.v.fa]={},D[h.v.X]={},D[h.v.Ya]={},D);H.gbc=[];H.iob=[];H.ND=[];H.NA=[];H.L0=!1;H.L5a=!1;H.UTa={C6:"liveEdgeCushion",uG:"maxMediaBufferAllowed",kVa:"decryptOCSideChannelMinInterval",lVa:"decryptOCSideChannelMinIntervalAfterCompleted"};H.TTa=Object.keys(H.UTa).reduce(function(Ba,Ka){Ba[H.UTa[Ka]]=Ka;return Ba;},{});H.KOa=C;H.HB=function(Ba){return 0 <= F.indexOf(Ba);};H.console=new n.default.Console("ASEJS","media|asejs","<" + String(H.J) + ">");H.config=H.$pb(C,J);H.vU=new v.CFa();M && (A=M.nL,H.Zx=new y.TDa(H,H.console,H.config,M.FG,A),H.nL=A);H.events=new l.EventEmitter();H.Ic=I;H.lW=L;H.AH=B;H.Yu=G;H.np=!!E;N=[[],[],[]];R=[{},{},{}];Y=[0,0];ma=!1;ja=H.HB(h.v.fa);Ca=H.HB(h.v.X);G=H.ia;["audio_tracks","video_tracks"].forEach(function(Ba,Ka){var Va,db;Va=Ka === h.v.X;db=Ka === h.v.fa;db && !ja || Va && !Ca || H.W[Ba].forEach(function(W,ha){if(W.type !== h.v.fa || !1 !== W.xg)(ha=new d.rI({pa:H,bo:W,mediaType:Ka,np:H.np,YH:ha,tE:ha + (db?H.W.video_tracks.length:0)},H.config,H.console),Ka === h.v.X && J.dDb && new q.sza(J).PWb(ha.Fg),Ka === h.v.X && (ia=u.FD.from({nt:W.tqa,Ds:W.sqa})),N[Ka].push(ha),R[Ka]=c.__assign(c.__assign({},R[Ka]),ha.PF()),ha.maxBitrate > Y[ha.mediaType] && (Y[ha.mediaType]=ha.maxBitrate),ma=ma || ha.Sl);});});G && H.W.timedtexttracks.forEach(function(Ba,Ka){var Va;if("none" !== Ba.id){Va=h.v.Ya;Ba=new d.rI({pa:H,bo:Ba,mediaType:Va,np:!1,YH:Ka,tE:Ka},H.config,H.console);N[Va].push(Ba);R[Va]=c.__assign(c.__assign({},R[Va]),Ba.PF());}});H.W.zm && ((0,p.assert)(ia,"Should have video track if there are adverts"),H.zm={ce:H.W.zm.ce.map(function(Ba){var Ka;Ka=c.__assign(c.__assign({},Ba),{Ot:Ba.jk,jk:ia.normalize(Ba.jk)});Ba.Ze !== Ba.ads && (Ka.unnormalizedLocationMs=Ka.Ot,Ka.locationMs=Ka.jk);return Ka;})});H.Tk=new m.HFa(H.W,R,I,P,H.config,null === K || void 0 === K?void 0:K.FG);I=K.oB;P=K.Rq;H.GJ=K.sf;H.Rq=P;H.oB=I;H.D0=new g.ICa(H.Tk,H.config,H.nKb.bind(H),H.mKb.bind(H));H.D0.events.addListener("requestError",function(Ba){H.ia && H.config.TOb && 404 === Ba.$x && H.vU.sZb();});H.iQ=N;H.k$=R;H.bM=Y;H.Sl=ma;return H;}c.__extends(z,x);Object.defineProperties(z.prototype,{W:{get:function(){return this.KOa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ia:{get:function(){var A,B;A=this.W;B=A.Aj;return "LIVE" === A.eg && !!B;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{QU:{get:function(){var A;return !(null === (A=this.iQ[h.v.X][0]) || void 0 === A || !A.QU);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{O:{get:function(){return this.W.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{hp:{get:function(){return this.W.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{duration:{get:function(){return this.W.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ul:{get:function(){return this.L0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Qx:{get:function(){(0,p.assert)(this.D0,"ErrorDirector is not available on old architecture prefetch viewables.");return this.D0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{SK:{get:function(){return this.Qx.events;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Gt:{get:function(){return this.vU.Gt;},set:function(A){this.vU.Gt=A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{i3a:{get:function(){return this.zJ;},enumerable:!1,configurable:!0}});z.prototype.Pa=function(){this.close();this.de();};z.prototype.close=function(){var A;this.NA=[];null === (A=this.D0) || void 0 === A?void 0:A.Pa();this.Tk.Pa();this.L0=!0;};z.prototype.de=function(){this.Zx && this.Zx.de();};z.prototype.lO=function(A){var B,D,C,F,G,E;B=this;D=A.W;C=A.Yu;A=A.bg;F=void 0 === A?h.Bz:A;(0,p.assert)(C === this.Yu,"Updating Viewable clearplay not supported");h.Bz.forEach(function(J){(0,p.assert)(B.HB(J) === 0 <= F.indexOf(J),"Updating Viewable media types not supported");});(0,p.assert)(D.movieId === this.W.movieId,"Changing Viewable manifest movieId unsupported");G=this.HB(h.v.fa);E=this.HB(h.v.X);["audio_tracks","video_tracks"].forEach(function(J,M){var L,I,P,K;L=M === h.v.X;I=M === h.v.fa;if(!(I && !G || L && !E)){P=D[J];K=B.iQ[M];(0,p.assert)(K.every(function(H){var N;N=P[H.YH];return N && N.iO === H.trackId && (N.type === h.v.X || !1 !== N.xg);}),"Existing tracks must still exist and be hydrated in updated manifest");P.forEach(function(H,N){var R,Y;if(H.type !== h.v.fa || !1 !== H.xg){R=B.getTrackById(H.iO);if(R){H=H.streams;Y=Object.keys(R.PF());(0,p.assert)(H.length === Y.length,"Expected updated manifest track to have same number of streams");H.forEach(function(ma){ma=ma.downloadable_id;(0,p.assert)(-1 !== Y.indexOf(ma),"Changing Viewable track streams unsupported");});}else (R=new d.rI({pa:B,bo:H,mediaType:M,np:B.np,YH:N,tE:N + (I?B.W.video_tracks.length:0)},B.config,B.console),K.push(R),B.k$[M]=c.__assign(c.__assign({},B.k$[M]),R.PF()),R.maxBitrate > B.bM[R.mediaType] && (B.bM[R.mediaType]=R.maxBitrate),(0,p.assert)(B.Sl || !R.Sl,"Can not update clear viewable with drm track."));}});}});this.KOa=D;this.Tk.F1(this.W,this.k$);};z.prototype.rLb=function(A,B){var D,C;D=this;(0,p.assert)(this.W.zm,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,p.assert)(this.zm,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.W.zm.ce.some(function(F,G){var E,J;if(F.mh === B){E=D.zm.ce[G];J=E.jk;E=E.Ot;C=c.__assign(c.__assign({},A),{Ot:E,jk:J,mh:B});F.Ze !== F.ads && (C.unnormalizedLocationMs=C.Ot,C.locationMs=C.jk,C.adBreakToken=C.mh);D.zm.ce[G]=C;return !0;}});return C;};z.prototype.BN=function(A){var B,D,C;B=A.Fp;D=A.ma;C=A.lka;A=A.iV;B && D?(this.U9=new k.GLa(B,{ma:String(D),lka:!!C,wQb:this.config.p_.mx,Qtb:this.config.p_.lv},A),this.Qx.BN(this.U9)):this.L5a || (A("SideChannel: pbcid/xid is missing."),this.L5a=!0);};z.prototype.Eoa=function(){return void 0 !== this.hp;};z.prototype.Um=function(A,B){return (0,w.LZa)(this.W,A,B);};z.prototype.getTracks=function(A){return this.iQ[A];};z.prototype.getTrackById=function(A){var B;this.iQ.some(function(D){return D.some(function(C){if(C.trackId === A)return (B=C,!0);});});B || this.console.warn("getTrackById not found:",A,"length:",this.iQ.length);return B;};z.prototype.jna=function(A,B){return (A=this.PF(A)) && A[B];};z.prototype.PF=function(A){return this.k$[A];};z.prototype.CNb=function(A){var B,D;if(void 0 === A.I8 || void 0 === A.gta){B=this.Tk.cC.filter(function(C){return void 0 !== C.streams[A.Tb];})[0];D=B.children.filter(function(C){return C.urls.some(function(F){return F.stream.id === A.Tb;});})[0];A.I8=B.id;A.gta=D.id;}return {dpa:A.location === A.I8,DNb:A.$b === A.gta};};z.prototype.zva=function(A,B,D){void 0 !== B && void 0 !== D && (this.t9a(A.mediaType,B),A.zva(B,D));};z.prototype.t9a=function(A,B){var D;D=this.config.Xqa;("location" === D || "video_location" === D && A === h.v.X) && this.Ic.N9(B);};z.prototype.sf=function(A,B,D,C,F,G){(0,p.assert)(this.GJ,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.GJ(A,B,D,C,F,G);};z.prototype.vo=function(){var A;A=this;if(this.Ul)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);h.Bz.forEach(function(B){A.HB(B) && A.h5b(B) && A.Y4b(B);});this.R4b();return !0;};z.prototype.Js=function(A,B){var D;D=this.getTracks(h.v.X)[0];(0,p.assert)(D);if(D.ZF)return D.Js(A,B);};z.prototype.h5b=function(A){var B;B=this;return this.Ul?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.HB(A)?this.ND.reduce(function(D,C){return (0,f.T1)(D,C.Wd.filter(function(F){return F.mediaType === A;}));},[]).map(function(D){return B.Tk.wdb(B.J,D.Fg);}).every(function(D){return D;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A),!1);};z.prototype.R4b=function(){(0,p.assert)(this.Zx,"Headers not available on old architecture prefetch viewables.");this.Zx.vo();};z.prototype.Y4b=function(A){var B,D,G;D=[];if(this.Ul)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else if(this.HB(A))try{for(var C=c.__values(this.ND),F=C.next();!F.done;F=C.next()){G=F.value.vo(A);G.length && D.push.apply(D,G);}}catch(J){var E;E={error:J};}finally{try{F && !F.done && (B=C.return) && B.call(C);}finally{if(E)throw E.error;}}else this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A);};z.prototype.$pb=function(A,B){var D,F,G;if((A=A.steeringAdditionalInfo) && A.streamingClientConfig && Object.keys(A.streamingClientConfig).length){A=A.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(A));for(var C in A){if(this.TTa.hasOwnProperty(C)){F=this.TTa[C];if(B.hasOwnProperty(F)){G=Number(A[C]);B.set?0 === B.set((D={},D[F]=G,D)) && this.console.trace("Invalid key" + C):B[F]=G;}}}}return B;};z.prototype.uh=function(){var A;A=this;this.Tk.uh();this.Qx.uh();this.U9 && ((0,p.assert)(this.nL),h.Bz.forEach(function(B){B=A.nL(B);A.U9.hva("rebuffer",B.V2a);}));};z.prototype.FF=function(A,B){return this.Zx.FF(A,B);};z.prototype.N_b=function(A,B,D){this.NA.push({u:B,stream:A,GJb:D});};z.prototype.Z8a=function(){this.NA=[];};z.prototype.tYb=function(A){this.NA=this.NA.filter(function(B){return B.stream !== A;});};z.prototype.sYb=function(A){this.NA=this.NA.filter(function(B){return B !== A;});};z.prototype.uL=function(){var A;A=this;return this.Rq()?[]:this.NA.map(function(B){var D,C,F,G,E,J,M;D=B.u;C=B.stream;F=B.GJb;G=F();F=G.Yg;E=G.hf;J=G.By;M=G.wr;G=G.Cq;return {identifier:("").concat(C.J,"-").concat(C.mediaType,"-").concat(C.bitrate),mediaType:C.mediaType,Yg:F,hf:E,By:J,wr:M,Cq:G,ata:0,$sa:Infinity,RV:1,Sy:1,NXa:0,groupId:("").concat(A.J),GB:!0,Ys:!1,Pk:!1,i2a:function(){return {result:!0};},o2a:function(){if(C.aI(D))return (A.tYb(C),{Lh:!0,reason:"success"});A.sYb(B);return {Lh:!1,reason:"viewableTryIssueHeaderRequest"};}};});};z.prototype.aI=function(A,B,D){(0,p.assert)(this.Zx,"Headers not available on old architecture prefetch viewables.");return this.Zx.aI(A,B,D);};z.prototype.eR=function(A,B){(0,p.assert)(this.Zx,"Headers not available on old architecture prefetch viewables.");return this.Zx.eR(A,B);};z.prototype.pKb=function(A){var B,D;B=A.Tb;D=A.mediaType;this.ia || this.X4b(D,A.stream.Ka);this.jna(D,B).M4b(n.default.lT()[D],this.Eoa()?this.config.bQb:0);this.events.emit("onHeaderFragments",A);};z.prototype.aYb=function(A){this.ND.push(A);};z.prototype.z4b=function(A){A=this.ND.indexOf(A);(0,p.assert)(-1 !== A,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.ND.splice(A,1);};z.prototype.e8=function(A){var B;null === (B=this.lW) || void 0 === B?void 0:B.Ru(A);};z.prototype.KG=function(A){this.Ul?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",A):void 0 !== A.location && this.t9a(A.mediaType,A.location);};z.prototype.LG=function(A){this.Ul?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",A):this.Qx.H$(A);};z.prototype.Bp=function(A){var B;null === (B=this.lW) || void 0 === B?void 0:B.At(A);this.Ul?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",A):this.Rq() || this.Qx.H$(A);};z.prototype.zM=function(A,B,D){var C;D && (null === (C=this.lW) || void 0 === C?void 0:C.At(A));};z.prototype.vV=function(A){var B,D,C,F;B=this;this.Ul?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",A):(this.Qx.jr(A,void 0,A.status,A.Nf,A.Ph),this.ia && !A.Me && A.Bj && !A.stream.qta(A.Bj)?null !== (D=A.Zn) && void 0 !== D && D.pN || ((null === (C=A.Zn) || void 0 === C?void 0:C.Sp) <= this.config.D6?A.Zn.pN=setTimeout(function(){A.Zn.pN=void 0;B.pdb(A,!1);},this.config.a3b):(null === (F=A.Zn) || void 0 === F?void 0:F.Sp) === this.config.D6 + 1 && this.config.H6 && this.pdb(A,!0)):this.vo() || this.sf(A.fv || "unknown","NFErr_MC_StreamingFailure",A.Nf,A.status,A.Ph));};z.prototype.DWb=function(){var A,B;this.odb(null === (A=this.W.Aj) || void 0 === A?void 0:A.ala,null === (B=this.W.Aj) || void 0 === B?void 0:B.U3,!0);};z.prototype.odb=function(A,B,D){var C,F,G,E,J;(0,p.assert)(this.W.Aj,"Missing manifest liveMetadata.");G=this.W.Aj;E=G.ala;J=G.U3;G=this.i3a;this.zJ={startTime:null !== (C=null !== E && void 0 !== E?E:A) && void 0 !== C?C:G.startTime,endTime:null !== (F=null !== J && void 0 !== J?J:B) && void 0 !== F?F:G.endTime};A=this.zJ.startTime !== G.startTime;B=this.zJ.endTime !== G.endTime;(D || A || B) && this.events.emit("liveEventTimesUpdated",c.__assign({pa:this},this.zJ));B && this.ND.forEach(function(M){M.hN();});};z.prototype.U4b=function(A,B){if(this.uv[A].WA !== B.WA || this.uv[A].XA !== B.XA)(this.uv[A]=B,this.events.emit("liveLoggingInfoUpdated",{pa:this,mediaType:A,info:B}));};z.prototype.MOb=function(){(0,p.assert)(this.ia,"liveEventCompleted called on viewable that is not live");return void 0 !== this.zJ.endTime;};z.prototype.pdb=function(A,B){var D,G;try{for(var C=c.__values(this.ND),F=C.next();!F.done;F=C.next()){G=F.value.cf(A.mediaType);G && G.V4b(A,B);}}catch(J){var E;E={error:J};}finally{try{F && !F.done && (D=C.return) && D.call(C);}finally{if(E)throw E.error;}}};z.prototype.X4b=function(A,B){this.iob[A]=B.lqa;};z.prototype.nKb=function(A){var B,D,C;if(!this.L0){B=A.lNb;D=A.NTb;C=A.PTb;A=A.QTb;this.console.warn("Streaming failure, is permanent: " + B + ", last error code: " + D + ", last http code: " + C + ", last native code: " + A);B?(this.console.warn(" > Permanent failure, done"),B=this.sf("Permanent failure","NFErr_MC_StreamingFailure",D,C,A)):(this.console.warn(" > We are buffering, calling it!"),B=this.sf("Temporary failure while buffering","NFErr_MC_StreamingFailure",A,C,A,!0));B || (this.console.warn(" > Resetting failures"),this.Qx.k9());}};z.prototype.mKb=function(){(0,p.assert)(this.oB,"Error handling not available on old architecture prefetch viewables.");this.L0 || (this.vo(),this.oB());};return z=c.__decorate([t.xF],z);})(r.pz);b.rza=a;},25580:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wza=void 0;c=a(70655);r=(function(){function l(f,k,d,g){this.J=f;this.no=k;this.tV=d;this.Tra=g;}Object.defineProperties(l.prototype,{pa:{get:function(){var f;return null === (f=this.RX) || void 0 === f?void 0:f.pa;},enumerable:!1,configurable:!0}});l.prototype.Pa=function(){var f;this.pa && (this.pa.z4b(this.yb),this.Tra(this.pa));null === (f=this.RX) || void 0 === f?void 0:f.oG.release();this.RX=void 0;};l.prototype.va=function(f){return c.__awaiter(this,void 0,void 0,function(){var k,d,g,m,h;return c.__generator(this,function(n){switch(n.label){case 0:return (this.yb=f,k=this.no(this.J),d=k.jz,g=k.pa,m=k.oG,this.RX={oG:m,pa:g},g?(this.c1a(g,f,!1),[2,g]):[4,d]);case 1:return (h=n.Qa(),this.c1a(h,f,!0),[2,h]);}});});};l.prototype.c1a=function(f,k,d){this.RX && (this.RX.pa=f,f.aYb(k),this.tV(k,f,d));};return l;})();b.Wza=r;},3591:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.TDa=void 0;c=a(70655);l=a(69565);f=a(41736);k=c.__importDefault(a(29736));r=a(23563);d=a(44724);g=a(65519);a=(function(m){function h(n,p,q,u,t){var w;w=m.call(this,n) || this;w.LJ=n;w.V=p;w.Y=q;w.FG=u;w.nL=t;w.BOa=[void 0,void 0];w.ufa={Wz:[Object.create(null),Object.create(null)]};w.oe=g.aD.instance.Ix("headers","" + w.LJ.J,!0,!1,{},w.Y);w.oe.va();return w;}c.__extends(h,m);Object.defineProperties(h.prototype,{Wz:{get:function(){return this.ufa.Wz;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{v0:{get:function(){return this.ufa.v0;},set:function(n){this.ufa.v0=n;},enumerable:!1,configurable:!0}});h.prototype.de=function(){var n;n=this;this.Wz.forEach(function(p,q){for(var u in p){p[u].de();n.cka(q,u);}});this.oe && g.aD.instance.s3(this.oe);this.oe=void 0;};h.prototype.FF=function(n,p){return this.Wz[n][p];};h.prototype.aI=function(n,p,q){var u,t,w,v;u=this.Y;t=this.FF(n.mediaType,n.Tb);if(t)return (t.stream.Ka || t.Z9 && this.mTa(t),!1);t=this.$nb;w=this.aob;if(void 0 !== u.Lqa && void 0 !== t && void 0 !== w){v=k.default.time.Ga();if(v - t < u.Lqa || v - w < u.Lqa)return !1;}n=this.h4b(n,{u:p,offset:0},q);this.aob=k.default.time.Ga();return n;};h.prototype.h4b=function(n,p,q){var u,t,w,v;t=n.mediaType;l.$p.nv(t);if(this.FF(t,n.Tb))n=!1;else {w=this.Y.Fbb && n.ia;v=w?0:p.offset;w=w?0:null !== (u=p.Ba) && void 0 !== u?u:this.snb(n);p=c.__assign(c.__assign({},p),{offset:v,Ba:w});u=!!p.rS;v=!!p.dV;this.jJb?q=this.jJb(t,!!p.PS,u,v,!1):q || (q=this.oe);(0,d.assert)(q);n.url && (this.nL(t).V2a=n.vT(!0));if(!this.Zmb(n,q,p).open())return (this.LJ.sf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);n=!0;}return n;};h.prototype.vo=function(){var n,p;n=this;p=[];this.Wz.forEach(function(q,u){var w;l.$p.nv(u);for(var t in q){u=q[t];w=u.K$();1 === w?p.push(u):2 === w && n.LJ.sf("swapUrl failure");}});return p;};h.prototype.Bp=function(n,p){var q,u;q=n.mediaType;u=l.$p.nv(q);this.LJ.Ul?u.warn("header onrequestcomplete ignored, session shutdown:",n.toString()):(this.FG({type:"logdata",target:"startplay",Cc:{usedNativeDataView:n.H5b}}),n.j8 > n.Yra && (this.BOa[q]=n.j8),n.Z9 && this.mTa(n),this.Lnb(n),this.$nb=k.default.time.Ga(),this.LJ.events.emit("onHeaderRequestComplete",n));this.dB(n,p);};h.prototype.eR=function(n,p){var q,u,t,w;q=[];u=this.Wz[n];for(t in u){w=u[t];w && !w.stream.Ka && w.YM === p && (this.cka(n,t),q.push({u:w.u,stream:w.stream,offset:w.offset,Ba:w.Ba,rS:w.rS,PS:w.PS,dV:w.dV,CM:w.CM}),w.de());}return q;};h.prototype.Tqb=function(n){this.Wz[n.mediaType][n.Tb]=n;};h.prototype.Lnb=function(n){var p,q,u,w;p=this.Y;q=l.$p.nv(n.mediaType);u=n.stream.Ka;if(p.Pja){p=u.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){w=u.get(t);q.trace("fragment: " + t + ", startPts: " + w.La.G + ", duration: " + w.ue.G + ", offset: " + w.offset);}}this.Dmb(n);};h.prototype.Dmb=function(n){var p,q;p=n.mediaType;q=n.Tb;l.$p.nv(p);n.v6a && (n.v6a.forEach(function(u){(u=u.jna(p,q)) && u !== n.stream && !u.gk && u.Wwb(n.stream);}),n.v6a=void 0);this.LJ.pKb(n);};h.prototype.Zmb=function(n,p,q){var u,t;u=this;t=l.$p.nv(n.mediaType);n=new f.cza(n,this.Y,p,q,this,q.u,!1,t);n.addListener("headerRequestCancelled",function(w){u.Knb(w.request);});this.Tqb(n);return n;};h.prototype.snb=function(n){var p,q,u,t;p=n.tk;q=n.pa;u=q.duration;t=this.Y;return n.ia?512:q.np?t.oXa?t.oXa:t.u5:t.F5b && p?p.offset + p.size:(n=this.BOa[n.mediaType])?n + 128:t.Uka?2292 + 12 * Math.ceil(u / 2E3):t.u5;};h.prototype.Knb=function(n){this.cka(n.mediaType,n.Tb);};h.prototype.cka=function(n,p){delete this.Wz[n][p];};h.prototype.mTa=function(n){this.v0 === n.Tb && (this.v0=void 0);};return h;})(r.pz);b.TDa=a;},36088:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CFa=void 0;r=a(70655);c=a(95994);l=r.__importDefault(a(29736));a=(function(){function f(){this.console=new l.default.Console("ASEJS","asejs|serverclock");}Object.defineProperties(f.prototype,{Gt:{get:function(){return void 0 === this.vH?(c.K && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),l.default.time.now()):l.default.time.Ga() - this.vH;},set:function(k){this.mG=l.default.time.Ga();this.nG=k;k=this.mG - this.nG;if(void 0 === this.vH || k < this.vH)this.vH=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{MK:{get:function(){var k;k=l.default.time.Ga();return void 0 === this.vH?{rTa:k}:{rTa:k,Gt:k - this.vH,mG:this.mG,nG:this.nG};},enumerable:!1,configurable:!0}});f.prototype.sZb=function(){void 0 !== this.mG && void 0 !== this.nG && (this.vH=this.mG - this.nG);};return f;})();b.CFa=a;},31047:function(r,b,a){var l;function c(f){var k;k={profile:f.spoofedProfile || f.profile,IFb:f.max_framerate_value,HFb:f.max_framerate_scale,maxWidth:f.maxWidth,maxHeight:f.maxHeight,Bsa:f.pixelAspectX,Csa:f.pixelAspectY,channels:f.channels,sampleRate:f.channels?48E3:void 0};f.spoofedProfile && (k.ofc=f.profile);return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.oIb=b.LZa=void 0;l=a(47571);b.LZa=function(f,k,d){var g;g=[{},{}];(d === l.v.fa?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(m,h){f[m].some(function(n,p){return p === k[h]?(g[h]=c(n),!0):!1;});});return g;};b.oIb=c;},57563:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oIa=void 0;r=a(70655);c=a(41427);l=r.__importDefault(a(29736));a=(function(){function f(k,d){this.J=k;this.g6b=d;this.Yu=!0;this.o0a=this.Sl=this.np=!1;this.O=("").concat(c.sn);this.ia=this.QU=!1;this.console=new l.default.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(f.prototype,{Gt:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return l.default.time.now();},enumerable:!1,configurable:!0}});f.prototype.getTrackById=function(){};f.prototype.uh=function(){};f.prototype.Z8a=function(){};f.prototype.sf=function(){return !0;};return f;})();b.oIa=a;},19236:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GLa=void 0;r=a(70655);c=a(74005);a=r.__importDefault(a(29736));l=a.default.gq;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function f(k,d,g){this.iV=g;this.kqb=new c.Cea(k);this.ma=d.ma;this.Lmb=1E3 * d.wQb / d.Qtb;this.IBb=d.lka;this.qRa=!1;}f.prototype.As=function(k){var d,g,m;d={s_xid:this.ma,dl:this.IBb?1:0};k.HE && (d.bs=(0,c.jK)(Math.floor(k.HE / this.Lmb) + 1,1,5));k.G7 && (d.limit_rate=k.G7);k.$Ra && (d.bb_reason=k.$Ra);k.pcb && (d.tm=k.pcb);if(k.J6a){g=k.J6a;m=g.Ep;"HYBRID" === m?(d.hybrid=g.yL.pLb,d.cspr=g.yL.Gv,d.cu=g.yL.tia,d.cldl=g.yL.iua,d.h_ms=g.yL.xQb):"CCSP" === m && ((m=g.c6()) || !m && this.qRa) && (d.cpr_ss=g.Yy,d.cpr_ca=g.Dx,d.cpr_rec=g.Ly,this.qRa=m);}k.Tha && (d.br="" + k.Tha.start + "+" + k.Tha.size);return this.Mob(d);};f.prototype.hva=function(k,d){var g,m;try{g=new l(void 0,"notification");m=this.As({$Ra:k});d && m && g.open(d,void 0,2,void 0,void 0,void 0,m);}catch(h){this.iV("SideChannel: Error when sending sendBlackBoxNotification. Error: " + h);}};f.prototype.Mob=function(k){var d;try{d=this.Gpb(k);return this.kqb.encrypt(d);}catch(g){this.iV("SideChannel: Error when obfuscating msg. Error: " + g);}};f.prototype.Gpb=function(k){return Object.keys(k).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(k[d]));}).join("&");};return f;})();b.GLa=a;},62158:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.kJa=void 0;r=a(70655);c=a(94160);l=r.__importDefault(a(54186));f=l.default.Bo;k=l.default.ou;d=a(47571);g=a(74005);m=r.__importDefault(a(73764));h=r.__importDefault(a(29736));a=(function(){function n(p,q,u,t,w){this.qt=p;this.dv=q;this.Y=u;this.V=t;this.Ce=w;}n.prototype.kSb=function(p){var q;q=p.u;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{I:q.id,offset:c.N.Ma(this.qt.cja).wa(q.Ud)},completePlayerStreamingTimestamp:c.N.Ma(this.qt.XR),trackIndex:p.stream.track.tE};(0,g.xq)(this.dv,p.type,p);};n.prototype.mSb=function(p,q,u){var t,w,v;w=this.Ce;v=this.qt.gl.ze;v.fab(p);w === d.v.X && this.Y.y9 && (void 0 === v.ppa?v.gab(h.default.time.Ga()):h.default.time.Ga() - v.ppa > this.Y.y9 && (p.bitrate !== v.S2a && (h.default.storage.set("vb",p.bitrate),v.k0b(p.bitrate)),v.gab(h.default.time.Ga())));v.u6 && v.u6 === p || (this.qt.gl.b2b(q,v.u6,p),v.$_b(p),q=0,p.Wb && p.Wb.confidence && p.Wb.qb && (q=p.Wb.qb.Da),u={I:this.qt.yb.u.id,offset:c.N.Ma(u).wa(this.qt.yb.u.Ud)},p={type:"streamSelected",nativetime:h.default.time.Ga(),mediaType:w,streamId:p.id,trackIndex:p.track.tE,streamIndex:p.It,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.pa) || void 0 === t?void 0:t.W},(0,g.xq)(this.dv,p.type,p));};n.prototype.hSb=function(p,q,u){var t,w,v,y;t=q.pa;w=t.Tk;v=this.qt.gl.ze;y=t.CNb(q);t=y.dpa;y=y.DNb;u && q.$b && !v.nU?(y=k.qu,q.Ft=k.name[y],this.O5a(p,q.$b,q.Ft,q.location,q.bitrate),v.nU=q.$b):!u && q.$b && q.$b !== v.nU && (y=y?void 0 === v.nU?k.qu:w.zN === k.eda?k.Llb:k.Paa:k.Klb,q.Ft=k.name[y],this.O5a(p,q.$b,q.Ft,q.location,q.bitrate),v.nU=q.$b);v.TL || (y={type:"logdata",target:"startplay",fields:{}},this.Ce === f.fa?y.fields.alocid=q.location:this.Ce === f.X && (y.fields.locid=q.location),(0,g.xq)(this.dv,y.type,y));u && q.location && !v.TL?(y=k.qu,q.Ft=k.name[y],this.N5a(p,q.location,q.Fpa,q.$b,q.FW,q.Ft,q.Mv),v.TL=q.location):!u && q.location && q.location !== v.TL && (y=t?void 0 === v.TL?k.qu:w.zN === k.eda?k.jjb:k.Paa:k.ijb,q.Ft=k.name[y],this.N5a(p,q.location,q.Fpa,q.$b,q.FW,q.Ft,q.Mv),q.Mv=void 0,v.TL=q.location);this.Y.dH || (q.L2a=q.location,q.R2a=q.$b);};n.prototype.ora=function(p){p={type:"requestsPruned",requests:p};(0,g.xq)(this.dv,p.type,p);};n.prototype.O5a=function(p,q,u,t,w){var v,y;if(this.Ce === f.Ya)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(v={},v[d.v.fa]="audio",v[d.v.X]="video",v[d.v.Ya]="subtitle",v)[this.Ce];v=m.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:u,location:t,bitrate:w,confidence:v.confidence};v.confidence && (p.throughput=v.qb.Da);this.qt.gl.ze.nU && (p.oldserver=q);(0,g.xq)(this.dv,p.type,p);}};n.prototype.N5a=function(p,q,u,t,w,v,y){var x,z;if(this.Ce === f.Ya)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[d.v.fa]="audio",x[d.v.X]="video",x[d.v.Ya]="subtitle",x)[this.Ce];p={type:"locationSelected",segmentId:p,mediatype:z,location:q,locationlv:u,serverid:t,servername:w,selreason:v,seldetail:y};(0,g.xq)(this.dv,"locationSelected",p);}};n.prototype.Fob=function(p,q){p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};(0,g.xq)(this.dv,p.type,p);};n.prototype.BFb=function(p){(0,g.xq)(this.dv,"transportReport",p);};n.prototype.AFb=function(p){(0,g.xq)(this.dv,"mediaRequestComplete",p);};return n;})();b.kJa=a;},28376:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.iJa=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(62158);d=a(23563);g=a(14384);m=a(47571);h=a(80849);n=a(22782);p=a(74005);q=a(44724);u=c.__importDefault(a(29736));r=a(57772);t=a(40885);w=a(53597);v=a(65519);y=a(28035);a=(function(x){function z(A,B,D,C,F,G,E,J,M,L,I,P){var K;K=x.call(this,A) || this;K.Y=B;K.Ur=F;K.rq=G;K.Unb=E;K.cx=I;K.yl=P;K.events=new l.EventEmitter();K.connected=!1;K.Gna=!1;K.Xr=!1;K.Wfa=!1;K.r4=new g.CHa(K.mediaType,B,D,K);A="[" + K.mediaType + "]";K.V=(0,p.Nh)(u.default,D,A);K.Uz=K.V.error.bind(K.V);K.ns=K.V.warn.bind(K.V);K.ix=K.V.trace.bind(K.V);K.l1=E.G;K.OPa=J;K.Oo=new k.kJa(K,C,K.Y,K.V,K.mediaType);K.qq=new h.ZKa(K,B,K.V,K.Oo,K.Ur,K.mediaType,K.cx,function(){return K.gn;});B.el && (K.el=new n.TLa(B.el,K.V));M && (K.Gj=null !== L && void 0 !== L?L:(0,w.Ix)(K.mediaType,K.track.pa,K.Y,K.V,K.track.ia,K.Oo.BFb.bind(K.Oo),K.Oo.AFb.bind(K.Oo),function(){}),K.Gj.on("created",function(){return K.events.emit("requestQueueCreated");}));return K;}c.__extends(z,x);Object.defineProperties(z.prototype,{mediaType:{get:function(){return this.rq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{track:{get:function(){return this.rq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yb:{get:function(){return this.Ur;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{I:{get:function(){return this.Ur.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{df:{get:function(){return this.qq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Fg:{get:function(){return this.rq.Fg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{M2:{get:function(){return this.qq.M2;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{i9:{get:function(){return this.qq.i9;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{il:{get:function(){return this.l1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{e$:{get:function(){var A;return null !== (A=this.Bb) && void 0 !== A?A:this.fy;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ll:{get:function(){var A;return null !== (A=this.df.Ll) && void 0 !== A?A:this.e$;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{XR:{get:function(){return this.df.XR;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{cja:{get:function(){return this.df.cja;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$Nb:{get:function(){var A;A=this.df.G2a;return null === A || void 0 === A?void 0:A.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Pk:{get:function(){return !!this.nf && (this.dC > this.nf.index || this.l1 >= this.nf.ab.G);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Crb:{get:function(){return this.Pk && 0 === this.df.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$h:{get:function(){return this.Pk && 0 === this.qq.AUb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{osa:{get:function(){var A;if(this.Wfa)return !0;if(!this.$h)return !1;A=this.qT();return this.Wfa || (this.Wfa=void 0 === A || A.osa);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Nrb:{get:function(){return !!this.df.G2a;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{sA:{get:function(){return this.df.sA;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Br:{get:function(){return this.Lb?f.N.max(this.Lb.wa(this.HC),f.N.Ia):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{XK:{get:function(){return this.yb.XK;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Xzb:{get:function(){return this.df.Ka.ue;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gl:{get:function(){return this.OPa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ze:{get:function(){return this.gl.ze;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Yn:{get:function(){return this.gl.ze.Yn;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S:{get:function(){var A,B;return null !== (B=null === (A=this.af) || void 0 === A?void 0:A.S) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ob:{get:function(){var A;return null === (A=this.af) || void 0 === A?void 0:A.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rb:{get:function(){var A;return null === (A=this.nf) || void 0 === A?void 0:A.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gn:{get:function(){return this.yb.te.Ae(this.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ina:{get:function(){return this.df.Ina;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zv:{get:function(){return this.df.Zv;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fwa:{get:function(){return this.df.fwa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fy:{get:function(){return this.Unb.add(this.yb.te);},enumerable:!1,configurable:!0}});z.prototype.fR=function(){var A;A=this;this.qq.fR(function(B){var D,C;C=B[0];B=null === (D=C.La) || void 0 === D?void 0:D.G;D=C.index;D < A.dC && A.AN(B,D);});};z.prototype.reset=function(){this.df.reset();this.af && this.AN(this.af.La.G,this.af.index);this.Gj && this.yb.pa.eR(this.mediaType,this.Gj);};z.prototype.If=function(A){var B;this.Xr=!0;this.qq.If(A);null === (B=this.OPa) || void 0 === B?void 0:B.ze.Pa();this.Gj && (this.yb.pa.eR(this.mediaType,this.Gj),v.aD.instance.s3(this.Gj),this.Gj.removeAllListeners(),this.Gj=void 0);};z.prototype.toJSON=function(){return {started:this.Zv,startOfSequence:this.fwa,segmentId:this.I,requestedBufferLevel:this.i9,viewableId:this.Ur.pa.J,hasFragments:this.Ina};};z.prototype.vo=function(A){return this.df.vo(A);};z.prototype.AN=function(A,B){this.l1=A;this.dC=B;};z.prototype.kB=function(){return this.df.kB();};z.prototype.qT=function(){return this.yb.XZa(this.mediaType);};z.prototype.nK=function(A){return (A=this.df.SEb(A.G))?A.complete:!1;};Object.defineProperties(z.prototype,{Yg:{get:function(){return this.Ur.Yg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{HC:{get:function(){var A,B,D,C;return null !== (C=null !== (A=this.df.HC) && void 0 !== A?A:null === (D=null === (B=this.af) || void 0 === B?void 0:B.La) || void 0 === D?void 0:D.add(this.yb.te)) && void 0 !== C?C:this.fy;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qbb:{get:function(){return f.N.Ma(this.l1);},enumerable:!1,configurable:!0}});z.prototype.Ocb=function(A,B,D){var C;(0,q.assert)(this.Gj);(0,q.assert)(!this.Xr,"pipeline.tryIssueRequest on disabled pipeline");(0,q.assert)(!this.Ys(),"pipeline.tryIssueRequest on done pipeline");(0,q.assert)(!this.Pk);if(!A.gk)return (A=A.aI(this.yb.u,this.Gj))?{Lh:A,reason:"success"}:{Lh:A,reason:"pipelineTryIssueHeaderRequest"};if(A.ia)((0,q.assert)(this.track.ia,"Unexpected live stream."),A=this.k4b(A,this.Gj,D));else {C=A.IHb();(0,q.assert)(C,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(A.gk,", headerFragments:").concat(C));A=this.l4b(A,C,this.Gj,B,D);}this.rvb();return A;};z.prototype.O5=function(A,B){A && (this.af=A);B && (this.nf=B);(0,q.assert)(this.af);(0,q.assert)(this.nf);(0,q.assert)(void 0 === this.dC);this.AN(this.af.La.G,this.af.index);};z.prototype.truncate=function(A){var B;B=this;(0,q.assert)(this.af,"expected first fragment to exist on updateStreaming");this.nf=A;this.Pk && (A=c.__read(this.qq.oqb(A),2),this.AN(A[0],A[1]),this.Pk && (this.df.H$a(),this.df.SSa(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};z.prototype.GB=function(){return this.Ys()?!1:this.Ug()?!0:this.track.bV;};z.prototype.Ug=function(){return void 0 !== this.af && void 0 !== this.nf;};z.prototype.Ys=function(){return this.Xr || this.Crb;};z.prototype.U1a=function(){var A,B,D;D=this.Y.ko;if(null === (A=this.Gj) || void 0 === A?0:A.track)D=null === (B=this.Gj) || void 0 === B?void 0:B.track.ko;return D;};Object.defineProperties(z.prototype,{S7a:{get:function(){var A;A=!0;this.Y.oua && (A=this.connected);this.Y.nua && (A=A && this.Gna);return A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{YTb:{get:function(){return void 0 !== this.el;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{A6a:{get:function(){var A;return (null === (A=this.el) || void 0 === A?0:A.B2())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});z.prototype.Bp=function(A,B){this.Oo.kSb(A);"oncomplete" === this.Y.W0a && (this.Gna=!0);this.dB(A,B);};z.prototype.KG=function(A){var B,D;A.Me || this.Oo.mSb(A.stream,null === (B=A.Bb) || void 0 === B?void 0:B.G,null === (D=A.La) || void 0 === D?void 0:D.G);this.Oo.hSb(this.I,A.stream,A.Me);this.p4(A);};z.prototype.JG=function(A){this.connected=!0;"onfirstbyte" === this.Y.W0a && (this.Gna=!0);this.$K(A);};z.prototype.nZa=function(A){var B,D;B=this.df.Ka;if(0 === B.length)return {Ka:[],k8:0,cr:0,eN:0};D=B.LS(A.G);0 > D && (D=void 0 === B.Bb || A.G <= B.Bb.G?0:B.length);return {Ka:B.h_b(D),k8:Math.max(0,B.LTa - D),cr:B.cr,eN:B.eN};};z.prototype.hB=function(){return this.track.hB();};z.prototype.V4b=function(A,B){B && this.Y.H6 && (B=this.Fg.indexOf(A.stream),-1 === B?this.Uz("reissueLiveRequest: stream not found in stream list, falling back to first stream"):A.lvb(this.Fg[0 < B?Math.max(B - 1,0):Math.min(1,this.Fg.length - 1)]));};z.prototype.l4b=function(A,B,D,C,F){var G,E,J,M,L,I,P,K,H,N;P=this.Ur;K=P.pa;H=this.mediaType;N=this.dC;if(N >= B.length)return (this.ns("makeRequest nextFragmentIndex:",N,"past fragments length:",B.length),{Lh:!1,reason:"insufficientFragments"});if(!this.af || !this.nf)return (this.ns("makeRequest delayed, first or last fragment not set","first:",!!this.af,"last:",!!this.nf),{Lh:!1,reason:"noFirstOrLastFragment"});B=H === m.v.fa && !!this.Y.Ty && (null === (G=this.yb.u.u) || void 0 === G?void 0:G.Gs) && this.af.ue.G < this.Y.Ty && void 0 !== this.af.Ha;G=H === m.v.fa && !!this.Y.Ty && (null === (E=this.yb.u.u) || void 0 === E?void 0:E.Nn) && this.nf.ue.G < this.Y.Ty && void 0 !== this.nf.Ha;E=this.r4.mZa(A,N,B,G);if(H === m.v.fa && this.Y.Ty){if(null === (J=this.yb.u.u) || void 0 === J?0:J.Gs)E.Tx?E.Q$a():E.index === this.af.index + 1 && this.af.ue.G < this.Y.Ty && void 0 !== this.af.Ha && E.Q$a(this.af.Ha.end - this.af.Ha.start);if(null === (M=this.yb.u.u) || void 0 === M?0:M.Nn)E.Ok?E.R$a():E.index === this.nf.index - 1 && this.nf.ue.G < this.Y.Ty && void 0 !== this.nf.Ha && E.R$a(this.nf.Ha.end - this.nf.Ha.start);}if(this.yl && !this.yl.VSa(this.mediaType,E.Ba))return {Lh:!1,reason:this.mediaType === m.v.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.mpa=E.region;E.Et=F;null === (L=this.el) || void 0 === L?void 0:L.QLb(E,A);E.Ok && H === m.v.X && this.Oo.Fob(P.u,E.Lb.G);this.Y.vG && (E.vG=this.Y.vG);E.location=A.location;E.Pc=A.$b;E.ngc=A.Ft;(F=P.pa.U9) && "OPEN_CONNECT_APPLIANCE" === A.nr && (J=this.Y.XCb && this.mediaType === m.v.X && this.Y.ko,E.kH=this.Y.K3 || H === m.v.fa && this.Y.H3 || H === m.v.X && this.Y.I3?C:void 0,E.NW=F.As({HE:P.Pn(this.mediaType),G7:this.Y.RCb?this.Y.G7:void 0,pcb:String(u.default.time.Ga()),J6a:C,Tha:J?{start:E.offset,size:E.Ba}:void 0}));u.default.time.Ga();D=this.df.DUa(E,D,A);if(!D.open()){this.ns("MediaRequest.open error: " + D.Nf + " native: " + D.Ph);if(D.aborted)return {Lh:!1,reason:"requestAborted"};this.ns("makeRequest caught:",D.Nf);K.sf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Lh:!1,reason:"openAseMediaRequest"};}null === (I=this.el) || void 0 === I?void 0:I.rDb(D,E,A);this.AN(D.ab.G,E.eV);return {Lh:!0,reason:"success"};};z.prototype.k4b=function(A,B,D){var C,F,G,E,J,M,L,I,P,K;G=this.Ur;E=G.pa;J=this.dC;M=A.S;L=A.Rn();I=L.LN;P=L.ue.Ae(M);I=P.Bv(J - I);P=I.add(P);if(P.G > L.YUa)return {Lh:!1,reason:"exceedsLiveEdge"};if(this.yl && !this.yl.VSa(this.mediaType,0))return {Lh:!1,reason:this.mediaType === m.v.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};if((L=J === (null === (C=this.nf) || void 0 === C?void 0:C.index)) && this.mediaType === m.v.fa && (C=this.yb.cf(m.v.X)) && C.nf)K=C.nf.ab.G;D={Bj:J,index:J,ob:I.ya,rb:P.ya,S:M,offset:0,Ba:0,Et:D,Tx:J === (null === (F=this.af) || void 0 === F?void 0:F.index),Ok:L,Uy:{Xd:G.u.WYa(),PL:G.u.kX},$v:K};A=this.df.DUa(D,B,A);if(!A.open()){this.ns("MediaRequest.open error: " + A.Nf + " native: " + A.Ph);if(A.aborted)return {Lh:!1,reason:"requestAborted"};this.ns("makeRequest caught:",A.Nf);E.sf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Lh:!1,reason:"openAseMediaRequest"};}this.AN(P.G,this.dC + 1);return {Lh:!0,reason:"success"};};z.prototype.rvb=function(){this.Pk && (this.df.H$a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return z=c.__decorate([y.xF],z);})(d.pz);b.iJa=a;(0,t.wk)(r.ow,a);},49252:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.gza=void 0;c=a(70655);r=a(28075);l=a(94160);f=a(94160);k=a(95994);d=c.__importDefault(a(29736));g=a(39223);m=a(89383);h=a(30184);n=a(65015);p=a(2479);q=a(53548);u=a(44724);t=a(75969);w=a(74005);a=(function(v){function y(){var x;x=null !== v && v.apply(this,arguments) || this;x.xPa=0;x.cga=0;x.p0=0;x.Rea=0;return x;}c.__extends(y,v);y.prototype.kua=function(x){var z,A,B,D;v.prototype.kua.call(this,x);this.xPa++;this.cga++;this.TPa=d.default.time.Ga();this.tJ || (this.tJ={Owb:null === (z=x.ab) || void 0 === z?void 0:z.G,T2:null === (A=x.La) || void 0 === A?void 0:A.G,index:x.index},this.E0 || (this.E0=this.tJ));z=this.Q0;A=!1;z && 100 > Math.abs(z.Lb.G - (null === (B=x.Bb) || void 0 === B?NaN:B.G)) && (this.p0+=x.Lb.G - z.Lb.G,this.Rea++,A=!0);A || (this.p0=null === (D=x.ue) || void 0 === D?void 0:D.G,this.Rea=1);this.Q0=x;};y.prototype.stop=function(){v.prototype.stop.call(this);this.cga=0;this.tJ=void 0;};y.prototype.wZa=function(){var x,z,A,B,D;z=this.js;A=z.e3;if(A){D=A.cf(this.Ce);D && D.df && (B=D.df.j_a());return {RM:B,currentBranch:{sId:A.u && A.u.id,cancelled:A.Kd},currentReceivedCount:z && z.Vzb,totalReceivedCount:this.xPa,currentState:z && z.VUa || "Uninitialized",lastRequestPushed:this.Q0 && ({contentEndPts:null === (x=this.Q0.ab) || void 0 === x?void 0:x.G,fragmentIndex:this.Q0.index}),tslp:this.TPa && d.default.time.Ga() - this.TPa,cpts:this.p0,crq:this.Rea,rslp:this.cga,firstRequestSSPushed:this.tJ && ({contentStartPts:this.tJ.T2,fragmentIndex:this.tJ.index}),firstRequestPushed:this.E0 && ({contentStartPts:this.E0.T2,fragmentIndex:this.E0.index})};}};return y;})((function(v){function y(x,z,A,B,D,C,F,G,E,J,M){var L;L=v.call(this) || this;L.kg=x;L.Ce=z;L.Y=B;L.V=D;L.Z=C;L.Ksa=F;L.Gd=G;L.nl=E;L.$z=new f.hq(!1);L.Xz=new f.hq(l.N.Ma(-Infinity));L.V=(0,w.Nh)(d.default,L.V,("AsePlayerBuffer [").concat(z,"]:"));L.js=new g.Vza(L.V,A,z);L.resume();C && F && G && (M?(L.OM=M,M.Uu(C,G,L.kg)):L.uUa(),x=new n.QCa(null === C || void 0 === C?void 0:C.Gd,l.N.Ma(L.Y.r7),D),L.js.G1(x),L.Y.gRa && (C=new p.mIa(null === C || void 0 === C?void 0:C.Gd,L.Y.gRa,l.N.Ma(L.Y.Yrb),D),L.js.G1(C)),J && (L.EPa=new q.tLa(J,L.mediaType,D),L.js.G1(L.EPa)),k.K && L.Y.LCb && (D=new t.AFa(D),L.js.G1(D)));L.kg.on("requestAppended",function(I){L.$z.set(!0);I.request.Lb && L.Xz.set(I.request.Lb);L.emit("requestAppended");});return L;}c.__extends(y,v);Object.defineProperties(y.prototype,{Yq:{get:function(){return this.$z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{q6:{get:function(){return this.Xz;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{EMb:{get:function(){return this.js.hi;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yH:{get:function(){return this.kg.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.uUa=function(){(0,u.assert)(this.Z && this.Ksa && this.Gd,"Player should be defined");this.OM=new h.BKa(this.Ce,this.V,this.Z,this.kg,this.Z.events,this.Ksa,this.Gd,this.nl);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.Ce;},enumerable:!1,configurable:!0}});y.prototype.wZa=function(){};y.prototype.resume=function(){k.K && this.V.trace("resume");this.Uab();};Object.defineProperties(y.prototype,{Hsb:{get:function(){return this.iJ;},enumerable:!1,configurable:!0}});y.prototype.c1b=function(){this.kg.L7(!0);};y.prototype.reset=function(x,z){var A,B,D;void 0 === x && (x=!1);k.K && this.V.trace("reset");this.stop();this.kg.reset(x);this.$z.set(!1);this.Xz.set(l.N.Ma(-Infinity));x || (this.iJ=void 0,null === (A=this.OM) || void 0 === A?void 0:A.reset(),x=null === (B=this.Z) || void 0 === B?void 0:B.bg,null === (D=this.EPa) || void 0 === D?void 0:D.jTb(x,null !== z && void 0 !== z?z:x));};y.prototype.Sf=function(x){void 0 === x && (x=!1);k.K && this.V.trace("restart");this.reset(x);this.Uab(!0);};y.prototype.stop=function(){k.K && this.V.trace("stop");this.js.dbb();};y.prototype.close=function(){var x;k.K && this.V.trace("start");null === (x=this.OM) || void 0 === x?void 0:x.close();};y.prototype.Pa=function(){this.stop();this.close();};y.prototype.oV=function(){this.Y.Kla && this.kg.oFb();this.kg.E3();};y.prototype.DC=function(x){this.kg.DC(x);};y.prototype.eFb=function(x){this.kg.cSb(x);};y.prototype.ci=function(x){var z;return !(null === (z=this.OM) || void 0 === z || !z.ci(x));};y.prototype.Uab=function(x){if(!this.js.hi || x)(this.js.mZb(),m.AsyncIterator.j6(this.js,this.LNb.bind(this)));};y.prototype.LNb=function(x){x.done || this.kua(x.value);};y.prototype.kua=function(x){var z,A,B,D,C,F,G,E;k.K && this.V.trace(("requestReceived: ").concat(null === (z=this.js.e3) || void 0 === z?void 0:z.u.id) + (" ").concat(x.toString(),", edit: ").concat(JSON.stringify(x.Ha)));this.kg.endOfStream?k.K && this.V.error("Buffer manager has declared EOS, ignoring request",x.toString()):(this.iJ?(this.iJ.bOb=null === (F=x.ab) || void 0 === F?void 0:F.G,this.iJ.dOb=null === (G=x.Lb) || void 0 === G?void 0:G.G,this.iJ.M2a=x.Lb):this.iJ={hdc:null === (A=x.La) || void 0 === A?void 0:A.G,idc:null === (B=x.Bb) || void 0 === B?void 0:B.G,bOb:null === (D=x.ab) || void 0 === D?void 0:D.G,dOb:null === (C=x.Lb) || void 0 === C?void 0:C.G,M2a:x.Lb},x.Tx && x.stream.track.Sl && (null === (E=this.Z) || void 0 === E || !E.bU(x.pa.J)) && this.emit("drmNeeded",{J:x.pa.J,Kp:x.Bb}),this.kg.Esb(x));};return y;})(r.EventEmitter));b.gza=a;},58414:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kY=void 0;c=a(70655);l=a(44724);r=a(40885);f=a(29584);a=a(57772);k=(function(){function d(g,m){this.Ra=[];this.mg=void 0;this.mc=0;this.V=g;m && m.length && (Array.isArray(m)?(this.Ra=m.slice(),this.gQ(0,this.Ra.length)):m instanceof d && (this.Ra=m.Ra.slice(),this.gQ(0,this.Ra.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ra.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ra.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ra[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Qd:{get:function(){return this.Ra[this.Ra.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ob:{get:function(){return this.first && this.first.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rb:{get:function(){return this.Qd && this.Qd.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Aq:{get:function(){return this.mg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ba:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gn:{get:function(){return this.first && this.first.gn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ka:{get:function(){return this.Ra;},enumerable:!1,configurable:!0}});d.prototype.L4b=function(g){this.mc+=g;};d.prototype.ctb=function(){var g;if(0 === this.Ra.length)((0,l.assert)(void 0 === this.mg),(0,l.assert)(0 === this.mc));else {(0,l.assert)(this.mg instanceof f.qz);(0,l.assert)("number" === typeof this.mc);(0,l.assert)(void 0 !== this.Aq && this.Aq.ob === this.ob);g=this.Ra.reduce(function(m,h,n){return 0 === n || h.ob === m?h.rb:m;},0);(0,l.assert)(this.Aq.rb === g);(0,l.assert)(this.Ra.reduce(function(m,h,n){return 0 === n || h.ob === m?h.rb:m;},0) === this.Aq.rb);(0,l.assert)(this.Ra.reduce(function(m,h){return m + h.Ba;},0) === this.mc);}};d.prototype.get=function(g){0 > g && (g+=this.Ra.length);return this.Ra[g];};d.prototype.push=function(g){this.Ra.push(g);this.gQ(this.Ra.length - 1);return this.length;};d.prototype.unshift=function(g){this.Ra.unshift(g);this.gQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ra.length)return (this.aga(this.Ra.length - 1),this.Ra.pop());};d.prototype.shift=function(){if(0 !== this.Ra.length)return (this.aga(0),this.Ra.shift());};d.prototype.splice=function(g,m){for(var h,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > g && (g+=this.Ra.length);0 > g && (g=0);g > this.Ra.length && (g=this.Ra.length);if(void 0 === m || 0 > m)m=0;m=Math.min(m,this.Ra.length - g);0 < m && this.aga(g,g + m);p=(h=this.Ra).splice.apply(h,c.__spreadArray([g,m],c.__read(n),!1));0 < n.length && this.gQ(g,g + arguments.length - 2);return p;};d.prototype.slice=function(g,m){void 0 === g && (g=0);void 0 === m && (m=this.Ra.length);0 > g && (g+=this.Ra.length);if(g >= this.Ra.length)return new d(this.V);m > this.Ra.length && (m=this.Ra.length);0 > m && (m+=this.Ra.length);return new d(this.V,this.Ra.slice(g,m));};d.prototype.Ws=function(g){if(0 === this.Ra.length || g.ob >= this.rb)this.push(g);else if(g.rb <= this.ob)this.unshift(g);else {for(var m=0,h=this.Ra.length - 1,n;m < h - 1;){n=Math.floor((h + m) / 2);(0,l.assert)(n !== h && n !== m);g.ob >= this.Ra[n].rb?m=n:h=n;}(0,l.assert)(m !== h);(0,l.assert)(this.Ra[m].rb <= g.ob && this.Ra[h].ob >= g.rb);this.splice(h,0,g);}};d.prototype.remove=function(g){g=this.Ra.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],m=0;m < arguments.length;m++){g[m]=arguments[m];}g=g.map(function(h){return h.Ra;});return new d(this.V,Array.prototype.concat.apply(this.Ra,g));};d.prototype.forEach=function(g){var m;m=this;this.Ra.forEach(function(h,n){return g(h,n,m);});};d.prototype.some=function(g){var m;m=this;return this.Ra.some(function(h,n){return g(h,n,m);});};d.prototype.every=function(g){var m;m=this;return this.Ra.every(function(h,n){return g(h,n,m);});};d.prototype.map=function(g){var m;m=this;return this.Ra.map(function(h,n){return g(h,n,m);});};d.prototype.reduce=function(g,m){var h;h=this;return this.Ra.reduce(function(n,p,q){return g(n,p,q,h);},m);};d.prototype.indexOf=function(g){return this.Ra.indexOf(g);};d.prototype.find=function(g){var m,h;m=this;return this.Ra.some(function(n,p){h=p;return g(n,p,m);})?this.Ra[h]:void 0;};d.prototype.findIndex=function(g){var m,h;m=this;return this.Ra.some(function(n,p){h=p;return g(n,p,m);})?h:-1;};d.prototype.filter=function(g){var m;m=this;return new d(this.V,this.Ra.filter(function(h,n){return g(h,n,m);}));};d.prototype.m4=function(g){for(var m=this.Ra.length - 1;0 <= m;--m){g(this.Ra[m],m,this);}};d.prototype.$va=function(g){for(var m=this.Ra.length - 1;0 <= m;--m){if(g(this.Ra[m],m,this))return !0;}return !1;};d.prototype.rla=function(g){if(this.empty || g < this.La.G || g >= this.ab.G)return -1;for(var m=0,h=this.Ra.length - 1,n;h > m;){n=Math.floor((h + m) / 2);if(g >= this.Ra[n].La.G && g < this.Ra[n].ab.G){h=n;break;}g < this.Ra[n].ab.G?h=n - 1:m=n + 1;}return h;};d.prototype.LS=function(g){if(this.empty || g < this.Bb.G || g >= this.Lb.G)return -1;for(var m=0,h=this.Ra.length - 1,n;h > m;){n=Math.floor((h + m) / 2);if(g >= this.Ra[n].Bb.G && g < this.Ra[n].Lb.G){h=n;break;}g < this.Ra[n].Lb.G?h=n - 1:m=n + 1;}return h;};d.prototype.yXa=function(g){g=this.LS(g);return 0 <= g?this.Ra[g]:void 0;};d.prototype.t1=function(g){var m;m=this.Ra[g].rb;for(g+=1;g < this.Ra.length && m === this.Ra[g].ob;++g){m=this.Ra[g].rb;}g < this.Ra.length?void 0 === this.mg?this.mg=new f.qz(this,{rb:m}):this.mg.IW(m):void 0 === this.mg?this.mg=new f.qz(this,{}):this.mg.Oia();};d.prototype.fJ=function(g,m){for(var h=g;h < m;++h){this.mc+=this.Ra[h].Ba;}void 0 === this.mg || 0 === g?this.t1(0):this.mg.rb === this.rb?this.t1(g - 1):this.Ra[g].ob === this.mg.rb && this.t1(g);};d.prototype.fx=function(g,m){var h;if(0 === g)(this.mg=void 0,m < this.length && this.t1(m));else {h=this.mg;h.rb > this.Ra[g - 1].rb && (m < this.length?h.IW(this.Ra[g - 1].rb):h.Oia());}for(;g < m;++g){this.mc-=this.Ra[g].Ba;}};d.prototype.gQ=function(g,m){void 0 === m && (m=g + 1);this.fJ(g,m);};d.prototype.aga=function(g,m){void 0 === m && (m=g + 1);this.fx(g,m);};return d;})();b.kY=k;(0,r.wk)(a.ow,k);},50219:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.lY=void 0;c=a(70655);a(44724);r=a(40885);l=c.__importDefault(a(54186));f=c.__importDefault(a(29736));k=a(60595);d=a(78115);g=f.default.gq;m=a(55757);a=(function(h){var R8;R8=2;for(;R8 !== 3;){switch(R8){case 2:c.__extends(n,h);n.create=function(p,q,u,t,w,v,y,x){var Q_H;Q_H=2;for(;Q_H !== 1;){switch(Q_H){case 2:return !q.el && t.Ha && p.mediaType === l.default.Bo.X?new m.Jaa(p,u,t,w,v,q,y,x):new n(p,u,t,w,v,q,y,x);break;}}};n.prototype.toString=function(){var Y$G;Y$G=2;for(;Y$G !== 1;){switch(Y$G){case 2:var W76="I";W76+="D";W76+=": ";return W76 + this.Si() + ":" + k.aq.prototype.toString.call(this);break;}}};return n;break;}}function n(p,q,u,t,w,v,y,x){var f9H,z;f9H=2;for(;f9H !== 8;){switch(f9H){case 2:var e6M="me";e6M+="d";e6M+="i";e6M+="a";var F5G="med";F5G+="ia(edit";F5G+=")";var f1D="1SIYb";f1D+="ZrNJCp";f1D+="9";f1D;z=u.Ha?F5G:e6M;void 0 === u.responseType && (u.responseType=u.Ha || g.Jf && !g.Jf.yua.aea?0:1);q=h.call(this,p,q,z,u,t,w,v,y) || this;f9H=3;break;case 3:k.aq.va(q,p,w,u,x);return q;break;}}}})(d.mY);b.lY=a;(0,r.wk)(k.aq,a,!1);},60595:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.aq=void 0;c=a(70655);l=a(94160);f=a(44724);k=c.__importDefault(a(54186));d=a(52190);r=a(40885);g=a(24705);m=a(89872);h=a(29584);a=a(57772);n=(function(p){function q(u,t,w,v){var y;y=p.call(this,u,w) || this;q.va(y,u,t,w,v);return y;}c.__extends(q,p);q.va=function(u,t,w,v,y){var x;m.qI.soa(u,t,v);u.ae=v.index;u.oJ=v.ob;u.yu=v.rb;u.hqb=v.zb?v.zb:t.zb;u.Uy=v.Uy;u.u=w;u.Oma=y;u.fOa=!!v.Tx;u.FOa=!!v.Ok;u.tPa=null !== (x=v.region) && void 0 !== x?x:0;u.eOa=!!v.Gla;u.EOa=!!v.et;u.ka=void 0 === v.q4 || void 0 === v.Sla || v.q4 === v.ob && v.Sla === v.rb?u:new h.qz(u,{ob:v.q4,rb:v.Sla});u.vob=v.Rqa;u.Emb=v.rj;u.Pnb=t.q5;u.Ch=v.Ha?u.H5a(v.Ha):void 0;u.RPa=v.$v;u.vR=!1;u.pOa=!1;u.Rp=[];};q.GUa=function(u){for(var t=new Uint32Array(u.length),w=new Uint32Array(u.length),v=new Uint8Array(u.length),y=new Uint8Array(u.length),x=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.mc;t[B]=z.yu - z.oJ;w[B]=A;v[B]=z.stream.It;void 0 !== z.zb && null !== z.zb && (y[B]=z.zb);x+=A;}return new d.dea(t,w,u.length?u[0].S:1E3,x);};Object.defineProperties(q.prototype,{Zs:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zb:{get:function(){return this.hqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rha:{get:function(){return 8 * this.Ba / this.ue.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ob:{get:function(){return this.oJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rb:{get:function(){return this.yu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gn:{get:function(){var u,t;return null !== (t=null === (u=this.Oma) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Tx:{get:function(){return this.fOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ok:{get:function(){return this.FOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.tPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gla:{get:function(){return this.eOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{et:{get:function(){return this.EOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rqa:{get:function(){return this.vob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rj:{get:function(){return this.Emb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ha:{get:function(){return this.Ch;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$v:{get:function(){return this.RPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{DZb:{get:function(){return this.Ch?this.Ch.end - this.Ch.start:this.Ks;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{q4:{get:function(){return this.ka.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Sla:{get:function(){return this.ka.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{DFb:{get:function(){return this.ka.SA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aL:{get:function(){return this.ka.La;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Tla:{get:function(){return this.ka.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ks:{get:function(){var u;u=this.DFb;(0,f.assert)(u);return u / this.stream.ca.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ena:{get:function(){return this.pOa;},enumerable:!1,configurable:!0}});q.prototype.SPb=function(){this.fOa=!0;};q.prototype.W3a=function(){this.FOa=!0;};q.prototype.h0b=function(u){this.Uy={Xd:u.WYa(),get PL() {return u.kX;}};};q.prototype.CN=function(u){this.RPa=u;};q.prototype.e0b=function(u,t,w){this.tPa=u;this.eOa=t;this.EOa=w;};q.prototype.wi=function(u){var t,w;void 0 === u && (u={});t=this.stream.ca.ya;w=this.Ch || ({start:0,end:this.Ks});u=this.H5a(u);this.ka && this.ka !== this || (this.ka=new h.qz(this,this));u.start > w.start && (this.oJ=this.ka.ob + u.start * t);u.end < w.end && (this.yu=this.ka.ob + u.end * t);this.Ch=c.__assign(c.__assign({},w),u);};q.prototype.tka=function(u){void 0 === u && (u=1);this.Ch?this.wi({start:this.Ch.start + u,end:this.Ch.end}):this.wi({start:u});};q.prototype.F3=function(u){this.Ch?this.wi({start:this.Ch.start,end:(this.Ch.end || 0) - u}):this.wi({start:0,end:-u});};q.prototype.di=function(){this.Ha?this.wi({start:this.Ha.start,end:this.Ha.start}):this.wi({start:0,end:0});};q.prototype.i0b=function(u){this.Ch || this.wi();this.Ch.X9=u;};q.prototype.Q$a=function(u){this.Ch || this.wi();this.Ch.Gs=!0;u && (this.Ch.iXa=u);};q.prototype.R$a=function(u){this.Ch || this.wi();this.Ch.Nn=!0;u && (this.Ch.jXa=u);};q.prototype.GXa=function(u){var w;if(!(u < this.La.G || u >= this.ab.G) && this.rj && this.rj.length){u=new l.N(u + 1 - this.La.G,1E3).Ni(this.stream.ca);for(var t=this.rj.length - 1;0 <= t;--t){w=this.rj[t];if(w.Jj <= u)return w;}return {Jj:0,xe:this.aL.G};}};q.prototype.WEb=function(u){var w;if(!(u < this.La.G || u >= this.ab.G) && this.rj && this.rj.length){u=new l.N(u + 1 - this.La.G,1E3).Ni(this.stream.ca);for(var t=this.rj.length - 1;0 <= t;--t){w=this.rj[t];if(w.Jj <= u)return w;}return {Jj:0,xe:this.aL.G};}};q.prototype.wXa=function(u,t){var w,v,y;if(!(u < this.La.G || u >= this.ab.G)){if(!t && this.Pnb)return {Jj:0,xe:this.La.G};w=this.ca.ya;v=this.ca.S;y=Math.floor(this.SA / w);u=Math.min((t?Math.ceil:Math.floor)((l.N.j5a(u,v) - this.ob + (t?-1:1) * (v / 1E3 - 1)) / w),y);w=l.N.Swa(this.ob + u * w,v);return u === y?void 0:{Jj:u,xe:w};}};q.prototype.TEb=function(u){return this.mediaType === k.default.Bo.X?this.GXa(u):this.wXa(u,!1);};q.prototype.vla=function(u){return this.mediaType === k.default.Bo.X?this.WEb(u):this.wXa(u,!0);};q.prototype.z1a=function(){return 0 < this.Rp.length;};q.prototype.ana=function(){(0,f.assert)(!this.rW,"Should not get response iterator more than once");this.rW=new g.UC(this.console);return this.rW.getIterator();};q.prototype.p8a=function(u,t){this.rW?(this.rW.enqueue(u),t && this.rW.pF()):this.Rp.push(u);this.pOa=t;};q.prototype.Ny=function(){this.Rp=[];};q.prototype.$ga=function(u){this.mc+=u.Ba;this.yu=u.rb;this.Ch && (this.ka=new h.qz(this,{ob:this.q4,rb:this.yu}),this.Ch.end=this.Ks);};q.prototype.s9a=function(u){var t,w,v;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === k.default.Bo.fa?"audioedit":"videoedit";v=this.aL.equal(this.La);v=[v?this.ab.G:this.La.G,v?-this.ue.G:this.ue.G];u && v.push(u);t.fields[w]={type:"array",value:v};return t;};q.prototype.toString=function(){return ("[").concat(this.Tb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.La.G,"-").concat(this.ab.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Lb.G,",d:").concat(this.ue.G,"]");};q.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Tb,bitrate:this.bitrate,index:this.index,startPts:this.La.G,endPts:this.ab.G,contentStartPts:this.La.G,contentEndPts:this.ab.G,fragmentStartPts:this.aL.equal(this.La)?void 0:this.aL.G,fragmentEndPts:this.Tla.equal(this.ab)?void 0:this.Tla.G,edit:this.Ha};};q.prototype.FXa=function(u){var w;if(this.rj)for(var t=0;t < this.rj.length;++t){if(this.rj[t].Jj === u)w=this.rj[t].offset;}return w;};q.prototype.H5a=function(u){var t,w;t=Math.max(u.start || 0,0);w=void 0 === u.end?this.Ks:Math.min(this.Ks,Math.max(t,0 > u.end?this.Ks + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:w});};return q;})(m.qI);b.aq=n;(0,r.wk)(a.ow,n);},32695:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aza=void 0;c=a(70655);a(44724);l=a(22084);r=a(40885);f=a(58414);k=a(57772);d=a(23563);g=a(29584);a=(function(m){function h(n,p){var q,u;q=this;u=[new f.kY(n),new f.kY(n),new f.kY(n)];q=m.call(this,u,function(t){return t.complete?q.empty || t.ob <= q.wwb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.zl=u[0];q.Fk=u[1];q.ls=u[2];q.Ro=0;q.Fea=0;q.V=n;q.Jo=p;return q;}c.__extends(h,m);Object.defineProperties(h.prototype,{Ba:{get:function(){return this.zl.Ba + this.Fk.Ba + this.ls.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{A4b:{get:function(){return this.ls;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Fk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.zl;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xXb:{get:function(){return this.Ro;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N2:{get:function(){return this.zl.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cr:{get:function(){return this.zl.Ba + this.Fk.Ba - this.Ro;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{B4b:{get:function(){return this.ls.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eN:{get:function(){return this.Ba - this.Ro;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{first:{get:function(){return this.XFb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qd:{get:function(){return this.ltb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xka:{get:function(){return !this.zl.empty || this.ls.empty || this.Fk.empty?this.first:this.Fk.ob < this.ls.ob?this.Fk.first:this.ls.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Y2a:{get:function(){return this.ls.empty || this.Fk.empty?this.Qd:this.Fk.rb < this.ls.rb?this.ls.Qd:this.Fk.Qd;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{QXa:{get:function(){return this.ls.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ob:{get:function(){return this.xka && this.xka.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rb:{get:function(){return this.Y2a && this.Y2a.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gn:{get:function(){return this.first && this.first.gn;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wwb:{get:function(){return this.zl.empty?this.ob:this.zl.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vwb:{get:function(){var n;return this.zl.empty?null === (n=this.La) || void 0 === n?void 0:n.G:this.zl.ab.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{JTa:{get:function(){var n;return this.zl.empty?null === (n=this.Bb) || void 0 === n?void 0:n.G:this.zl.Lb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{W6a:{get:function(){var n,p;return (null === (n=this.Fk.Lb) || void 0 === n?void 0:n.G) || (null === (p=this.zl.Lb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{PC:{get:function(){return this.ls.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bk:{get:function(){return this.Fk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{LTa:{get:function(){return this.zl.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qa:{get:function(){return this.zl.concat(this.Fk);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Aq:{get:function(){return this.mg;},enumerable:!1,configurable:!0}});h.prototype.fJ=function(n){var p;n.aborted?++this.Fea:this.Ro+=n.bytesReceived || 0;if(this.empty)this.mg=new g.qz(this,{});else if(n.ob !== this.rb)if(n.ob > this.mg.rb)this.mg.IW(this.mg.rb);else if(n.ob < this.ob || n.ob === this.mg.rb){p=n.rb;this.lFb(function(q,u){return q.ob - u.ob;},function(q){p=q.ob === p?q.rb:p;});p === Math.max(this.rb,n.rb)?this.mg.Oia():this.mg.IW(p);}n.eab(this);};h.prototype.fx=function(n){n.aborted?--this.Fea:this.Ro-=n.bytesReceived;this.empty?this.mg=void 0:n.ob !== this.rb && n.rb <= this.mg.rb && n.ob > this.mg.ob && this.mg.IW(n.ob);n.Vvb();};h.prototype.push=function(n){this.fJ(n);return m.prototype.push.call(this,n);};h.prototype.shift=function(){var n;n=m.prototype.shift.call(this);n && this.fx(n);return n;};h.prototype.pop=function(){var n;n=m.prototype.pop.call(this);n && this.fx(n);return n;};h.prototype.unshift=function(n){this.fJ(n);return m.prototype.unshift.call(this,n);};h.prototype.Ws=function(n){this.fJ(n);m.prototype.Ws.call(this,n);};h.prototype.remove=function(n){if(!m.prototype.remove.call(this,n))return !1;this.fx(n);return !0;};h.prototype.splice=function(n,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=m.prototype.splice.apply(this,c.__spreadArray([n,p],c.__read(q),!1));q.forEach(this.fJ.bind(this));u.forEach(this.fx.bind(this));return u;};h.prototype.YWb=function(n){var p;p=this;this.reduce(function(q,u,t){u.aborted && (n && n(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};h.prototype.rla=function(n){return this.zXa(function(p){return p.rla(n);});};h.prototype.LS=function(n){return this.zXa(function(p){return p.LS(n);});};h.prototype.yXa=function(n){n=this.LS(n);return -1 !== n?this.get(n):void 0;};h.prototype.h_b=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};h.prototype.KG=function(n){this.move(n);this.p4(n);};h.prototype.LG=function(n,p){this.Ro+=p;this.US(n,p);};h.prototype.Bp=function(n,p){for(this.Ro+=p;this.Fk.first && this.Fk.first.complete && (this.zl.empty?this.Fk.first === this.xka:this.Fk.first.ob === this.zl.rb);){this.F0b();}this.dB(n,p);};h.prototype.zM=function(n,p,q){this.Ro-=n.bytesReceived;++this.Fea;this.ZK(n,p,q);};h.prototype.AM=function(n,p,q){this.Fk.L4b(p - q);this.Rla(n,p,q);};return h;})(l.VAa);b.aza=a;(0,r.wk)(d.pz,a,!1);(0,r.wk)(k.ow,a);},96432:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Aaa=void 0;c=a(70655);l=a(89872);r=(function(f){function k(d,g,m,h){var n;n=f.call(this,d,m) || this;n.Z9=!1;n.PS=!1;n.dV=!1;n.rS=!1;n.YM=void 0;k.Z0a(n,d,g,m,h);return n;}c.__extends(k,f);k.Z0a=function(d,g,m,h,n){l.qI.soa(d,g,h);d.u=m;d.XD=h.Jh;d.SD=h.CM;d.ZNa=h.oF;d.V=n;};Object.defineProperties(k.prototype,{Me:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Jh:{get:function(){return this.XD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{CM:{get:function(){return this.SD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oF:{get:function(){return this.ZNa;},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Tb,bitrate:this.bitrate};};return k;})(l.qI);b.Aaa=r;},41736:function(r,b,a){var l,f,k,d,g,m,h,n,p,q;function c(u){return {Me:!0,Et:{Bg:n.Cb.Dk},Pc:u,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.cza=void 0;l=a(70655);f=a(86393);k=a(94160);r=a(28075);d=l.__importDefault(a(29736));g=a(74005);m=a(40885);h=a(44724);n=a(47571);p=a(96432);a=a(78115);q=d.default.MediaSource;a=(function(u){function t(w,v,y,x,z,A,B,D){var C,F,G;C=y.track;B=(B?"(cache)":"") + w.id + " header";F=x.offset;G=x.Ba;x.CM && (F+=x.CM.byteLength,G-=x.CM.byteLength);x=l.__assign(l.__assign(l.__assign({},x),c(x.Pc)),{offset:F,Ba:G});v=u.call(this,w,C,B,x,z,A,v,D) || this;v.YM=y;v.bra=0;p.Aaa.Z0a(v,w,A,x,D);v.PS=!!x.PS;v.dV=!!x.dV;v.rS=!!x.rS;v.Yra=x.Ba;v.Z9=!!x.Z9;++v.bra;return v;}l.__extends(t,u);Object.defineProperties(t.prototype,{Me:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{j8:{get:function(){return this.$ob;},enumerable:!1,configurable:!0}});t.prototype.de=function(){var w;if(!this.complete){w={type:"headerRequestCancelled",request:this};this.emit(w.type,w);}u.prototype.de.call(this);};t.prototype.TS=function(w){this.stream.Cra();u.prototype.TS.call(this,w);};t.prototype.ZK=function(w,v,y){this.stream.X7();u.prototype.ZK.call(this,w,v,y);};t.prototype.Bp=function(w,v){var y;y=w.response;y && this.Cmb(y);(0,h.assert)(this.SD);w.Ny();this.Yob()?(this.stream.X7(),u.prototype.Bp.call(this,w,v)):this.H1?(this.ZDb(w.offset + w.Ba,this.H1),u.prototype.Bp.call(this,w,v)):u.prototype.vV.call(this,w);};t.prototype.ZDb=function(w,v){this.dXa(this.BK,this.label + " (" + this.bra + ")",c(this.Pc),{offset:w,Ba:v});++this.bra;};t.prototype.Yob=function(){var w,v,y,x,z,A,B;x=this.config;z=new f.Co(t.tRb,this.stream,this.SD,this.stream.ia?["moov"]:["sidx"],x.kUb,{sgc:this.stream.track.cta,jsa:void 0 === this.ca,Icb:!q.Jf || !q.Jf.gwb,Ywa:x.Ywa,Am:x.Am,nO:this.config.nO,R9a:!0,a$:!q.Jf || !q.Jf.DRb,aua:this.config.aua});A=z.parse({ca:this.ca});this.H5b=x.nO && z.NKb;if(A.ot){(0,h.assert)(A.Jh);this.XD=A.Jh;this.$ob=A.j8;this.ZNa=!!A.mDb;void 0 === this.ca && void 0 === A.ca && this.V.error("No frame duration available for " + this.Tb);z=A.ca?new k.N(A.ca):this.ca;B=void 0;if(this.stream.mediaType === n.v.X && (null === (w=x.GM) || void 0 === w?0:w.enabled))if(null === (v=this.stream.sH) || void 0 === v?0:v.length)B=this.stream.sH;else if((w=this.stream.wv.sH,0 < (null === w || void 0 === w?void 0:w.length)))for((B=new Uint8Array(w.length),y=0);y < w.length;y++){B[y]=w[y].zb;}else if(null === (y=A.iw) || void 0 === y?0:y.length)for((B=new Uint8Array(A.iw.length),y=0);y < A.iw.length;y++){B[y]=A.iw[y];}this.stream.Bra(A.Jh,A.S,z,A.Ka,A.nM,A.rj,B,A.trackId);this.SD=void 0;}else this.H1=A.H1 || 0;return !!A.ot;};t.prototype.Cmb=function(w){this.SD=this.SD?(0,g.mK)(this.SD,w):w;};t.tRb=new d.default.Console("MP4","media|asejs");return t;})(a.mY);b.cza=a;(0,m.wk)(p.Aaa,a,!1,!1);(0,m.wk)(r.EventEmitter,a);},96049:function(r,b,a){var l,f,k,d;function c(){}Object.defineProperties(b,{__esModule:{value:!0}});b.Baa=void 0;l=a(70655);a(94160);l.__importDefault(a(29736));f=a(44724);r=a(50219);k=a(23563);d=a(6589);a=(function(g){function m(h,n,p,q,u,t,w,v,y,x){var z;z=g.call(this,h,p,q,u,t,n,w,x) || this;(0,f.assert)(q.Bj);z.jbc=q.Bj;h=v.Fg[0];y=y.track;q=l.__assign(l.__assign({},q),{responseType:0,ob:z.La.Ae(h.S).ya,rb:z.ab.Ae(h.S).ya,S:h.S});u=new k.pz(u);z.Jt=new d.Caa(h,y,q,u,t,z.config,z.console);u.e8=c;u.KG=c;u.JG=c;u.LG=c;u.AM=c;u.zM=c;u.Bp=function(){return z.aTb(z.Jt.Mh);};return z;}l.__extends(m,g);Object.defineProperties(m.prototype,{Nf:{get:function(){var h;return (null === (h=this.ky) || void 0 === h?void 0:h.Nf) || this.Jt.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fv:{get:function(){var h;return (null === (h=this.ky) || void 0 === h?void 0:h.fv) || this.Jt.fv;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ph:{get:function(){var h;return (null === (h=this.ky) || void 0 === h?void 0:h.Ph) || this.Jt.Ph;},enumerable:!1,configurable:!0}});m.prototype.zVa=function(){return this.Jt.complete;};m.prototype.open=function(){return g.prototype.open.call(this) && this.Jt.open();};m.prototype.abort=function(){return g.prototype.abort.call(this) && this.Jt.abort();};m.prototype.de=function(){g.prototype.de.call(this);this.Jt.de();};m.prototype.LH=function(h){var n;n=0 === this.Jt.K$();return g.prototype.LH.call(this,h) && n;};m.prototype.Ny=function(){g.prototype.Ny.call(this);this.Jt.Ny();};return m;})(r.lY);b.Baa=a;},6589:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Caa=void 0;c=a(70655);c.__importDefault(a(29736));l=a(44724);r=(function(f){function k(d,g,m,h,n,p,q){g=f.call(this,d,g,m,h,n,p,q) || this;g.Xbb=0;(0,l.assert)(0 === m.responseType);(0,l.assert)(m.Bj);g.Bj=m.Bj;d=d.Rn();g.Xbb=d.G8.G;return g;}c.__extends(k,f);return k;})(a(50219).lY);b.Caa=r;},6996:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Eaa=void 0;c=a(70655);l=a(41427);f=a(95994);r=(function(k){function d(g,m,h,n,p,q,u,t,w,v,y,x,z){void 0 === x && (x=!0);void 0 === z && (z=!0);g=k.call(this,h,w,{index:0,offset:0,Ba:0,ob:p,rb:q,S:n,Tx:x,Ok:z,$v:y},v) || this;g.iUb=h;g.console=t;g.u=w;f.K && g.console.log(("AsePaddingRequest [").concat(g.mediaType,"], constructed ").concat(g.toString()) + (", ").concat(m.byteLength," bytes") + (", ").concat(g.Ks," samples"));g.p8a(m,!0);return g;}c.__extends(d,k);Object.defineProperties(d.prototype,{profile:{get:function(){return this.iUb.profile;},enumerable:!1,configurable:!0}});d.prototype.abort=function(){return !1;};d.prototype.toJSON=function(){var g,m,h,n,p;return {viewableId:l.sn,startPts:null === (g=this.Bb) || void 0 === g?void 0:g.G,endPts:(null === (m=this.Bb) || void 0 === m?void 0:m.G) + (null === (h=this.ue) || void 0 === h?void 0:h.G),"contentStartTicks:":this.ob,contentEndTicks:this.rb,contentStartPts:null === (n=this.La) || void 0 === n?void 0:n.G,contentEndPts:null === (p=this.ab) || void 0 === p?void 0:p.G};};d.prototype.toString=function(){return ("[padding c:").concat(this.La.G,"-").concat(this.ab.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Lb.G,",") + ("d:").concat(this.ab.G - this.La.G,"]");};return d;})(a(60595).aq);b.Eaa=r;},23563:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pz=b.lza=void 0;c=a(70655);r=(function(){function l(f){this.Jo=f;}l.prototype.eab=function(f){this.Jo=f;};l.prototype.Vvb=function(){this.Jo=void 0;};l.prototype.TS=function(f){var k,d;null === (d=null === (k=this.Jo) || void 0 === k?void 0:k.e8) || void 0 === d?void 0:d.call(k,f);};l.prototype.p4=function(f){var k,d;null === (d=null === (k=this.Jo) || void 0 === k?void 0:k.KG) || void 0 === d?void 0:d.call(k,f);};l.prototype.$K=function(f){var k,d;null === (d=null === (k=this.Jo) || void 0 === k?void 0:k.JG) || void 0 === d?void 0:d.call(k,f);};l.prototype.US=function(f,k){var d,g;null === (g=null === (d=this.Jo) || void 0 === d?void 0:d.LG) || void 0 === g?void 0:g.call(d,f,k);};l.prototype.XXa=function(f){var k,d;null === (d=null === (k=this.Jo) || void 0 === k?void 0:k.GTb) || void 0 === d?void 0:d.call(k,f);};l.prototype.dB=function(f,k){var d,g;null === (g=null === (d=this.Jo) || void 0 === d?void 0:d.Bp) || void 0 === g?void 0:g.call(d,f,k);};l.prototype.ZXa=function(f){var k,d;null === (d=null === (k=this.Jo) || void 0 === k?void 0:k.vV) || void 0 === d?void 0:d.call(k,f);};l.prototype.ZK=function(f,k,d){var g,m;null === (m=null === (g=this.Jo) || void 0 === g?void 0:g.zM) || void 0 === m?void 0:m.call(g,f,k,d);};l.prototype.Rla=function(f,k,d){var g,m;null === (m=null === (g=this.Jo) || void 0 === g?void 0:g.AM) || void 0 === m?void 0:m.call(g,f,k,d);};l.prototype.YXa=function(f){var k,d;null === (d=null === (k=this.Jo) || void 0 === k?void 0:k.Wra) || void 0 === d?void 0:d.call(k,f);};return l;})();b.lza=r;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);return f;})(r);b.pz=r;r.prototype.e8=r.prototype.TS;r.prototype.KG=r.prototype.p4;r.prototype.JG=r.prototype.$K;r.prototype.LG=r.prototype.US;r.prototype.Bp=r.prototype.dB;r.prototype.vV=r.prototype.ZXa;r.prototype.zM=r.prototype.ZK;r.prototype.GTb=r.prototype.XXa;r.prototype.AM=r.prototype.Rla;r.prototype.Wra=r.prototype.YXa;},78115:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.mY=b.Th=void 0;c=a(70655);l=a(28075);r=a(40885);f=a(44724);a(15163);k=a(68735);d=a(23563);g=a(89872);m=a(91854);(function(h){h[h.oHa=0]="NOTHING_APPENDED";h[h.wD=1]="PARTIAL";h[h.zk=2]="COMPLETE";h[h.Sj=3]="ERROR";})(b.Th || (b.Th={}));a=(function(h){function n(p,q,u,t,w,v,y,x){var z;z=h.call(this,p,t) || this;z.BK=q;z.label=u;z.properties=t;z.u=v;z.config=y;z.console=x;z.events=new l.EventEmitter();z.Sa=k.hg.$t;z.OD=0;z.ZD=-Infinity;z.kd=[];z.zua=0;z.eab(w);z.Sa=k.hg.$t;z.Xf=p.vT(!!t.Me,t.Bj);z.aE=p.location || t.location;z.YQ=p.$b || t.Pc;z.Bj=t.Bj;z.sUa(q,u,t);return z;}c.__extends(n,h);Object.defineProperties(n.prototype,{Me:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{f8:{get:function(){return this.Sa >= k.hg.OPENED && this.Sa < k.hg.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{active:{get:function(){return this.Sa >= k.hg.CO && this.Sa < k.hg.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Lta:{get:function(){return this.Sa === k.hg.ij;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{complete:{get:function(){return this.Sa === k.hg.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aborted:{get:function(){return this.Sa === k.hg.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{url:{get:function(){return this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{status:{get:function(){var p;return (null === (p=this.ky) || void 0 === p?void 0:p.status) || this.kd[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Nf:{get:function(){var p;return null === (p=this.ky) || void 0 === p?void 0:p.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{fv:{get:function(){var p;return null === (p=this.ky) || void 0 === p?void 0:p.fv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ph:{get:function(){var p;return null === (p=this.ky) || void 0 === p?void 0:p.Ph;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bytesReceived:{get:function(){return this.OD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Mh:{get:function(){return this.ZD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jna:{get:function(){return this.kd.some(function(p){return p.Jna;});},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{location:{get:function(){return this.aE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Pc:{get:function(){return this.YQ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Bab:{get:function(){return this.properties.NW;},enumerable:!1,configurable:!0}});n.prototype.zva=function(p,q){this.aE=p;this.YQ=q;};n.prototype.K$=function(p){var q,u,t;if(this.complete)return 0;q=this.stream;u=q.pa;if(!q.url)return (this.console.warn("updateurl, missing url for streamId:",q.Tb,"mediaRequest:",this,"stream:",q),1);t=q.vT(this.Me,this.Bj);if(this.url !== t || p)if((u.zva(this,q.location,q.$b),!this.LH(t)))return (this.console.warn("swapUrl failed: ",this.fv),2);return 0;};n.prototype.lvb=function(p){(0,f.assert)(0 >= this.Ba,"AseRequest.changeSteam is only supported for open range requests");(0,f.assert)(1 <= this.kd.length && void 0 !== this.kd[0].Nf,"AseRequest.changeSteam only supported when open range request has failed");(0,f.assert)(this.stream.track === p.track,"AseStream.changeStream cannot change stream to a different track");this.l0b(p);this.K$();};n.prototype.dxa=function(){var u;for(var p,q;this.zua < this.kd.length && (q=this.kd[this.zua]).response;){u=++this.zua === this.kd.length;null === (p=this.p8a) || void 0 === p?void 0:p.call(this,q.response,u);q.Ny();}};n.prototype.sUa=function(p,q,u){0 < u.Ba?u.vG && u.Ba > u.vG?this.dXb(p,q,u,u.vG,u):this.XM(p,q,u,u):this.l7a()?this.XM(p,q,u,u):this.XM(p,q,u,{offset:u.offset,Ba:this.config.NOb});};n.prototype.dXb=function(p,q,u,t,w){var v,y;t=Math.ceil(w.Ba / t);v=w.offset;for(w=w.Ba;0 < w;--t){y=Math.ceil(w / t);this.XM(p,q,u,{offset:v,Ba:y});v+=y;w-=y;}};n.prototype.l7a=function(){return !!this.BK.Hgc || this.config.Fbb || this.BK.config.type === m.platform.vI.Ya;};n.prototype.XM=function(p,q,u,t){p=new k.xHa(this.stream,this.Xf,p,q,u,t,this,this.u,this.config,this.console);this.kd.push(p);this.state >= k.hg.OPENED && (p.open(),this.state >= k.hg.zk && (this.Sa=k.hg.OPENED,this.TS(this)));};n.prototype.At=function(p){var q;q=this.kd.indexOf(p);-1 !== q && (this.kd.splice(q,1),(0,f.assert)(this.mc >= p.Ba),this.mc-=p.Ba);};n.prototype.dXa=function(p,q,u,t){this.XM(p,q,u,t);this.mc+=t.Ba;};n.prototype.open=function(){var p;null === (p=this.R0) || void 0 === p?void 0:p.mTb();if(p=this.kd.every(function(q){return q.open();}))(this.Sa=k.hg.OPENED,this.TS(this));return p;};n.prototype.abort=function(){var p,q;p=this.active;q=this.f8;this.Sa=k.hg.Zp;this.kd.forEach(function(u){return u.abort();});this.ZK(this,p,q);return !0;};n.prototype.de=function(){this.kd.forEach(function(p){return p.de();});};n.prototype.LH=function(p){this.Xf=p;return this.kd.map(function(q){return q.LH(p);}).some(function(q){return q;});};n.prototype.mJb=function(){(0,f.assert)(0 < this.kd.length);return this.kd[0].response;};n.prototype.getResponseHeader=function(p,q){var u;u=null;this.kd.some(function(t){return !!(u=t.getResponseHeader(p,q));});return u;};n.prototype.getAllResponseHeaders=function(p){var q;q=null;this.kd.some(function(u){return !!(q=u.getAllResponseHeaders(p));});return q;};n.prototype.Si=function(){return 1 === this.kd.length?this.kd[0].Si():this.kd[0].Si() + "-" + this.kd[this.kd.length - 1].Si();};n.prototype.e8=function(){};n.prototype.KG=function(p){var q;this.state > k.hg.OPENED || (this.Sa=k.hg.CO,this.ZD=Math.max(this.ZD,p.Mh),null === (q=this.R0) || void 0 === q?void 0:q.gTb(),this.p4(this));};n.prototype.JG=function(p){var q,u,t;if(!(this.state > k.hg.CO))if((this.Vra(p,0),this.Sa=k.hg.ij,null === (q=this.R0) || void 0 === q?void 0:q.cTb(),0 >= this.Ba && !this.l7a())){if((q=p.VGb(),void 0 !== q)){u=this.offset + p.Ba;t=q - u;0 < t && this.XM(p.BK,this.label,this.properties,{offset:u,Ba:t});this.dxa();this.$K(this);this.AM(p,q,this.Ba);}else this.kKb(p);}else (this.dxa(),this.$K(this));};n.prototype.kKb=function(p){this.aUa=(this.aUa || 0) + 1;1 >= this.aUa && (this.At(p),p.abort(),this.sUa(p.BK,this.label,this.properties));};n.prototype.LG=function(p,q){this.Vra(p,q);this.US(this,q);};n.prototype.Bp=function(p,q){var u,t;u=this;this.state > k.hg.ij || (this.Vra(p,q),this.dxa(),this.kd.every(function(w){return w.complete && u.zVa();})?(this.Sa=k.hg.zk,null === (t=this.R0) || void 0 === t?void 0:t.GG(),this.dB(this,q),this.de()):this.US(this,q));};n.prototype.Wra=function(){this.YXa(this);};n.prototype.vV=function(p){this.console.warn("AseRequest.onrequesterror:",this.toString());this.ky=p;this.ZXa(this);};n.prototype.zM=function(){var p,q;if(this.state !== k.hg.Zp){this.console.warn("AseRequest.onrequestaborted:",this.toString());p=this.active;q=this.f8;this.Sa=k.hg.Zp;this.ZK(this,p,q);}};n.prototype.AM=function(p,q,u){this.mc+=q - u;p={type:"updatedBytes",LRb:q,Yra:u};this.events.emit(p.type,p);this.Rla(this,q,u);};n.prototype.Vra=function(p,q){this.ky === p && (this.ky=void 0);this.ZD=Math.max(this.ZD,p.Mh);this.OD+=q;};n.prototype.zVa=function(){return !0;};n.prototype.aTb=function(p){var q;this.state > k.hg.ij || (this.ZD=Math.max(this.ZD,p),this.kd.every(function(u){return u.complete;}) && (this.Sa=k.hg.zk,null === (q=this.R0) || void 0 === q?void 0:q.GG(),this.dB(this,0),this.de()));};return n;})(g.qI);b.mY=a;(0,r.wk)(d.lza,a,!1);},57591:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Iaa=void 0;c=a(70655);l=a(94160);f=a(73101);k=a(30067);d=a(44724);g=a(37481);m=c.__importDefault(a(29736));h=a(60595);r=(function(){function n(p,q,u){var t,w,v;this.Y=q;this.V=u;this.rq=p.track;this.j1=p.It;this.wv=p.wv;this.Wnb=this.mediaType !== f.v.Ya?this.HU.Kh:!1;this.Ppb=p.c3b;this.XD=this.Ra=void 0;q=p.Qq;this.Qq=void 0 === q?!0:q;this.w3=p.w3;this.uJ=void 0;this.MOa=this.Oea=0;this.url=this.FW=this.$b=this.Ft=this.Fpa=this.location=this.qb=this.Wb=void 0;this.qB=!1;this.dpa=this.$e=void 0;this.kQ=new Set();q=(p=this.Y) && "object" === typeof p.M8 && p.M8[this.profile];"object" === typeof q && (q=q[this.bitrate]) && (this.ppb=new l.N(q.ticks,q.timescale));this.Dob=0 <= (null === (t=p.HRa) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (w=p.GM) || void 0 === w?0:w.Scc) && this.mediaType === f.v.X && (t=this.wv,0 < (null === (v=t.sH) || void 0 === v?void 0:v.length))){v=t.sH.splice(0,t.sH.length);t=new Uint8Array(v.length);for(w=0;w < v.length;w++){t[w]=v[w].zb;}this.sH=t;}}Object.defineProperties(n.prototype,{gk:{get:function(){return this.ia?!!this.XD:!!this.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{A1a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pa:{get:function(){return this.rq.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{J:{get:function(){return this.pa.J;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.rq.O;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.rq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ca:{get:function(){return this.rq.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{S:{get:function(){return this.rq.S;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{BG:{get:function(){return this.rq.BG;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.rq.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.rq;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{HU:{get:function(){if(this.mediaType !== f.v.Ya)return this.wv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{It:{get:function(){return this.j1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Tb:{get:function(){var p;return this.mediaType === f.v.Ya?null !== (p=this.Ppb) && void 0 !== p?p:"":this.HU.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{id:{get:function(){return this.Tb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kh:{get:function(){return this.Wnb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ia:{get:function(){return this.track.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bitrate:{get:function(){return this.mediaType === f.v.Ya?0:this.HU.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zb:{get:function(){var p;if(this.R3)return this.R3;if(this.mediaType === f.v.X)return null !== (p=this.wv.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{dZb:{get:function(){if(this.mediaType === f.v.X)return this.wv.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qW:{get:function(){if(this.mediaType === f.v.X)return this.wv.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.mediaType === f.v.Ya?"timedtext":this.HU.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ld:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{tk:{get:function(){if(this.mediaType === f.v.X)return this.wv.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Qf:{get:function(){return this.ppb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{q5:{get:function(){return this.Dob;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ka:{get:function(){return this.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yv:{get:function(){return this.Ra && this.Ra.yv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hv:{get:function(){return void 0 !== this.uJ?this.uJ:this.wNb();},set:function(p){this.uJ=p;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{fG:{get:function(){return this.Qq && !this.qB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jh:{get:function(){return this.XD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{QMb:{get:function(){return this.mediaType === f.v.fa || this.mediaType === f.v.X && (-1 !== this.Ld.indexOf("h264bpl") || -1 !== this.Ld.indexOf("h264mpl") || -1 !== this.Ld.indexOf("hevc") && -1 === this.Ld.indexOf("do"));},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{HMb:{get:function(){(0,d.assert)(!!this.Ka,"Initial header should have been received already");return this.pa.Eoa() && -1 < this.Ld.indexOf("h264mpl") && void 0 === this.Ka.Zga;},enumerable:!1,configurable:!0}});n.prototype.FF=function(){return this.pa.FF(this.mediaType,this.Tb);};n.prototype.IHb=function(){var p;p=this.FF();return p && p.stream.Ka;};n.prototype.aI=function(p,q){return this.pa.aI(this,p,q);};n.prototype.Cra=function(){this.track.Cra();};n.prototype.X7=function(){this.track.X7();};n.prototype.Bra=function(p,q,u,t,w,v,y,x){this.ia || t && void 0 !== t.ur && (this.track.gk || void 0 !== t.kf && t.kf.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.ia && this.Y.Am && this.Qf && 0 === t.ur && (t.ur+=this.Qf.Ae(t.S).ya),this.gk || (this.XD=p,this.track.Bra(this,q,u,t,v,x),this.ia || (this.Ra=new k.dMa(this.j1,this.track.so,t,w,v,y,this.O)),this.track.eTb(this))):this.ia || (t?this.V.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.ur) + "," + this.track.gk + "," + this.track.cta + "," + (void 0 !== t.kf) + "," + !(!t.kf || !t.kf.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.V.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};n.prototype.Wwb=function(p){this.gk || (this.track.Xwb(p.track),this.Ra=p.Ka,this.XD=p.Jh);};n.prototype.Qn=function(p){return new h.aq(this,void 0,this.Ka.get(p));};n.prototype.fZa=function(p){var q;q=this.Qn(p.index);p.Ha && (q.wi(p.Ha),q.CN(p.$v));return q;};n.prototype.M4b=function(p,q){this.Oea=p;this.MOa=q;};n.prototype.Yvb=function(){this.qb=this.Wb=this.$b=this.location=this.url=void 0;};n.prototype.Um=function(){return this.mediaType === f.v.fa?this.vGb():this.$Jb();};n.prototype.vT=function(p,q,u){var t,w,v;return this.ia?(u=null === (t=u || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (w=null === u || void 0 === u?void 0:u[0]) && void 0 !== w?w:"",w=null !== (v=null === u || void 0 === u?void 0:u[1]) && void 0 !== v?v:"",p?p=this.Rn().hMb:(void 0 === q && this.V.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Rn().media.replace("$Number$",q.toString())),t + "/" + p + (w?"?" + w:"")):u || this.url;};n.prototype.Rn=function(){var p,q;(0,d.assert)(this.ia && this.pa.W.Aj,"liveMetadata missing from manifest");p=this.pa.W.Aj;p=p.eva[p.oka[this.Tb]];q=new Date(p.l2).getTime();return c.__assign(c.__assign({},p),{Iha:q,YUa:Math.max(0,this.pa.Gt - q - this.Y.C6),LN:Number(p.LN),G8:new l.N(Number(p.hWb),p.S),ue:new l.N(p.duration,p.S)});};n.prototype.sUb=function(p){var q,u,t,w,v,y,x,z,A,B;u=!1;if(!p)return u;p.split(";").some(function(D){if(0 === D.indexOf("sc="))return (t=D.slice(3),!0);});if(!t)return u;u=!0;p=this.Y.kVa;this.pa.MOb() && (p=Math.max(p,this.Y.lVa));if(m.default.time.Ga() - this.pa.U2a < p)return u;(0,d.assert)(null === (q=this.pa.W.DA) || void 0 === q?void 0:q.Fp,"Missing pbcid for OC side channel message decryption.");q=new g.Cea(this.pa.W.DA.Fp).decrypt(t,!0);try{w=JSON.parse(q);v=w.time;y=Number(v);isNaN(y)?this.V.error(("Invalid live server time in OC side channel message. time:").concat(v)):this.pa.Gt=y;x=w["live-msg-start"];z=w["live-msg-end"];void 0 !== x && isNaN(new Date(x).getTime()) || void 0 !== z && isNaN(new Date(z).getTime())?this.V.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(x,", live-msg-end:").concat(z)):this.pa.odb(x,z);A=w["encoder-tag"];B=w["encoder-region"];A && B || this.V.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(A,", encoder-region:").concat(B));this.pa.U4b(this.mediaType,{XA:A,WA:B});this.pa.U2a=m.default.time.Ga();}catch(D){this.V.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(q));}return u;};n.prototype.qta=function(p){return !this.kQ.has(p);};n.prototype.Mqb=function(p){this.kQ.has(p)?this.V.trace("segment already blocked: " + p):(this.V.trace("addBlockedLiveSegment: " + p),this.kQ.add(p));};n.prototype.pYb=function(p){this.kQ.has(p) && (this.V.trace("removeBlockedSegment: " + p),this.kQ.delete(p));};n.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,streamId:this.Tb,bitrate:this.bitrate,streamIndex:this.It,isAvailable:this.Qq,fittable:this.hv,vmaf:this.zb,resolutionWidth:this.dZb,resolutionHeight:this.qW};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Tb + ":" + this.bitrate;};n.prototype.wNb=function(){var p,q,u,t,w,v,y;if(!this.gk)return !0;if(this.track.Tna >= this.bitrate)return this.uJ=!0;if(this.track.G3a <= this.bitrate)return this.uJ=!1;(y=this.ia?this.Y.c7 * this.bitrate / 8 * (this.Y.XB + (null !== (q=null === (p=this.pa) || void 0 === p?void 0:p.AH.G) && void 0 !== q?q:0)) < this.Oea:this.Ra.Aub(this.Y.XB,this.Oea,null !== (t=null === (u=this.pa) || void 0 === u?void 0:u.AH.G) && void 0 !== t?t:0,null !== (v=null === (w=this.pa) || void 0 === w?void 0:w.AH.Ba) && void 0 !== v?v:0,this.MOa))?this.track.cta && !this.Kh && this.track.Sl || (this.track.Tna=this.bitrate):this.track.G3a=this.bitrate;return this.uJ=y;};n.prototype.$Jb=function(){return c.__assign(c.__assign({},this.track.Um()),{profile:this.Ld});};n.prototype.vGb=function(){return c.__assign(c.__assign({},this.track.Um()),{profile:this.Ld,bitrate:this.bitrate});};return n;})();b.Iaa=r;},89872:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.qI=void 0;a(44724);r=(function(){function c(l,f){c.soa(this,l,f);}c.soa=function(l,f,k){l.Dd=f;l.mc=k.Ba;l.Jb=k.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Dd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ba:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{pa:{get:function(){return this.Dd.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.Dd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Dd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Tb:{get:function(){return this.Dd.Tb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Dd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Dd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.Dd.S;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{BG:{get:function(){return this.Dd.BG;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.Dd.ca;},enumerable:!1,configurable:!0}});c.prototype.l0b=function(l){this.Dd=l;};return c;})();b.qI=r;},29584:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qz=void 0;r=a(40885);a=a(57772);c=(function(){function l(f,k){this.ax=f;this.oJ=k.ob;this.yu=k.rb;}Object.defineProperties(l.prototype,{ob:{get:function(){return void 0 !== this.oJ?this.oJ:this.ax.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{rb:{get:function(){return void 0 !== this.yu?this.yu:this.ax.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{S:{get:function(){return this.ax.S;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gn:{get:function(){return this.ax.gn;},enumerable:!1,configurable:!0}});l.prototype.IW=function(f){this.yu=f;};l.prototype.Oia=function(){this.yu=void 0;};return l;})();b.qz=c;(0,r.wk)(a.ow,c);},57772:function(r,b,a){var f;function c(k,d){return void 0 === k?void 0:0 === k?f.N.Ia:new f.N(k,d);}function l(k,d){return void 0 === k || void 0 === d?void 0:k + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.ow=void 0;f=a(94160);r=(function(){function k(){}Object.defineProperties(k.prototype,{SA:{get:function(){var d,g;d=this.rb;g=this.ob;return (void 0 === d || void 0 === g?void 0:d - g) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nVb:{get:function(){return l(this.ob,this.gn);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jVb:{get:function(){return l(this.rb,this.gn);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ue:{get:function(){return c(this.SA,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{La:{get:function(){return c(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ab:{get:function(){return c(this.rb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bb:{get:function(){return c(this.nVb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Lb:{get:function(){return c(this.jVb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uta:{get:function(){return c(this.gn,this.S);},enumerable:!1,configurable:!0}});return k;})();b.ow=r;},34684:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.rI=void 0;c=a(70655);l=a(94160);f=a(73101);k=a(94475);d=a(44724);g=a(74005);m=a(78281);h=a(60482);n=a(61276);p=a(57591);r=(function(){function q(u,t,w){this.Y=t;this.V=w;this.Ww=new g.HLa();this.X0=0;this.bo=u.bo;this.pa=u.pa;this.mediaType=u.mediaType;this.YH=u.YH;this.tE=u.tE;this.mediaType === f.v.X?(t=this.bo,w=c.__read(t.streams,1)[0],this.Apb=new n.cJ({w:t.maxWidth,Lq:t.maxHeight},{w:t.Bsa,Lq:t.Csa}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.nfa=h.FD.from({nt:w.framerate_value,Ds:w.framerate_scale}),this.Mfa=this.nfa.ca()),void 0 !== t.tqa && void 0 !== t.sqa && (this.job=h.FD.from({nt:t.tqa,Ds:t.sqa}))):this.mediaType === f.v.fa && (this.Qmb=this.bo.streams[0].channels,this.Bpb=48E3);this.fb=(this.vJ=this.Mfa) && this.vJ.S;this.mediaType === f.v.Ya && (this.fb=1E3);this.sfa=this.hPa=!1;this.Tna=-Infinity;this.G3a=Infinity;u=q.bnb(this,u.np);t=u.maxBitrate;w=u.Fg;this.Sl=u.Sl;this.maxBitrate=t;this.Fg=w;this.Opb=w.reduce(function(v,y){v[y.Tb]=y;return v;},{});!1;}q.bnb=function(u,t){var w,v,y,x,z,A,B,D;w=u.Y;v=u.mediaType === f.v.X;y=!1;x=0;z=[];if(u.mediaType === f.v.fa || u.mediaType === f.v.X){A=u.bo;B=A.streams.some(function(C){return C.Kh;});A.streams.forEach(function(C,F){var G,E,J;G=C.bitrate;E=!0;if(v){J=C.Kh;E=t?!0:J === B;y=y || J;}E && G > x && (x=G);C=new p.Iaa({wv:C,It:F,track:u,Qq:E},w,u.V);z.push(C);});}else if(u.mediaType === f.v.Ya){D=u.bo;A=D.downloadableIds["imsc1.1"];if(D=D.ttDownloadables["imsc1.1"])(A=new p.Iaa({wv:D,It:0,track:u,Qq:!0,c3b:A},w,u.V),z.push(A));}return {Sl:y,maxBitrate:x,Fg:z};};Object.defineProperties(q.prototype,{bV:{get:function(){return !this.gk && 0 === this.X0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gk:{get:function(){var u;return this.mediaType === f.v.Ya?!0:this.ia?!(null === (u=this.Ww.value) || void 0 === u || !u.gk):!!this.so && !!this.Ww.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cta:{get:function(){return this.hPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O:{get:function(){return String(this.pa.O);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === f.v.Ya?this.bo.id:this.bo.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$q:{get:function(){return this.yob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return this.vJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.nfa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{R6:{get:function(){return this.job;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{al:{get:function(){return this.Apb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.Qmb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.Bpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === f.v.Ya?this.bo.rawTrackType:this.bo.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{SW:{get:function(){return this.mediaType === f.v.Ya?this.bo.rawTrackType:this.bo.SW;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{BG:{get:function(){return this.xob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{so:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ZF:{get:function(){return this.Ww.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ela:{get:function(){return this.Ww;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{QU:{get:function(){return this.Fg.some(function(u){var t;return 1 < ((null === (t=u.Jh) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ia:{get:function(){return this.pa.ia;},enumerable:!1,configurable:!0}});q.prototype.jna=function(u){return this.PF()[u];};q.prototype.PF=function(){return this.Opb;};q.prototype.equals=function(u){return !!u && this.O === u.O && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.Cra=function(){this.X0++;};q.prototype.X7=function(){0 < this.X0 && this.X0--;};q.prototype.Bra=function(u,t,w,v,y,x){if(this.ia || v && void 0 !== v.ur && (this.gk || void 0 !== v.kf && v.kf.length)){if(u.Kh || !u.track.Sl)this.hPa=!0;if(this.gk)!this.sfa && !this.ia && v.kf && v.kf.length > this.so.length && (this.Gc=new k.sea(this.mediaType,this.ca,v,y),this.Ww.K9a(),this.Tna=-Infinity,this.sfa=!0);else {this.IPa(t);this.yob=x;if(w=w || this.Mfa)(this.HPa(w || this.Mfa),void 0 === this.S && this.JPa(w.S));this.ia || (this.Gc=new k.sea(this.mediaType,this.ca,v,y));if(u.Kh || !u.track.Sl)this.sfa=!0;}}else this.ia || this.V && this.V.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.eTb=function(u){void 0 === this.Ww.value && this.Ww.set(u);};q.prototype.Xwb=function(u){this.gk || (this.JPa(u.S),this.IPa(u.BG),this.HPa(u.ca),this.Gc=u.so,u.Ela.value?this.Ww.set(u.Ela.value):this.Ww.K9a());};q.prototype.Js=function(u,t,w,v){var y;(0,d.assert)(this.ZF);y=this.ZF;this.ia && (t=Math.min(t,this.hB().G));return (0,m.Js)(this.mediaType,u,y,t,w,v);};q.prototype.WK=function(u,t,w){var v,y,x,z,A;(0,d.assert)(this.ZF);y=this.ZF;if(this.ia){x=this.pa.W.Aj;z=null === x || void 0 === x?void 0:x.U3;A=void 0;if(z)A=new Date(z).getTime();else if(z=this.pa.i3a.endTime)(A=new Date(z).getTime() + this.Y.LOb,t=Infinity);Infinity === t && void 0 !== A && (t=y.Rn().Iha,x=null !== (v=null === x || void 0 === x?void 0:x.T3) && void 0 !== v?v:0,t=A - t + x);}return (0,m.WK)(this.mediaType,u,y,t,w);};q.prototype.Um=function(){var u;if(this.mediaType === f.v.fa){(0,d.assert)(this.mediaType === f.v.fa);(0,d.assert)(void 0 !== this.channels);(0,d.assert)(void 0 !== this.sampleRate);u={channels:this.channels,profile:this.profile,SW:this.SW,bitrate:this.Fg[this.Fg.length - 1].bitrate,sampleRate:this.sampleRate,$q:this.$q};}else ((0,d.assert)(this.mediaType === f.v.X),(0,d.assert)(void 0 !== this.R6),(0,d.assert)(void 0 !== this.al),u={J:this.pa.J,Sl:this.Sl,profile:this.profile,IFb:this.R6.nt,HFb:this.R6.Ds,SW:this.SW,al:this.al,maxWidth:this.al.al.w,maxHeight:this.al.al.Lq,Bsa:this.al.N6a.w,Csa:this.al.N6a.Lq,$q:this.$q});return u;};q.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.hB=function(){(0,d.assert)(this.ia,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return l.N.Ma(Math.max(0,this.UYa() - this.Y.wU));};q.prototype.EZa=function(u){(0,d.assert)(this.ia,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.UYa() - u.G > 1E3 * this.pa.Tk.WOb?"DVR":"LIVE";};q.prototype.UYa=function(){var u;(0,d.assert)(this.ia,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (null !== (u=this.ZF) && void 0 !== u?u:this.Fg[0]).Rn().YUa;};q.prototype.JPa=function(u){this.fb=u;};q.prototype.IPa=function(u){this.xob=u;};q.prototype.HPa=function(u){new h.FD(u.S,u.ya).ca();this.vJ=u;this.mediaType === f.v.X && (this.nfa=h.FD.PFb(u));};return q;})();b.rI=r;},55757:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Jaa=void 0;c=a(70655);a(86393);c.__importDefault(a(29736));a(44724);r=a(40885);l=a(60595);a=(function(f){function k(d,g,m,h,n,p,q,u){var t;t=c.__assign(c.__assign({},m),{offset:m.offset,Ba:m.Rqa + 8,vG:void 0,responseType:0});h=f.call(this,d,g,"moof",t,h,n,p,q) || this;l.aq.va(h,d,n,m,u);h.yQb=h.Dub(m,t.Ba);h.dXa(g,"mdat",m,h.yQb);return h;}c.__extends(k,f);k.prototype.Dub=function(d,g){var m;g={offset:d.offset + g,Ba:d.Ba - g};if(this.Ha){if(0 < this.Ha.start){m=this.FXa(this.Ha.start);m && (g.offset=d.offset + m,g.Ba=d.Ba - m);}this.Ha.end < this.Ks && (m=this.FXa(this.Ha.end)) && (g.Ba-=d.Ba - m);}return g;};k.prototype.toString=function(){return "ID: " + this.Si() + ":" + f.prototype.toString.call(this);};return k;})(a(78115).mY);b.Jaa=a;(0,r.wk)(l.aq,a);},61360:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sza=void 0;c=a(94160);r=(function(){function l(f){this.config=f;}l.prototype.PWb=function(f){var k,d,g;k=this.config;d=[];g=[];f.forEach(function(q,u){void 0 === q.zb?g.push(u):d.push(u);});if(0 !== g.length)for(var m=-1,h=-1,n=function(q){var u,t,w,v,y,x;u=g[q];t=f[u];if(0 === q || u !== g[q - 1] + 1)(m=d[(0,c.qha)(d,function(z){return z < u;})] || -1,h=d[(0,c.Tu)(d,function(z){return z > u;})] || -1);w=0;v=k.qQb;q=0;y=k.rQb;-1 < h && (v=f[h].bitrate,y=f[h].zb);-1 < m && (q=f[m].zb,w=f[m].bitrate);v=Math.log(v);w=0 === w?0:Math.log(w);x=Math.log(t.bitrate);t.R3=Math.max(0,Math.min(110,Math.round((q * (v - x) + y * (x - w)) / (v - w) * 100) / 100));},p=0;p < g.length;p++){n(p);}};return l;})();b.sza=r;},89383:function(r,b,a){var f,k,d,g,m,h,n;function c(p){return p && "function" === typeof p.wg?!0:!1;}function l(p){return c(p) && (p=typeof p.PMb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Ggb=b.XDb=b.OMb=b.wfb=b.AsyncIterator=void 0;f=a(70655);k=a(95994);g=(function(){function p(q){var u;u=this;this.Onb=q;this.DQ=!1;this.npb=function(t){return u.HWb(t);};this.nUa();}p.j6=function(q,u){function t(){var w;w=q.next();w.then(function(v){l(q) && q.PMb || u(v);});w.then(function(v){return !v.done && t();});}t();};Object.defineProperties(p.prototype,{gy:{get:function(){return this.DQ;},enumerable:!1,configurable:!0}});p.sHb=function(){return new m([]);};p.ona=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{IL:{get:function(){return this.Xr || !1;},enumerable:!1,configurable:!0}});p.prototype.wg=function(){this.cancel();};p.prototype.cancel=function(){this.dPa();this.Xr=!0;return this.Nea;};p.prototype.next=function(){return this.Xr?this.Nea:Promise.race([this.Nea,this.Onb()]).then(this.npb);};p.prototype.HWb=function(q){q.done && (this.DQ=!0,this.wg());this.IL || (this.dPa(),this.nUa());return q;};p.prototype.nUa=function(){var q;q=this;this.Nea=new Promise(function(u){q.dPa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=g;m=(function(p){function q(u){var t;t=p.call(this,function(){return t.wIb();}) || this;t.zE=u;t.index=0;return t;}f.__extends(q,p);q.prototype.wg=function(){c(this.zE) && this.zE.wg();p.prototype.wg.call(this);};q.prototype.wIb=function(){return this.zE.length > this.index?Promise.resolve({value:this.zE[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(g);b.wfb=m;b.OMb=c;b.XDb=l;h=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.$qa();}) || this;v.console=t;v.Gk=w;v.ota=!1;Array.isArray(u)?v.JQ=new m(u):v.JQ=u;return v;}f.__extends(q,p);q.prototype.JWb=function(u){var t;this.ota=!1;t=this.console;k.K && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.xJ)return (c(u) && u.wg(),g.ona());Array.isArray(u)?this.Gk=new m(u):this.Gk=u;return this.$qa();};q.prototype.IWb=function(u){var t;t=this.console;k.K && t && t.trace("CompoundIterator: processNextInnerResult",this.xJ,u.done);if(!u.done || this.xJ)return u;this.Gk=void 0;return this.$qa();};q.prototype.wg=function(){var u;u=this.console;k.K && u && u.trace("CompoundIterator: dispose");this.xJ=!0;p.prototype.wg.call(this);c(this.JQ) && this.JQ.wg();c(this.Gk) && this.Gk.wg();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.xJ," ").concat(this.JQ," ").concat(this.Gk);};q.prototype.$qa=function(){var u,t;u=this;t=this.console;k.K && t && t.trace("CompoundIterator: nextImpl");if(this.Gk)return (k.K && t && t.trace("CompoundIterator: getNextInner"),this.Gk.next().then(function(w){return u.IWb(w);}));this.ota=!0;k.K && t && t.trace("CompoundIterator: getNextOuter");return this.JQ.next().then(function(w){return u.JWb(w);});};return q;})(g);b.Ggb=h;b.map=function(p,q,u){return new n(p,q,u);};n=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.Fnb();}) || this;v.source=u;v.dqa=t;v.gja=w;return v;}f.__extends(q,p);q.prototype.wg=function(){c(this.source) && this.source.wg();p.prototype.wg.call(this);};q.prototype.Fnb=function(){var u,t,w;u=this.gja;t=this.dqa;w=this.source;k.K && u && u.trace("MappedIterator: Requesting next");return w.next().then(function(v){return v.done?v:t(v.value);});};return q;})(g);b.flatten=function(p,q,u){return new h(p,q,u);};},24705:function(r,b,a){var f,k,d,g,m,h,n,p;function c(q,u){return q.done?q:{value:{value:q.value,dQa:u}};}function l(q){q.dQa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.gtb=b.vlb=b.UC=void 0;f=a(70655);r=a(28075);k=a(89383);d=a(95994);g=f.__importDefault(a(29736));m=a(74005);h=a(44724);a=a(40885);n=(function(){function q(u,t){this.console=u;this.Uf=t;this.Bob=this.sQ=0;this.jg=[];this.console=(0,m.Nh)(g.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{dBb:{get:function(){return this.sQ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{KTa:{get:function(){var u,t,w;for(t=0;t < this.jg.length;t++){w=this.jg[t];if(!w.eU || (null === (u=w.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gy:{get:function(){return 0 === this.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mua:{get:function(){var u;for(u=0;u < this.jg.length && this.jg[u].Yoa;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=f.__read(this.jg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ara:{get:function(){var u;for(u=0;u < this.jg.length && this.jg[u].eU;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.pF=function(){var u;if(void 0 === this.Uf){u=this.console;d.K && u && u.trace("QueueIterator: enqueueEnd");this.pxa(this.ara - (this.Uf || 0));}};q.prototype.yr=function(){return this.jg.map(function(u){return u.item;});};q.prototype.uX=function(){this.yf || (this.yf=this.jg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.yf;};q.prototype.pxa=function(u){var t;d.K && this.console.trace("updateCount",{jfc:this.Uf,Jn:u});if(void 0 !== this.Uf){t=this.jg[this.Uf];t && this.yoa(t);}this.Uf=void 0 === this.Uf?u:void 0 === u?u:this.Uf + u;void 0 !== this.Uf && (this.Uf=Math.max(0,this.Uf),(t=this.jg[this.Uf]) && t.hG.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;d.K && this.console.trace("Enqueue called");t=this.ara;this.F2();return this.XWb(t,{value:u,done:!1}).AVa.promise;};q.prototype.I9a=function(){d.K && this.console.trace("resetEnd");this.pxa(void 0);};q.prototype.clear=function(u){var t,w,v;d.K && this.console.trace("clear");this.sta();t=this.mua;w=this.jg.length - t;if(0 < w){v={index:t,rra:w};d.K && this.console.trace("Removing items",v);this.jg.splice(t,w);this.F2();this.emit("onRemoved",v);}for(w=1;w < t;w++){this.yoa(this.jg[w]);}this.Uf=void 0;this.pxa(u?u + t:u);this.sQ && (this.sQ=0);};q.prototype.getIterator=function(){var u,t;u=this;t=(0,m.Nh)(g.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return u.SZa(w);},t);};q.prototype.cBb=function(){var u;if(0 < this.mua){u=f.__read(this.jg,1)[0];u.eU && (d.K && this.console.trace("dequeue",u.id),this.sta(1),this.emit("onDequeue",u.hG.promise));}};q.prototype.remove=function(u){var t,w,v;for(t=0;t < this.jg.length;t++){w=this.jg[t];v=w.item;if(v && !v.done && v.value === u){this.jg.splice(t,1);this.Uf && this.Uf > t && this.Uf--;this.F2();d.K && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,rra:1});break;}}};q.prototype.sta=function(u){var t;u=u || Math.min(this.mua,this.ara);if(0 < u){t=this.jg.splice(0,u);this.F2();this.Uf && (this.Uf-=u);d.K && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(w){w.AVa.resolve();});});this.emit("onRemoved",{index:0,rra:u});this.sQ+=u;}};q.prototype.SZa=function(u){var t;d.K && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.$0a(u);t=this.jg[u];t.VYb.resolve();u=t.hG.promise;d.K && this.console.trace("getNextItem:return",{id:t.id});}else (d.K && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.XWb=function(u,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;d.K && this.console.trace("Providing result",{fsb:u,item:w});this.$0a(u);u=this.jg[u];w=u.hG.resolve;w(t);return u;};q.prototype.$0a=function(u){var t;if(void 0 === this.jg[u]){t={};this.yoa(t);this.jg[u]=t;u === this.Uf && t.hG.resolve({done:!0});d.K && this.console.trace("Item initialized",{fsb:u});}};q.prototype.zja=function(u){var t;t={};t.promise=new Promise(function(w,v){t.resolve=function(y){w(y);u && u(y);};t.reject=v;});return t;};q.prototype.yoa=function(u){var t;t=this;u.hG=this.zja(function(w){u.item=w;u.eU=!0;d.K && t.console.trace("Item resolved",{id:u.id});});u.id && u.Yoa && !u.eU && (u.hG.resolve({done:!0}),d.K && this.console.warn("Overwriting requested queue item",u.id));u.AVa=this.zja();u.VYb=this.zja(function(){u.Yoa=!0;d.K && t.console.trace("Item requested",{id:u.id});});u.id=this.Bob++;u.Yoa=!1;u.eU=!1;u.item=void 0;};q.prototype.F2=function(){this.yf=void 0;};q.prototype.cma=function(){var u,t,w;u=this;t=(0,m.Nh)(g.default,this.console,"QueueIteratorInstance::");w=new p(this,function(v){var y,x;if(0 === u.count)return k.AsyncIterator.ona();y=u.SZa(v);x=u.jg[0];return y.then(function(z){return c(z,function(){w.IL || (x === u.jg[0]?u.cBb():(0,h.assert)(!u.jg.filter(function(A){return A.hG.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.UC=n;(0,a.wk)(r.EventEmitter,n);p=(function(q){function u(t,w,v){var y;y=q.call(this,function(){d.K && y.console.trace("Next item requested",{index:y.index});return y.wZb(y.index++);}) || this;y.parent=t;y.wZb=w;y.console=v;y.xJ=!1;y.index=0;y.zfa=!1;y.j6a=function(x){var z;z=x.index;x=x.rra;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;d.K && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}f.__extends(u,q);u.prototype.wg=function(){this.console.trace("disposed");this.xJ=!0;this.de();q.prototype.wg.call(this);};u.prototype.next=function(){this.IL || this.xoa();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.de();return q.prototype.cancel.call(this);};u.prototype.de=function(){this.parent.ar("onRemoved",this.j6a);this.zfa=!1;};u.prototype.xoa=function(){this.zfa || (this.zfa=!0,this.parent.on("onRemoved",this.j6a));};return u;})(k.AsyncIterator);b.vlb=p;b.gtb=function(q){return (0,k.map)(q,l);};},39223:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Vza=void 0;c=a(70655);l=a(89383);f=a(95994);r=(function(){function k(d,g,m){this.V=d;this.Kmb=g;this.Ce=m;this.u0=0;this.P0=!1;this.hQ=[];this.RD=void 0;f.K && d.trace(("BranchRequestIterator [").concat(this.Ce,"]: created"));}Object.defineProperties(k.prototype,{Vzb:{get:function(){return this.u0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{e3:{get:function(){return this.SNa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hi:{get:function(){return this.P0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{VUa:{get:function(){return this.Gk?this.Gk.gy?"Complete":this.Gk.ota?"WaitingForBranch":void 0 !== this.RD && 0 !== this.RD?("In Policy ").concat(this.hQ[this.RD].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.GOa);},enumerable:!1,configurable:!0}});k.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,m,h;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Gk;if(!d)return [3,6];this.RD=void 0;return [4,d.next()];case 1:(g=n.Qa(),m=0,n.label=2);case 2:if(!(m < this.hQ.length))return [3,5];this.RD=m;h=this.hQ[m];return [4,h.process(g)];case 3:(g=n.Qa(),n.label=4);case 4:return (m++,[3,2]);case 5:this.RD=void 0;if(g.done || this.Gk !== d)return [2,{done:!0}];this.u0++;g.value.dQa();return [2,{done:!1,value:g.value.value}];case 6:return [2,l.AsyncIterator.ona()];}});});};k.prototype.mZb=function(){this.dbb();this.DXb();};k.prototype.dbb=function(){var d;if(this.Gk){this.GOa=this.VUa;d=this.Gk;d && d.wg();this.hQ.forEach(function(g){return g.reset();});d && f.K && this.V.trace(("BranchRequestIterator [").concat(this.Ce,"]: Disposing iterator that was on branch "),this.e3 && this.e3.u.id);this.P0=!1;this.RD=this.Gk=void 0;}};k.prototype.G1=function(d){this.hQ.push(d);};k.prototype.DXb=function(){var d,g,m,h;d=this;if(!this.P0){g=this.V;m=this.Kmb;h=this.Ce;this.u0=0;this.GOa=this.SNa=void 0;this.Gk=(0,l.flatten)((0,l.map)(m.rJb(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.SNa=n,this.u0=0,f.K && g.trace(("BranchRequestIterator [").concat(this.Ce,"]: new branch ").concat(n.u.id)),[4,n.kB(h)]);case 1:if(p=q.Qa())return [2,{value:p}];f.K && g.error(("BranchRequestIterator [").concat(this.Ce,"]: skipping branch ").concat(n.u.id));return [2,{value:[]}];}});});},g),g);this.P0=!0;}};return k;})();b.Vza=r;},35806:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p){return p === d.v.X?0:p === d.v.fa?1:p === d.v.Ya?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Uaa=b.uz=b.Mjb=b.eI=void 0;l=a(70655);f=a(28075);k=a(95994);d=a(47571);g=l.__importDefault(a(29736));m=a(74005);h=a(44724);b.eI=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.Mjb={eI:b.eI};(function(p){p[p.$t=0]="CREATED";p[p.LO=1]="CANCELLED";})(n=b.uz || (b.uz={}));r=(function(){function p(q,u,t,w,v){this.Hi=q;this.kOa=u;this.wu=t;this.Xm=w;this.Sa=n.$t;this.KJ=[];this.events=new f.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,m.Nh)(g.default,v,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Kd:{get:function(){return this.Sa === n.LO;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wd:{get:function(){return this.KJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.kOa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.va=function(){return l.__awaiter(this,void 0,void 0,function(){var q,u,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Lb && (u=q.Lb.wa(this.Xm),this.ew(u,"init from parent")),q.uO.then(function(){var w;if(!t.Kd){w=t.parent;(0,h.assert)(w,"Parent is undefined after parent normalization");w.Lb && (w=w.Lb.wa(t.Xm),t.ew(w,"parent normalization"));}}));return [2];});});};p.prototype.ew=function(q,u){void 0 === u && (u="unknown");k.K && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.G) + (" from ").concat(this.wu.G,".  ").concat(u));this.wu=q;};p.prototype.XZa=function(q){var t;if(!this.Kd)for(var u=this.parent;u;){t=u.JF(q);if(t)return t;u=u.parent;}};p.prototype.If=function(){this.kOa=void 0;};p.prototype.p5=function(q){return this.Wd.some(function(u){return u.mediaType === q;});};return p;})();b.Uaa=r;},2631:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.Tza=b.uz=void 0;c=a(70655);l=a(94160);f=a(94160);k=a(65519);d=a(47571);r=a(57772);g=a(40885);m=a(44724);h=a(40572);n=a(44105);p=a(95994);q=a(28035);u=a(53597);t=a(45465);w=a(35806);v=a(36183);(function(x){x[x.$t=0]="CREATED";x[x.LO=1]="CANCELLED";})(y=b.uz || (b.uz={}));a=(function(x){function z(A,B,D,C,F,G,E,J,M,L,I,P,K){B=x.call(this,C,M,E,G,B) || this;B.Y=A;B.FV=D;B.vZa=F;B.pfa=J;B.lQ=L;B.cx=I;B.hI=P;B.yl=K;B.qv=new n.EP();B.jua=0;B.wb=void 0;B.$y=void 0;B.Ap=new f.yz();B.K5=new f.yz();B.Dra=B.$Lb();return B;}c.__extends(z,x);Object.defineProperties(z.prototype,{Wd:{get:function(){var A;this.Tn && 0 === (null === (A=this.KJ) || void 0 === A?void 0:A.length) && this.vZa && (p.K && this.console.trace("Branch getting initial tracks"),this.KJ=this.vZa(this.pa).sort(w.eI),p.K && this.console.trace("Branch got initial tracks:",this.KJ));return this.KJ;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{UJ:{get:function(){return this.$h?this.Qs().every(function(A){return A.df.UJ;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ZQa:{get:function(){return this.Qs().some(function(A){return A.Nrb;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Pk:{get:function(){var A;return !(null === (A=this.gd) || void 0 === A || !A.Pk);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$h:{get:function(){var A;return !(null === (A=this.gd) || void 0 === A || !A.$h);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{sA:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.sA) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ug:{get:function(){var A;return !(null === (A=this.gd) || void 0 === A || !A.Ug);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{uO:{get:function(){return this.Ap.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Tn:{get:function(){var A;return !(null === (A=this.hI) || void 0 === A || !A.pa);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{o5:{get:function(){return !!this.Wd.length && this.Wd.every(function(A){return A.gk;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{pa:{get:function(){(0,m.assert)(this.hI.pa,"viewable should be available");return this.hI.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S:{get:function(){var A;return (null === (A=this.gd) || void 0 === A?void 0:A.S) || this.Xm.S;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ob:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.ob) && void 0 !== B?B:this.Xm.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rb:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.rb) && void 0 !== B?B:this.u.Mf.Ae(this.Xm.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gn:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.gn) && void 0 !== B?B:this.te.Ae(this.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fy:{get:function(){var A,B,D;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.fy) && void 0 !== B?B:null === (D=this.Xm) || void 0 === D?void 0:D.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{XK:{get:function(){var A,B;B=null === (A=this.u.u.Fq) || void 0 === A?void 0:A[0];return B && this.La?l.N.Ma(Math.max(0,B[0] - this.La.G - this.u.Ud.G)):l.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{er:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.er) && void 0 !== B?B:this.u.Ud.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{YG:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.YG) && void 0 !== B?B:this.u.Mf.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{y6:{get:function(){var A;return null === (A=this.gd) || void 0 === A?void 0:A.y6;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{te:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.te) && void 0 !== B?B:this.wu;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Br:{get:function(){var A,B;return null !== (B=null === (A=this.gd) || void 0 === A?void 0:A.Br) && void 0 !== B?B:this.u.Mf.wa(this.Xm || this.u.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ll:{get:function(){var A;return null === (A=this.gd) || void 0 === A?void 0:A.Ll;},enumerable:!1,configurable:!0}});z.prototype.va=function(){return c.__awaiter(this,void 0,void 0,function(){var A,B,D;D=this;return c.__generator(this,function(C){switch(C.label){case 0:x.prototype.va.call(this);if(this.Kd)return [2];p.K && this.console.log(("AseBranch {").concat(this.u.id,"} awaiting viewable"));return [4,this.hI.va(this)];case 1:C.Qa();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} viewable available, branch ").concat(this.Kd?"cancelled":"active"));if(this.Kd)return [2];A=this.Wd.map(function(F){var G;return null === (G=D.parent) || void 0 === G?void 0:G.tL(F.mediaType);});this.U$a(this.Xm);this.Wd.some(function(F){F.mediaType === d.v.Ya && D.iab(F);});return [4,this.qXa()];case 2:return (C.Qa(),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} have headers")),this.Kd?[2]:(B=this.parent)?[4,B.uO]:[3,4]);case 3:C.Qa();if(this.Kd)return [2];this.bzb(A);C.label=4;case 4:return (this.normalize(),[2]);}});});};z.prototype.bzb=function(A){var B;B=this;this.qv.forEach(function(D){var C,F;F=null === (C=B.parent) || void 0 === C?void 0:C.tL(D.mediaType);(0,m.assert)(F,"Parent state should be defined");-1 === (null === A || void 0 === A?void 0:A.indexOf(F)) && (D.gl.ze.Pa(),C=new h.kea(function(){var G;return null === (G=B.parent) || void 0 === G?void 0:G.tL(D.mediaType);}),D.gl.ze=C);F=void 0;});A=void 0;};z.prototype.qXa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.o5?this.K5.resolve():(this.pa.events.on("onHeaderFragments",this.Dra),this.events.emit("needsRequest"));return [2,this.K5.promise];});});};z.prototype.$Lb=function(){var A;A=this;return function(){!A.Kd && A.o5 && (A.pa.events.ar("onHeaderFragments",A.Dra),A.K5.resolve());};};z.prototype.normalize=function(){this.Kd || (this.gd=new v.DHa(this,this.Y,this.console,this.pa,this.FV,this.Hi,this.Xm,this.qv.items,this.wu,this.pfa,this.lQ,this.events,this.cx,this.yl),this.zka(this.gd.QA),this.Ap.resolve(this.gd));};z.prototype.hN=function(){var A;null === (A=this.gd) || void 0 === A?void 0:A.hN();};z.prototype.update=function(A){var B;this.Hi=A;(null === (B=this.gd) || void 0 === B?0:B.update(A)) && this.zka(!0);};z.prototype.ew=function(A,B){var D;void 0 === B && (B="unknown");x.prototype.ew.call(this,A,B);null === (D=this.gd) || void 0 === D?void 0:D.ew(A);};z.prototype.kB=function(A){return c.__awaiter(this,void 0,void 0,function(){var B;return c.__generator(this,function(D){switch(D.label){case 0:return [4,this.Ap];case 1:return (B=D.Qa(),[2,null === B || void 0 === B?void 0:B.kB(A)]);}});});};z.prototype.reset=function(){var A;null === (A=this.gd) || void 0 === A?void 0:A.reset();};z.prototype.If=function(A){var B;void 0 === A && (A="other");x.prototype.If.call(this,A);this.Sa=y.LO;this.Tn && this.pa.events.ar("onHeaderFragments",this.Dra);null === (B=this.gd) || void 0 === B?void 0:B.If(A);this.qv.forEach(function(D){D.cancel();D.gl.ze.Pa();});this.hI.Pa();this.$y && (this.$y.removeAllListeners(),p.K && this.console.trace("AseBranch destroying textRequestQueue:",this.$y),k.aD.instance.s3(this.$y),this.$y=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:A});this.events.removeAllListeners();};z.prototype.Q5=function(A){var B;return !(null === (B=this.gd) || void 0 === B || !B.Q5(A));};z.prototype.cf=function(A){var B;return null === (B=this.gd) || void 0 === B?void 0:B.cf(A);};z.prototype.p5=function(A){return this.Wd.some(function(B){return B.mediaType === A;});};z.prototype.Qs=function(A){var B,D;void 0 === A && (A=w.eI);return null !== (D=null === (B=this.gd) || void 0 === B?void 0:B.Qs(A)) && void 0 !== D?D:[];};z.prototype.tL=function(A){var B,D;return (null === (B=this.cf(A)) || void 0 === B?void 0:B.gl.ze) || (null === (D=this.qv.get(A)) || void 0 === D?void 0:D.gl.ze);};z.prototype.P4=function(){var A,B,D,C;A=this;if(!this.o5)return this.qv.items;C=null !== (D=null === (B=this.gd) || void 0 === B?void 0:B.P4()) && void 0 !== D?D:[];this.wb && C.some(function(F){if(F.mediaType === d.v.X)return (F.k2=A.wb,p.K && A.console.trace("Branch setting auxiliaryTrack:",A.wb),!0);});return C;};z.prototype.JF=function(A){var B;return (null === (B=this.gd) || void 0 === B?void 0:B.JF(A)) || this.qv.get(A);};z.prototype.Pn=function(A,B){var D;return (null === (D=this.gd) || void 0 === D?void 0:D.Pn(A,B)) || 0;};z.prototype.cL=function(){var A;return (null === (A=this.gd) || void 0 === A?void 0:A.cL()) || ({});};z.prototype.cT=function(A){var B;return (null === (B=this.gd) || void 0 === B?void 0:B.cT(A)) || this.fy.G;};z.prototype.Wy=function(A,B,D){return c.__awaiter(this,void 0,void 0,function(){var C,F,G,E,J;J=this;return c.__generator(this,function(M){switch(M.label){case 0:p.K && this.console.trace("Branch.setTracks:",A);this.KJ=A.sort(w.eI);this.U$a(B);if(!this.Ug)return [3,4];(0,m.assert)(this.gd);C=this.qv.filter(function(L){return L.track.gk;}).items;F=this.gd.rdb(C,B,D);G=F.mS;E=F.QA;G && this.zka(E);if(this.o5)return [3,4];this.K5=new f.yz();this.Ap=new f.yz();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks waiting for headers"));return [4,this.qXa()];case 1:return (M.Qa(),this.Kd?[2]:this.parent?[4,this.parent.uO]:[3,3]);case 2:(M.Qa(),M.label=3);case 3:(this.gd.rdb(this.qv.items,B,D),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks pipelines updated")),this.Ap.resolve(this.gd),this.events.emit("needsRequest"),M.label=4);case 4:return (A.some(function(L){if(L.mediaType === d.v.Ya)return (J.iab(L),!0);}),[2]);}});});};z.prototype.iab=function(A){var B;B=this;this.wb=A;this.$y || (this.$y=(0,u.Ix)(d.v.Ya,this.pa,this.Y,this.console,!0,function(D){B.FV.emit("transportReport",D);},function(){},function(D,C){return B.console.error("Handled text streaming error",{failure:D,code:C});}),p.K && this.console.trace("AseBranch created textRequestQueue:",this.$y));};z.prototype.E_a=function(){return this.wb;};z.prototype.U$a=function(A){var B;B=this;this.jua=0;this.qv=new n.EP(this.Wd.filter(function(D){return D.mediaType !== d.v.Ya;}).map(function(D){var C;C=B.qv.find(function(F){return F.track === D;});C || (++B.jua,C=new t.UDa(B,D,function(){var F;return null !== (F=null === A || void 0 === A?void 0:A.add(B.te)) && void 0 !== F?F:l.N.Ia;},null !== A && void 0 !== A?A:l.N.Ia,B.Y,B.console,function(){var F;return null === (F=B.parent) || void 0 === F?void 0:F.tL(D.mediaType);},B.FV,function(){0 === --B.jua && B.events.emit("requestQueuesCreated");}));return C;}));};z.prototype.vo=function(A){var B;return (null === (B=this.gd) || void 0 === B?void 0:B.vo(A)) || [];};z.prototype.nK=function(A){var B;return !(null === (B=this.gd) || void 0 === B || !B.nK(A));};z.prototype.D4=function(A){return this.gd?this.gd.D4(A):l.N.Ia;};z.prototype.E$=function(A){var B;return !(null === (B=this.gd) || void 0 === B || !B.E$(A));};z.prototype.zka=function(A){A={type:"branchNormalized",segmentContentStart:this.u.Ud,branchContentStart:this.La,branchContentEnd:this.ab,didNormalizeSegment:A};this.events.emit(A.type,A);p.K && this.console.trace("branchNormalized:",A);};z.prototype.toJSON=function(){var A;return (null === (A=this.gd) || void 0 === A?void 0:A.toJSON()) || ({});};return z=c.__decorate([q.xF],z);})(w.Uaa);b.Tza=a;(0,g.wk)(r.ow,a);},45465:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UDa=void 0;c=a(53597);l=a(65519);f=a(47571);k=a(40572);d=a(1119);g=a(44724);r=(function(){function m(h,n,p,q,u,t,w,v,y){this.yb=h;this.track=n;this.K1b=p;this.E1b=q;this.config=u;this.console=t;this.events=v;this.wTb=y;this.dC=0;this.S7a=this.$h=!1;this.gl=this.Azb(w);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{I:{get:function(){return this.yb.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Yg:{get:function(){return this.yb.Yg;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{e$:{get:function(){return this.K1b();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ll:{get:function(){return this.e$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{HC:{get:function(){return this.e$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qbb:{get:function(){return this.E1b;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{XK:{get:function(){return this.yb.XK;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gj:{get:function(){return this.oe || (this.oe=this.Ix());},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pk:{get:function(){return !this.track.bV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{osa:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.GB=function(){return this.track.bV;};m.prototype.Ys=function(){return this.track.gk;};m.prototype.Ug=function(){return !1;};m.prototype.nZa=function(){return {Ka:[],k8:0,cr:0,eN:0};};m.prototype.Q3b=function(){var h;(0,g.assert)(this.Ys());h=this.Gj;this.oe=void 0;return h;};m.prototype.Ocb=function(h){return (h=h.aI(this.yb.u,this.Gj))?{Lh:h,reason:"success"}:{Lh:h,reason:"pipelineTryIssueHeaderRequest"};};m.prototype.cancel=function(){this.oe && (this.yb.pa.eR(this.mediaType,this.oe),l.aD.instance.s3(this.oe),this.oe.removeAllListeners(),this.oe=void 0);};m.prototype.U1a=function(){var h,n,p;p=this.config.ko;if(null === (h=this.Gj) || void 0 === h?0:h.track)p=null === (n=this.Gj) || void 0 === n?void 0:n.track.ko;return p;};m.prototype.qT=function(){return this.yb.XZa(this.mediaType);};m.prototype.Azb=function(h){var n,p,q;n=this.mediaType === f.v.fa?this.config.$sb:this.track.ia?this.config.VOb:this.config.obb;h=new k.kea(h);h.r0b(this.track);p=this.config;q=this.mediaType;return new d.eMa(n,this.config,h,p.K3 || q === f.v.fa && p.H3 || q === f.v.X && p.I3);};m.prototype.Ix=function(){var h,n;h=this;n=(0,c.Ix)(this.mediaType,this.track.pa,this.config,this.console,this.track.ia,function(p){return h.events.emit("transportReport",p);},function(p){return h.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.wTb);return n;};return m;})();b.UDa=r;},36183:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v;function c(y,x){return (y.mediaType === h.v.X?0:1) - (x.mediaType === h.v.X?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.DHa=b.ilb=void 0;l=a(70655);f=a(94160);k=a(94160);d=a(28376);g=a(23563);m=a(89383);h=a(47571);n=a(81581);p=a(44724);q=l.__importDefault(a(29736));r=a(57772);u=a(40885);t=a(44105);w=a(58260);v=a(74005);b.ilb={eI:c};a=(function(y){function x(z,A,B,D,C,F,G,E,J,M,L,I,P,K){var H,N;N=y.call(this,D) || this;N.yb=z;N.Y=A;N.pa=D;N.FV=C;N.Hi=F;N.wu=J;N.pfa=M;N.lQ=L;N.events=I;N.cx=P;N.yl=K;N.mj=new t.EP([]);N.Xr=!1;N.zOa=0;N.PNa=N.WSb.bind(N);(0,p.assert)(D.J === N.u.J || isNaN(D.J) && isNaN(N.u.J));z=F.id && F.id.length?"{" + F.id + "}":"";N.console=(0,v.Nh)(q.default,B,z);N.Xm=null !== G && void 0 !== G?G:N.u.Ud;B=N.parent;N.cPa=null === B || void 0 === B?void 0:B.Lb;null === (H=N.lQ) || void 0 === H?void 0:H.addListener(N.PNa);E=N.wUa(E,N.Xm,!!B).QA;N.QA=E;return N;}l.__extends(x,y);Object.defineProperties(x.prototype,{Kd:{get:function(){return this.Xr;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Pk:{get:function(){return this.mj.every(function(z){return z.Pk;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$h:{get:function(){return this.mj.every(function(z){return z.$h;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{sA:{get:function(){return this.Qs().reduce(function(z,A){return z + A.sA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ug:{get:function(){return this.Qs().every(function(z){return z.Ug();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Wd:{get:function(){return this.yb.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{S:{get:function(){return this.OQ.S;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ob:{get:function(){return this.OQ.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{rb:{get:function(){return this.OQ.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{gn:{get:function(){return this.te.Ae(this.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fy:{get:function(){return this.Xm.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{er:{get:function(){return this.u.Ud.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{YG:{get:function(){return this.u.Mf.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{y6:{get:function(){return this.mj.reduce(function(z,A){return z && A.Lb?f.N.max(z,A.Lb):A.Lb?A.Lb:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ll:{get:function(){return this.mj.reduce(function(z,A){A=A.Ll;return z && A?f.N.max(z,A):z || A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Br:{get:function(){return this.OQ.Br;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{te:{get:function(){return this.wu;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.yb.parent;},enumerable:!1,configurable:!0}});x.prototype.rdb=function(z,A,B){var D;void 0 === A && (A=null !== (D=this.La) && void 0 !== D?D:this.Xm);return this.wUa(z,A,B);};x.prototype.hN=function(){var z,A,B,D;if(this.eE){B=this.Hi;D=l.__read(this.eE.hN(B,B.Mf),2);B=D[0];D=D[1];(0,p.assert)(B && D,"branch.renormalize: lastFragment should be defined");null === (z=this.cf(h.v.fa)) || void 0 === z?void 0:z.truncate(B);null === (A=this.cf(h.v.X)) || void 0 === A?void 0:A.truncate(D);this.events.emit("branchEdited",{type:"branchEdited"});}};x.prototype.update=function(z){var A;A=z.Mf.ira(this.Hi.Mf);this.Hi=z;return A && this.eE?(this.hN(),!0):!1;};x.prototype.ew=function(z){this.te.equal(z) || (this.wu=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.kB=function(z){return l.__awaiter(this,void 0,void 0,function(){var A;return l.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Qa(),(A=this.cf(z))?[2,A.kB()]:[2,m.AsyncIterator.sHb()]);}});});};x.prototype.fR=function(){this.mj.forEach(function(z){return z.fR();});};x.prototype.reset=function(){this.mj.forEach(function(z){z.reset();});};x.prototype.If=function(z){var A,B;this.Xr || (this.Xr=!0,null === (A=this.eE) || void 0 === A?void 0:A.de(),this.eE=void 0,this.mj.forEach(function(D){D.If("aborted" === z);}),null === (B=this.lQ) || void 0 === B?void 0:B.removeListener(this.PNa));};x.prototype.Q5=function(){return !0;};x.prototype.cf=function(z){return this.mj.get(z);};x.prototype.Qs=function(z){void 0 === z && (z=c);return this.mj.items.slice().sort(z);};x.prototype.P4=function(){return this.mj.items;};x.prototype.JF=function(z){return this.cf(z);};x.prototype.Pn=function(z,A){z=this.cf(z);if(!z)return 0;if(A)return z.i9;A=z.XR;if(void 0 === A)return 0;z=this.pfa();return A - z;};x.prototype.cL=function(){var z,A,B,D,C,F,G;G=null === (z=this.cf(h.v.fa)) || void 0 === z?void 0:z.M2;z=null === (A=this.cf(h.v.X)) || void 0 === A?void 0:A.M2;return {S$:null !== (B=null === z || void 0 === z?void 0:z.G) && void 0 !== B?B:0,z1:null !== (D=null === G || void 0 === G?void 0:G.G) && void 0 !== D?D:0,JX:null !== (C=null === z || void 0 === z?void 0:z.Ba) && void 0 !== C?C:0,hR:null !== (F=null === G || void 0 === G?void 0:G.Ba) && void 0 !== F?F:0};};x.prototype.cT=function(z){var A;return (z=this.cf(z))?null !== (A=z.XR) && void 0 !== A?A:0:0;};x.prototype.vo=function(z){z=this.cf(z);return (null === z || void 0 === z?void 0:z.vo()) || [];};x.prototype.WSb=function(z){z=z.newValue;(0,h.Vn)(z) && this.dE();};x.prototype.nK=function(z){return this.mj.every(function(A){return A.nK(z);});};x.prototype.D4=function(z){var A,B;return null !== (B=null === (A=this.mj.get(z)) || void 0 === A?void 0:A.Xzb) && void 0 !== B?B:f.N.Ia;};x.prototype.E$=function(z){var A,B,D;A=this.OQ.$Nb;if(!A)return !1;z=(0,k.Hc)(z,function(C){return A.G <= C.La.G;});if(!z)return !1;B=z.La;z=!1;D=l.__read((0,w.$ta)(this.Y,this.mj,B),2);B=D[0];if(D=D[1])(this.cf(h.v.X).truncate(D),z=!0);B && (this.cf(h.v.fa).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};x.prototype.Bp=function(z,A){this.Xr || ((0,p.assert)(!z.Me),this.dE(),this.events.emit("requestComplete",{type:"requestComplete",yb:this.yb}),this.$h && this.Uob());this.dB(z,A);};x.prototype.LG=function(z,A){this.Y.GWa && this.dE(!0);this.US(z,A);};x.prototype.JG=function(z){this.Y.GWa && this.dE(!0);this.$K(z);};x.prototype.wUa=function(z,A,B){var D,C,F;D=this;C=new t.EP();F=!1;z.forEach(function(G){var E;E=D.mj.find(function(J){return J.track === G.track;});void 0 === E?(F=!0,E=new d.iJa(D,D.Y,D.console,D.FV,D.yb,G.track,A,G.gl,!0,G.Q3b(),D.cx,D.yl),D.kMb(E)):(D.mj.remove(E),E.fR());C.add(E);});this.mj.forEach(function(G){return G.If();});this.mj=C;return F?this.normalize(A,B):{mS:!1,QA:!1};};x.prototype.kMb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.Pk && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};x.prototype.normalize=function(z,A){var B;null === (B=this.eE) || void 0 === B?void 0:B.de();this.eE=new n.jJa({console:this.console,config:this.Y,pa:this.pa,u:this.u,iC:this.mj,La:z,ab:this.u.Mf,splice:A});this.OQ=this.mj.fta;A=this.eE.normalize();z=A.mS;A=A.QA;z && this.cPa && (this.wu=this.cPa.wa(this.La));return {mS:z,QA:A};};x.prototype.K0b=function(z){var A;return (0,h.Vn)((null === (A=this.lQ) || void 0 === A?void 0:A.value) || h.Yc.qm) && (!z || this.zOa + this.Y.Jqa < q.default.time.Ga());};x.prototype.dE=function(z){void 0 === z && (z=!1);this.K0b(z) && (this.zOa=q.default.time.Ga(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.Uob=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,A,B;return {segment:this.u.id,branchOffset:null === (z=this.te) || void 0 === z?void 0:z.G,viewableId:this.Hi.J,contentStartPts:null === (A=this.La) || void 0 === A?void 0:A.G,contentEndPts:null === (B=this.ab) || void 0 === B?void 0:B.G};};return x;})(g.pz);b.DHa=a;(0,u.wk)(r.ow,a);},32018:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B;function c(D){return function(){return ("[").concat(D,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.nIa=b.uz=void 0;l=a(70655);f=a(51656);k=a(86393);d=a(41427);g=a(94160);m=a(34684);h=a(47571);r=a(57772);n=a(6996);p=a(40885);q=a(24705);u=a(44724);t=a(31925);w=a(74005);v=l.__importDefault(a(29736));y=a(60482);x=a(61276);z=a(95994);A=a(28035);a=a(35806);(function(D){D[D.$t=0]="CREATED";D[D.LO=1]="CANCELLED";})(B=b.uz || (b.uz={}));a=(function(D){function C(F,G,E,J,M,L){F=D.call(this,G,J,E,g.N.Ia,(0,w.Nh)(v.default,F,"AsePadding")) || this;F.pa=M;F.config=L;F.gI=new q.UC(F.console);F.wA=new q.UC(F.console);F.Ap=new g.yz();F.console.trace(("PaddingBranch {").concat(G.id,"}: created"));return F;}l.__extends(C,D);C.prototype.Eyb=function(F){return l.__awaiter(this,void 0,void 0,function(){var G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha,ta,Q,O,Z;return l.__generator(this,function(oa){switch(oa.label){case 0:return [4,this.mWb()];case 1:G=oa.Qa();E=G.Qf;J=G.vd;M=G.bitrate;L=G.$q;I=t.V_.instance();P=I.zJb(J,M,L);K=new g.N(P.duration);H=new g.N(P.ca);N=H.S;R=P.profile;Y=P.bitrate;ma=P.channels;ia={A1a:!0,mediaType:h.v.fa,Ld:R,profile:R,S:N,Jh:[{bf:0,data:P.va}],ca:H,Qf:E,pa:this.pa,bitrate:Y,Tb:("").concat(d.sn),track:{trackId:"1",mediaType:h.v.fa,Sl:!1,ca:H,pa:this.pa,channels:ma,sampleRate:48E3,profile:R,Fg:[],$q:L,toString:c(h.v.fa)},toJSON:function(){return {mediaType:ia.mediaType,Tb:ia.Tb,bitrate:ia.bitrate};}};ia.Um=ia.track.Um=m.rI.prototype.Um.bind(ia.track);ia.track.Fg.push(ia);ja=(0,w.Nh)(v.default,this.console,"[0]");this.wA=new q.UC(ja);Ca=new g.N(P.ca);Ba=this.config.Am?E:g.N.Ia;Ka=Ba.add(K);z.K && ja.trace(("PaddingBranch: audio target duration is ").concat(F.mb()));Va=g.N.Ia;db=this.config.Am?-Math.ceil(E.Ni(H)):0;ha=Ba;for(ta=!0;ha.lessThan(F);){ha=ha.add(K);ha.greaterThan(F) && (W=K.Ni(Ca) - Math.floor(ha.wa(F).Ni(Ca)));Q=ha.gi(F);O=ta?0:Q?F.G:void 0;Z=new n.Eaa(P.va,P.ka,ia,N,Ba.Ae(N).ya,Ka.Ae(N).ya,Ca,ja,this.u,this.AYa.bind(this,N,Va),O,ta,Q);Z.wi({start:db,end:W});z.K && ja.log(("PaddingBranch: enqueing request ").concat(Z,", edit: ").concat(JSON.stringify({start:db,end:W}),", ") + ("offset ").concat(Va.mb()));this.wA.enqueue(Z);Va=Va.add(K);db=void 0;ta=!1;}this.wA.pF();return [2];}});});};C.prototype.Lzb=function(){var F,G,E;return l.__awaiter(this,void 0,void 0,function(){var J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha,ta,Q,O,Z,oa,qa,Ha,Ya,Wa,rb;return l.__generator(this,function(nb){switch(nb.label){case 0:return [4,this.oWb()];case 1:J=nb.Qa();M=J.profile;L=J.ox;I=J.$q;P=f.fI.some(function(Fb){return -1 !== M.indexOf(Fb);})?M:f.fI[0];K=t.V_.instance();H=null === (E=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.cf(h.v.X)) || void 0 === G?void 0:G.track.ca) || void 0 === E?void 0:E.R8a();(0,u.assert)(H,"padding branches should always have a frameRate");N=K.AJb(this.pa.g6b,P,H,L,I);R=new g.N(N.duration);Y=N.profile;ma=N.bitrate;ia=N.width;ja=N.height;Ca=N.Wc;Ba=N.Xc;Ka=N.ca.S;Va=new g.N(N.ca);db=new y.FD(Ka,N.ca.ya);W={A1a:!0,mediaType:h.v.X,Ld:Y,profile:Y,S:Ka,Jh:[{bf:0,data:N.va}],Tb:("").concat(d.sn),ca:Va,pa:this.pa,bitrate:ma,track:{trackId:"1",mediaType:h.v.X,Sl:!1,ca:Va,frameRate:db,R6:db,al:new x.cJ({w:ia,Lq:ja},{w:Ca,Lq:Ba}),pa:this.pa,profile:Y,Fg:[],$q:I,toString:c(h.v.X)},toJSON:function(){return {mediaType:W.mediaType,Tb:W.Tb,bitrate:W.bitrate};}};W.Um=W.track.Um=m.rI.prototype.Um.bind(W.track);ha=new k.Co(this.console,W,N.va,["moov"],!0,{R9a:!0,jsa:!0});ta={ca:Va};Q=ha.parse(ta);(0,u.assert)(Q.ot,"Failed to parse padding fragment header");(0,u.assert)(Q.Jh,"Failed to get initialization segments from padding fragment header");W.Jh=Q.Jh;z.K && this.console.trace(("PaddingBranch {").concat(this.u.id,"}: video queue"),W);W.track.Fg.push(W);O=(0,w.Nh)(v.default,this.console,"[1]");Z=Math.ceil(this.vqa.Ni(R));oa=R.Bv(Z);qa=this.u.Ud;Ha=qa.add(oa).Ae(this.S);z.K && O.trace(("PaddingBranch: ").concat(Z," fragments of ").concat(R.mb(),", ") + ("duration ").concat(oa.mb(),", ") + ("c: ").concat(qa.mb(),"-").concat(Ha.mb(),", "));this.u.normalize(qa,Ha,[]);for(Ya=g.N.Ia;Ya.lessThan(oa);){Wa=Ya.add(R);rb=new n.Eaa(N.va,N.ka,W,Ka,0,R.Ae(Ka).ya,Va,O,this.u,this.AYa.bind(this,Ka,Ya),void 0,Ya.equal(g.N.Ia),Wa.gi(oa));z.K && O.trace(("PaddingBranch: appended ").concat(rb));this.gI.enqueue(rb);Ya=Wa;}this.gI.pF();this.N5b=oa;return [2,{duration:oa}];}});});};Object.defineProperties(C.prototype,{Pk:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{$h:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{sA:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ug:{get:function(){return this.Ap.wua;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{uO:{get:function(){return this.Ap.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Tn:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{S:{get:function(){return this.u.Ud.S;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ob:{get:function(){return this.u.Ud.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{rb:{get:function(){return this.u.Mf.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{gn:{get:function(){return this.te.Ae(this.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{fy:{get:function(){return this.u.Ud.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{XK:{get:function(){(0,u.assert)(!this.u.u.Fq,"exit zone not supported for padding segments");return g.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{UJ:{get:function(){return this.wA && this.gI?this.wA.gy && this.gI.gy:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ZQa:{get:function(){return !(!this.wA && !this.gI);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{er:{get:function(){return this.u.Ud.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{YG:{get:function(){return this.u.Mf.add(this.te);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{y6:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ll:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{te:{get:function(){return this.wu;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{vqa:{get:function(){var F;return null !== (F=this.POa) && void 0 !== F?F:this.u.Mf.wa(this.u.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Br:{get:function(){return g.N.Ia;},enumerable:!1,configurable:!0}});C.prototype.va=function(){return l.__awaiter(this,void 0,void 0,function(){var F;return l.__generator(this,function(G){switch(G.label){case 0:(D.prototype.va.call(this),G.label=1);case 1:return (G.Qj.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.u.id,"}: init")),this.parent?[4,this.parent.uO]:[3,3]);case 2:(G.Qa(),G.label=3);case 3:return (this.POa=this.u.Mf.wa(this.u.Ud),[4,this.EUa([h.v.fa,h.v.X])]);case 4:return (G.Qa(),this.Ap.resolve(),[3,6]);case 5:F=G.Qa();if(!this.Kd)throw F;return [3,6];case 6:return [2];}});});};C.prototype.update=function(F){this.Hi=F;};C.prototype.kB=function(F){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.u.id,"}: getRequestIterator(").concat(F,")"));return F === h.v.fa?[2,this.wA.cma()]:[2,this.gI.cma()];});});};C.prototype.reset=function(){};C.prototype.If=function(F){void 0 === F && (F="other");D.prototype.If.call(this,F);this.Sa=B.LO;this.POa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:F});this.events.removeAllListeners();};C.prototype.Q5=function(){return !0;};C.prototype.cf=function(){};C.prototype.p5=function(F){return [h.v.fa,h.v.X].some(function(G){return G === F;});};C.prototype.Qs=function(){return [];};C.prototype.tL=function(F){var G;return null === (G=this.parent) || void 0 === G?void 0:G.tL(F);};C.prototype.P4=function(){return [];};C.prototype.JF=function(){};C.prototype.Pn=function(){return this.vqa.G;};C.prototype.cL=function(){return {};};C.prototype.cT=function(){return this.u.Mf.G;};C.prototype.Wy=function(F,G,E,J){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(M){switch(M.label){case 0:return [4,this.Ap.promise];case 1:return (M.Qa(),this.parent?[4,this.parent.uO]:[3,3]);case 2:(M.Qa(),M.label=3);case 3:return [4,this.EUa(J)];case 4:return (M.Qa(),[2]);}});});};C.prototype.EUa=function(F){return l.__awaiter(this,void 0,void 0,function(){var G,E;return l.__generator(this,function(J){switch(J.label){case 0:G=g.N.Ia;if(-1 === F.indexOf(h.v.X))return [3,2];this.gI.clear();return [4,this.Lzb()];case 1:(E=J.Qa(),G=E.duration,J.label=2);case 2:if(-1 === F.indexOf(h.v.fa))return [3,4];this.wA.clear();this.console.trace(("AsePaddingBranch {").concat(this.u.id,"}: video duration ").concat(G.mb()));return [4,this.Eyb(this.N5b)];case 3:(J.Qa(),J.label=4);case 4:return [2];}});});};C.prototype.E_a=function(){};C.prototype.vo=function(){return [];};C.prototype.nK=function(F){var G,E;return !!((null === (G=this.Lb) || void 0 === G?0:G.greaterThan(F)) && (null === (E=this.Bb) || void 0 === E?0:E.lessThan(F)));};C.prototype.D4=function(){return this.vqa;};C.prototype.E$=function(){return !1;};C.prototype.toJSON=function(){var F,G;return {segment:this.u.id,viewableId:this.Hi.J,contentStartPts:null === (F=this.La) || void 0 === F?void 0:F.G,contentEndPts:null === (G=this.ab) || void 0 === G?void 0:G.G};};C.prototype.oWb=function(){var F,G,E,J,M,L,I;return l.__awaiter(this,void 0,void 0,function(){var P,K,H,N;return l.__generator(this,function(R){switch(R.label){case 0:return (P=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.cf(h.v.X)) || void 0 === G?void 0:G.ze.Yn)?[3,2]:[4,null === (J=null === (E=this.parent) || void 0 === E?void 0:E.cf(h.v.X)) || void 0 === J?void 0:J.ze.teb];case 1:R.Qa();if(this.Kd)return [2,Promise.reject()];R.label=2;case 2:return (P=null === (L=null === (M=this.parent) || void 0 === M?void 0:M.cf(h.v.X)) || void 0 === L?void 0:L.ze.Yn,(0,u.assert)(P,"Parent of padding branch must have last selected video stream"),K=null === (I=P.track.al) || void 0 === I?void 0:I.ox,H=P.track.$q,N=P.Ld,[2,{profile:N,ox:K,$q:H}]);}});});};C.prototype.mWb=function(){var F,G,E,J,M,L;return l.__awaiter(this,void 0,void 0,function(){var I,P,K,H,N;return l.__generator(this,function(R){switch(R.label){case 0:return (I=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.cf(h.v.fa)) || void 0 === G?void 0:G.ze.Yn)?[3,2]:[4,null === (J=null === (E=this.parent) || void 0 === E?void 0:E.cf(h.v.fa)) || void 0 === J?void 0:J.ze.teb];case 1:R.Qa();if(this.Kd)return [2,Promise.reject()];R.label=2;case 2:return (I=null === (L=null === (M=this.parent) || void 0 === M?void 0:M.cf(h.v.fa)) || void 0 === L?void 0:L.ze.Yn,(0,u.assert)(I,"Parent of padding branch must have last selected audio stream"),P=I.Qf || g.N.Ia,K=-1 !== I.profile.indexOf("heaac")?"heaac":"ddp",H=I.bitrate,N=I.track.$q,[2,{Qf:P,vd:K,bitrate:H,$q:N}]);}});});};C.prototype.AYa=function(F,G){return this.wu.add(G).Ae(F).ya;};return C=l.__decorate([A.xF],C);})(a.Uaa);b.nIa=a;(0,p.wk)(r.ow,a);},10249:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YTa=void 0;c=a(41427);l=a(94160);f=a(57563);k=a(2631);b.YTa=function(d){var g,m,h,n,p,q,u,t,w,v,y,x;g=d.config;m=d.console;h=d.Qsa;n=d.u;p=d.events;q=d.tH;u=d.Xm;t=d.te;w=d.Ms;v=d.hf;y=d.Gd;x=d.hI;d=d.iSa;n.J === c.sn && g.nF?(p=new f.oIa(n.J,g.fsa),q=l.N.Ia,g=new (a(32018).nIa)(m,n,q,h.U4.bind(h),p,g)):g=new k.Tza(g,m,p,n,q,u,t,w,h.U4.bind(h),v,y,x,d);return g;};},8628:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XC=void 0;c=a(14378);l=a(44724);r=(function(){function f(k){this.config=k;this.reset();}f.instance=function(){(0,l.assert)(void 0 !== f.fs);return f.fs;};f.Fwb=function(k){f.fs=new f(k);};f.prototype.push=function(k){this.ah && this.ah.push(k);};f.prototype.Wb=function(){if(this.ah)return (this.ah.Cx(),this.ah.ri([.25,.5,.75,.9,.95,.99]).map(function(k){return k?parseFloat(k.toFixed(1)):0;}));};f.prototype.reset=function(){this.config.WCb && this.config.dca && (this.ah=new c.TDigest(this.config.dca.c,this.config.dca.maxc));};return f;})();b.XC=r;},85147:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.eAa=b.mt=void 0;c=a(70655);r=a(28075);l=a(94160);f=a(94160);k=a(69565);d=c.__importDefault(a(54186));g=a(47571);m=c.__importDefault(a(29736));h=a(44724);n=a(82434);p=a(78115);q=a(50971);u=a(74005);t=a(89383);w=a(6589);v=a(96049);b.mt=function(y){return y.wa(l.N.Ma(y.nH));};a=(function(y){function x(z,A,B,D,C,F){var G,E;G=this;G=y.call(this) || this;G.Ce=z;G.Ei=A;G.Qc=B;G.Y=D;G.Z=C;G.An=F;G.YPa=!1;G.YNa=!1;G.ZQ=!1;G.V=k.$p.nv(G.Ce);G.Uz=G.V.error.bind(G.V);G.ns=G.V.warn.bind(G.V);G.ix=G.V.trace.bind(G.V);null === (E=B.events) || void 0 === E?void 0:E.addListener("ready",function(){G.Tw();});G.C4a=new n.UGa(G.Y,G.Ce,G.Ei.Jf,G.V);G.reset();return G;}c.__extends(x,y);Object.defineProperties(x.prototype,{endOfStream:{get:function(){return this.vQ;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{F2b:{get:function(){return !!this.Qc.oDb;},enumerable:!1,configurable:!0}});x.prototype.reset=function(z){var A,B,D;null === (A=this.YOa) || void 0 === A?void 0:A.Pa();z || (this.hx=[]);this.Efa=this.mfa=this.$D=void 0;this.Pz && (this.Pz.Kd=!0,this.Pz.iterator.wg(),this.Pz=void 0);this.hJ && (this.hJ.Kd=!0,this.hJ.iterator.wg(),this.hJ=void 0);this.bfa=!1;this.yJ=void 0;this.ZQ=this.vQ=!1;this.KPa(l.N.Ia);null === (D=(B=this.Qc).reset) || void 0 === D?void 0:D.call(B);this.C4a.reset();};x.prototype.oFb=function(){this.mfa=!0;};x.prototype.E3=function(){this.YNa=!0;this.Tw();};x.prototype.DC=function(z){this.YPa=z;};x.prototype.Esb=function(z){this.hx.push(z);this.Tw();};x.prototype.hz=function(){this.Tw();};x.prototype.cSb=function(z){this.Y.iha && void 0 === this.Efa && this.LNa(z,0);this.Tw();};x.prototype.L7=function(z,A){var B,D;B=this;void 0 === z && (z=!1);this.vQ || (this.vQ=!0,this.Tw(),!z && this.F2b) || (A && this.An && this.Y.VAb?(z=l.N.Ma(this.Y.u3b),A=A.wa(z),z=(0,q.caa)(this.An,A,!0),A=z.uk,z=z.promise,null === (D=this.YOa) || void 0 === D?void 0:D.Pa(),this.YOa=A,z.then(function(){B.vQ && B.Qc.endOfStream();})):this.Qc.endOfStream());};x.prototype.KPa=function(z){var A;null !== (A=this.Spb) && void 0 !== A && A.equal(z) || (this.Spb=z,this.Qc.q0b(z.ya,z.S));};x.prototype.Tw=function(){var z,A,B,D,C,F,G,E;C=this.Y;if(!this.Pz && !this.hJ && this.hx.length)if(this.Qc && !1 !== this.Qc.ready){F=this.hx[0];if(F.aborted)(this.ns("aborted fragment should not appear in the toAppend list:",F.toString(),"complete:",F.complete),this.TQ("@" + m.default.time.Ga() + ", append: removing aborted fragment from toAppend: " + F.toString()),this.hx.shift());else {G=F.stream;E=G.pa;if(G.Jh)if((F.Tx && !this.ZQ && (null === (A=(z=this.Qc).Vab) || void 0 === A?void 0:A.call(z,{J:G.track.pa.J,I1a:G.Kh}),this.ZQ=!0),this.H0b(G,F.index)))(this.mfa=!1,this.LNa(G,F.index));else if((z=this.Z.bU(E.J),G=this.GLb(G),z || G || !this.bfa && !C.Pxa))if((z=this.m_a(F),this.Ce === d.default.Bo.fa && (F.Ok || F.et || (null === (B=F.Ha) || void 0 === B?0:B.Nn)) && F.Ha && !C.lN && !this.vQ && this.hx.length <= (F.Ok || F.et?1:2) && z > C.r7 && (null === (D=F.Uy) || void 0 === D || !D.PL)))this.SZb();else {this.bfa || (this.bfa=G);this.hx.shift();try{this.Vrb(F);}catch(J){throw (this.V.error(J),J);}}}}else this.TQ("@" + m.default.time.Ga() + ", append: not appending, sourceBuffer not ready");};x.prototype.SZb=function(){var z;z=this;this.An && (this.epa?this.epa.y1a || this.epa.Sf():this.epa=this.An.Hx(function(){return z.RNb();},"JIT Appender"));};x.prototype.RNb=function(){var z,A,B,D;return c.__generator(this,function(C){switch(C.label){case 0:if(1 !== this.hx.length)return [3,3];z=this.hx[0];if(!z.Ok && !z.et || (null === (D=z.Uy) || void 0 === D?0:D.PL))return [2];A=this.m_a(z);B=this.Y.r7;return A > B?[4,q.Pg.SC(l.N.Ma(A - B))]:[3,2];case 1:(C.Qa(),C.label=2);case 2:return (this.Tw(),[3,0]);case 3:return [2];}});};x.prototype.m_a=function(z){var A;return (null === (A=z.Bb) || void 0 === A?NaN:A.G) - this.Z.Md.G;};x.prototype.H0b=function(z,A){if(this.mfa || void 0 === this.$D || z.Tb !== this.$D.Tb)return !0;z=z.Jh;(0,h.assert)(z);return 1 < z.length?(0,f.qha)(z,function(B){return B.bf <= A;}) !== this.$D.N1a:!1;};x.prototype.GLb=function(z){if(z.mediaType === g.v.fa || !z.Kh)return !0;if(void 0 === this.$D)return !1;if(!z.track.QU)return !z.Kh;z=z.Jh;(0,h.assert)(z);return !1 === z[this.$D.N1a].oF;};x.prototype.LNa=function(z,A){var B,D,C,F;if(!this.YPa || this.YNa){C=z.Jh.reduce(function(G,E,J){return E.bf <= A?J:G;},0);F=z.Jh[C];this.$D || (null === (D=(B=this.Qc).Vab) || void 0 === D?void 0:D.call(B,{J:z.track.pa.J,I1a:z.Kh}),this.ZQ=!0);if(this.Qc.appendBuffer(F.data,{Me:!0,profile:z.profile,bitrate:z.bitrate,Tb:z.Tb}))(this.TQ("@" + m.default.time.Ga() + ", header appended, streamId: " + z.Tb),this.$D={Tb:z.Tb,N1a:C},this.wpb(z.Tb,C),this.Tw());else throw (this.ns("appendHeader error: " + this.Qc.error),this.TQ("@" + m.default.time.Ga() + ", appendHeader error: " + this.Qc.error),Error("appendHeaderError"));}};x.prototype.Vrb=function(z){var A,B,D,C,F,G;A=this;C=z.uta || l.N.Ia;F=z.u;F.Mf && !F.Mf.equal(l.N.vp) && (C=F.Mf.add(C).xh,Infinity === this.Ei.duration || this.Ei.duration < C) && (this.Ei.duration=C);C=void 0 !== z.$v?l.N.Ma(z.$v).add(z.uta):void 0;F=null === (B=this.hx[0]) || void 0 === B?void 0:B.Bb;B={endOfStream:this.endOfStream || !(null === (D=z.Uy) || void 0 === D || !D.PL),hM:C,Zqa:F};C=this.C4a.append(z,B);D=C.di;F=C.li;B=C.Rp;C=C.offset;null === F || void 0 === F?void 0:F.forEach(function(E){return A.emit(E.type,E);});F=z.stream;if(F.ia){G=F.Rn().G8;C=C.wa(G.Ae(F.S));}this.KPa(C);D && (z.Ok || z.et) && z.di();C=p.Th.oHa;D || (this.Ce === g.v.fa || this.Ce === g.v.X?C=this.Srb(z,B):this.Ce === g.v.Ya && (C=this.hRa(z)));switch(C){case p.Th.Sj:this.Fmb(z);break;case p.Th.wD:this.Efa=z;break;case p.Th.zk:this.Ara(z);this.Efa=z;break;case p.Th.oHa:this.e6a(z,!0);}};x.prototype.Gbb=function(){var z;return m.default.gq.Jf.yua.aea || !(null === (z=this.Ei.Jf) || void 0 === z || !z.Gbb);};x.prototype.Srb=function(z,A){A=this.Gbb()?this.Trb(z,A):this.Urb(z,A);A !== p.Th.Sj && z instanceof v.Baa && (z=this.hRa(z.Jt),A=z === p.Th.Sj?z:A === p.Th.wD || z === p.Th.wD?p.Th.wD:p.Th.zk);return A;};x.prototype.Trb=function(z,A){var B,D,C;B=this;D=(0,u.$pa)(z);if((A=(A || z.Rp).every(function(F,G){return B.Qc.appendBuffer(F,0 === G?D:void 0);})) && !z.Ena){A=z.ana();C={ka:z,iterator:A,Kd:!1};this.Pz=C;t.AsyncIterator.j6(A,function(F){C.Kd || (F.done?(B.Pz=void 0,B.Ara(z)):B.Qc.appendBuffer(F.value,D));});A=p.Th.wD;}else A=A?p.Th.zk:p.Th.Sj;return A;};x.prototype.Urb=function(z,A){var B,D,C,F;B=this;D=(0,u.$pa)(z);A || (A=z.Rp);if(z.Ena)C=(C=this.QTa(A,D))?p.Th.zk:p.Th.Sj;else {C=z.ana();F={ka:z,iterator:C,Kd:!1};this.Pz=F;t.AsyncIterator.j6(C,function(G){F.Kd || (G.done?(B.QTa(A,D),B.Pz=void 0,B.Ara(z)):A.push(G.value));});C=p.Th.wD;}return C;};x.prototype.QTa=function(z,A){z=1 < z.length?(0,u.mK)(z):z[0];return this.Qc.appendBuffer(z,A);};x.prototype.hRa=function(z){var A,B,D,C;A=this;(0,h.assert)(z instanceof w.Caa);B=z.Rp;if(z.Ena){(0,h.assert)(B.every(function(F){return F instanceof ArrayBuffer;}));Promise.resolve().then(function(){return A.qWa(z,B);});D=p.Th.zk;}else {D=z.ana();C={ka:z,iterator:D,Kd:!1};this.hJ=C;t.AsyncIterator.j6(D,function(F){C.Kd || (F.done?(A.hJ=void 0,(0,h.assert)(B.every(function(G){return G instanceof ArrayBuffer;})),A.qWa(z,B)):B.push(F.value));});D=p.Th.wD;}return D;};x.prototype.qWa=function(z,A){var B,D;A=(0,u.mK)(A);A=new Uint8Array(A);A=m.default.Tja(A);(0,h.assert)(A);D=z.Ok && (null === (B=z.Uy) || void 0 === B?void 0:B.PL);z={type:"subtitleData",I:z.Bj,bb:z.La.G,lf:z.ab.G,gr:z.Xbb,o4b:A,endOfStream:D};this.Ei.events.emit(z.type,z);};x.prototype.Ara=function(z){var A;void 0 === this.yJ || this.Ce !== d.default.Bo.fa || z.Bb.equal(this.yJ) || (this.yJ=void 0);this.TQ("@" + m.default.time.Ga() + ", request appended, type: " + z.mediaType + ", streamId: " + z.Tb + ", pts: " + (null === (A=z.Bb) || void 0 === A?void 0:A.G) + "-" + z.Lb.G);this.e6a(z,!1);};x.prototype.e6a=function(z,A){var B,D,C;z.Ok || z.et?(this.yJ=A?z.Bb:z.Lb,null === (D=(B=this.Qc).oDb) || void 0 === D?void 0:D.call(B,z.Uy),this.ZQ=!1,(null === (C=z.Uy) || void 0 === C?0:C.PL) && this.L7(!1,this.yJ)):this.yJ=void 0;z.vR=!0;z.Ny();this.xpb(z);this.Tw();};x.prototype.Fmb=function(z){if(void 0 !== this.Qc.error){if("done" === this.Qc.error)return;this.Uz("failure to append queued mediaRequest:",null === z || void 0 === z?void 0:z.toString(),"err:",JSON.stringify(this.Qc.error));throw this.Qc.error;}z=Error("failure to append queued mediaRequest: " + (null === z || void 0 === z?void 0:z.toString()) + " err: " + this.Qc.error);this.Uz(z.message);throw z;};x.prototype.wpb=function(z,A){z={type:"headerAppended",mediaType:this.Ce,streamId:z,isIndex:A};this.emit(z.type,z);};x.prototype.xpb=function(z){z={type:"requestAppended",mediaType:this.Ce,request:z};this.emit(z.type,z);};x.prototype.TQ=function(z){z={type:"managerdebugevent",message:z};this.emit(z.type,z);};return x;})(r.EventEmitter);b.eAa=a;},13024:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fAa=void 0;c=a(28075);l=a(47571);f=a(44724);r=(function(){function k(d,g){this.V=d;this.Bnb=g;this.Iu=this.vu=this.Vo=0;this.bga=new Map();}k.prototype.Ru=function(d){var g,m,h;g=this;if(!d.Me){m=d.Ba;if(0 >= m){h=new c.Re();h.on(d.events,"updatedBytes",function(n){g.oQa(d,n.LRb - n.Yra);h.clear();g.bga.delete(d);});this.bga.set(d,h);}else this.oQa(d,m);}};k.prototype.At=function(d){var g;if(!d.Me){g=d.Ba;0 < g && (this.Vo-=g,d.mediaType === l.v.fa?this.vu-=g:this.Iu-=g,(0,f.assert)(this.Vo === this.vu + this.Iu),(0,f.assert)(0 <= this.Vo),(0,f.assert)(0 <= this.vu),(0,f.assert)(0 <= this.Iu));this.bga.delete(d);}};k.prototype.VSa=function(d,g){var m;(0,f.assert)(this.Vo === this.vu + this.Iu);m=this.Bnb();if(void 0 !== m.total && this.Vo + g > m.total)return !1;m=d === l.v.fa?m.audio:m.video;d=d === l.v.fa?this.vu:this.Iu;return void 0 !== m && d + g > m?!1:!0;};k.prototype.oQa=function(d,g){this.Vo+=g;d.mediaType === l.v.fa?this.vu+=g:this.Iu+=g;(0,f.assert)(this.Vo === this.vu + this.Iu);(0,f.assert)(0 < this.Vo);(0,f.assert)(0 <= this.vu);(0,f.assert)(0 <= this.Iu);};return k;})();b.fAa=r;},38264:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.FYa=b.IYa=b.Qta=b.hia=b.vca=void 0;c=a(70655);l=c.__importDefault(a(29736));f=a(44724);k=a(74005);r=(function(){function g(m,h,n){void 0 === n && (n={});this.config=m;this.ADb=h;this.kh=[];this.gia=new k.ru();this.sSa=new k.ru();this.options=c.__assign({co:10},n);}Object.defineProperties(g.prototype,{isEnabled:{get:function(){return this.config.vCb;},enumerable:!1,configurable:!0}});g.prototype.Pma=function(m,h){var n;if(!this.isEnabled)return h();n=this.tGb(m);if(n)return n.value;h=h();this.Ws(m,h);return h;};g.prototype.findIndex=function(m){var h,n,p,q;h=Infinity;n=Infinity;if(this.options.gR || this.options.dN){p=l.default.time.Ga();this.options.dN && (h=p - this.options.dN);this.options.gR && (n=p - this.options.gR);}for(p=0;p < this.kh.length;p++){q=this.kh[p];if(this.options.dN && q.W2a < h){this.kh.splice(p,this.kh.length - p);break;}if(this.options.gR && q.Hn < n)(this.kh.splice(p,1),p--);else if(this.ADb(q.key,m))return p;}return -1;};g.prototype.tGb=function(m){var h;m=this.findIndex(m);if(-1 !== m){h=this.kh[m];this.kh.splice(m,1);this.kh.unshift(h);this.options.dN && (h.W2a=l.default.time.Ga());this.sSa.push(m);this.gia.push(1);return h;}this.gia.push(0);};g.prototype.Ws=function(m,h){this.kh.unshift({key:m,value:h});if(this.options.dN || this.options.gR)(m=l.default.time.Ga(),this.options.dN && (this.kh[0].W2a=m),this.options.gR && (this.kh[0].Hn=m));this.svb();};g.prototype.svb=function(){this.kh.length > this.options.co && this.kh.pop();};g.prototype.clear=function(){this.kh=[];};return g;})();b.vca=r;d=new WeakMap();b.hia=function(g){void 0 === g && (g="default");return function(m,h,n){var p;p=n.value;n.value=function(q){var u,t,w;u=this;w=null === (t=d.get(this)) || void 0 === t?void 0:t[g];(0,f.assert)(w,"lruCache not defined");return w.Pma(q,function(){return p.call(u,q);});};};};b.Qta=function(g,m,h){d.has(g) || d.set(g,{});d.get(g)[m]=h;};b.IYa=function(g){var m;if(!d.has(g))return [];m=d.get(g);return Object.keys(m).map(function(h){return m[h];});};b.FYa=function(g){return d.has(g)?d.get(g):{};};},2427:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jwb={jt:["minInitVideoBitrate",-Infinity],ty:["maxInitVideoBitrate",Infinity],XU:["minInitAudioBitrate",-Infinity],LU:["maxInitAudioBitrate",Infinity],j7:["minAcceptableVideoBitrate",-Infinity],VU:["minAcceptableVMAF",0],VQb:["minAcceptableVMAFRebufferScalingFactor",0],Hqa:["minAllowedVideoBitrate",-Infinity],WPb:["maxAllowedVideoBitrate",Infinity],zG:["minAllowedVmaf",-Infinity],a4a:["maxAllowedVmaf",Infinity],QN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],M3:["enableResolutionVMAFStreamFilter",!1],usa:["percentCapTitlesForResolutionVMAFStreamFilter",100],m9:["resolutionVMAFCappingRuleList",[]],H0a:["ignoreUserFilterOnEmptyResult",!0],XB:["minRequiredBuffer",2E4],p7:["minRequiredAudioBuffer",0],Zq:["minPrebufSize",5800],Jqa:["minCheckBufferingCompleteInterval",200],GWa:["enableMoreFrequentBufferingCompleteCheck",!1],Z4a:["minimumBufferingCompleteInterval",1E4],nua:["requireDownloadDataAtBuffering",!1],W0a:["indicatorForDownloadDataAtBuffering","oncomplete"],oua:["requireSetupConnectionDuringBuffering",!1],Jta:["rebufferingFactor",1],Xq:["maxBufferingTime",2E3],Dxa:["useMaxPrebufSize",!0],UB:["maxPrebufSize",4E4],pqa:["maxRebufSize",Infinity],J5:["initialBitrateSelectionCurve",null],a1a:["initSelectionLowerBound",-Infinity],b1a:["initSelectionUpperBound",Infinity],mX:["throughputPercentForAudio",15],Lha:["bandwidthMargin",0],Nha:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],SRa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,vx:76376,scale:18862.4,gamma:3.0569}],Mha:["bandwidthMarginContinuous",!1],TRa:["bandwidthMarginForAudio",!0],Bwa:["switchConfigBasedOnInSessionTput",!0],jja:["conservBandwidthMargin",20],lja:["conservBandwidthMarginTputThreshold",6E3],kja:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Obb:["switchAlgoBasedOnHistIQR",!1],Cwa:["switchConfigBasedOnThroughputHistory","iqr"],p4a:["maxPlayerStateToSwitchConfig",-1],E3a:["lowEndMarkingCriteria","iqr"],HEa:["IQRThreshold",.5],v0a:["histIQRCalcToUse","simple"],ss:["bandwidthManifold",{curves:[{min:.05,max:.82,vx:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,vx:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],OU:["maxTotalBufferLevelPerSession",0],q0a:["highWatermarkLevel",3E4],ucb:["toStableThreshold",3E4],z$:["toUnstableThreshold",0],Yva:["skipBitrateInUpswitch",!1],Uxa:["watermarkLevelForSkipStart",8E3],Wva:["simulationDurationStrategy","default"],g1b:["simulationFullBufferPercentage",1],X4a:["minSimulationDuration",2E4],qqa:["maxSimulationDuration",3E5],Axa:["upperThroughputPredictionFactor",1.6],Qna:["highStreamRetentionWindow",9E4],Rpa:["lowStreamTransitionWindow",51E4],Sna:["highStreamRetentionWindowUp",5E5],Tpa:["lowStreamTransitionWindowUp",1E5],Rna:["highStreamRetentionWindowDown",6E5],Spa:["lowStreamTransitionWindowDown",0],Pna:["highStreamInfeasibleBitrateFactor",.5],oy:["lowestBufForUpswitch",9E3],AU:["lockPeriodAfterDownswitch",15E3],Wpa:["lowWatermarkLevel",15E3],py:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Xpa:["lowestWaterMarkLevelBufferRelaxed",!1],c7:["mediaRate",1.5],U6:["maxTrailingBufferLen",15E3],Aha:["audioBufferTargetAvailableSize",262144],Ixa:["videoBufferTargetAvailableSize",1048576],x4a:["maxVideoTrailingBufferSize",8388608],b4a:["maxAudioTrailingBufferSize",393216],a4:["fastUpswitchFactor",3],jEb:["fastUpswitchFactorWithoutHeaders",3],iEb:["fastUpswitchFactorForNextSegment",1],mla:["fastDownswitchFactor",3],uG:["maxMediaBufferAllowed",27E4],Wec:["minMediaBufferLen",1E4],Eab:["simulatePartialBlocks",!0],Dab:["simulateBufferFull",!0],mja:["considerConnectTime",!0],ija:["connectTimeMultiplier",1],JOb:["liveDvrSwitchThresholdms",1E4],e4a:["maxDomainFailureWaitDuration",3E4],aXa:["exhaustAllLocationsForFailure",!0],l4a:["maxNetworkErrorsDuringBuffering",20],P6:["maxBufferingTimeAllowedWithNetworkError",6E4],VJ:["alwaysRunUnderflowTimer",!0],mXa:["fastDomainSelectionBwThreshold",2E3],ccb:["throughputProbingEnterThreshold",4E4],dcb:["throughputProbingExitThreshold",34E3],u3a:["locationProbingTimeout",1E4],tXa:["finalLocationSelectionBwThreshold",1E4],acb:["throughputHighConfidenceLevel",.75],bcb:["throughputLowConfidenceLevel",.4],Epa:["locationStatisticsUpdateInterval",6E4],hPb:["locationSelectorPersistFailures",!0],HWa:["enablePerfBasedLocationSwitch",!1],Cec:["maxRateMaxFragmentGroups",4500],RCb:["enableNginxRateLimit",!1],G7:["nginxSendingRate",4E4],$3a:["maxActiveRequestsSABCell100",2],F9a:["resetActiveRequestsAtSessionInit",!0],K3:["enableHybridPacing",!1],tia:["catchUpMode",!1],mQb:["maxSegHint",4],iua:["requestLevelLogging",!1],CCb:["enableCsprNonPipelined",!1],H3:["enableCprAudio",!1],I3:["enableCprVideo",!1],ACb:["enableCprAudioNonPipelined",!1],BCb:["enableCprVideoNonPipelined",!0],TCb:["enablePaceReportLogging",!1],cUb:["paceRateSelectorAlgorithm","default"],dUb:["paceRateSelectorAlgorithmAudio","default"],eUb:["paceRateSelectorAlgorithmNonPipelined","default"],cbb:["staticPacingRateKbps",0],H2:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],y4b:["unpacedFragmentInterval",0],CLb:["ignorePacedRequestStrategy","none"],zV:["pacedThresholdPct",.1],yka:["effectivePaceRateFactor",1],gYb:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],gUb:["pacingTargetBufferStrategy","implicit"],V2b:["targetBufferLevelStddevMultiplier",1],U2b:["targetBufferLevelDurationMs",0],dRb:["minTargetBufferLevelMs",27E4],kwa:["stddevPredictorMultiplier",-.3],lwa:["stddevPredictorUpperMultiplier",2],S1b:["stddevPredictorSource","deliverytime"],Kia:["ciPredictorSource","throughput-ci"],AWa:["enableInitialTputLogging",!1],zWa:["enableInitialThroughputHistory",!1],u5:["headerRequestSize",4096],Uka:["estimateHeaderSize",!0],Yqa:["neverWipeHeaderCache",!1],F5b:["useSidxInfoFromManifestForHeaderRequestSize",!1],kUb:["parseAdditionalBoxesMp4Header",!0],oXa:["fastPlayHeaderRequestSize",0],vG:["maxRequestSize",0],YU:["minRequestSize",65536],l7:["minBufferLenForHeaderDownloading",1E4],o1b:["smartHeaderPreDownloading",!1],wCb:["enableAllHeadersPreDownloading",!1],ko:["pipelineEnabled",!0],nqa:["maxParallelConnections",3],B5b:["usePipelineForAudio",!1],A5b:["usePipelineDetectionForAudio",!1],D5b:["usePipelineForText",!0],Lab:["socketReceiveBufferSize",0],e2:["audioSocketReceiveBufferSize",32768],X$:["videoSocketReceiveBufferSize",65536],f3b:["textSocketReceiveBufferSize",32768],Pdb:["usePipelineDetectionForVideo",!1],gRb:["minVideoSocketReceiveBufferSize",65536],Nna:["headersSocketReceiveBufferSize",32768],C0b:["shareDownloadTracks",!0],D0b:["shareOpenRangeTracks",!1],Fbb:["supportOpenRangeRequests",!0],xBb:["disableHeaderDownloadTracks",!1],Lqa:["minTimeBetweenHeaderRequests",void 0],MV:["prebufferTimeLimit",6E4],P4a:["minBufferLevelForTrackSwitch",2E3],UCb:["enablePenaltyForLongConnectTime",!1],rsa:["penaltyFactorForLongConnectTime",2],Ppa:["longConnectTimeThreshold",200],Xga:["additionalBufferingLongConnectTime",2E3],Yga:["additionalBufferingPerFailure",8E3],ZV:["rebufferCheckDuration",6E4],KK:["enableOCSideChannel",!0],kVa:["decryptOCSideChannelMinInterval",1E3],lVa:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],ita:["probeRequestTimeoutMilliseconds",3E4],Dfc:["probeRequestConnectTimeoutMilliseconds",8E3],p_:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],XCb:["enableSCByteRangeHints",!1],hdb:["updateDrmRequestOnNetworkFailure",!0],u3b:["timeBeforeEndOfStreamBufferMark",6E3],kqa:["maxFastPlayBufferInMs",2E4],aQb:["maxFastPlayContentTimeThresholdMs",112E3],g4a:["maxFastPlayBitThreshold",2E8],c4a:["maxBufferingCompleteBufferInMs",Infinity],Xtb:["bufferingCompleteOnMemoryLimit",!1],Iqa:["minAudioMediaRequestSizeBytes",0],Mqa:["minVideoMediaRequestSizeBytes",0],YPb:["maxAudioMediaRequestSizeBytes",Infinity],tQb:["maxVideoMediaRequestSizeBytes",Infinity],fQb:["maxMediaRequestSizeBytesInFraction",1],Av:["minAudioMediaRequestDuration",0],wy:["minVideoMediaRequestDuration",0],o7:["minMediaRequestDuration",0],XPb:["maxAudioMediaRequestDuration",Infinity],sQb:["maxVideoMediaRequestDuration",Infinity],S6:["maxMediaRequestDuration",Infinity],cha:["allowFirstRequestAggregation",!1],Pec:["minAudioMediaRequestDurationCache",0],$ec:["minVideoMediaRequestDurationCache",0],Yja:["defaultHeaderCacheSize",4],Xja:["defaultHeaderCacheDataPrefetchMs",0],C5b:["usePipelineForBranchedAudio",!0],s7:["minimumTimeBeforeBranchDecision",2E3],hRb:["minimumAppendedMediaBeforePlayback",5E3],jQb:["maxRequestsToAttachOnBranchActivation",void 0],r7:["minimumJustInTimeBufferLevel",3E3],Wcc:["enableJustInTimeAppends",!1],gRa:["appendPacingFactor",0],Yrb:["appendPacingThreshold",3E3],Obc:["branchEndPtsIntervalMs",250],Wdc:["ignorePtsJustBeforeCurrentSegment",!1],bQb:["maxFragsForFittableOnBranching",300],Wqa:["networkFailureResetWaitMs",2E3],Vqa:["networkFailureAbandonMs",6E4],T6:["maxThrottledNetworkFailures",5],u$:["throttledNetworkFailureThresholdMs",200],Vpa:["lowThroughputThreshold",400],cla:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],t3b:["timeAtEachBitrateRoundRobin",1E4],xZb:["roundRobinDirection","forward"],mLb:["httpsConnectErrorAsPerm",!1],EWa:["enableManagerDebugTraces",!1],N3a:["managerDebugMessageInterval",1E3],M3a:["managerDebugMessageCount",20],lN:["requireAudioStreamToEncompassVideo",!1],obb:["ase_stream_selector","optimized"],$sb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],VOb:["liveStreamSelectorAlgorithm","livesimple"],j3b:["throughputDiscountForLive",.8],i3b:["throughputDiscountExponentBC",1.5],wU:["liveTargetBufferDuration",1E4],C6:["liveEdgeCushion",2E3],D6:["liveMaxTemporaryRequestErrorRetries",6],NOb:["liveInitialFetchSizeBytes",1024],TOb:["liveResyncClockOn404Error",!0],LOb:["liveEndSlateMaxDuration",6E4],H6:["liveSwitchStreamsOnErrorInPipeline",!1],a3b:["temporaryRequestFailureRetryIntervalMs",500],DWa:["enableLiveTemporaryRequestRetries",!0],iqa:["maxAttemptsOnFailure",18],Fka:["enableMaxAttemptsOnFailure",!0],qoa:["initBitrateSelectorAlgorithm","default"],Zha:["bufferingSelectorAlgorithm","default"],c2b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],JWa:["enableThroughputTraceResearchData",!1],fcb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Lfc:["researchEnvironmentEnabled",!1],ZCb:["enableStreamSelectionAugmentData",!1],dtb:["augmentDataNumOfChunks",30],Pja:["ase_dump_fragments",!1],Qja:["ase_location_history",0],eVa:["ase_throughput",0],esa:["paddingDurationMs",1E3],fsa:["paddingMediaType","padding"],el:["stallAtFrameCount",void 0],Rab:["stallAtFrameCountAudio",void 0],eqa:["marginPredictor","simple"],Hdb:["useBackupUnderflowTimer",!0],WRb:["noDuplicateUnderflowTimer",!1],fhc:["useManifestDrmHeader",!0],hhc:["useOnlyManifestDrmHeader",!0],Xqa:["networkMeasurementGranularity","video_location"],JRb:["netIntrStoreWindow",36E3],efc:["minNetIntrDuration",8E3],xnb:["fastHistoricBandwidthExpirationTime",10368E3],Rnb:["bandwidthExpirationTime",5184E3],wnb:["failureExpirationTime",86400],ePa:["historyTimeOfDayGranularity",4],tnb:["expandDownloadTime",!0],tob:["minimumMeasurementTime",500],sob:["minimumMeasurementBytes",131072],lpb:["throughputMeasurementTimeout",2E3],kpb:["initThroughputMeasureDataSize",262144],eob:["historicBandwidthUpdateInterval",2E3],rbc:["throughputPredictor","ewma"],$ua:["secondThroughputEstimator","slidingwindow"],l$a:["secondThroughputMeasureWindowInMs",3E5],qbc:["throughputMeasureWindow",5E3],sbc:["throughputWarmupTime",5E3],pbc:["throughputIQRMeasureWindow",1E3],$ac:["IQRBucketizerWindow",15E3],j4a:["maxIQRSamples",100],S4a:["minIQRSamples",5],mbc:["connectTimeHalflife",10],ebc:["responseTimeHalflife",10],wOa:["historicThroughputHalflife",14400],vOa:["historicResponseTimeHalflife",100],uOa:["historicHttpResponseTimeHalflife",100],YDa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],WOa:["minReportedNetIntrDuration",4E3],obc:["throughputBucketMs",500],cbc:["bucketHoltWintersWindow",2E3],nnb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],unb:["experimentalFilter",["throughput-wssl"]],wPa:["reportedFilters",[]],ifa:["filterDefinitionOverrides",{}],hnb:["defaultFilter","throughput-ewma"],inb:["defaultFilterField","average"],Dpb:["secondaryFilter","throughput-sw"],Zea:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],eDb:["enableWsslEstimate",!1],Fec:["maxWsslRequestSize",131072],Eec:["maxWsslRequestRatio",.2],Ieb:["wsslAggregationMethod","max"],IWa:["enableSessionHistoryReport",!0],gWa:["earlyStageEstimatePeriod",1E4],X2a:["lateStageEstimatePeriod",3E4],m4a:["maxNumSessionHistoryStored",10],W4a:["minSessionHistoryDuration",3E5],Kdc:["highAndStableModelName","baseline"],Vcc:["enableHighAndStablePredictor",!1],Xec:["minNumSessionHistory",5],Lbc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Jdc:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Ldc:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Hga:["addHeaderDataToNetworkMonitor",!0],ewa:["startMonitorOnLoadStart",!1],dua:["reportFailedRequestsToNetworkMonitor",!1],o8:["periodicHistoryPersistMs",0],y9:["saveVideoBitrateMs",0],Uqa:["needMinimumNetworkConfidence",!0],Qha:["biasTowardHistoricalThroughput",!1],pec:["logMemoryUsage",!1],dH:["probeServerWhenError",!0],rR:["allowSwitchback",!0],X7a:["probeDetailDenominator",100],Q6:["maxDelayToReportFailure",300],Frb:["allowParallelStreaming",!1],Iec:["mediaPrefetchDisabled",!1],Qec:["minBufferLevelToAllowPrefetch",5E3],vN:["seamlessAudio",!1],cgc:["seamlessAudioProfiles",[]],dgc:["seamlessAudioProfilesAndTitles",{}],Yua:["seamlessAudioMaximumSyncError",void 0],Zua:["seamlessAudioMinimumSyncError",void 0],o1a:["insertSilentFrames",0],Boa:["insertSilentFramesOnSeek",!1],p1a:["insertSilentFramesOnSeekForTitles",[]],pMb:["insertSilentFramesOnSeekCount",3],mdc:["forceDiscontinuityAtTransition",!0],Ggc:["supportAudioResetOnDiscontinuity",void 0],Fgc:["supportAudioEasingOnDiscontinuity",void 0],hCb:["editCompleteFragments",!0],iRb:["minimumAudioFramesPerFragment",1],wR:["applyProfileTimestampOffset",!1],Am:["applyProfileStreamingOffset",!0],M8:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],HRa:["audioProfilesNonSyncSamples",["xheaac-dash"]],e4b:["truncateEndOfStreamAudio",!1],w5b:["useDpiAssumedAacEncoderDelay",!0],e7:["mediaSourceSupportsNegativePts",!1],k7:["minAudioPtsGap",void 0],Wsb:["audioOverlapGuardSampleCount",2],WCb:["enableRecordJSBridgePerf",!1],dca:["JSBridgeTDigestConfig",{maxc:25,c:.5}],o3b:["throughputThresholdSelectorParam",0],t5b:["upswitchDuringBufferingFactor",2],Lrb:["allowUpswitchDuringBuffering",!1],mcc:["contentOverrides",void 0],ncc:["contentProfileOverrides",void 0],t0a:["hindsightDenominator",0],s0a:["hindsightDebugDenominator",0],Odc:["hindsightAlgorithmsEnabled",[]],u0a:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],fRa:["appendMediaRequestOnComplete",!1],Pxa:["waitForDrmToAppendMedia",!1],p6b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],Kla:["forceAppendHeadersAfterDrm",!1],gVa:["declareBufferingCompleteAtSegmentEnd",!1],KU:["maxActiveRequestsPerSession",void 0],xpa:["limitAudioDiscountByMaxAudioBitrate",!1],iha:["appendFirstHeaderOnComplete",!0],n$:["strictBufferCapacityCheck",!1],xR:["aseReportDenominator",0],vha:["aseReportIntervalMs",3E5],msb:["aseReportMaxStreamSelections",400],j3a:["liveReportSendIntervalMs",6E4],Apa:["liveReportCollectIntervalMs",5E3],Ywa:["translateToVp9Draft",!1],aua:["reorderTrakMvex",!1],fX:["switchableAudioProfiles",[]],Ysb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Qbb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],atb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],v4a:["maxStartingVideoVMAF",110],kt:["minStartingVideoVMAF",1],iR:["activateSelectStartingVMAF",!1],G9:["selectStartingVMAFTDigest",-1],xN:["selectStartingVMAFMethod","fallback"],s$a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],GM:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],Hcc:["disablePtsStartsEvent",!0],T8a:["recordFirstFragmentOnSubBranchCreate",!0],Y3a:["markRequestActiveOnFirstByte",!1],g$:["stopOnAllInactiveRequests",!1],rWa:["enableActiveRequestsInFilters",!1],nO:["useNativeDataViewMethods",!0],ksb:["aseDiagnostics",[{qd:"queue-audit",enabled:!0},{qd:"task-audit",enabled:!0},{qd:"trace-ShimSession",enabled:!0},{qd:"trace-engine",enabled:!0},{qd:"trace-RequestPacer",enabled:!0},{qd:"trace-BufferStateTracker",enabled:!0},{qd:"trace-GraphStreamingProcess",enabled:!0},{qd:"trace-AsePlaygraph",enabled:!0},{qd:"playgraph-branch-audit",enabled:!0},{qd:"content-playgraph",enabled:!0},{qd:"trace-CphAsePlaygraph",enabled:!0},{qd:"trace-GraphLocation",enabled:!0},{qd:"cache-ads::gls",enabled:!0},{qd:"cache-content::gls",enabled:!0}]],xCb:["enableAseReporting",!0],Itb:["branchDistanceThreshold",6E4],O6:["maxAllowedOutstandingRequests",4],Kqa:["minStreamableConcurrencyWindow",3E3],oQb:["maxStreamableConcurrencyWindow",Infinity],qwa:["streamableConcurrencyFactor",.3],LR:["bufferingConcurrencyWindow",7800],Uha:["branchCreationThreshold",12E4],J3:["enableDiscontiguousBuffering",!1],Nla:["forceImmediateTransitionTypeForTitles",[]],Mla:["forceImmediateTransitionExitZone",0],pja:["contiguousBufferMultiplier",3],dUa:["contiguousBufferMinimumAudio",1048576],fUa:["contiguousBufferMinimumVideo",8388608],eUa:["contiguousBufferMinimumText",0],NVb:["prefetchBudgetInBytes",0],L8a:["rebufferRiskHalfLife",1E4],L$:["useBufferSizeLimiter",!1],G5b:["useStaticBufferSizeLimiter",!1],QVb:["prefetchWeightBudget",32],Nqa:["minimumDownstreamBranchProbability",.075],Cxa:["useExitZones",!0],RVb:["prefetchWhilePlaying",!0],WVb:["prefetcherSoftReset",!0],rVb:["playgraphDefaultWeight",65520],VAb:["delayNotificationOfEoS",!1],HQb:["memDeadlockShouldCheckMemory",!0],GQb:["memDeadlockOverageThreshold",.9],FQb:["memDeadlockMaxUtilizationPercentage",.5],mVb:["playerPtsPadding",1],Vec:["minFragmentVmaf",void 0],yS:["enableCombinedPlaygraphs",!0],nF:["enableAdPlaygraphs",!0],L3:["enablePrerollForInitialSeek",!1],dla:["excludedContentPlaygraphIds",[]],P_a:["graphSelectorSetAudioRate",!1],dDb:["enableVmafEstimationFromBitrate",!1],qQb:["maxVMAFMappingBitrate",16E3],rQb:["maxVMAFMappingVMAF",110],gvb:["cdndldistEnabled",!1],Ty:["segmentFadeDuration",400],C9:["segmentFadeInDuration",-1],D9:["segmentFadeOutDuration",-1],dM:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],n9:["retainSbrOnFade",!1],n1a:["insertSilentFrameOnFade",!0],nfc:["optimizeEditedFragments",!1],Mbb:["supportsPtsChanged",!0],vCb:["enableAdLruCaches",!1],yRa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],LCb:["enableLiveRequestLogger",!1],B0a:["hydrateWaitTimeBetweenAdBreaksMs",5E3],o4a:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],hYb:["rehydrateSkippableAdBreaks",!0]};b.Kf=b.Jwb;},40730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},71502:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kma=b.Irb=void 0;b.Irb=function(a){return a.vN;};b.Kma=function(a,c){return void 0 !== a.k7?a.k7:c && void 0 !== c.k7?c.k7:100;};},53597:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ix=void 0;c=a(95994);l=a(65519);f=a(44724);b.Ix=function(k,d,g,m,h,n,p,q){var u;c.K && m.trace("AsePlaygraph.createRequestQueue()");u=l.aD.instance.Ix(k,d.O,!0,!1,{UA:g.UA,ia:h},g);u.Sk.on(u,"networkfailing",function(){var t;c.K && m.trace("requestQueue OnNetworkFailing: ",u);u.kla && ((0,f.assert)(u.lla),null === (t=d.Qx) || void 0 === t?void 0:t.jr(void 0,u.lla,void 0,u.Nf,u.Ph));d.vo();});u.Sk.on(u,"error",function(){q(u.Nf,u.Ph);});u.on("transportreport",function(t){t.Hka=d.vU.MK;n(t);});u.on("mediaRequestComplete",p);u.va();return u;};},65519:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.aD=void 0;c=a(70655);l=c.__importDefault(a(54186));f=a(47571);k=c.__importDefault(a(29736));d=a(70137);r=(function(){function g(m){this.JD=m;this.Wd=[];this.console=new k.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(g,{instance:{get:function(){var m;if(void 0 === g.fs){m=a(29736)["default"];g.fs=new g(m.vI);}return g.fs;},enumerable:!1,configurable:!0}});g.reset=function(){g.fs=void 0;};g.prototype.Ix=function(m,h,n,p,q,u){var t;t=u.C0b?this.OEb(n,h,m,u.D0b):-1;-1 === t?(t={track:this.Uyb(n,p,m,q,u),vi:n,O:h,t8a:m,tC:[],Hn:!1,dF:!1},this.Wd.push(t),this.CXb(t),m=!1):(m=!0,t=this.Wd[t]);m=new d.aLa(this.console,t.track,t.Hn,m);t.tC.push(m);return m;};g.prototype.CXb=function(m){function h(){m.Hn=!0;m.track.removeListener("created",h);}m.track.on("created",h);};g.prototype.s3=function(m){var h,n;m.Es();h=this.NS(function(p){return p.track === m.track;});if(-1 !== h){if((h=this.Wd[h],1 === h.tC.length))(h.track.Es(),h.dF=!0);else {n=h.tC.indexOf(m);0 <= n && h.tC.splice(n,1);}}else m.track.Es();};g.prototype.Bf=function(){this.JD.Bf();};g.prototype.Uyb=function(m,h,n,p,q){var u,t,w,v,y,x;u=this;w=!1;v=t=!1;y=p.ia;m?n === f.v.X?(m=1,q.ko?(v=!0,m=q.nqa):q.KU && 2 < q.KU && (v=!0,m=q.KU),t=y?!!q.FX:q.FX || !v,t={type:this.JD.X,openRange:t,pipeline:v,connections:m,socketBufferSize:q.X$,minRequestSize:q.YU}):n === f.v.fa?(w=q.ko && (q.B5b || h && q.C5b),t=y?!!q.FX:q.FX || !w,t={type:this.JD.fa,openRange:t,pipeline:w,connections:1,socketBufferSize:q.e2,minRequestSize:q.YU}):n === f.v.Ya?(t=y?!!q.FX:q.FX || !q.D5b,t={type:this.JD.Ya,openRange:t,pipeline:q.ko,connections:1,socketBufferSize:q.f3b,minRequestSize:q.YU}):t={type:q.xBb?this.JD.X:this.JD.kib,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Nna,minRequestSize:q.YU}:t={type:n === f.v.fa?l.default.Bo.fa:l.default.Bo.X,openRange:!1,pipeline:!1,connections:1,socketBufferSize:n === f.v.fa?q.e2:q.X$,minRequestSize:q.YU};x=new this.JD(t,p);x.ko=v;x.on("transportreport",function(z){var A;A=u.NS(function(B){return B.track === x;});-1 !== A && (A=u.Wd[A],A.tC.length && A.tC[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var A;A=u.NS(function(B){return B.track === x;});-1 !== A && (A=u.Wd[A],A.tC.length && A.tC[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=u.NS(function(A){return A.track === x;});-1 !== z && u.Wd.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.ko=!1;if(y)x.Mta(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(w && q.A5b || q.Pdb)q.Pdb && x.config.type === f.v.X?x.Mta(c.__assign(c.__assign({},x.config),{socketBufferSize:q.gRb,pipeline:!1,openRange:!0,connections:1})):x.Mta(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};g.prototype.OEb=function(m,h,n,p){return this.NS(function(q){return !q.dF && (!p && q.track.config.mfc || !m?!q.vi && q.t8a === n:q.vi && q.O === h && q.t8a === n);});};g.prototype.NS=function(m){for(var h=0;h < this.Wd.length;++h){if(m(this.Wd[h]))return h;}return -1;};return g;})();b.aD=r;},70137:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aLa=void 0;c=a(70655);l=a(28075);r=(function(f){function k(d,g,m,h){var n;n=f.call(this) || this;n.V=d;n.track=g;n.Hn=!1;n.Afa=!1;n.Sk=new l.Re();n.Sk.on(g,"networkfailing",function(){n.emit("networkfailing");});n.Sk.on(g,"error",function(){n.V.warn("requestQueue got error");n.emit("error");});if(m)(n.Hn=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Sk.on(g,"created",function(){n.Hn=!0;n.emit("created");});n.Afa=h;return n;}c.__extends(k,f);Object.defineProperties(k.prototype,{kla:{get:function(){return this.track.kla;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Nf:{get:function(){return this.track.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ph:{get:function(){return this.track.Ph;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lla:{get:function(){return this.track.lla;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});k.prototype.va=function(){var d,g;this.Afa || (null === (g=(d=this.track).va) || void 0 === g?void 0:g.call(d),this.Afa=!0);};k.prototype.toString=function(){return this.track.toString();};k.prototype.toJSON=function(){return this.track;};k.prototype.Es=function(){this.Sk.clear();};return k;})(l.EventEmitter);b.aLa=r;},54186:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(73101);b["default"]={O7b:{qu:0,fac:1,name:["STARTUP","STEADY"]},DZ:{Dk:0,eac:1,omb:2,name:["STARTING","STABLE","UNSTABLE"]},Bo:{fa:r.v.fa,X:r.v.X,Ya:r.v.Ya,name:["AUDIO","VIDEO","TEXT"]},F9b:{fa:r.v.fa,X:r.v.X,Ya:r.v.Ya,name:["AUDIO","VIDEO","TEXT"]},Gg:{URL:0,BD:1,LOCATION:2,iu:3,name:["URL","SERVER","LOCATION","NETWORK"]},rl:{HAVE_NOTHING:0,CI:1,BI:2,bP:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},ou:{w7b:0,h9b:1,K$b:2,g$b:3,E$b:4,Fac:5,m9b:6,E9b:7,qu:8,Sj:9,eda:10,clb:11,Paa:12,jjb:13,ijb:14,Llb:15,Klb:16,njb:17,bmb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},K8b:{iu:0,m8b:1,name:["NETWORK","DECODE"]},cac:{n8b:"delayedSeamless",t9b:"hideLongTransition"}};},95994:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K=!1;},89718:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.ICa=void 0;c=a(70655);l=a(28075);f=c.__importStar(a(67841));k=c.__importDefault(a(29736));d=new k.default.Console("ASEJS_ERROR_DIRECTOR","asejs");g=c.__importDefault(a(54186));m=a(45056);h=a(89098);n=k.default.gq;p=n.XY;q={};u={};r=[g.default.Gg.iu,!1];a=[g.default.Gg.iu,!0];t=[g.default.Gg.BD,!1];w=[g.default.Gg.BD,!0];v=[g.default.Gg.URL,!0];y=[g.default.Gg.URL,!1];x=[-1,!1];z=[g.default.Gg.BD,!1];q[p.o7b]=t;q[p.UNKNOWN_ERROR]=t;q[p.j$b]=t;q[p.bhb]=t;q[p.oBa]=t;q[p.nhb]=t;q[p.fhb]=w;q[p.ugb]=w;q[p.wAa]=z;q[p.uAa]=z;q[p.vgb]=x;q[p.wgb]=z;q[p.xgb]=z;q[p.rgb]=t;q[p.tgb]=t;q[p.vAa]=r;q[p.sgb]=t;q[p.qgb]=z;q[p.$7b]=w;q[p.oib]=z;q[p.MDa]=z;q[p.LDa]=z;q[p.IDa]=z;q[p.JDa]=z;q[p.nib]=v;q[p.Tba]=w;q[p.UZ]=v;q[p.Uba]=a;q[p.Vba]=w;q[p.qib]=v;q[p.VZ]=z;q[p.NDa]=w;q[p.pib]=w;q[p.ihb]=w;q[p.chb]=t;q[p.Qlb]=t;q[p.Tgb]=t;q[p.Ugb]=t;q[p.Vgb]=t;q[p.Wgb]=t;q[p.Xgb]=t;q[p.Ygb]=t;q[p.Zgb]=t;q[p.$gb]=t;q[p.ahb]=t;q[p.dhb]=t;q[p.ehb]=t;q[p.ghb]=t;q[p.hhb]=t;q[p.jhb]=t;q[p.khb]=t;q[p.lhb]=t;q[p.mhb]=t;q[p.ohb]=t;q[p.phb]=t;q[p.Plb]=z;q[p.TIMEOUT]=r;u[p.wAa]=!0;u[p.MDa]=!0;u[p.LDa]=!0;u[p.JDa]=!0;u[p.oBa]=!0;r=(function(){var m_P;m_P=2;for(;m_P !== 13;){switch(m_P){case 2:A.prototype.Pa=function(){var L2z;L2z=2;for(;L2z !== 1;){switch(L2z){case 2:this.Sk.clear();L2z=1;break;}}};A.prototype.BN=function(B){var Y$C;Y$C=2;for(;Y$C !== 1;){switch(Y$C){case 2:this.V9=B;Y$C=1;break;}}};m_P=5;break;case 5:A.prototype.jr=function(B,D,C,F,G){var N9g,Y,ma,ia,E,J,M,L,I,P,K,H,N,R,v0i,Ba,Ka,Va,db,W,ha,ja,Ca,p74,c4H,Y1C,k99,Q,O,e_z,U89,l5j;N9g=2;for(;N9g !== 33;){switch(N9g){case 35:return;break;case 16:Y=N.tZa(B.stream);N9g=15;break;case 27:(ma=R[0],ia=R[1]);N9g=26;break;case 22:D=N.B_b(D.host,D.port).map(function(oa){var b41,qa;b41=2;for(;b41 !== 5;){switch(b41){case 2:return {url:(null === (qa=oa.url.stream.nx) || void 0 === qa?void 0:qa.vT(!0)) || "",Pc:oa.$b.id,$b:oa.$b,stream:oa.url.stream,urls:oa.$b.urls};break;}}}).filter(function(oa){var R8N;R8N=2;for(;R8N !== 1;){switch(R8N){case 2:return "" !== oa.url;break;}}});N9g=27;break;case 15:D=N.t_a(B).map(function(oa){var y7T;y7T=2;for(;y7T !== 1;){switch(y7T){case 2:return {url:B.url,Pc:oa.id,$b:oa,stream:Y,urls:oa.urls,I:B.Bj};break;}}});N9g=27;break;case 2:var l4v=" : crit";l4v+="ical error cou";l4v+="nt =";l4v+=" ";var A$4=" ";A$4+="o";A$4+="n";A$4+=" ";var m0y=" h";m0y+="tt";m0y+="pC";m0y+="ode ";var u$C="Fa";u$C+="ilu";u$C+="r";u$C+="e ";K=n.XY.name;K=F?K[F]:void 0;(H=this.config,N=this.Tk);d.warn(u$C + K + m0y + C + A$4 + JSON.stringify(B?B:D) + l4v + this.av);N9g=3;break;case 3:N9g=F && f.isArray(q[F])?9:34;break;case 26:N9g=H.dH?25:24;break;case 13:this.R2++;N9g=12;break;case 18:N9g=R !== x?17:33;break;case 17:N9g=B?16:23;break;case 12:var O4Y="critic";O4Y+="alN";O4Y+="etworkError";var Y$y="criti";Y$y+="calNetwork";Y$y+="Err";Y$y+="or";var C4T="req";C4T+="uestEr";C4T+="ror";var L0L="re";L0L+="q";L0L+="u";L0L+="estError";R=q[F];N.ia && B && (this.config.DWa && F === p.UZ && 404 === C?(B.Zn || (B.Zn={Sp:0,pN:void 0}),(null === (M=B.Zn) || void 0 === M?void 0:M.Sp) < this.config.D6?R=y:(null === (L=B.Zn) || void 0 === L?void 0:L.Sp) === this.config.D6 && B.Zn.Sp++):F === p.Vba && B.Jna && (R=t));this.ly={$x:C,Nf:F,lXa:K,Ph:G};this.events.emit(L0L,{type:C4T,$x:C});u[F] && (++this.av,this.events.emit(Y$y,{type:O4Y,Nf:F}));N9g=18;break;case 23:N9g=D?22:21;break;case 25:try{v0i=2;for(;v0i !== 8;){switch(v0i){case 9:Ca=ja.next();v0i=1;break;case 5:var H5D="er";H5D+="ro";H5D+="r";var f3K=" Ret";f3K+="r";f3K+="y count increasing";f3K+=" ";var K1s="] se";K1s+="gmen";K1s+="tId ";var X4M=" Retry in progress already, skip updating retry c";X4M+="ounter";X4M+="s";(Ba=Ca.value,Ka=Ba.urls,Va=Ba.url,db=Ba.Pc,W=Ba.stream,ha=Ba.$b);R === z || R === t?this.hta.xWb(Ba,{TQa:db,zX:R,$x:C,Nf:F,lXa:K,Ph:G}):this.config.DWa && R === y && (null === (I=null === W || void 0 === W?void 0:W.nx) || void 0 === I?0:I.ia) && (null === (P=null === W || void 0 === W?void 0:W.nx) || void 0 === P?void 0:P.$b) === ha.id && B && B.Zn?B.Zn.pN?d.log(B.mediaType + " " + B.Bj + X4M + B.Zn.Sp):(B.Zn.Sp++,d.log("[" + B.mediaType + K1s + B.Bj + f3K + B.Zn.Sp),W.nx.Mqb(B.Bj || 0)):Ka.some(function(oa){var D2F;D2F=2;for(;D2F !== 5;){switch(D2F){case 2:N.jr(ma,ia,oa.url);return ma === g.default.Gg.BD;break;}}});!this.V9 || 0 !== C && void 0 !== C || this.V9.hva(H5D,Va);v0i=9;break;case 1:v0i=!Ca.done?5:8;break;case 2:(ja=c.__values(D),Ca=ja.next());v0i=1;break;}}}catch(oa){var ta;ta={error:oa};}finally{p74=2;for(;p74 !== 1;){switch(p74){case 2:try{c4H=2;for(;c4H !== 1;){switch(c4H){case 2:Ca && !Ca.done && (E=ja.return) && E.call(ja);c4H=1;break;}}}finally{Y1C=2;for(;Y1C !== 5;){switch(Y1C){case 1:throw ta.error;Y1C=5;break;case 2:Y1C=ta?1:5;break;}}}p74=1;break;}}}N9g=33;break;case 21:var x7X="Invalid affected for netw";x7X+="ork f";x7X+="ailu";x7X+="re";d.error(x7X);N9g=35;break;case 9:N9g=this.Dka?8:12;break;case 24:try{k99=2;for(;k99 !== 13;){switch(k99){case 1:k99=!O.done?5:13;break;case 2:(Q=c.__values(D),O=Q.next());k99=1;break;case 8:k99=R === z && !this.GYb(db)?13:7;break;case 6:var T03="e";T03+="r";T03+="r";T03+="or";!this.V9 || 0 !== C && void 0 !== C || this.V9.hva(T03,Va);k99=14;break;case 7:Ka.some(function(oa){var l7x;l7x=2;for(;l7x !== 5;){switch(l7x){case 2:N.jr(ma,ia,oa.url);return ma === g.default.Gg.BD;break;}}});k99=6;break;case 5:Ba=O.value;db=Ba.Pc;Ka=Ba.urls;Va=Ba.url;k99=8;break;case 14:O=Q.next();k99=1;break;}}}catch(oa){var Z;Z={error:oa};}finally{e_z=2;for(;e_z !== 1;){switch(e_z){case 2:try{U89=2;for(;U89 !== 1;){switch(U89){case 2:O && !O.done && (J=Q.return) && J.call(Q);U89=1;break;}}}finally{l5j=2;for(;l5j !== 5;){switch(l5j){case 1:throw Z.error;l5j=5;break;case 2:l5j=Z?1:5;break;}}}e_z=1;break;}}}N9g=33;break;case 8:N9g=this.R2 >= this.config.iqa?7:13;break;case 7:var N$p=" consec";N$p+="utive network failure ";N$p+="mode in underflow mode";var Z8X="Forcing perman";Z8X+="ent";Z8X+=" network f";Z8X+="ailure after ";d.info(Z8X + this.R2 + N$p);this.Tk.jr(g.default.Gg.iu,!0);N9g=14;break;case 14:return;break;case 34:var f19="Unmap";f19+="ped failure code in ";f19+="JSASE error d";f19+="irector : ";R7xOY.C8s(0);d.error(R7xOY.A_X(F,f19));N9g=33;break;}}};A.prototype.GYb=function(B){var w4k,D,C,F;w4k=2;for(;w4k !== 7;){switch(w4k){case 8:this.Hwa[B]={Qd:D,count:1};w4k=7;break;case 2:(D=k.default.time.Ga(),C=this.config,F=this.Hwa[B]);w4k=1;break;case 1:w4k=F?5:8;break;case 9:return F.Py=!0;break;case 5:w4k=F.Qd < this.VL?4:3;break;case 4:(F.Qd=D,F.count=1);w4k=7;break;case 3:w4k=!(F.Qd >= D - C.u$ || F.Py || (F.Qd=D,++F.count,F.count < C.T6))?9:7;break;}}};A.prototype.sKb=function(B){var A3K,E,J,M,D,C,F,G;A3K=2;for(;A3K !== 7;){switch(A3K){case 9:var G6V="te";G6V+="mpor";G6V+="aryNetworkEr";G6V+="ror";var J6p="tempor";J6p+="aryNe";J6p+="tworkE";J6p+="rror";B || this.events.emit(J6p,{type:G6V,errorCode:E,httpCode:J,nativeCode:M});A3K=8;break;case 3:(E=this.ly.Nf,J=this.ly.$x,M=this.ly.Ph);A3K=9;break;case 8:F?(this.oN && (clearTimeout(this.oN),this.oN=void 0),this.qTa(),this.hta.reset(),this.Cna({lNb:B,NTb:E,PTb:J,QTb:M})):this.oN || (this.oN=setTimeout(function(){var y76;y76=2;for(;y76 !== 5;){switch(y76){case 2:D.oN=void 0;D.k9();y76=5;break;}}},G.Wqa));A3K=7;break;case 4:A3K=this.ly?3:9;break;case 2:var g08=" m";g08+="s";g08+=" ago";var M9L=" last su";M9L+="cce";M9L+="ss wa";M9L+="s ";var m_4="Networ";m_4+="k has f";m_4+="aile";m_4+="d ";var J52="tempor";J52+="ari";J52+="ly";var j_w="p";j_w+="erm";j_w+="ane";j_w+="nt";j_w+="ly";(D=this,C=k.default.time.Ga() - this.VL,F=B,G=this.config);R7xOY.m_t(1);d.warn(R7xOY.N0G(B?j_w:J52,m_4,C,M9L,g08));!B && C > G.Vqa && (F=!0);A3K=4;break;}}};A.prototype.k9=function(){var Z_s,B;Z_s=2;for(;Z_s !== 5;){switch(Z_s){case 2:B=this;this.gTa.hha || this.gTa.Deb(function(){var v5j;v5j=2;for(;v5j !== 1;){switch(v5j){case 2:B.oN || (B.Tk.k9(),B.Hwa={},B.oB());v5j=1;break;}}});Z_s=5;break;}}};m_P=8;break;case 8:A.prototype.H$=function(B){var T57,D;T57=2;for(;T57 !== 6;){switch(T57){case 2:D=this.config;this.VL=Math.max(B.Mh || k.default.time.Ga(),this.VL);this.qTa();this.Dka=!1;this.R2=0;this.Tk.ia && void 0 !== B.Bj && !B.stream.qta(B.Bj) && this.Tk.tZa(B.stream).nx.pYb(B.Bj);D.dH && this.hta.H$(B);T57=7;break;case 7:var l6k="updati";l6k+="ngLastSuc";l6k+="ce";l6k+="ssEvent";var B2I="updatingLastSucce";B2I+="ssE";B2I+="vent";this.events.emit(B2I,{type:l6k});T57=6;break;}}};A.prototype.uh=function(){var r5S,B,D,C;r5S=2;for(;r5S !== 3;){switch(r5S){case 2:var U8c="m";U8c+="s";var p4u="Se";p4u+="tti";p4u+="ng underflow timeout in ";(B=this,D=this.config,C=D.P6);this.VL=Math.max(k.default.time.Ga(),this.VL);!D.Hdb || this.BX || D.WRb || (d.info(p4u + C + U8c),this.BX=setTimeout(function(){var D94;D94=2;for(;D94 !== 4;){switch(D94){case 2:var C_E="F";C_E+="orcing per";C_E+="manent network failure a";C_E+="fter ";var w_T="ms, si";w_T+="nce underflow with no su";w_T+="cces";w_T+="s";R7xOY.C8s(2);d.info(R7xOY.N0G(w_T,C_E,C));B.BX=void 0;B.Tk.jr(g.default.Gg.iu,!0);D94=4;break;}}},C));this.config.Fka && (this.Dka=!0);r5S=3;break;}}};m_P=6;break;case 6:A.prototype.qTa=function(){var j31;j31=2;for(;j31 !== 1;){switch(j31){case 2:var J3E="C";J3E+="l";J3E+="eared u";J3E+="nderflow timeout";this.BX && (clearTimeout(this.BX),this.BX=void 0,d.info(J3E));j31=1;break;}}};return A;break;}}function A(B,D,C,F){var Q_V;Q_V=2;for(;Q_V !== 18;){switch(Q_V){case 9:var G_n="1SI";G_n+="Y";G_n+="bZrNJ";G_n+="C";G_n+="p9";this.Sk=new l.Re();G_n;this.gTa=new h.Tda();q[p.IDa]=D.mLb?w:z;Q_V=14;break;case 2:this.Tk=B;this.config=D;this.Cna=C;this.oB=F;Q_V=3;break;case 3:this.events=new l.EventEmitter();Q_V=9;break;case 11:this.Hwa={};this.hta=new m.DKa(B,F,D);this.Dka=!1;this.R2=0;Q_V=18;break;case 14:var f3y="n";f3y+="etwork";f3y+="Fail";f3y+="ed";this.Sk.addListener(this.Tk,f3y,this.sKb.bind(this));this.VL=k.default.time.Ga();this.av=0;Q_V=11;break;}}}})();b.ICa=r;},55326:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jza=void 0;c=a(70655);l=a(28075);f=c.__importDefault(a(29736)).default.hj;r=(function(k){function d(g){var m;m=k.call(this) || this;m.jPa=g;m.G0=g.groupId;m.S0=new l.Re();m.S0.on(m,f.Bk.KP,m.Nob);m.S0.on(m,f.Bk.Hz,m.Rfa);return m;}c.__extends(d,k);d.prototype.ITb=function(g,m,h){f.prototype.open.call(this,g,m,h);};d.prototype.T_b=function(g){this.G0=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.G0;},enumerable:!1,configurable:!0}});d.prototype.de=function(){this.S0 && this.S0.clear();f.prototype.de.call(this);};d.prototype.Nob=function(g){this.jPa.yWb(g.probed,g.affected);this.de();};d.prototype.Rfa=function(g){this.jPa.vWb(g.probed,g.affected);this.de();};return d;})(f);b.jza=r;},45056:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DKa=void 0;c=a(44724);l=a(55326);f=a(29736)["default"];new f.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function k(d,g,m){this.FQ=d;this.oB=g;this.config=m;this.Is={};this.pC={};this.mE=!0;this.groupId=1;}k.prototype.xWb=function(d,g){var m,h,n,p,q,u,t,w,v,y;m=this;h=this.config;n=d.Pc;p=d.stream;q=d.$b.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");u=[];t=p.ki[0];w=!1;v=this.Is[n];y=f.time.Ga();if(!v)v=this.B0b(n,y,g,d);else if(v.Qd >= y - h.u$)return;v.Py || (t && q.id === t.id && (d.isPrimary=!0),v.Qd=y,v.Py=!1,v.error=g,++v.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,A,B,D,C;B=x.$b.id;D=B + "-" + n;C=m.pC[D];if(void 0 === C || void 0 === C.J8)(C && C.hm && clearTimeout(C.hm),x=(null === (A=null === (z=d.stream) || void 0 === z?void 0:z.nx) || void 0 === A?0:A.ia)?m.aIb(d.stream.nx,d.I,x.url):x.url,(0,c.assert)(x,("Unexpected probeUrl: ").concat(x)),z=m.zUa(x,d,B),m.pC[D]={ha:!1,count:0,J8:z.Si()},u.push(z.Si()),w=!0);-1 === v.pva.indexOf(B) && v.pva.push(B);}),0 < u.length && (h={ts:f.time.Ga(),es:g.TQa,fc:g.Nf,fn:g.lXa,nc:g.Ph,pb:u,gid:this.groupId},g.$x && (h.hc=g.$x),this.qG(h,"errpb")),w && this.groupId++));};k.prototype.zUa=function(d,g,m){var h,n;h=new l.jza(this);n="random=" + parseInt(("").concat(1E7 * Math.random()));h.ITb(d + (-1 !== d.indexOf("?")?"&":"?") + n,g,m);return h;};k.prototype.B0b=function(d,g,m,h){var n;n=this.Is[d];h=h.$b.location;n || (n=this.Is[d]={count:0,Qd:g,Py:!1,error:m,pva:[],jta:{},location:h,I:m.I,Ycc:m});return n;};k.prototype.getState=function(d){return this.Is[d];};k.prototype.Wvb=function(d){this.Is[d]=void 0;};k.prototype.qG=function(d,g){var m;if(this.mE){m={type:"logdata",target:"endplay",fields:{}};m.fields[g]={type:"array",value:d,adjust:["ts"]};this.FQ.FG(m);}};k.prototype.aIb=function(d,g,m){var h;h=void 0 === g || g === d.Rn().LN;return d.vT(h,h?void 0:g,m);};k.prototype.yWb=function(d,g){var m,h,n,p,q,u,t,w,v,y,x,z;m=this;p=this.FQ;q=this.config;u=g.Pc;t=this.Is[u];if(t){w=d.url;v=this.pC[d.Pc + "-" + u];if(v){y=t.error;v && v.hm && clearTimeout(v.hm);v.ha=!0;v.count=0;v.J8=void 0;t.jta[d.Pc]=!0;v=this.Is[d.Pc];if((null === v || void 0 === v?0:v.Py) && q.rR){p.J9a(d.Pc,v.error.zX[1]);if(this.mE){x={ts:f.time.Ga(),id:d.requestId,servid:g.Pc,gid:d.groupId?d.groupId:-1};this.qG(x,"errst");}this.Is[d.Pc]=void 0;this.oB();}if(w !== g.url){z=this.pC[u + "-" + u];z && z.ha || (u=null === v || void 0 === v?void 0:v.location,q=Math.min((null === (n=null === (h=null === u || void 0 === u?void 0:u.Wb) || void 0 === h?void 0:h.y5) || void 0 === n?void 0:n.Da) || Math.random() * q.Q6,q.Q6),setTimeout(function(){var A;if(!(!1 !== t.Py || z && z.ha) && (t.Py=!0,p.jr(y.zX[0],y.zX[1],g.stream.nx.url,y),m.mE)){A={ts:f.time.Ga(),id:d.requestId,servid:g.Pc,gid:d.groupId?d.groupId:-1};m.qG(A,"erep");}},q));}this.mE && (x={ts:f.time.Ga(),id:d.requestId,result:1,servid:d.Pc,gid:d.groupId?d.groupId:-1},this.qG(x,"pbres"));}}};k.prototype.vWb=function(d,g){var m,h,n,p,q,u,t,w,v,y,x,z,A;m=this;p=this.FQ;q=this.config;u=g.Pc;t=this.Is[u];w=d.Pc;v=this.pC[w + "-" + u];if(v && t){y=0;v.ha=!1;v.J8=void 0;t.jta[w]=!1;x=t.pva;if(q.rR && w === u && g.isPrimary){z=t.location;z=(null === (n=null === (h=null === z || void 0 === z?void 0:z.Wb) || void 0 === h?void 0:h.y5) || void 0 === n?void 0:n.Da) || 300 * Math.random();h=Math.min(z * Math.pow(2,v.count),12E4);h+=Math.random() * (1E4 > h?100:1E4);v.hm=setTimeout(function(){var B;v.hm=void 0;B=m.zUa(d.url,g,w);B.T_b(d.groupId);v.J8=B.Si();},h);}++v.count;if(w === u && (y=0,x.forEach(function(B){!1 === t.jta[B] && y++;}),x.length === y && t.count >= q.T6)){A=t.error;t.Py=!0;q=g.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.jr(A.zX[0],A.zX[1],B.url,A);m.mE && (B={ts:f.time.Ga(),id:-1,servid:B.$b.id},m.qG(B,"erep"));});}this.mE && (q={ts:f.time.Ga(),id:d.requestId,result:0,servid:d.Pc,gid:d.groupId?d.groupId:-1},this.qG(q,"pbres"));}};k.prototype.H$=function(d){var g,m,h;if(d.url){m=this.FQ;h=m.y_b(d.url);h || (h=null === (g=this.FQ.t_a(d)[0]) || void 0 === g?void 0:g.id);h && (d=this.Is[h]) && d.Py && this.config.rR && (m.J9a(d.error.TQa,!1),this.mE && (m={ts:f.time.Ga(),id:-1,servid:h},this.qG(m,"errst")),this.Wvb(h),(h=this.pC[h + "-" + h]) && h.hm && clearTimeout(h.hm));}};k.prototype.reset=function(){var d,g,m;d=this.pC;for(m in d){d.hasOwnProperty(m) && (g=d[m + "-" + m]) && g.hm && clearTimeout(g.hm);}this.pC={};this.Is={};};return k;})();b.DKa=r;},3833:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jWa=b.XMb=b.K1a=b.k_a=void 0;c=a(94160);b.k_a=function(l,f){if((l=l.yb.u.Rv) && 0 !== l.length)return (0,c.Hc)(l,function(k){return k.La.G <= f && f < k.ab.G;});};b.K1a=function(l,f){return f.index === l.af.index?!0:(l=l.yb.u.Rv) && 0 !== l.length?l.some(function(k){k=k.La;return f.La.MB(k) && k.lessThan(f.ab);}):!1;};b.XMb=function(l,f){return f.index === l.nf.index?!0:(l=l.yb.u.Rv) && 0 !== l.length?l.some(function(k){k=k.ab;return f.La.lessThan(k) && k.MB(f.ab);}):!1;};b.jWa=function(l,f,k,d){var g,m,h,n,p,q,u,t;l=null === (g=f.Ha) || void 0 === g?void 0:g.start;g=null === (m=f.Ha) || void 0 === m?void 0:m.end;t=m=!1;if((null === d || void 0 === d?0:d.iNb) || (null === d || void 0 === d || !d.VMb) && f.La.lessThan(k.La)){if(u=f.vla(k.La.G))(u=(null !== (n=null === (h=f.Ha) || void 0 === h?void 0:h.start) && void 0 !== n?n:0) + u.Jj,l=Math.max(null !== l && void 0 !== l?l:0,u));u=k.La.G;m=!0;}if((null === d || void 0 === d || !d.bNb) && f.ab.greaterThan(k.ab)){if(u=f.vla(k.ab.G))(u=(null !== (q=null === (p=f.Ha) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.Jj,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),f.eV=f.index);u=k.ab.G;t=!0;}if(void 0 !== l || void 0 !== g)(f.wi({start:l,end:g}),void 0 !== u && (!f.$v || u > f.$v) && f.CN(u));f.e0b(k.region,m,t);};},82677:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Qya=void 0;c=a(70655);l=a(42229);r=(function(){function f(k,d){this.mk=k;this.filter=d;this.f4a=Math.max(k.max_n || 10,0);this.reset();}f.prototype.reset=function(){this.$V=[];this.offset=0;this.aw=this.JC=null;this.filter.reset();this.qX=null;};f.prototype.add=function(k,d,g){var m;m=this.aw;null !== m && g > m && (this.offset+=Math.max(d - m,0),this.aw=null);for((0,l.m1a)(this.$V,[d - this.offset,g - this.offset,k]);this.$V && this.$V.length > this.f4a;){k=c.__read(this.$V.shift(),3);this.filter.add(k[2],k[0],k[1]);}this.qX=null;};f.prototype.get=function(k,d){var g,n;if(!this.qX){this.qX=this.filter.Gn();try{for(var m=c.__values(this.$V),h=m.next();!h.done;h=m.next()){n=c.__read(h.value,3);this.qX.add(n[2],n[0],n[1]);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (g=m.return) && g.call(m);}finally{if(p)throw p.error;}}}p=this.aw;return this.qX.get((null === p?k:p) - this.offset,d);};f.prototype.Gn=function(){var k;k=new f(this.mk,this.filter.Gn());k.aw=this.aw;k.offset=this.offset;return k;};f.prototype.start=function(k){var d;d=this.aw;null !== d && k > d && (this.offset+=k - d,this.aw=null);this.filter.start(k - this.offset);};f.prototype.stop=function(k){this.aw=null === this.aw?k:Math.min(this.aw,k);this.filter.stop(k - this.offset);};f.prototype.flush=function(){this.filter.flush();};f.prototype.toString=function(){return "AggregatingFilter(" + this.f4a + ", " + this.filter.toString() + ")";};return f;})();b.Qya=r;},8533:function(r){(function(){var Y8Q;Y8Q=2;for(;Y8Q !== 8;){switch(Y8Q){case 2:var d2E="1SIYbZrN";d2E+="J";d2E+="Cp9";b.prototype.start=function(a){var U1Q;U1Q=2;for(;U1Q !== 1;){switch(U1Q){case 2:this.qg?a < this.qg?(this.dA+=this.qg - a,this.qg=a):a > this.jb && (this.jb=this.qg=a):this.jb=this.qg=a;U1Q=1;break;}}};b.prototype.stop=function(a){var w2L;w2L=2;for(;w2L !== 1;){switch(w2L){case 2:this.jb && a > this.jb && (this.dA+=a - this.jb,this.jb=a);w2L=1;break;}}};b.prototype.add=function(a,c,l){var o61;o61=2;for(;o61 !== 4;){switch(o61){case 2:this.start(c);this.stop(l);this.mc+=a;o61=4;break;}}};b.prototype.get=function(){var X7q;X7q=2;for(;X7q !== 1;){switch(X7q){case 2:return {Da:this.dA?Math.floor(8 * this.mc / this.dA):null,OVa:this.dA?this.dA:0};break;}}};r.exports=b;d2E;Y8Q=8;break;}}function b(){var w67;w67=2;for(;w67 !== 5;){switch(w67){case 2:this.dA=this.mc=0;this.jb=this.qg=void 0;w67=5;break;}}}})();},90494:function(r,b,a){var l,f;function c(k){this.Y={NU:k.maxc || 25,eja:k.c || .5,B6b:k.w || 15E3,Otb:k.b || 5E3};l.call(this,this.Y.B6b,this.Y.Otb);this.WQ();}l=a(24068);f=a(14378).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.pt(0);l.prototype.shift.call(this);null !== k && (this.We.push(k,1),this.kA=!0);return k;};c.prototype.flush=function(){var k;k=this.get();this.We.push(k,1);this.kA=!0;l.prototype.reset.call(this);return k;};c.prototype.get=function(){return this.C_a();};c.prototype.mL=function(){var k;k=this.C_a();return {min:k.min,p10:k.$ra,p25:k.Cp,p50:k.dn,p75:k.Dp,p90:k.bsa,max:k.max,centroidSize:k.hvb,sampleSize:k.sampleSize,centroids:k.sj};};c.prototype.C_a=function(){var k;if(0 === this.We.size())return null;k=this.We.ri([0,.1,.25,.5,.75,.9,1]);if(k[2] === k[4])return null;if(this.kA || !this.kh)(this.kA=!1,this.kh={min:k[0],$ra:k[1],Cp:k[2],dn:k[3],Dp:k[4],bsa:k[5],max:k[6],ri:this.We.ri.bind(this.We),hvb:this.We.size(),sampleSize:this.We.n,sj:this.PGb(),mL:this.mL.bind(this)});return this.kh;};c.prototype.PGb=function(){var k;if(0 === this.We.size())return null;if(!this.kA && this.kh)return this.kh.centroids;k=this.We.ri([.25,.75]);if(k[0] === k[1])return null;this.We.size() > this.Y.NU && this.We.Cx();k=this.We.yr(!1).map(function(d){return {mean:d.Pf,n:d.n};});return JSON.stringify(k);};c.prototype.y_a=function(){return this.We.summary();};c.prototype.size=function(){return this.We.size();};c.prototype.toString=function(){return "btdtput(" + this.NJ + "," + this.Ad + "," + this.pj + "): " + this.We.summary();};c.prototype.WQ=function(){this.We=new f(this.Y.eja,this.Y.NU);};r.exports=c;},14482:function(r,b,a){var l,f;function c(k,d,g,m){l.call(this,g,m);this.Cu=new f(k);this.rob=d;}l=a(24068);f=a(41176);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.pt(0);l.prototype.shift.call(this);null !== k && this.Cu.FQa(k);return k;};c.prototype.flush=function(){var k;k=this.get();this.Cu.FQa(k);l.prototype.reset.call(this);return k;};c.prototype.get=function(){var k;k=this.rT();return {sampleSize:this.wT(),wsa:k,dra:k.dn?(k.Dp - k.Cp) / k.dn:void 0};};c.prototype.wT=function(){return this.Cu.wT();};c.prototype.rT=function(){return this.Cu.wT() < this.rob?{Cp:void 0,dn:void 0,Dp:void 0,sampleSize:void 0,ri:void 0}:{Cp:this.Cu.eK(25),dn:this.Cu.eK(50),Dp:this.Cu.eK(75),sampleSize:this.Cu.wT(),ri:this.Cu.eK.bind(this.Cu)};};c.prototype.toString=function(){return "biqr(" + this.NJ + "," + this.Ad + "," + this.pj + ")";};r.exports=c;},9153:function(r,b,a){var f,k,d,g;function c(m,h,n){f.call(this,m,h,n);}function l(m,h){k.call(this,new c(m,h,!1));}f=a(73856);k=a(29374);d=a(312).vYa;g=a(312).J_a;c.prototype=Object.create(f.prototype);c.prototype.Da=function(){return Math.floor(8 * d(this.Bd) / this.Ad);};c.prototype.Zd=function(){return Math.floor(64 * g(this.Bd) / (this.Ad * this.Ad));};c.prototype.get=function(){return {Da:this.Da(),Zd:this.Zd(),Rbc:this.Bd.length};};c.prototype.toString=function(){return "bsw(" + this.NJ + "," + this.Ad + "," + this.pj + ")";};l.prototype=Object.create(k.prototype);l.prototype.setInterval=function(m){this.qQ.setInterval(m);};r.exports=l;},5640:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HAa=void 0;c=a(70655).__importDefault(a(8533));r=(function(){var J7N;J7N=2;function l(){var r_J;r_J=2;for(;r_J !== 5;){switch(r_J){case 2:var g0s="1";g0s+="SIYb";g0s+="ZrNJCp9";this.a1={};g0s;r_J=5;break;}}}for(;J7N !== 9;){switch(J7N){case 3:return l;break;case 12:return l;break;case 2:l.prototype.add=function(f,k,d,g){var B8q,m;B8q=2;for(;B8q !== 4;){switch(B8q){case 2:m=this.a1;void 0 === m[g] && (m[g]=new c.default());m[g].add(f,k,d);B8q=4;break;}}};l.prototype.start=function(f,k){var u66,d;u66=2;for(;u66 !== 4;){switch(u66){case 2:d=this.a1;void 0 === d[k] && (d[k]=new c.default());d[k].start(f);u66=4;break;}}};l.prototype.stop=function(f,k){var i2V,d;i2V=2;for(;i2V !== 5;){switch(i2V){case 2:d=this.a1;void 0 !== d[k] && d[k].stop(f);i2V=5;break;}}};l.prototype.get=function(){var I$t,f,k,d,g,m,h;I$t=2;for(;I$t !== 8;){switch(I$t){case 2:(f=this.a1,k=Object.keys(f).map(function(n){var u_G;u_G=2;for(;u_G !== 1;){switch(u_G){case 4:return parseInt(n);break;case 2:return parseInt(n);break;}}}),d=[],g=0);I$t=1;break;case 3:g++;I$t=1;break;case 1:I$t=g < k.length?5:9;break;case 9:return d;break;case 5:(m=k[g],h=f[m].get());h && d.push({cdnid:m,avtp:h.Da,tm:h.OVa});I$t=3;break;}}};J7N=3;break;}}})();b.HAa=r;},4978:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WAa=void 0;c=a(70655);l=a(14378);new (c.__importDefault(a(29736)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function f(k){this.config=k;this.fja=k.c;this.mqa=k.Gec;this.BU=k.BU;this.JT=k.JT;this.M5=k.M5;this.N0b=k.ucc;this.TF=k.TF;this.d4a=k.d4a;this.reset();}f.prototype.reset=function(){this.ah=new l.TDigest(this.fja,this.mqa);this.jb=null;};f.prototype.add=function(k,d,g){var m,h,n,u;g=Math.max(g - d,1);k=8 * k / g;if(this.N0b){null === this.jb && (this.jb=d);h=Math.pow(2,(d - this.jb) / this.TF);n=g * h;if(h >= this.d4a){n=new l.TDigest(this.fja,this.mqa);try{for(var p=c.__values(this.ah.yr()),q=p.next();!q.done;q=p.next()){u=q.value;n.push(u.Pf,u.n / h);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(t)throw t.error;}}this.ah=n;n=g;this.jb=d;}this.ah.push(k,n);}else this.ah.push(k,g);};f.prototype.get=function(){var k;k=this.ah.ri([this.BU,this.JT,this.M5]);return {low:k[0] || 0,high:k[1] || 0,initial:k[2] || 0};};f.prototype.Gn=function(){var k,d,g,n;d=new f(this.config);g=new l.TDigest(this.fja,this.mqa);try{for(var m=c.__values(this.ah.yr()),h=m.next();!h.done;h=m.next()){n=h.value;g.push(n.Pf,n.n);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (k=m.return) && k.call(m);}finally{if(p)throw p.error;}}d.ah=g;return d;};f.prototype.flush=function(){};f.prototype.start=function(){};f.prototype.stop=function(){};return f;})();b.WAa=r;},42874:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EBa=b.whb=b.tba=b.$hb=b.xhb=void 0;c=a(70655);l=a(9133);a=(function(){return function(){};})();b.xhb=a;f=(function(){function k(d,g,m,h,n){this.alpha=d;this.Da=g;this.weight=h;this.fea=m * this.weight;this.rX=n;}k.prototype.Gn=function(){return new k(this.alpha,this.Da,this.Zd,this.weight,this.rX);};Object.defineProperties(k.prototype,{Zd:{get:function(){return this.weight?this.fea / this.weight:0;},enumerable:!1,configurable:!0}});k.prototype.update=function(d,g,m){var h,n,p,q;h=this.alpha;n=this.weight;p=this.rX;q=h * (d - p);5 < q && (this.weight/=Math.exp(q),this.rX=p=d);d=Math.exp(h * (g - p)) - Math.exp(h * (d - p));g=this.weight+=d;h=this.Da;this.Da=p=h + d * (m - h) / g;this.fea=n?this.fea * (g - d) / n + d * (m - p) * (m - h):0;};return k;})();b.$hb=f;r=(function(){var j_g;j_g=2;for(;j_g !== 14;){switch(j_g){case 7:k.prototype.flush=function(){};return k;break;case 4:k.prototype.add=function(d,g,m){var c6e=R7xOY;var r5f,h;r5f=2;for(;r5f !== 7;){switch(r5f){case 9:c6e.m_t(3);this.DH.update(g,m,c6e.A_X(h,d));c6e.C8s(4);this.EH.update(g,m,c6e.A_X(8,d,h));r5f=7;break;case 5:h=this.JC;this.JC=null === h?m:Math.max(h,m);c6e.m_t(5);h=Math.max(c6e.A_X(m,g),1);r5f=9;break;case 2:h=this.Ar;this.Ar=null === h?g:Math.min(h,g);r5f=5;break;}}};k.prototype.get=function(d,g){var U$u=R7xOY;var G5j,m,h,n,p,q,u,t,w,v;G5j=2;for(;G5j !== 16;){switch(G5j){case 17:(q=this.DH,u=this.EH);G5j=20;break;case 6:n=Math.max(n,p);G5j=14;break;case 4:void 0 === g && (g=this.R4a);n >= p && (g=Math.min(g,this.R4a));p=g * q.Da;G5j=8;break;case 14:U$u.C8s(5);q.update(U$u.N0G(h,m),U$u.N0G(d,m,U$u.m_t(5)),U$u.N0G(n,g,U$u.C8s(3)));G5j=13;break;case 5:G5j=(q=new f(q.alpha,q.Da,q.Zd,q.weight,q.rX),u=new f(u.alpha,u.Da,u.Zd,u.weight,u.rX),0 < q.weight && 0 !== g)?4:20;break;case 13:U$u.C8s(5);u.update(U$u.A_X(h,m),U$u.N0G(d,m),0);G5j=20;break;case 10:n=1E-11 < w?Math.max(v / w,n):n + 2 * t / p;G5j=14;break;case 1:G5j=0 < n?5:17;break;case 20:d=q.weight;g=u.weight;return {Da:d?q.Da:null,Zd:d?q.Zd:null,YJ:g?u.Da:null,rO:g?u.Zd:null};break;case 2:(m=this.Ar || 0,h=this.JC || 0,n=d - h,p=this.bRb,q=this.DH,u=this.EH);G5j=1;break;case 8:U$u.C8s(6);var R4s=U$u.N0G(15,178,12,5,9);t=Math.pow(g,R4s) * q.Zd;G5j=7;break;case 7:G5j=0 === t?6:12;break;case 12:(w=new l.b_(p,t).avb(n),v=p - w[1]);U$u.m_t(7);var b20=U$u.N0G(10,7,10,12,4);w=b20 - w[0];G5j=10;break;}}};k.prototype.toString=function(){var N4Q;N4Q=2;for(;N4Q !== 1;){switch(N4Q){case 4:var O5k="Delive";O5k+="ryDi";O5k+="s";O5k+="t(";return O5k.concat(this.TF,")");break;case 2:var x1Q="D";x1Q+="el";x1Q+="ive";x1Q+="ryDist(";return x1Q.concat(this.TF,")");break;}}};k.prototype.stop=function(){};j_g=7;break;case 2:k.prototype.Gn=function(d){var h7n;h7n=2;for(;h7n !== 8;){switch(h7n){case 2:d || (d=new k(this.mk));d.Ar=this.Ar;d.JC=this.JC;d.DH=this.DH.Gn();d.EH=this.EH.Gn();return d;break;}}};k.prototype.reset=function(){var r_8,d;r_8=2;for(;r_8 !== 3;){switch(r_8){case 2:d=-Math.log(.5) / this.TF;this.DH=new f(d,0,0,0,0);this.EH=new f(d,0,0,0,0);this.Ar=this.JC=null;r_8=3;break;}}};k.prototype.start=function(d){var w6B;w6B=2;for(;w6B !== 1;){switch(w6B){case 2:null === this.Ar && (this.Ar=d);w6B=1;break;}}};j_g=4;break;}}function k(d){var o_Y,g,m;o_Y=2;for(;o_Y !== 7;){switch(o_Y){case 8:this.reset();o_Y=7;break;case 3:this.R4a=g;this.bRb=m;o_Y=8;break;case 2:var P5_="1S";P5_+="I";P5_+="YbZrNJC";P5_+="p";P5_+="9";this.mk=d;P5_;o_Y=5;break;case 5:(g=d.min_b,m=d.min_iv);this.TF=d.hl;o_Y=3;break;}}}})();b.tba=r;a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);return d;})(a);b.whb=a;r=(function(k){function d(g){var m;m=k.call(this,g) || this;m.mk=g;return m;}c.__extends(d,k);d.prototype.get=function(){var g,m,h;if(0 === this.DH.weight || 0 === this.EH.weight)return {low:null,high:null,initial:null};switch(this.mk.jM){case "deliverytime":g=this.DH;g=new l.b_(g.Da,g.Zd);(m=this.mk.accuracy,h=this.mk.dQb);return {low:8 / g.Kv(this.mk.JT,m,h),high:8 / g.Kv(this.mk.BU,m,h),initial:8 / g.Kv(this.mk.M5,m,h)};default:return (g=this.EH,g=new l.b_(g.Da,g.Zd),m=this.mk.accuracy,h=this.mk.dQb,{low:g.Kv(this.mk.BU,m,h),high:g.Kv(this.mk.JT,m,h),initial:g.Kv(this.mk.M5,m,h)});}};d.prototype.Gn=function(){var g;g=new d(this.mk);k.prototype.Gn.call(this,g);return g;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.mk.BU,this.mk.JT),"])");};return d;})(r);b.EBa=r;},80194:function(r,b,a){var k;function c(d){this.reset();this.a0b(d);}function l(d){this.setInterval(d);this.reset();}function f(d){this.Vz=new l(d);this.Jb=0;this.Fc=null;}k=a(67841);c.prototype.a0b=function(d){this.gJ=Math.pow(.5,1 / d);this.AQ=d;};c.prototype.reset=function(d){d && d.Da && k.tb(d.Da)?d.Zd && k.tb(d.Zd)?(this.zu=this.Tnb,this.Ko=d.Da,this.Qz=d.Zd + d.Da * d.Da):(this.zu=this.Tnb,this.Ko=d.Da,this.Qz=d.Da * d.Da):this.Qz=this.Ko=this.zu=0;};c.prototype.add=function(d){var g;if(k.tb(d)){this.zu++;g=this.gJ;this.Ko=g * this.Ko + (1 - g) * d;this.Qz=g * this.Qz + (1 - g) * d * d;}};c.prototype.Zma=function(){var d,g,m;if(0 === this.zu)return {Da:0,Zd:0};d=this.Ko;g=this.Qz;m=1 - Math.pow(this.gJ,this.zu);d/=m;g/=m;m=d * d;return {Da:d,Zd:g > m?g - m:0};};c.prototype.get=function(){var d;d=this.Zma();return {Da:Math.floor(d.Da),Zd:Math.floor(d.Zd)};};c.prototype.getState=function(){return 0 === this.zu?null:{a:Number(this.Ko.toPrecision(6)),s:Number(this.Qz.toPrecision(6)),n:this.zu};};c.prototype.Eg=function(d){if(k.Zb(d) || !k.has(d,"a") || !k.has(d,"s") || !k.isFinite(d.a) || !k.isFinite(d.s))return (this.Qz=this.Ko=this.zu=0,!1);this.Ko=d.a;this.Qz=d.s;k.has(d,"n") && k.tb(d.n)?this.zu=d.n:this.zu=16 * this.AQ;return !0;};l.prototype.setInterval=function(d){this.AQ=d;this.gJ=-Math.log(.5) / d;};l.prototype.reset=function(d){this.jb=this.qg=null;d && k.isFinite(d.Da)?this.Ko=d.Da:this.Ko=0;};l.prototype.start=function(d){k.Zb(this.qg) && (this.jb=this.qg=d);};l.prototype.add=function(d,g,m){var h,n,p;k.Zb(this.qg) && (this.jb=this.qg=g);this.qg=Math.min(this.qg,g);g=Math.max(m - g,1);h=this.gJ;n=Math.max(m,this.jb);p=n - this.jb;m=n - m;this.Ko=this.Ko * (0 < p?Math.exp(-h * p):1) + 8 * d / g * (1 - Math.exp(-h * g)) * (0 < m?Math.exp(-h * m):1);this.jb=n;};l.prototype.get=function(d){var g;d=Math.max(d,this.jb);g=this.Ko * Math.exp(-this.gJ * (d - this.jb));d=1 - Math.exp(-this.gJ * (d - this.qg));0 < d && (g/=d);return {Da:Math.floor(g)};};l.prototype.toString=function(){return "ewmav(" + this.AQ + ")";};f.prototype.setInterval=function(d){this.Vz.setInterval(d);};f.prototype.reset=function(d){this.Vz.reset(d);this.Jb=0;this.Fc=null;};f.prototype.start=function(d){!k.Zb(this.Fc) && d > this.Fc && (this.Jb+=d - this.Fc,this.Fc=null);this.Vz.start(d - this.Jb);};f.prototype.add=function(d,g,m){!k.Zb(this.Fc) && m > this.Fc && (this.Jb+=g > this.Fc?g - this.Fc:0,this.Fc=null);this.Vz.add(d,g - this.Jb,m - this.Jb);};f.prototype.stop=function(d){this.Fc=Math.max(k.Zb(this.Vz.jb)?0:this.Vz.jb + this.Jb,k.Zb(this.Fc)?d:Math.min(this.Fc,d));};f.prototype.get=function(d){return this.Vz.get((k.Zb(this.Fc)?d:this.Fc) - this.Jb);};f.prototype.toString=function(){return this.Vz.toString();};r.exports={Bhb:c,j8b:l,zhb:f};},32364:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x;function c(z){this.config=z;this.jnb=z.Zea;}l=a(2838).ida;f=a(4978).WAa;b=a(80194);k=b.Bhb;d=b.zhb;g=a(83602).Ahb;m=a(42874).tba;h=a(42874).EBa;n=a(83602).vmb;p=a(14482);q=a(90494);u=a(45041).rMa;t=a(10764);w=a(45409);v=a(8533);y=a(47376).VJa;x=a(82677).Qya;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,D,C,F;B=this.jnb[z];D=A[z];C={};B && Object.keys(B).forEach(function(G){C[G]=B[G];});D && Object.keys(D).forEach(function(G){C[G]=D[G];});switch(C.type){case "slidingwindow":F=new l(this.config,new g(C.mw));break;case "discontiguous-ewma":F=new l(this.config,new d(C.mw));break;case "initial-discontiguous-ewma":F=new y(new d(C.mw),C.playerStates);break;case "wssl":F=new n(C.mw,C.max_n);break;case "iqr":F=new p(C.mx,C.mn,C.bw,C.iv);break;case "tdigest":F=new q(C);break;case "ci":F=new l(this.config,new x(C,new f(C)));break;case "discrete-ewma":F=new k(C.hl);break;case "tdigest-history":F=new u(C);break;case "iqr-history":F=new t(C);break;case "avtp":F=new v();break;case "entropy":F=new w(C);break;case "deliverytime":F=new l(this.config,new x(C,new m(C)));break;case "deliverytime-ci":F=new l(this.config,new x(C,new h(C)));}F && (F.type=C.type);return F;};r.exports=c;},48643:function(r,b,a){r.exports={bdc:a(80194),ugc:a(83602),U7b:a(9153),tba:a(42874),T7b:a(14482),V7b:a(90494),eib:a(32364)};},42016:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rHa=void 0;r=a(70655).__importDefault(a(29736));c=a(47571);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(f,k){this.config=f;this.V7=k;this.reset();}l.prototype.reset=function(){this.confidence=c.Gz.HAVE_NOTHING;this.startTime=this.Ba=0;};l.prototype.Gn=function(){var f;f=new l(this.config,this.V7);f.confidence=this.confidence;f.Ba=this.Ba;f.startTime=this.startTime;return f;};l.prototype.add=function(f,k,d){0 === this.startTime && (this.startTime=k,this.Ba=0);this.Ba+=f;f=d - this.startTime;this.confidence=Math.max(this.confidence,c.Gz.CI);this.confidence < c.Gz.BI && (f > this.config.tob || this.Ba > this.config.sob) && (this.confidence=c.Gz.BI);this.confidence < c.Gz.bP && (f > this.config.lpb || this.Ba > this.config.kpb) && (this.confidence=c.Gz.bP,this.V7());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.rHa=a;},45409:function(r,b,a){var l;function c(f){var k,d;k=f.sw;d=f.mw;this.MJ=k;this.Kea={uhd:f.uhdl,hd:f.hdl};this.pj=Math.max(Math.ceil(1 * k / d),1);this.uob=f.mins || 1;l.call(this,k,d);this.reset();}l=a(24068);new (a(29736)["default"].Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.Bd.map(function(f,k){this.JQa(f,this.Xla(k));},this);};c.prototype.vub=function(){var f,k,d,g,m,h,n,t;f=this.Kea;for(k in f){if(f.hasOwnProperty(k)){d=f[k];g=this.nga[k];m=this.mga[k];if(g.first){h=g.first;n=g.cH;void 0 !== n && (m[h][n]+=1);g.first=void 0;}g=[];h=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,u=0;u < d;u++){q+=m[u][p];}h+=q;g.push(q);}q=-1;if(h > this.uob){for(p=q=0;p < n;p++){if(0 < g[p])for(u=0;u < d;u++){t=m[u][p];0 < t && (q-=t * Math.log(1 * t / g[p]));}}q/=h * Math.log(2);}this.efa[k]=q;}}return this.efa;};c.prototype.JQa=function(f,k){var h,n;for(var d=this.pj,g=this.Kea;this.A0.length >= d;){this.A0.shift();}for(;this.B0.length >= d;){this.B0.shift();}this.A0.push(f);this.B0.push(k);f=this.A0.reduce(function(p,q){return p + q;},0);k=this.B0.reduce(function(p,q){return p + q;},0);if(0 < k){f=8 * f / k;for(var m in g){if(g.hasOwnProperty(m)){k=this.nga[m];d=this.mga[m];h=this.eXb(f,g[m]);n=k.cH;void 0 !== n?d[h][n]+=1:k.first=h;k.cH=h;}}}};c.prototype.eXb=function(f,k){for(var d=0;d < k.length && f > k[d];){d+=1;}return d;};c.prototype.shift=function(){this.JQa(this.Bd[0],this.Xla(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var f,k,d,g,m,h,n;this.nga={};this.A0=[];this.B0=[];this.mga={};this.efa={};f=this.Kea;for(k in f){if(f.hasOwnProperty(k)){d=this.mga;g=k;h=void 0;n=Array(h);h=m=f[k].length + 1;for(var p=0;p < h;p++){n[p]=Array(m);for(var q=0;q < m;q++){n[p][q]=0;}}d[g]=n;this.nga[k]={first:void 0,cH:void 0};this.efa[k]=0;}}l.prototype.reset.call(this);};r.exports=c;},2838:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ida=void 0;new (a(29736)["default"].Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(l,f){this.config=l;this.filter=f;}c.prototype.Gn=function(){return new c(this.config,this.filter);};c.prototype.R0b=function(l,f,k,d){var g,m,h;h=d.kH;if(!h || !h.c6())return !0;switch(this.config.CLb){case "requested":return !1;case "requested-low":return (h=h.Pua(this.config.yka),h.V4a() > ((null === (g=d.Et) || void 0 === g?void 0:g.PV) || 0));case "inferred":h=h.Pua(this.config.yka);l=h.hqa(l,f,k,this.config.zV);if(!l)break;return h.V4a() > ((null === (m=d.Et) || void 0 === m?void 0:m.PV) || 0);case "inferred-strict":if((h=h.Pua(this.config.yka),h.hqa(l,f,k,this.config.zV)))return !1;}return !0;};c.prototype.add=function(l,f,k,d){this.R0b(l,f,k,d) && this.filter.add(l,f,k,d);};c.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};c.prototype.start=function(l){this.filter.start && this.filter.start(l);};c.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.ida=r;},47376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VJa=void 0;r=(function(){function a(c,l){this.bk=0;this.filter=c;this.w8=l;this.bk=0;}a.prototype.JU=function(c){return 0 < this.w8.filter(function(l){var f;return l === (null === (f=c.Et) || void 0 === f?void 0:f.Bg);}).length;};a.prototype.add=function(c,l,f,k){this.JU(k) && this.filter.add(c,l,f,k);};a.prototype.start=function(c,l){this.filter.start && this.JU(l) && this.filter.start(c);};a.prototype.stop=function(c,l){this.filter.stop && this.JU(l) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.bk=0;this.filter.reset && this.filter.reset();};a.prototype.Tv=function(c,l){this.JU(l) && (this.bk+=1,this.filter.Tv && this.filter.Tv(c,l));};a.prototype.Vv=function(c,l,f){this.JU(f) && (this.bk=Math.max(this.bk - 1,0),0 === this.bk && this.stop(c,f),this.filter.Vv && this.filter.Vv(c,f));};return a;})();b.VJa=r;},83602:function(r,b,a){var k;function c(d){this.MJ=d;this.reset();}function l(d){this.pj=new c(d);this.Jb=0;this.Fc=null;}function f(d,g){this.MJ=d;this.NOa=g;this.reset();}k=a(67841);c.prototype.nPa=function(d,g){this.jb+=d;this.lj+=d;this.mc+=g;this.Gi.push({d:d,b:g});};c.prototype.PQ=function(){var d;for(;this.lj > this.MJ;){d=this.Gi.shift();this.mc-=d.b;this.lj-=d.d;}};c.prototype.reset=function(){this.Gi=[];this.jb=null;this.lj=this.mc=0;};c.prototype.setInterval=function(d){this.MJ=d;this.PQ();};c.prototype.start=function(d){k.Zb(this.jb) && (this.jb=d);};c.prototype.add=function(d,g,m){k.Zb(this.jb) && (this.jb=g);g > this.jb && this.nPa(g - this.jb,0);this.nPa(m > this.jb?m - this.jb:0,d);this.PQ();};c.prototype.get=function(){return {Da:Math.floor(8 * this.mc / this.lj),Zd:0};};l.prototype.reset=function(){this.pj.reset();this.Jb=0;this.Fc=null;};l.prototype.add=function(d,g,m){!k.Zb(this.Fc) && m > this.Fc && (g > this.Fc && (this.Jb+=g - this.Fc),this.Fc=null);this.pj.add(d,g - this.Jb,m - this.Jb);};l.prototype.start=function(d){!k.Zb(this.Fc) && d > this.Fc && (this.Jb+=d - this.Fc,this.Fc=null);this.pj.start(d - this.Jb);};l.prototype.stop=function(d){this.Fc=k.Zb(this.Fc)?d:Math.min(d,this.Fc);};l.prototype.get=function(){return this.pj.get();};l.prototype.setInterval=function(d){this.pj.setInterval(d);};f.prototype.reset=function(){this.Gi=[];this.mc=this.lj=0;};f.prototype.add=function(d,g,m,h){void 0 !== h && !0 === h && (g=m - g,this.lj+=g,this.mc+=d,this.Gi.push({d:g,b:d}),this.PQ());};f.prototype.PQ=function(){var d;for(;this.lj > this.MJ || this.Gi.length > this.NOa;){d=this.Gi.shift();this.mc-=d.b;this.lj-=d.d;}};f.prototype.start=function(){};f.prototype.stop=function(){};f.prototype.get=function(){return {Da:Math.floor(8 * this.mc / this.lj),Zd:0};};f.prototype.setInterval=function(d,g){this.MJ=d;this.NOa=g;this.PQ();};r.exports={i8b:c,Ahb:l,vmb:f};},14384:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.CHa=b.fib=void 0;c=a(70655);l=c.__importDefault(a(29736));f=a(73101);k=a(95994);d=a(3833);g=a(74005);r=(function(){return function(m,h,n,p){this.Y=h;this.qt=p;p="[" + m + "]";n=(0,g.Nh)(l.default,n,p);this.U4a=m === f.v.X?h.Mqa:h.Iqa;p=l.default.lT()[m];this.MU=m === f.v.X?h.tQb:h.YPb;this.MU=Math.min(h.fQb * p,this.MU);k.K && n.trace("This pipeline's buffer size ",p,this.MU);this.o7=(m === f.v.X?h.wy:h.Av) || h.o7;this.S6=(m === f.v.X?h.sQb:h.XPb) || h.S6;this.cha=h.cha;};})();b.fib=r;r=(function(m){function h(n,p,q,u){return m.call(this,n,p,q,u) || this;}c.__extends(h,m);h.prototype.mZa=function(n,p,q,u){var t,w,v,y,x,z,A,B,D;void 0 === q && (q=!1);void 0 === u && (u=!1);v=this.qt;y=n.pa.Eoa();x=v.af.index;z=v.nf.index;A=p === x;B=p === z;if(!B || A && v.af.Ha){if(A){D=n.fZa(v.af);D.CN(v.af.$v);B && (v.af.Ha || v.nf.Ha) && D.wi({start:null === (t=D.Ha) || void 0 === t?void 0:t.start,end:null === (w=v.nf.Ha) || void 0 === w?void 0:w.end});}else D=n.Qn(p);}else (D=n.fZa(v.nf),D.CN(v.nf.$v));D.eV=p + 1;if(t=(0,d.k_a)(v,v.il))(k.K && v.ix("getFragmentForRequest pts:",v.il,"in region:",t,"previous region:",v.mpa),w=void 0 === v.mpa || v.mpa !== t.region,(0,d.jWa)(v.V,D,t,{VMb:A,bNb:B,iNb:w}));B && (D.W3a(),D.h0b(v.yb.u));A && D.SPb();A=n.Ka.qr;if(!(D.eV === p || null !== A && void 0 !== A && A.L1a(p) || y || !this.cha && D.Ha || q && !(p > x + 1) || u && !(p < z - 2)))for((q=u?z - 1:z,++p);p < n.Ka.length && p < q && (D.Ba < this.U4a || D.ue.G < this.o7) && (1 === D.stream.Jh.length || this.Sub(n,p));++p){u=n.Qn(p);if(null === A || void 0 === A?0:A.L1a(p))break;if((0,d.K1a)(v,u))break;if(D.ue.add(u.ue).G > this.S6)break;if(D.Ba + u.Ba > this.MU)break;D.$ga(u);D.eV=p + 1;k.K && v.ix("getFragmentForRequest: extended fragment startPts:",D.La.G,"to duration:",D.ue.G,"size:",D.Ba,"min request size:",this.U4a,"max request size:",this.MU,"min request duration:",this.o7,"max request duration:",this.S6,"edit:",D.Ha);}k.K && v.ix("getFragmentForRequest(" + p + ") returning:",D,"stream:",D.stream,"firstRequestInRegion:",D.Gla,"lastRequestInRegion:",D.et,"nextIndex:",D.eV);return D;};h.prototype.Sub=function(n,p){return !n.Jh.some(function(q){return p === q.bf;});};return h;})(r);b.CHa=r;},78281:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.NWa=b.WK=b.Js=b.K4=void 0;c=a(60595);l=a(47571);f=a(44724);k=a(69565);b.K4=function(d,g){return d.Sx(g,void 0,!0);};b.Js=function(d,g,m,h,n,p){var q,u,t,w;k.$p.nv(d);if(m.ia){g=m.S;q=m.Rn();n=q.LN;p=q.ue.Ae(g);q=n + Math.floor(h / p.G);d === l.v.fa && (q=Math.max(n,q - 1));d=p.Bv(q - n);h=d.add(p);return new c.aq(m,void 0,{index:q,ob:d.ya,rb:h.ya,S:g,offset:0,Ba:0});}(0,f.assert)(m.Ka,"findFirstFragment called without stream fragments");u=m.Ka;h=Math.max(m.Ka.em(0),h);d === l.v.fa && !p && g.Am && !g.wR && m.Qf && (h=Math.max(m.Ka.em(0),h + m.Qf.G));q=(0,b.K4)(u,h);t=m.Qn(q);if(t.ab.G < h)return t;w=t.TEb(h);w?(0 < w.Jj && t.wi({start:w.Jj}),d !== l.v.fa || g.e7 || (0 > w.xe && t.wi({start:w.Jj}),w.xe < (g.Am && !g.wR && m.Qf?Math.floor(m.Qf.G):0) && t.tka())):h >= t.ab.G && q < u.length - 1 && (t=m.Qn(q + 1));d === l.v.X && n && t.ab.G === n && q < u.length - 1 && (t=m.Qn(q + 1));d === l.v.fa && !t.Ha && (g.o1a || g.hCb) && p && t.wi({});t.CN(h);return t;};b.WK=function(d,g,m,h,n,p){var q,u;k.$p.nv(d);if(m.ia)return (n=g=q=Infinity,d=m.S,void 0 !== h && Infinity !== h && (q=m.Rn(),g=q.LN,n=q.ue.Ae(d),q=g + Math.floor(h / n.G),0 === h % n.G && (q=Math.max(g,q - 1)),h=n.Bv(q - g),n=h.add(n),g=h.ya,n=n.ya),new c.aq(m,void 0,{index:q,ob:g,rb:n,S:d,offset:0,Ba:0}));q=m.Ka;void 0 === h && (h=q.lf);if(n && (n=n.JEb(m,h,d,g,p)))return n;n=q.ca;p=h?h + (0,b.NWa)(d,n,g.lN,g.vN):q.CS(q.length - 1);q=q.Sx(p,void 0,!0);n=m.Qn(q);0 === q || n.La.G !== h || d !== l.v.X && g.lN || (--q,n=m.Qn(q));p=d === l.v.X?p:h;if(p < n.ab.G){u=n.vla(p);u && 0 !== u.Jj?n.wi({end:u.Jj}):d === l.v.fa && (u || p < n.La.G) && 0 !== q?n=m.Qn(q - 1):d !== l.v.X || m.HMb && !u || 0 === q || (n=m.Qn(q - 1));}d === l.v.fa && !n.Ha && g.o1a && n.wi();n.CN(h);return n;};b.NWa=function(d,g,m,h){var n;return d === l.v.X || h?0:m?null !== (n=null === g || void 0 === g?void 0:g.G) && void 0 !== n?n:0:g?-g.G:0;};},28035:function(r,b,a){var l,f,k,d,g,m;function c(h,n){return h - n;}Object.defineProperties(b,{__esModule:{value:!0}});b.iib=b.xF=void 0;l=a(70655);f=a(95994);k=l.__importDefault(a(29736));d="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).gib;b.xF=function(h,n){var p;if(!d)return h;p=new m(h.name,n);return (function(q){function u(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}t=q.apply(this,l.__spreadArray([],l.__read(t),!1)) || this;t.iYa=p.Zyb(t);return t;}l.__extends(u,q);return u;})(h);};m=(function(){function h(n,p){this.name=n;this.gja=p;this.yB=[];this.tMb=0;}Object.defineProperties(h,{console:{get:function(){g || (g=new k.default.Console("GCTAGGER"));return g;},enumerable:!1,configurable:!0}});h.prototype.Zyb=function(n){var p,q;if(d){p=this.gja;p || (p=h.console);if(!n.iYa && "undefined" !== typeof nrdp){n={type:this.name,id:this.tMb++};this.yB.push(n.id);q=JSON.stringify(n);q=nrdp.iYa(q,(function(u,t,w,v){u.yB.splice(u.yB.indexOf(t),1);u.yB=u.yB.sort(c);for(var y=[],x=0;x < u.yB.length && 5 > x;x++){y.push(u.yB[x]);}null === v || void 0 === v?void 0:v.error(("Removing instance for ").concat(w,"/").concat(t,". ") + ("").concat(u.yB.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,n.id,n.type,p));f.K && p && p.info("Creating tagged instance",n);return q;}}};return h;})();b.iib=m;},6495:function(r,b,a){var l,f,k,d,g,m,h;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce((0,f.Q4a)(function(q){return q.By;}),p).By;}Object.defineProperties(b,{__esModule:{value:!0}});b.kDa=void 0;l=a(70655);f=a(94160);k=a(64196);d=a(47571);g=a(74573);m=l.__importDefault(a(29736));h=a(12862);r=(function(){function n(p,q){this.V=p;this.config=q;this.T2a=0;this.dh=new g.tu({co:10,cn:this,source:"GraphStreamingProcess"});}n.prototype.l6a=function(p,q){var u,t,w,v,y,x,z,A,B,F,G,E,J,M;w=!1;v=[];if(0 < q.length){y=this.w1b(q);x=y.some(function(I){return 1 === (0,h.ASa)(I) && (0,d.Vn)(I.hf);});z=y.slice();A=[!1,!1,!1];B=void 0;try{for(var D=l.__values(y),C=D.next();!C.done;C=D.next()){F=C.value;if(F.GB && (!B || F.groupId === B))if(F.Pk)B=F.groupId;else if("global" !== A[F.mediaType]){G=F.i2a(p,null !== (t=F.QF) && void 0 !== t?t:1);E=(0,k.J8a)(G.reason);E && (A[F.mediaType]=E,(0,f.tRa)(z,F));if(G.result){J=c(z,F);if(this.Cvb(F,x,J)){M=F.o2a();this.Kpa(v,F,M.reason);M.Lh && (this.T2a=m.default.time.Ga());if(w=M.Lh)break;if("globalVideoMemoryLimit" === M.reason || "globalAudioMemoryLimit" === M.reason){this.V.trace("GSP.onRequestOpportunity stopping at memory limit:",M.reason);break;}"pipelineTryIssueHeaderRequest" === M.reason && (B=F.groupId);}else if((this.Kpa(v,F,"concurrencyCheck"),!E))break;}else this.Kpa(v,F,G.reason);}}}catch(I){var L;L={error:I};}finally{try{C && !C.done && (u=D.return) && u.call(D);}finally{if(L)throw L.error;}}}this.dh.qs({streamableCount:q.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.T2a});return w;};n.prototype.w1b=function(p){return this.tWb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.d2b;});};n.prototype.tWb=function(p){var q;q=this;return p.map(function(u){return {priority:-(0,h.zSa)(q.config,u,q.V),d2b:u};});};n.prototype.Kpa=function(p,q,u){this.dh.enabled && p.push(this.HJb(u,q));};n.prototype.HJb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.hf,currentPlayerMs:q.Cq,pathCompletePlayerMs:q.By,streamingPlayerMs:q.wr};};n.prototype.Cvb=function(p,q,u){return this.config.LR && (q || (0,d.Vn)(p.hf))?this.Dvb(p,u):this.Evb(p,u);};n.prototype.Fvb=function(p){return p.wr <= p.By;};n.prototype.Evb=function(p,q){return p.wr - (p.Cq > q?p.Cq:q) <= Math.max(this.config.Kqa,Math.min((p.By - p.Cq) * this.config.qwa,this.config.oQb));};n.prototype.Dvb=function(p,q){var u,t;if(void 0 === this.config.LR)return !0;u=this.config.LR;t=p.Cq + u;return p.wr <= t?!0:this.Fvb(p) && q >= t && p.wr - q < u;};l.__decorate([(0,g.Sb)({methodName:"onRequestOpportunity",dk:!0})],n.prototype,"l6a",null);return n;})();b.kDa=r;},12862:function(r,b,a){var p,q,u;function c(t){return t.wr - t.Cq;}function l(t,w){return Math.exp(-(Math.log(2) / t) * w);}function f(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function k(t,w){var v,y,x,z,A;v=w.ata;y=w.$sa;x=w.RV;if(0 === w.Yg.length)return {J1:!1};z=w.Yg[0];w=z.tf;A=z.tB;z=z.duration;if(!A || 1 === x)return {J1:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(v < y)return {J1:!1};y=v - y;v=x + y / z * (1 - x);z-=y;A=A * (1 - v) / (1 - x);t=w * v / x * l(t,z) + A * f(t,z);(0,q.assert)(1 >= t);return {J1:!0,yrb:t};}function d(t){var w,v,y,x,z;w=t.lF;v=t.rbb;y=t.Sy;x=t.wr;z=t.Cq;t=t.NXa;(0,q.assert)(void 0 !== v);(0,q.assert)(void 0 !== w);y=1 - y;x-=z;t?(z=v - t - x,w-=t,0 >= z?t=Math.max(0,(v - t) / w):(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1)):(z=v - x,0 >= z?t=v / w:(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function g(t,w){t=Math.log(2) / t.L8a;return m(w) * Math.exp(-t * c(w));}function m(t){var w;return (null !== (w=t.QF) && void 0 !== w?w:1) * t.Yg.reduce(function(v,y){var x;x=y.tB;return v * (y.tf + (void 0 === x?0:x));},1);}function h(t){var w,v,y,x;if(0 === t.Yg.length)return 0;v=0;if(1 > t.RV){v=t.ata;y=t.$sa;x=null !== (w=t.Yg[0].duration) && void 0 !== w?w:0;v=Math.max(0,Math.min(x,v - (y - x)));}return t.Yg.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - v;}function n(t){return t.Yg.filter(function(w){return !w.tB;}).reduce(function(w,v){return w * v.tf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.oia=b.ASa=b.Kub=b.zSa=b.Oub=void 0;p=a(47571);q=a(44724);u=a(95994);b.Oub=c;b.zSa=function(t,w,v){var y,x,z,A,B,D,C,F;if(!t.J3 || (0,p.Vn)(w.hf))return g(t,w);x=t.L8a;t=c(w);z=h(w);A=n(w);B=k(x,w);D=B.J1;B=B.yrb;B=void 0 === B?1:B;C=1 > w.Sy?d(w):1;F=(null !== (y=w.QF) && void 0 !== y?y:1) * A * l(x,t - z) * B * C * w.Yg.filter(function(G,E){return G.tB && (0 < E || !D);}).reduce(function(G,E){var J,M;J=E.tB;M=E.duration;M=void 0 === M?0:M;J=void 0 === J?0:J;E=E.tf * l(x,M) + J * f(x,M);return G * E;},1);u.K && (null === v || void 0 === v?void 0:v.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.Sy,", ") + ("pssp: ").concat(w.RV,", ") + ("streamingDuration: ").concat(w.rbb,", ") + ("duration: ").concat(w.lF,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(x,t - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(C,", ") + ("probabilities: ").concat(JSON.stringify(w.Yg)," => ").concat(F)));return F;};b.Kub=g;b.ASa=m;b.oia=n;},91854:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.uRb=b.platform=b.Kf=b.yDb=b.cIb=b.oT=b.oL=b.APb=b.wG=b.f7=b.Cb=b.v=b.wz=b.Yc=b.cJ=b.ru=b.Fx=b.YP=b.Vh=b.qc=b.AP=b.su=b.cQ=b.hq=b.N=void 0;c=a(70655);l=a(94160);Object.defineProperties(b,{N:{enumerable:!0,get:function(){return l.N;}}});Object.defineProperties(b,{hq:{enumerable:!0,get:function(){return l.hq;}}});c.__exportStar(a(31047),b);c.__exportStar(a(95566),b);c.__exportStar(a(40730),b);f=a(71820);Object.defineProperties(b,{cQ:{enumerable:!0,get:function(){return f.cQ;}}});Object.defineProperties(b,{su:{enumerable:!0,get:function(){return f.su;}}});Object.defineProperties(b,{AP:{enumerable:!0,get:function(){return f.AP;}}});c.__exportStar(a(47130),b);c.__exportStar(a(52745),b);c.__exportStar(a(50971),b);c.__exportStar(a(42324),b);c.__exportStar(a(93959),b);c.__exportStar(a(15063),b);k=a(19829);Object.defineProperties(b,{qc:{enumerable:!0,get:function(){return k.qc;}}});Object.defineProperties(b,{Vh:{enumerable:!0,get:function(){return k.Vh;}}});d=a(63050);Object.defineProperties(b,{YP:{enumerable:!0,get:function(){return d.YP;}}});g=a(18934);Object.defineProperties(b,{Fx:{enumerable:!0,get:function(){return g.Fx;}}});m=a(74005);Object.defineProperties(b,{ru:{enumerable:!0,get:function(){return m.ru;}}});h=a(61276);Object.defineProperties(b,{cJ:{enumerable:!0,get:function(){return h.cJ;}}});n=a(47571);Object.defineProperties(b,{Yc:{enumerable:!0,get:function(){return n.Yc;}}});Object.defineProperties(b,{wz:{enumerable:!0,get:function(){return n.wz;}}});Object.defineProperties(b,{v:{enumerable:!0,get:function(){return n.v;}}});Object.defineProperties(b,{Cb:{enumerable:!0,get:function(){return n.Cb;}}});Object.defineProperties(b,{f7:{enumerable:!0,get:function(){return n.f7;}}});Object.defineProperties(b,{wG:{enumerable:!0,get:function(){return n.wG;}}});b.APb=function(q){b.platform.boa(q);};b.oL=function(q){b.platform.boa(q);return Promise.resolve().then(function(){return c.__importStar(a(79391));}).then(function(u){return u.oL();});};b.oT=function(q,u){b.platform.boa(q);return Promise.resolve().then(function(){return c.__importStar(a(23711));}).then(function(t){return t.oT(u);});};b.cIb=function(){return a(33742);};r=c.__importDefault(a(54186));b.yDb=r.default;r=a(2427);b.Kf=r.Kf;r=c.__importDefault(a(29736));b.platform=r.default;p=a(17655);b.uRb=function(){return {Co:p.Co};};},95566:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},22687:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(34532),b);},34532:function(r,b,a){var g,m,h,n,p,q,u,t,w;function c(v){var y,x,z;v=v.parent;y=!1;if(v && v.children){x={};x[t.sl]=[];x[t.Ck]=[];x[t.TEMPORARY]=[];z=v.children;z.forEach(function(A){A && x[A.$e].push(A);});0 < x[t.sl].length || (x[t.Ck].length === z.length?v.$e !== t.Ck && (v.$e=t.Ck,u.error("PERM failing :",n.default.Gg.name[v.Pm] + " " + v.id),y=!0):(v.$e === t.sl && (v.$e=t.TEMPORARY,u.error("TEMP failing :",n.default.Gg.name[v.Pm] + " " + v.id),y=!0),x[t.TEMPORARY].forEach(function(A){A.$e=t.sl;})),y && c(v));}}function l(v){var y;if((v=v.parent) && 0 < v.children.length && v.$e !== t.sl){y={};y[t.sl]=[];y[t.Ck]=[];y[t.TEMPORARY]=[];v.children.forEach(function(x){x && y[x.$e].push(x);});0 < y[t.sl].length && (v.$e=t.sl,l(v));}}function f(v){return v.$e !== t.sl;}function k(v){switch(v.$e){case t.sl:return "OK";case t.Ck:return "FAILED PERMANENTLY";case t.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(v,y){if(v.$e === t.TEMPORARY || v.$e === t.Ck && y)v.$e=t.sl;v.children && v.children.forEach(function(x){x && d(x,y);});}Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=void 0;g=a(70655);m=g.__importStar(a(67841));r=a(28075);h=a(47571);n=g.__importDefault(a(54186));p=g.__importDefault(a(29736));q=a(44724);u=new p.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(v){v[v.sl=0]="OK";v[v.TEMPORARY=1]="TEMPORARY";v[v.Ck=2]="PERMANENT";})(t || (t={}));(function(v){v[v.qu=0]="STARTUP";v[v.ylb=1]="REBUFFER";})(w || (w={}));a=(function(v){var m53;m53=2;for(;m53 !== 23;){switch(m53){case 10:y.prototype.Pa=function(){var Y59;Y59=2;for(;Y59 !== 1;){switch(Y59){case 2:this.config.hPb && this.NUb();Y59=1;break;}}};y.prototype.OWb=function(x){function z(E){var g$8;g$8=2;for(;g$8 !== 1;){switch(g$8){case 2:Object.keys(E).forEach(function(J){var w1J,M,L;w1J=2;for(;w1J !== 9;){switch(w1J){case 2:M=E[J];D.add(J);w1J=5;break;case 4:var u6e="L";u6e+="I";u6e+="V";u6e+="E";L=B.streams[J];B.streams[J]=L?g.__assign(g.__assign({},L),M):{id:J,bitrate:M.bitrate,zb:null,type:M.mediaType,clear:M.Kh?!1:!0,Qq:!0,urls:[],mO:{},ki:[],nx:M,zpa:B.ia?u6e:void 0};w1J=9;break;case 14:w1J=M?7:5;break;case 5:w1J=M?4:9;break;}}});g$8=1;break;}}}var a9H,A,B,D,X8A,C,F,r7J,R11,R9v;a9H=2;for(;a9H !== 4;){switch(a9H){case 2:(B=this,D=new Set());try{X8A=2;for(;X8A !== 3;){switch(X8A){case 1:X8A=!F.done?5:3;break;case 2:(C=g.__values(x),F=C.next());X8A=1;break;case 7:X8A=~F.done?8:8;break;case 4:F=C.next();X8A=1;break;case 5:z(F.value);X8A=4;break;}}}catch(E){var G;G={error:E};}finally{r7J=2;for(;r7J !== 1;){switch(r7J){case 2:try{R11=2;for(;R11 !== 1;){switch(R11){case 2:F && !F.done && (A=C.return) && A.call(C);R11=1;break;}}}finally{R9v=2;for(;R9v !== 5;){switch(R9v){case 1:throw G.error;R9v=5;break;case 9:throw G.error;R9v=9;break;case 2:R9v=G?1:5;break;}}}r7J=1;break;}}}Object.keys(this.streams).forEach(function(E){var D3u;D3u=2;for(;D3u !== 1;){switch(D3u){case 2:D.has(E) || delete B.streams[E];D3u=1;break;}}});a9H=4;break;}}};y.prototype.c8a=function(x,z,A){var X2A,B;X2A=2;for(;X2A !== 5;){switch(X2A){case 2:B=this;z.streams.forEach(function(D){var y8E;y8E=2;for(;y8E !== 1;){switch(y8E){case 2:B.d8a(x,D.downloadable_id,D,A);y8E=1;break;}}});X2A=5;break;}}};y.prototype.FWb=function(x,z){var s_B,A;s_B=2;for(;s_B !== 4;){switch(s_B){case 2:var w49="no";w49+="n";w49+="e";s_B=w49 !== x.id?1:4;break;case 9:s_B="" != x.id?2:8;break;case 1:var s62="imsc1";s62+=".";s62+="1";var C_w="i";C_w+="m";C_w+="s";C_w+="c1.";C_w+="1";A=x.downloadableIds[C_w];(x=x.ttDownloadables[s62]) && A && this.d8a(h.v.Ya,A,x,z);s_B=4;break;}}};m53=17;break;case 24:return y;break;case 2:g.__extends(y,v);y.prototype.Hs=function(){var j2N;j2N=2;for(;j2N !== 1;){switch(j2N){case 2:return f(this.io);break;case 4:return f(this.io);break;}}};y.prototype.y_b=function(x){var i1v;i1v=2;for(;i1v !== 5;){switch(i1v){case 1:return x.parent.id;break;case 2:i1v=(x=this.urls[x]) && x.parent?1:5;break;}}};y.prototype.t_a=function(x){var o70,z,A,c5r,B,D,C,i2e,s0X,w9B;o70=2;for(;o70 !== 4;){switch(o70){case 2:A=[];try{c5r=2;for(;c5r !== 9;){switch(c5r){case 1:c5r=!D.done?5:9;break;case 2:(B=g.__values(Object.keys(this.urls)),D=B.next());c5r=1;break;case 3:D=B.next();c5r=1;break;case 5:C=this.urls[D.value];C.url === x.stream.url && A.push(C.$b);c5r=3;break;case 6:c5r=~D.done?8:5;break;}}}catch(G){var F;F={error:G};}finally{i2e=2;for(;i2e !== 1;){switch(i2e){case 2:try{s0X=2;for(;s0X !== 1;){switch(s0X){case 2:D && !D.done && (z=B.return) && z.call(B);s0X=1;break;}}}finally{w9B=2;for(;w9B !== 5;){switch(w9B){case 2:w9B=F?1:5;break;case 3:w9B=F?8:8;break;case 1:throw F.error;w9B=5;break;}}}i2e=1;break;}}}o70=5;break;case 5:return A;break;case 7:return A;break;}}};m53=3;break;case 3:y.prototype.tZa=function(x){var T3B;T3B=2;for(;T3B !== 1;){switch(T3B){case 2:for(var z in this.streams){if(this.streams[z].nx === x){return this.streams[z];}}T3B=1;break;}}};y.prototype.F1=function(x,z,A){var x49,B,D,C,F,G;x49=2;for(;x49 !== 26;){switch(x49){case 2:B=this;void 0 === A && (A=n.default.ou.njb);x.locations.forEach(function(E){var u$V,J,M,L,I;u$V=2;for(;u$V !== 7;){switch(u$V){case 2:J=E.key;u$V=1;break;case 1:u$V=B.ki[J]?5:4;break;case 5:(B.ki[J].ec=E.rank,B.ki[J].level=E.level,B.ki[J].weight=E.weight);u$V=7;break;case 4:(M=[],L=B.yp.get(J),I=B.io);E={id:J,Pm:n.default.Gg.LOCATION,$e:t.sl,ec:E.rank,level:E.level,weight:E.weight,Mv:void 0,parent:I,children:M,sk:M,streams:{},Wb:L};B.ki[E.id]=E;I.children.push(E);u$V=7;break;}}});x49=4;break;case 4:this.T0=p.default.time.Ga();this.cC.sort(function(E,J){var p6r;p6r=2;for(;p6r !== 1;){switch(p6r){case 2:return E.level - J.level || E.ec - J.ec;break;}}});x.servers.forEach(function(E){var s2s,J,M,L;s2s=2;for(;s2s !== 14;){switch(s2s){case 2:J=E.id;s2s=1;break;case 1:s2s=B.sk[J]?5:4;break;case 5:B.sk[J].ec=E.rank;s2s=14;break;case 4:M=B.ki[E.key];s2s=3;break;case 3:s2s=M?9:14;break;case 9:L=[];E={id:J,Pm:n.default.Gg.BD,$e:t.sl,Mv:void 0,parent:M,children:L,urls:L,name:E.name,type:E.type,ec:E.rank,location:M};B.sk[E.id]=E;M.children.push(E);s2s=14;break;}}});x49=8;break;case 8:var u$4="L";u$4+="I";u$4+="VE";var w0s="L";w0s+="I";w0s+="VE";(C=x.eg,F=x.Aj);(0,q.assert)(this.ia && w0s === C && !!F || !this.ia && u$4 !== C && !F);this.ia && (this.WOb=F.GSb);x49=14;break;case 14:G=!0;z && (G=!1,this.OWb(z));x49=12;break;case 12:x.audio_tracks.forEach(function(E){var O2Y;O2Y=2;for(;O2Y !== 1;){switch(O2Y){case 2:B.c8a(h.v.fa,E,G);O2Y=1;break;}}});x.video_tracks.forEach(function(E){var n0D;n0D=2;for(;n0D !== 1;){switch(n0D){case 2:B.c8a(h.v.X,E,G);n0D=1;break;}}});null === (D=x.timedtexttracks) || void 0 === D?void 0:D.forEach(function(E){var C9n;C9n=2;for(;C9n !== 1;){switch(C9n){case 4:B.FWb(E,G);C9n=8;break;case 2:B.FWb(E,G);C9n=1;break;}}});x=this.cC.filter(function(E){var J5f,J;J5f=2;for(;J5f !== 4;){switch(J5f){case 2:J=E.sk.every(function(M){var V2B;V2B=2;for(;V2B !== 1;){switch(V2B){case 4:R7xOY.C8s(8);var u_3=R7xOY.A_X(126,16,14,2233);return u_3 != M.urls.length;break;case 2:return 0 === M.urls.length;break;}}});J && (E.sk.forEach(function(M){var M1T;M1T=2;for(;M1T !== 1;){switch(M1T){case 2:B.sk[M.id]=void 0;M1T=1;break;}}}),B.ki[E.id]=void 0,E.parent=void 0,E.children.length=0,E.streams={});return !J;break;}}});x.forEach(function(E){var v35;v35=2;for(;v35 !== 1;){switch(v35){case 2:E.sk.sort(function(J,M){var q6J;q6J=2;for(;q6J !== 1;){switch(q6J){case 2:return J.ec - M.ec;break;case 4:return J.ec + M.ec;break;}}});v35=1;break;}}});this.cC=x;this.io.children=x;x49=16;break;case 16:this.AC=null;this.zN=A;this.dump();x49=26;break;}}};y.prototype.wdb=function(x,z,A){var K9O,E,J,F,G,B,D,C;K9O=2;for(;K9O !== 16;){switch(K9O){case 18:var m7x="(empty";m7x+=" stream l";m7x+="ist)";var w3L="Did";w3L+=" not f";w3L+="ind a";w3L+=" URL for ANY ";w3L+="stream...";var q83="netwo";q83+="r";q83+="k";q83+="Failed";var m_V="Network ha";m_V+="s failed, ";m_V+="not updating stream s";m_V+="election";z.forEach(function(M,L){var w7A,I;w7A=2;for(;w7A !== 5;){switch(w7A){case 2:var W25=" K";W25+="b";W25+="p";W25+="s";W25+=")";var L_V=" ";L_V+="(";var p7F="]";p7F+=" ";var q4P="F";q4P+="a";q4P+="ilin";q4P+="g stream [";I=M.id;J.some(function(P){var l_O,K,H;l_O=2;for(;l_O !== 8;){switch(l_O){case 1:l_O=!K?5:4;break;case 2:K=P.streams[I];l_O=1;break;case 4:H=K.ki[0];void 0 === M.I8 && (M.I8=H.id,M.gta=K.mO[H.id][0].$b.id);return K.mO[P.id].some(function(N){var Z31,R;Z31=2;for(;Z31 !== 20;){switch(Z31){case 14:M.nr=N.$b.type;Z31=13;break;case 3:var X_G="loc";X_G+="a";X_G+="tionfa";X_G+="ilover";var Q4x="se";Q4x+="r";Q4x+="v";Q4x+="erf";Q4x+="ailover";var x7T="per";x7T+="f";x7T+="or";x7T+="m";x7T+="ance";var k1H="u";k1H+="n";k1H+="kn";k1H+="ow";k1H+="n";R=k1H;M.location !== P.id && (D.dH?M.dpa=P.id === H.id:R=P !== J[0] && C && K.zpa !== A?"" + n.default.ou.bmb:P !== J[0]?"" + n.default.ou.Paa:void 0 === M.location?"" + n.default.ou.qu:m.ii(M.L2a) || M.L2a === P.id?m.ii(M.R2a) || M.R2a === N.$b.id?x7T:Q4x:X_G,M.location=P.id,M.Fpa=P.level,M.Ft=R);M.url=N.url;M.$b=N.$b.id;M.FW=N.$b.name;Z31=14;break;case 4:return !1;break;case 5:Z31=f(N) || C && !N.E6.some(function(Y){var H5t=R7xOY;var X0k;X0k=2;for(;X0k !== 1;){switch(X0k){case 4:H5t.m_t(9);return H5t.N0G(Y,A);break;case 2:H5t.C8s(10);return H5t.A_X(Y,A);break;}}})?4:3;break;case 1:return (N.$b.$e === t.TEMPORARY && (M.$e=t.TEMPORARY),D.dH && M.$b === N.$b.id && N.$b.Mv && (M.Mv=N.$b.Mv),!1);break;case 2:Z31=f(N.$b)?1:5;break;case 13:C && (K.zpa=A);M.Wb=D.Qha?P.Wb.confidence >= n.default.rl.BI || F.confidence < E?P.Wb:F:F.confidence === n.default.rl.HAVE_NOTHING || P.Wb.confidence >= n.default.rl.BI?P.Wb:F;D.zWa && !M.Wb.UT && (M.Wb.UT=P.Wb.UT);Z31=10;break;case 10:return !0;break;}}});break;case 5:return !1;break;}}})?(M.qB=!1,M.$e=void 0,M.Qq && ++G):M.$e && M.$e === t.TEMPORARY?B.io.$e=t.TEMPORARY:M.qB || (u.warn(q4P + L + p7F + I + L_V + M.bitrate + W25),M.Yvb(),M.qB=!0);w7A=5;break;}}});return f(this.io)?(u.warn(m_V),this.A7=!0,this.emit(q83,this.io.$e === t.Ck),!1):G?!0:(u.warn(w3L + (z.length?"":m7x)),this.jr(n.default.Gg.iu,!0),!1);break;case 9:K9O=f(this.io)?8:7;break;case 7:E=n.default.rl.CI;D.Uqa && (E=n.default.rl.BI);this.Ic.location && F.confidence >= E && (x=this.ki[this.Ic.location]) && (x.Wb=F);K9O=13;break;case 10:J=this.AC;K9O=20;break;case 13:m.Zb(this.AC) && (this.AC=this.W4b());K9O=12;break;case 4:(F=this.Ic.get(),G=0);p.default.zs && p.default.zs(x);K9O=9;break;case 11:return (this.jr(n.default.Gg.iu,!1),!1);break;case 20:K9O=!J.length?19:18;break;case 19:return (this.jr(n.default.Gg.iu,!1),!1);break;case 12:K9O=!this.AC?11:10;break;case 8:return !1;break;case 2:(B=this,D=this.config,C=!1);this.ia && void 0 !== A && A !== this.COa && (void 0 === this.DOa || p.default.time.Ga() - this.DOa > D.JOb) && (this.COa=A,this.DOa=p.default.time.Ga(),C=!0);C && (this.AC=null);K9O=4;break;}}};y.prototype.B_b=function(x,z){var R4f,A,B;R4f=2;for(;R4f !== 4;){switch(R4f){case 2:(A=[],B=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);m.forEach(this.urls,function(D,C){var l6r,J,F,G,E;l6r=2;for(;l6r !== 13;){switch(l6r){case 7:D.urls.some(function(M){var h4e;h4e=2;for(;h4e !== 5;){switch(h4e){case 3:h4e=M.url != C?9:6;break;case 2:h4e=M.url === C?1:5;break;case 1:return (J=M,!0);break;}}});J && A.push({url:J,$b:D});l6r=13;break;case 5:l6r=F && 4 === F.length?4:13;break;case 1:F=C.match(B);l6r=5;break;case 2:D=D.$b;l6r=1;break;case 8:l6r=m.yg(E) && m.yg(F) && E === x && F == z?7:13;break;case 4:var D9T="8";D9T+="0";var D8k="4";D8k+="4";D8k+="3";(G="s" === F[1],E=F[2]);F=F[3];F.length || (F=G?D8k:D9T);l6r=8;break;}}});return A;break;}}};y.prototype.jr=function(x,z,A,B){var W1q,G,h1V,J,D,C,F,E,E_I;W1q=2;for(;W1q !== 42;){switch(W1q){case 3:W1q=F !== D.$e?9:42;break;case 4:W1q=D?3:43;break;case 12:W1q=E?11:27;break;case 28:W1q=44;break;case 29:W1q=h1V === t.sl?24:28;break;case 27:var R1h=" : w";R1h+="as";R1h+=" ";G.call(A,x + (z.length?"/" + z.join("/"):"") + R1h + k(D));W1q=26;break;case 20:z.unshift(J.id + "(" + J.name + ")");W1q=19;break;case 19:E=E.parent;W1q=12;break;case 9:A=u;G=A.warn;W1q=7;break;case 35:var k3B="net";k3B+="w";k3B+="orkFa";k3B+="iled";var c_C="Emi";c_C+="tting networkFai";c_C+="led, permanent =";F > C && (u.warn(c_C,F === t.Ck),this.emit(k3B,F === t.Ck));W1q=34;break;case 26:h1V=D.$e;W1q=h1V === t.Ck?25:30;break;case 16:W1q=E_I === n.default.Gg.URL?15:19;break;case 17:z.unshift(E.id);W1q=19;break;case 18:W1q=E_I === n.default.Gg.LOCATION?17:16;break;case 43:var P9X="Unable to find";P9X+=" fa";P9X+="ilur";P9X+="e entity for URL ";R7xOY.C8s(0);u.warn(R7xOY.A_X(A,P9X));W1q=42;break;case 5:D=D.parent;W1q=1;break;case 1:W1q=D && D.parent && D.Pm !== x?5:4;break;case 31:this.dump();W1q=42;break;case 25:return;break;case 10:J=E;W1q=20;break;case 13:E=D;W1q=12;break;case 2:(D=x !== n.default.Gg.iu && A?this.urls[A]:this.io,C=this.io.$e,F=z?t.Ck:t.TEMPORARY);W1q=1;break;case 44:var u3R="Inval";u3R+="id fa";u3R+="ilure ";u3R+="state";throw Error(u3R);W1q=24;break;case 7:var s6t=" ";s6t+="a";s6t+="t";s6t+=" ";var X96=" fa";X96+="ilure";X96+=" reported for ";var j7d="T";j7d+="E";j7d+="M";j7d+="P";var d8u="P";d8u+="E";d8u+="R";d8u+="M";x=(z?d8u:j7d) + X96 + n.default.Gg.name[x] + s6t;z=[];W1q=13;break;case 24:D.$e=F;c(D);this.A7=this.A7 || f(this.io);F=this.io.$e;W1q=35;break;case 34:this.AC=null;this.zN=n.default.ou.Sj;B && (this.zN=n.default.ou.clb,D.Mv=B);W1q=31;break;case 11:E_I=E.Pm;W1q=E_I === n.default.Gg.BD?10:18;break;case 30:W1q=h1V === t.TEMPORARY?24:29;break;case 15:var A2u="<url ";A2u+="f";A2u+="or ";z.unshift(A2u + E.stream.bitrate + ">");W1q=19;break;}}};m53=14;break;case 17:y.prototype.d8a=function(x,z,A,B){var M4L,C,D;M4L=2;for(;M4L !== 10;){switch(M4L){case 6:this.GWb(D,A.urls);M4L=14;break;case 5:B="";D=0;M4L=3;break;case 11:return;break;case 7:this.streams[D.id]=D;M4L=6;break;case 12:M4L=!D && !B?11:6;break;case 3:C=null;M4L=9;break;case 14:m.Fs(D.mO,function(F){var a7$;a7$=2;for(;a7$ !== 1;){switch(a7$){case 2:F.sort(function(G,E){var k0L;k0L=2;for(;k0L !== 1;){switch(k0L){case 2:return G.$b.ec - E.$b.ec;break;}}});a7$=1;break;}}});D.ki=D.ki.sort(function(F,G){var F0S;F0S=2;for(;F0S !== 1;){switch(F0S){case 2:return F.level - G.level || F.ec - G.ec;break;}}});M4L=10;break;case 1:M4L=m.ii(D) && B?5:12;break;case 2:D=this.streams[z];M4L=1;break;case 9:var z93="LI";z93+="V";z93+="E";var l0s="n";l0s+="o";l0s+="n";l0s+="e";l0s+="-";x !== h.v.Ya && (B=A.content_profile,D=A.bitrate,x === h.v.X && (C=A.vmaf));D={id:z,bitrate:D,zb:C,type:x,profile:B,clear:0 === B.indexOf(l0s),Qq:!0,urls:[],mO:{},ki:[],zpa:this.ia?z93:void 0};M4L=7;break;}}};y.prototype.GWb=function(x,z){var m97,A;m97=2;for(;m97 !== 5;){switch(m97){case 2:A=this;z.forEach(function(B){var G2t,D,C,F,G,E;G2t=2;for(;G2t !== 14;){switch(G2t){case 2:(D=B.url,C=A.urls[D],F=A.sk[B.cdn_id]);A.ia && (G=B.liveOcaCapabilities);G2t=5;break;case 5:G2t=F?4:14;break;case 4:m.ii(C) && (C={id:D,Pm:n.default.Gg.URL,$e:t.sl,Mv:void 0,parent:F,children:[],url:D,$b:F,stream:x,E6:G},A.urls[D]=C,F.children.push(C));E=F.location;x.urls.push(C);0 === x.ki.filter(function(J){var E3m;E3m=2;for(;E3m !== 1;){switch(E3m){case 4:return J.id == E.id;break;case 2:return J.id === E.id;break;}}}).length && x.ki.push(E);E.streams[x.id]=x;(B=x.mO[E.id])?B.push(C):x.mO[E.id]=[C];G2t=14;break;}}});m97=5;break;}}};y.prototype.W4b=function(){var X8I,B,x,z,A;X8I=2;for(;X8I !== 6;){switch(X8I){case 4:B=p.default.time.Ga();X8I=3;break;case 5:return null;break;case 1:X8I=0 === A.length?5:4;break;case 9:(A.forEach(function(D){var F27;F27=2;for(;F27 !== 1;){switch(F27){case 2:D.id !== x.Ic.location && (D.Wb=x.yp.get(D.id));F27=1;break;}}}),this.T0=B);X8I=8;break;case 3:X8I=null === this.T0 || this.T0 + z.Epa < B?9:8;break;case 8:A.sort(function(D,C){var W5I;W5I=2;for(;W5I !== 1;){switch(W5I){case 2:return D.level - C.level || D.ec - C.ec;break;}}});return A;break;case 2:(x=this,z=this.config,A=this.cC.filter(function(D){var s3V;s3V=2;for(;s3V !== 1;){switch(s3V){case 2:return !f(D) && 0 !== D.level;break;}}}));X8I=1;break;}}};y.prototype.LYb=function(x){var L1I,z;L1I=2;for(;L1I !== 4;){switch(L1I){case 1:this.BWb=x;this.cC.forEach(function(A){var q9F;q9F=2;for(;q9F !== 1;){switch(q9F){case 2:A.id !== z && A.Wb && A.Wb.confidence > n.default.rl.CI && (A.Wb.confidence=n.default.rl.CI);q9F=1;break;}}});L1I=4;break;case 2:z=this.Ic.location;L1I=1;break;}}};y.prototype.NUb=function(){var b3x,x;b3x=2;for(;b3x !== 5;){switch(b3x){case 2:x=this;this.A7 || this.cC.forEach(function(z){var m$r;m$r=2;for(;m$r !== 1;){switch(m$r){case 2:z.$e === t.TEMPORARY && x.yp.fail(z.id,p.default.time.Ga());m$r=1;break;}}});b3x=5;break;}}};y.prototype.dump=function(){};m53=24;break;case 14:y.prototype.J9a=function(x,z){var y$Z;y$Z=2;for(;y$Z !== 3;){switch(y$Z){case 1:(d(x,z),l(x));y$Z=5;break;case 5:this.AC=null;this.zN=n.default.ou.eda;y$Z=3;break;case 8:y$Z=(x=this.sk[x])?6:8;break;case 2:y$Z=(x=this.sk[x])?1:5;break;}}};y.prototype.k9=function(){var o8j;o8j=2;for(;o8j !== 1;){switch(o8j){case 2:d(this.io,!1);o8j=1;break;}}};y.prototype.FG=function(x){var g8S,z;g8S=2;for(;g8S !== 5;){switch(g8S){case 2:null === (z=this.Gob) || void 0 === z?void 0:z.call(this,x);g8S=5;break;}}};y.prototype.uh=function(){var L4L;L4L=2;for(;L4L !== 1;){switch(L4L){case 2:this.LYb(w.ylb);L4L=1;break;}}};m53=10;break;}}function y(x,z,A,B,D,C){var R6L,F;R6L=2;for(;R6L !== 25;){switch(R6L){case 19:F.AC=null;R6L=18;break;case 2:F=v.call(this) || this;F.Ic=A;F.yp=B;F.config=D;R6L=3;break;case 18:var O0p="1S";O0p+="IYbZrN";O0p+="JCp9";var h77="LI";h77+="V";h77+="E";F.zN=n.default.ou.qu;A=x.Aj;F.ia=h77 === x.eg && !!A;F.F1(x,z,n.default.ou.qu);O0p;return F;break;case 6:var m1T="n";m1T+="et";m1T+="w";m1T+="or";m1T+="k";F.sk={};F.urls={};F.streams={};F.cC=[];F.A7=!1;F.io={id:m1T,Pm:n.default.Gg.iu,$e:t.sl,Mv:void 0,parent:void 0,children:F.cC};F.T0=null;R6L=19;break;case 3:var f_L="L";f_L+="I";f_L+="V";f_L+="E";F.Gob=C;F.COa=f_L;F.BWb=w.qu;F.ki={};R6L=6;break;}}}})(r.EventEmitter);b.HFa=a;},44105:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EP=void 0;c=a(94160);l=a(44724);f=a(47571);r=(function(){function k(d){var g;void 0 === d && (d=[]);g=this;this.items=d;d.forEach(function(m){return g.qxa(m);});}Object.defineProperties(k.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fta:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});k.prototype.get=function(d){return d === f.v.X?this.video:this.audio;};k.prototype.every=function(d){return this.items.every(d);};k.prototype.some=function(d){return this.items.some(d);};k.prototype.forEach=function(d){this.items.forEach(d);};k.prototype.find=function(d){return (0,c.Hc)(this.items,d);};k.prototype.reduce=function(d,g){return this.items.reduce(d,g);};k.prototype.filter=function(d){return new k(this.items.filter(d));};k.prototype.replace=function(d,g){var m;m=this.items.indexOf(d);(0,l.assert)(-1 < m);(0,l.assert)(d.mediaType === g.mediaType);this.items[m]=g;this.qxa(g);};k.prototype.add=function(d){this.items.push(d);this.qxa(d);};k.prototype.remove=function(d){var g;g=this.items.indexOf(d);if(-1 === g)return !1;this.items.splice(g,1);this.Svb(d.mediaType);return !0;};k.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};k.prototype.qxa=function(d){d.mediaType === f.v.X?this.video=d:this.audio=d;};k.prototype.Svb=function(d){d === f.v.X?this.video=void 0:this.audio=void 0;};return k;})();b.EP=r;},94800:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wza=void 0;c=a(94160);l=a(71502);r=(function(){function f(k,d,g,m){this.config=d;this.Jf=g;this.console=m;this.ca=k.ca;}f.prototype.append=function(k,d){var g,m,h,n,p,q,u,t,w,v,y,x,z;if(k.di)return k;m=!1;h=(0,l.Kma)(this.config,this.Jf);n=k.ka;p=k.offset;q=k.tf;u=k.li;t=n.Lb;w=n.Bb;v=n.et;v=n.Ok || v;if(!k.ka.Ha || !v || q)return k;y=n.ab.wa(n.La);v=Math.floor(y.Ni(this.ca));x=null !== (g=d.Zqa) && void 0 !== g?g:t.wa(this.ca.Bv(2));t=x.wa(w);g=v;z=!1;d.Zqa && (d=this.xSa(y,t,t),g=d.Kj,z=d.B5a);h=x.wa(c.N.Ma(h));w=c.N.max(h.wa(w),c.N.Ia);z || (w=this.xSa(y,w,t),g=w.Kj,w.B5a && (--g,this.ca.Bv(g)));g < (this.config.iRb || 1)?m=!0:0 < v - g && k.ka.F3(v - g);return {ka:n,offset:p,tf:q,di:m,li:u};};f.prototype.xSa=function(k,d,g){var m;k=c.N.min(k,d);k=Math.floor(k.Ni(this.ca));d=this.ca.Bv(k);g=g.wa(d);m=0 < k && g.lessThan(c.N.zy);return {Kj:k,Zfc:d,rdc:g,B5a:m};};return f;})();b.wza=r;},97292:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Kaa=void 0;c=a(94160);l=a(95994);r=(function(){function f(k){this.console=k;}f.prototype.append=function(k){var d,g,m,h,n,p;if(k.di)return k;d=k.ka;g=k.offset;m=k.li;h=d.La;n=d.ab;p=h.add(g);g=n.add(g);p=this.UL && p.wa(this.UL);this.UL=g;if(void 0 === p || p.equal(c.N.Ia))return k;k.li=m || [];d={stream:d.Tb,pts:h.G,gap:p.G};k.li.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});l.K && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return k;};return f;})();b.Kaa=r;},56130:function(r,b,a){var f,k,d,g,m,h;function c(n,p,q,u,t,w){var v,y,x,z,A,B,D;if(void 0 !== n.X9 || void 0 !== n.Tva || n.Gs || n.Nn){v=n.end - n.start;y=Array(v);x=n.Gs;z=n.iXa?n.iXa - 1:0;A=n.jXa?n.jXa - 1:0;B=Math.min(v,Math.max(n.X9 || 0,w && x && !z?1:0));n=Math.min(v - B,Math.max(n.Tva || 0,w && p && !A?1:0));w=Math.floor(u.Ni(q));q=Math.max(0,Math.min(v - B - n,x?Math.max(0,w - z):0));D=Math.max(0,Math.min(v - B - n - q,p?Math.max(0,w - A):0));q=B + q;u=v - n - D;A=A?0:Math.max(0,w + 1 - D);w=(1 - t) / (w + 1);for(D=0;D < v;++D){y[D]=D < B?-Infinity:D >= v - n?-Infinity:x && D < q?l(t + (D - B + z) * w):p && D >= u?l(1 - (D - u + A + 1) * w):0;}return y;}}function l(n){return 20 * Math.log(n) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.xza=void 0;f=a(70655);k=a(86393);d=a(94160);g=a(74005);m=a(44724);h=a(47571);r=a(82823);r=(function(n){var i12;i12=2;for(;i12 !== 9;){switch(i12){case 2:f.__extends(p,n);p.prototype.Ha=function(q,u){var l16,t,v,y,x,w;l16=2;for(;l16 !== 33;){switch(l16){case 14:return {ha:!1};break;case 17:x=q.Ha.start;l16=16;break;case 2:var N6S="AudioMediaFragm";N6S+="entEditor [${fragment.mediaType}]: ";N6S+="Attempt to edit append";N6S+="ed fragment";void 0 === u && (u=!0);t=[];(0,m.assert)(!q.vR,N6S);l16=4;break;case 24:l16=!y?23:22;break;case 35:y && 1 < w.length && (y=null === y || void 0 === y?void 0:y.concat(w.slice(1)));return {ha:!0,li:t,Rp:y};break;case 6:l16=0 >= q.ue.ya?14:13;break;case 15:q=this.kCb(q,y?(0,g.mK)(y):w[0],x,u);y=q.ha;x=q.$n;v=q.data;l16=24;break;case 8:l16=!(w[0] instanceof ArrayBuffer)?7:6;break;case 23:return {ha:y};break;case 21:y=v;l16=35;break;case 12:(v=this.jCb(q,w[0],u),y=v.ha,x=v.$n);v=v.data;l16=10;break;case 20:return {ha:y};break;case 13:l16=0 < q.Ha.start || q.Ha.X9 || q.Ha.Gs?12:16;break;case 16:l16=q.Ha.end !== q.Ks || q.Ha.Tva || q.Ha.Nn?15:35;break;case 22:x && t.push(x);l16=21;break;case 4:l16=!q.Ha?3:9;break;case 3:return {ha:!0};break;case 19:x && t.push(x);y=v;l16=17;break;case 9:w=q.Rp;l16=8;break;case 10:l16=!y?20:19;break;case 7:return {ha:!0};break;}}};p.prototype.jCb=function(q,u,t){var f0$,w;f0$=2;for(;f0$ !== 6;){switch(f0$){case 3:f0$=!(q.Ha.start || w || q.Ha.Gs || t)?9:8;break;case 9:return {ha:!0};break;case 8:var M2L=" ";M2L+="edit";M2L+=" fa";M2L+="ile";M2L+="d";var v_T="]";v_T+=":";v_T+=" ";var o2g="Audi";o2g+="oMediaFrag";o2g+="men";o2g+="tEditor [";t=c(q.Ha,t,q.ca,this.C9,this.dM,this.config.n1a);return (u=new k.Pr(this.w7,q.stream,u).e9a({Jj:q.Ha.start,S:q.BG,px:t,uua:!1,mH:this.config.n9,sG:l(this.dM)}))?{ha:!0,$n:q.s9a(w),data:u.ka}:(this.console.error(o2g.concat(q.mediaType,v_T).concat(q.toString(),M2L)),{ha:!1});break;case 2:void 0 === t && (t=!0);(0,m.assert)(q.Ha);w=q.Ha.X9;t=!(!q.Ha.Nn || !t);f0$=3;break;}}};i12=4;break;case 4:p.prototype.kCb=function(q,u,t,w){var J$9,v;J$9=2;for(;J$9 !== 14;){switch(J$9){case 3:w=!(!q.Ha.Nn || !w);J$9=9;break;case 8:return {ha:!0};break;case 7:var x8x=" edit";x8x+=" faile";x8x+="d";var t7e="]";t7e+=":";t7e+=" ";var l9V="AudioMed";l9V+="iaFragm";l9V+="en";l9V+="tEditor [";w=c(q.Ha,w,q.ca,this.D9,this.dM,this.config.n1a);return (u=new k.Pr(this.w7,q.stream,u).l9a({Jj:q.Ha.end - t,S:q.BG,px:w,uua:!1,mH:this.config.n9,sG:l(this.dM)}))?{ha:!0,$n:q.s9a(v),data:u.ka}:(this.console.error(l9V.concat(q.mediaType,t7e).concat(q.toString(),x8x)),{ha:!1});break;case 2:void 0 === t && (t=0);void 0 === w && (w=!0);(0,m.assert)(q.Ha);v=q.Ha.Tva;J$9=3;break;case 9:J$9=q.Ha.end === q.Ks && !v && !q.Ha.Gs && !w?8:7;break;}}};return p;break;}}function p(q,u,t){var d3q,w;d3q=2;for(;d3q !== 6;){switch(d3q){case 3:w.C9=d.N.Ma(0 <= u.C9?u.C9:u.Ty);w.D9=d.N.Ma(0 <= u.D9?u.D9:u.Ty);w.dM=Math.pow(10,(u.dM[t] || -44) / 20);return w;break;case 2:var j_M="1SIYbZr";j_M+="NJC";j_M+="p9";j_M;w=n.call(this,q,h.v.fa) || this;w.console=q;w.config=u;d3q=3;break;}}}})(r.Ica);b.xza=r;},80708:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yza=void 0;c=a(95994);r=(function(){function l(f){this.console=f;}l.prototype.append=function(f,k){var d,g,m,h,n,p,q;if(f.di)return f;d=!1;g=f.ka;m=f.offset;h=f.tf;f=f.li;k=k.hM;n=g.Lb;if(this.$l && n.lessThan(this.$l.Lb)){p=this.$l.hM.wa(g.Bb);q=g.Lb.wa(this.$l.hM);q.lessThan(p) && (c.K && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(g) + (", current error: ").concat(p.mb()) + (", discard error: ").concat(q.mb())),d=!0);}this.$l=(g.Ok || g.et) && k?{hM:k,Lb:n}:void 0;return {ka:g,offset:m,tf:h,di:d,li:f};};return l;})();b.yza=r;},6313:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VEa=void 0;r=(function(){function a(c){this.nW=!1;this.d1b=c.pMb;}a.prototype.append=function(c){c.ka.Ha && (c.ka.i0b(this.nW?0:this.d1b),this.nW=!0);return c;};return a;})();b.VEa=r;},82823:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ica=void 0;c=a(70655).__importDefault(a(29736));b.Ica=(function(){return function(l,f){this.console=l;this.mediaType=f;this.w7=new c.default.Console("MP4","media|asejs");};})();},82434:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.UGa=void 0;c=a(94160);l=a(47571);f=a(44724);k=a(77669);d=a(25136);g=a(60798);m=a(74499);h=a(99073);n=a(6313);p=a(94800);q=a(80708);u=a(56130);t=a(97292);w=a(87602);r=(function(){function v(y,x,z,A){this.config=y;this.mediaType=x;this.Jf=z;this.console=A;}v.prototype.append=function(y,x){var z,A,B,D,C,F;void 0 === this.track?this.xoa(y.stream):this.track !== y.stream.track && ((0,f.assert)(this.track.ca),(0,f.assert)(y.stream.track.ca),this.track=y.stream.track);(0,f.assert)(void 0 !== this.ip);D={ka:y,offset:null !== (z=y.uta) && void 0 !== z?z:c.N.Ia,tf:this.config.vN,di:!1};D=this.ip.reduce(function(G,E){return E.append(G,x);},D);C=D.ka;z=D.offset;F=D.di;D=D.li;D=void 0 === D?[]:D;C.Ha && ((0,f.assert)(y.Ha,"Fragments must be marked for edit at request time"),y.wi(C.Ha));if(F || !this.wqa)return {offset:z,di:F};y=this.wqa.Ha(y,!(null === (B=null === (A=y.u) || void 0 === A?void 0:A.u) || void 0 === B || !B.Nn));A=y.ha;B=y.li;y=y.Rp;Array.prototype.push.apply(D,void 0 === B?[]:B);return {offset:z,di:!A,li:D,Rp:y};};v.prototype.reset=function(){this.ip=this.track=void 0;};v.prototype.xoa=function(y){var x,z;this.track=y.track;this.mediaType === l.v.fa?this.wqa=new u.xza(this.console,this.config,y.profile):y.QMb && (this.wqa=new w.iNa(this.console,this.config));this.ip=[];if(this.mediaType === l.v.fa){this.config.vN && this.ip.push(new g.rLa(this.config,y.track,this.console));z=this.nia(y);z.equal(c.N.Ia)?this.config.Am && y.Qf && this.Boa(y.pa.J) && this.ip.push(new n.VEa(this.config)):this.ip.push(new k.Nda(z));this.config.e7 || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(z.mb(),", ") + ("").concat(null === (x=y.Qf) || void 0 === x?void 0:x.mb())),this.ip.push(new m.qHa(this.config,y,this.console)));this.jNb()?(this.config.el || this.ip.push(new p.wza(y,this.config,this.Jf,this.console)),this.config.vN && this.ip.push(new t.Kaa(this.console)),this.ip.push(new d.EHa(this.config,y,this.console)),this.W0b(y) && ((0,f.assert)(y.ca),this.ip.push(this.Nwb(y.Qf || c.N.Ia,y.ca,z)))):(this.ip.push(new q.yza(this.console)),this.config.vN && this.ip.push(new t.Kaa(this.console)));}};v.prototype.Boa=function(y){return this.config.Boa || this.config.p1a && -1 !== this.config.p1a.indexOf(y);};v.prototype.nia=function(y){return k.Nda.nia(this.config,y.Qf,this.Jf,this.console);};v.prototype.jNb=function(){return !this.config.lN;};v.prototype.W0b=function(y){return this.config.e4b && this.config.Am && !!y.Qf;};v.prototype.Nwb=function(y,x,z){return new h.SMa(y.wa(z),x,this.console);};return v;})();b.UGa=r;},74499:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qHa=void 0;c=a(94160);l=a(44724);f=a(95994);r=(function(){function k(d,g,m){var h;this.console=m;this.nW=!1;(0,l.assert)(g.ca,"NegativePtsGuard: stream.frameDuration must exist.");this.ca=g.ca;this.Am=d.Am;this.Qf=null !== (h=g.Qf) && void 0 !== h?h:c.N.Ia;}k.prototype.append=function(d){var g,m,h,n,p;if(this.nW || d.di)return d;g=d.ka;m=d.offset;h=d.tf;d=d.li;if(g.Ha){n=g.La.wa(this.Am?this.Qf:c.N.Ia).add(m);if(n.lessThan(c.N.Ia)){p=Math.ceil(n.Bv(-1).Ni(this.ca));f.K && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Qf.mb(),", ") + ("request content start ").concat(g.La.mb(),", ") + ("current timestamp offset ").concat(m.mb()," => ") + ("firstPlatformTimestamp ").concat(n.mb(),"."));g.tka(p);}}this.nW=!0;return {ka:g,offset:m,tf:h,di:!1,li:d};};return k;})();b.qHa=r;},25136:function(r,b,a){var l,f,k,d;function c(g){return ("").concat(g.toString()," (nrdp: ").concat(g.nH,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.EHa=void 0;l=a(94160);f=a(85147);k=a(95994);d=a(44724);r=(function(){function g(m,h,n){this.console=n;this.offset=l.N.Ia;this.Qf=m.Am?h.Qf:void 0;(0,d.assert)(h.ca);this.ca=h.ca;}g.prototype.append=function(m){var h,n,p,q;if(m.di)return m;h=m.ka;n=m.offset;p=m.tf;q=m.li;void 0 !== this.I2a && ((0,d.assert)(void 0 !== this.lpa),h.La.add(m.offset).equal(this.I2a)?(m=this.Hub(h,n.add(this.offset)).G - this.lpa,0 > m?this.offset=this.offset.add(l.N.zy):0 === m?this.offset.lessThan(l.N.Ia) && (this.offset=this.offset.add(l.N.zy)):1 === m?this.offset.greaterThan(l.N.Ia) && (this.offset=this.offset.wa(l.N.zy)):this.offset=this.offset.wa(l.N.zy)):this.offset=l.N.Ia);this.lpa=this.Gub(h,n.add(this.offset)).G;this.I2a=h.ab.add(n);return {ka:h,offset:n.add(this.offset),tf:p,di:!1,li:q};};g.prototype.Hub=function(m,h){var n,p;m=this.PQa(m.La);n=(0,f.mt)(m).add((0,f.mt)(h));p=m.add(h).wa(n);k.K && this.console.trace("NrdpRounding: content start " + c(m) + ", timestamp offset: " + c(h) + ", start rounding error: " + (0,f.mt)(m).toString() + ", offset rounding error: " + (0,f.mt)(h).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.mb() + ", (" + m.nH + h.nH + "ms), last fragment end nrdp: " + this.lpa);return p;};g.prototype.Gub=function(m,h){var n,p,q;n=this.ca;m=this.PQa(m.ab);p=(0,f.mt)(m.wa(n)).add((0,f.mt)(n)).add((0,f.mt)(h));q=m.add(h).wa(p);k.K && this.console.trace("NrdpRounding: content end: start of last frame:" + c(m.wa(n)) + ", frame duration: " + c(n) + ", offset: " + c(h) + ", timestamp rounding error: " + (0,f.mt)(m.wa(n)).toString() + ", frame duration rouding error: " + (0,f.mt)(n).toString() + ", offset rounding error: " + (0,f.mt)(h).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.mb() + ", (" + m.wa(n).nH + n.nH + h.nH + "ms)");return q;};g.prototype.PQa=function(m){return this.Qf?m.wa(this.Qf):m;};return g;})();b.EHa=r;},77669:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Nda=void 0;c=a(94160);l=a(95994);r=(function(){function f(k){this.Qf=k;}f.nia=function(k,d,g,m){var h;h=c.N.Ia;d && (g=null === g || void 0 === g?void 0:g.Fcc,k.w5b && void 0 !== g && 0 <= g?(k=new c.N(g,48E3),h=d.add(k),l.K && m.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(k) + (" for ASE applied offset of ").concat(h,"."))):k.wR && (h=d));return h;};f.prototype.append=function(k){var d,g,m;d=k.tf;g=k.di;m=k.li;return {ka:k.ka,offset:k.offset.add(this.Qf),tf:d,di:g,li:m};};return f;})();b.Nda=r;},60798:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rLa=void 0;c=a(94160);l=a(44724);f=a(95994);r=(function(){function k(d,g,m){this.config=d;this.console=m;this.Vu=c.N.Ia;(0,l.assert)(g.ca);this.ca=g.ca;g=g.Fg[0].profile;this.q7=this.rIb(g,this.ca);this.W6=this.mIb(g,this.ca);this.q5=-1 !== d.HRa.indexOf(g);}k.prototype.append=function(d,g){var m,h,n,p,q;if(d.di)return d;m=d.ka;h=d.offset;n=d.li;n=void 0 === n?[]:n;d=d.tf;p=g.hM;g=g.Zqa;if(this.tsa){q=this.oRb(m,this.tsa);m.Ha && !this.q5 && this.Hha(q)?(f.K && this.console.trace("SeamlessAudio: dropping first frame"),m.tka(1),this.Vu=q):(this.Vu=q.add(this.ca),this.PRa(this.Vu) || (f.K && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + m.Bb.mb() + " error would be " + this.Vu.mb() + " (editing " + (m.Ha?"":"not ") + "allowed)"),n.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:m.Tb,pts:m.La.G}}}}),this.Vu=c.N.Ia,d=!1));this.tsa=void 0;}if(m.Ok || m.et)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!m.Ha || !g && m.et || (q=this.pRb(m,p,g),g && this.q5 && q.gi(this.ca)?(f.K && this.console.trace("SeamlessAudio: dropping last two frames"),m.F3(2)):q.gi(c.N.Ia) && (f.K && this.console.trace("SeamlessAudio: dropping last frame"),m.F3(1))),this.tsa=p);(0,l.assert)(this.PRa(this.Vu));this.UL=m.Lb;return {ka:m,offset:h.add(this.Vu),tf:d,di:0 === m.DZb,li:n.length?n:void 0};};k.prototype.pRb=function(d,g,m){var h;if(m)h=this.Vu.add(d.Lb.wa(m)).wa(this.ca);else (h=d.Lb.wa(g),h=this.Vu.add(h).wa(this.ca));f.K && this.console.trace("SeamlessAudio: fragment end: " + d.Lb.mb() + ", splice " + g.mb() + ", next start " + (null === m || void 0 === m?void 0:m.mb()) + ", error " + h.add(this.ca).mb() + ", error with frame drop " + h.mb() + ", is" + (this.Hha(h)?"":" not") + " within bounds of [" + this.q7.mb() + " and " + this.W6.mb() + ")");return h;};k.prototype.oRb=function(d,g){var m;(0,l.assert)(this.UL);m=this.Vu.add(this.UL.wa(d.Bb)).wa(this.ca);f.K && this.console.trace("SeamlessAudio: fragment start: " + d.Bb.mb() + ", splice " + g.mb() + ", last fragment end: " + this.UL.mb() + ", error " + m.add(this.ca).mb() + ", error with frame drop " + m.mb() + ", is" + (this.Hha(m)?"":" not") + " within bounds of [" + this.q7.mb() + " and " + this.W6.mb() + ")");return m;};k.prototype.Hha=function(d){return d.lessThan(this.W6) && d.gi(this.q7);};k.prototype.PRa=function(d){return d.lessThan(this.W6.add(c.N.zy)) && d.gi(this.q7.wa(c.N.zy));};k.prototype.mIb=function(d,g){return "object" === typeof this.config.Yua && void 0 !== this.config.Yua[d]?(d=new c.N(this.config.Yua[d],1E3).Ae(g.S).add(new c.N(1,g.S)),c.N.min(g,d)):g;};k.prototype.rIb=function(d,g){var m;if("object" === typeof this.config.Zua && void 0 !== this.config.Zua[d]){m=g.Ni(-2);d=new c.N(this.config.Zua[d],1E3).Ae(g.S).wa(new c.N(1,g.S));return c.N.max(m,d);}return new c.N(-12,1E3);};return k;})();b.rLa=r;},99073:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SMa=void 0;c=a(94160);l=a(95994);r=(function(){function f(k,d,g){this.Qf=k;this.ca=d;this.console=g;}f.prototype.append=function(k,d){var g,m,h,n,p,q;g=k.ka;m=k.offset;h=k.tf;n=k.li;k=k.di;if(!k){p=d.endOfStream;d=d.hM;if(p && d){p=g.La.wa(this.Qf).add(m);q=g.ab.wa(this.Qf).add(m);d=d.wa(c.N.zy);l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.mb() + "-" + q.mb() + " vs media splice point at " + d.mb());p.add(this.ca).gi(d)?(l.K && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),k=!0):q.gi(d) && (d=Math.ceil(q.wa(d).Ni(this.ca)),g.Ha?(l.K && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),g.F3(d)):(l.K && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),k=!0));}else p && l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {ka:g,offset:m,tf:h,di:k,li:n};};return f;})();b.SMa=r;},87602:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iNa=void 0;c=a(70655);l=a(86393);f=a(44724);k=a(74005);d=a(55757);r=a(82823);g=a(91854);a=(function(m){function h(n,p){var q;q=m.call(this,n,g.v.X) || this;q.console=n;q.config=p;return q;}c.__extends(h,m);h.prototype.Ha=function(n){var p,q,u,t,w,v,y;if(!(n.Ha && n instanceof d.Jaa))return {ha:!0};p=n.Rp;if(!(p[0] instanceof ArrayBuffer))return {ha:!0};q=p[0];u=q.slice(0,q.byteLength - 8);t=new DataView(q);q=t.getUint32(u.byteLength);(0,f.assert)("mdat" === (0,l.Tz)(t.getUint32(u.byteLength + 4)));w=0 < n.Ha.start;t=n.Ha.end < n.Ks;if(!w && !t)return {ha:!0};if(w){w=new l.Pr(this.w7,n.stream,u);v=w.e9a(n.Ha.start,n.S);}if(t && !1 !== v){w=new l.Pr(this.w7,n.stream,v?(0,k.mK)(v.ka):u);y=w.l9a(n.Ha.end - n.Ha.start,n.S);}u=(n=t?y:v)?n.ka:[u];q=this.urb(v,y,q);u.push((0,l.SB)(q - 8));1 < p.length && (u=u.concat(p.slice(1)));return {ha:!0,Rp:u};};h.prototype.urb=function(n,p,q){n && ((0,f.assert)(void 0 !== n.Op),(0,f.assert)(void 0 !== n.gN),q-=n.Op);p && ((0,f.assert)(void 0 !== p.Op),(0,f.assert)(void 0 !== p.gN),q-=p.Op,n && (0,f.assert)(void 0 !== n.Op));return q;};return h;})(r.Ica);b.iNa=a;},1684:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iDa=void 0;c=a(44724);l=a(8079);r=(function(){function f(){this.global=new l.FP();this.ZG={};}f.prototype.add=function(k,d){(0,c.assert)(void 0 === this.ZG[k],"Cannot add new memory object for playgraph");this.ZG[k]=d;this.global.add(d.Aq);this.global.add(d.nS);};return f;})();b.iDa=r;},8079:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FP=void 0;c=a(47571);r=(function(){function l(){this[c.v.fa]=0;this[c.v.X]=0;this[c.v.Ya]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[c.v.fa] + this[c.v.X] + this[c.v.Ya];},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this[c.v.fa]+=Math.max(f[c.v.fa] || 0,0);this[c.v.X]+=Math.max(f[c.v.X] || 0,0);this[c.v.Ya]+=Math.max(f[c.v.Ya] || 0,0);};l.prototype.Kga=function(f,k){this[f]+=Math.max(k || 0,0);};return l;})();b.FP=r;c.v.fa;c.v.X;c.v.Ya;},46044:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fKa=void 0;c=a(8079);r=(function(){function l(){this.Aq=new c.FP();this.nS=new c.FP();}Object.defineProperties(l.prototype,{total:{get:function(){var f;f=new c.FP();f.add(this.Aq);f.add(this.nS);return f;},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this.Aq.add(f.Aq);this.nS.add(f.nS);};l.prototype.Kga=function(f,k,d){(d?this.nS:this.Aq).Kga(f,k);};return l;})();b.fKa=r;},73520:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.UAa=void 0;r=a(70655);c=a(8628);l=r.__importDefault(a(33742));f=r.__importDefault(a(40275));k=r.__importDefault(a(73764));d=a(44724);g=a(31925);m=r.__importDefault(a(29736));b.UAa=(function(){function n(p,q,u){var t;t=this;this.yp=new l.default(p,u);this.cV=new f.default(p);this.Ic=new k.default(this.cV,this.yp,p);new g.V_(m.default.g3,q,p);c.XC.Fwb(p);p.o8 && setInterval(function(){t.yp.save();t.cV.save();},p.o8);}n.Pma=function(p,q,u){void 0 === h?(n.config=p,n.ecb=u,h=new n(p,q,u)):((0,d.assert)(n.config === p),(0,d.assert)(n.ecb === u));return h;};n.reset=function(){n.config=void 0;h=n.ecb=void 0;};return n;})();},57862:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(46580),b);r.__exportStar(a(79266),b);r.__exportStar(a(94345),b);r.__exportStar(a(53738),b);r.__exportStar(a(52338),b);r.__exportStar(a(27610),b);r.__exportStar(a(89786),b);r.__exportStar(a(64458),b);r.__exportStar(a(80251),b);r.__exportStar(a(32281),b);r.__exportStar(a(39100),b);r.__exportStar(a(14441),b);r.__exportStar(a(48548),b);r.__exportStar(a(64196),b);r.__exportStar(a(6965),b);r.__exportStar(a(73101),b);r.__exportStar(a(38690),b);r.__exportStar(a(21419),b);r.__exportStar(a(22335),b);r.__exportStar(a(94256),b);r.__exportStar(a(40178),b);r.__exportStar(a(11231),b);r.__exportStar(a(58996),b);r.__exportStar(a(12331),b);r.__exportStar(a(65378),b);r.__exportStar(a(84045),b);r.__exportStar(a(67814),b);r.__exportStar(a(56595),b);r.__exportStar(a(84472),b);r.__exportStar(a(87366),b);r.__exportStar(a(40079),b);r.__exportStar(a(81183),b);r.__exportStar(a(74810),b);r.__exportStar(a(84911),b);r.__exportStar(a(51619),b);r.__exportStar(a(87254),b);r.__exportStar(a(47358),b);r.__exportStar(a(69168),b);r.__exportStar(a(32662),b);r.__exportStar(a(66750),b);r.__exportStar(a(50610),b);r.__exportStar(a(88918),b);},79266:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},94345:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},53738:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52338:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46580:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27610:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Yc=b.Vn=void 0;(function(c){c[c.Tr=0]="STOPPED";c[c.Qe=1]="BUFFERING";c[c.ul=2]="REBUFFERING";c[c.qm=3]="STREAMING";c[c.Y_=4]="TRACK_SWITCH";})(a || (a={}));b.Yc=a;b.Vn=function(c){return c === a.Qe || c === a.ul || c === a.Y_;};},89786:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},64458:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84911:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wz=void 0;r=b.wz || (b.wz={});r[r.BH=0]="skipped";r[r.zrb=1]="adjustment";},80251:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},32281:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39100:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48548:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},88918:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66750:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},47571:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(57862),b);},64196:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.e2b=b.J8a=b.Ita=void 0;b.Ita=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.J8a=a;b.e2b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.Yg)," sp:").concat(c.Sy," ") + ("pssp:").concat(c.RV," ") + ("state:").concat(c.hf," path-complete:").concat(c.By," ") + ("streaming:").concat(c.wr," current:").concat(c.Cq);};},6965:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38690:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},73101:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wG=b.f7=b.Bz=b.v=void 0;c=a(18920);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return c.v;}}});b.Bz=[c.v.fa,c.v.X];b.f7=function(l,f,k){l=l || f?f?[c.v.X]:[c.v.fa]:[c.v.fa,c.v.X];k && l.push(c.v.Ya);return l;};b.wG=function(l){return l === c.v.fa?"audio":l === c.v.X?"video":l === c.v.Ya?"text":"unknown";};},21419:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(73101);},22335:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(73101);},94256:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Gz=void 0;r=b.Gz || (b.Gz={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.CI=1]="HAVE_SOMETHING";r[r.BI=2]="HAVE_MINIMUM";r[r.bP=3]="HAVE_ENOUGH";},40178:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},11231:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},58996:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cb=b.Osa=void 0;c=a(27610);(function(f){f[f.Dk=0]="STARTING";f[f.Qe=1]="BUFFERING";f[f.ul=2]="REBUFFERING";f[f.me=3]="PLAYING";f[f.N_=4]="STOPPING";f[f.Tr=5]="STOPPED";f[f.Wh=6]="PAUSED";})(l || (l={}));b.Cb=l;b.Osa=function(f){return f === c.Yc.Qe?l.Qe:f === c.Yc.ul?l.ul:f === c.Yc.Y_?l.Qe:f === c.Yc.qm?l.me:l.Dk;};},51619:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(48170),b);r.__exportStar(a(11351),b);r.__exportStar(a(3311),b);r.__exportStar(a(34759),b);r.__exportStar(a(64771),b);r.__exportStar(a(27891),b);r.__exportStar(a(60657),b);r.__exportStar(a(79465),b);},48170:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},60657:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27891:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},11351:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},64771:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},3311:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},79465:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},34759:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},12331:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65378:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67814:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84045:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},56595:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84472:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87366:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},40079:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},50610:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81183:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},74810:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},69168:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kq=void 0;r=b.kq || (b.kq={});r[r.Jkb=0]="PLAYGRAPH_CHANGED";r[r.Kkb=1]="PLAYGRAPH_UNCHANGED";r[r.Ujb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.Ilb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.Zhb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Yhb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Jlb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.Xeb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.ljb=8]="LOSS_OF_POSITION";},87254:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(47396),b);r.__exportStar(a(38108),b);},47396:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38108:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},32662:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},47358:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},17655:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Pr=b.Hw=b.Co=b.SB=b.T_=void 0;c=a(70655);l=a(86393);Object.defineProperties(b,{Hw:{enumerable:!0,get:function(){return l.Hw;}}});Object.defineProperties(b,{Pr:{enumerable:!0,get:function(){return l.Pr;}}});Object.defineProperties(b,{SB:{enumerable:!0,get:function(){return l.SB;}}});Object.defineProperties(b,{T_:{enumerable:!0,get:function(){return l.T_;}}});f=c.__importDefault(a(29736));r=(function(k){function d(g,m,h,n,p){return k.call(this,d.console,g,m,h,n,p) || this;}c.__extends(d,k);Object.defineProperties(d,{console:{get:function(){return this.V || (this.V=new f.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(l.Co);b.Co=r;},8528:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Dba=void 0;r=a(70655);c=a(5640);l=a(47571);new (r.__importDefault(a(29736)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var H5h;H5h=2;function f(k){var C3h;C3h=2;for(;C3h !== 4;){switch(C3h){case 5:var B_t="1SIYb";B_t+="Z";B_t+="rNJCp";B_t+="9";B_t;C3h=4;break;case 7:"";C3h=2;break;case 2:this.hoa=k;this.Ox={};C3h=5;break;}}}for(;H5h !== 7;){switch(H5h){case 2:f.prototype.reset=function(){var x9p;x9p=2;for(;x9p !== 1;){switch(x9p){case 2:this.KC=new c.HAa();x9p=1;break;}}};f.prototype.Tv=function(k,d){var C98;C98=2;for(;C98 !== 1;){switch(C98){case 2:d.vj && (this.hoa?this.KC.start(k,d.vj):d.type === l.v.X && (this.Ox[d.vj]?this.Ox[d.vj].NX+=1:this.Ox[d.vj]={vj:d.vj,NX:1,e4:!1},this.edb(k)));C98=1;break;}}};f.prototype.Vv=function(k,d){var c50,g;c50=2;for(;c50 !== 9;){switch(c50){case 7:c50=d.vj?2:7;break;case 1:c50=this.hoa?5:4;break;case 4:g=this.Ox[d.vj];d.type === l.v.X && g && (--g.NX,0 === g.NX && (g.e4 && this.KC.stop(k,d.vj),g.e4=!1,delete this.Ox[d.vj]),this.edb(k));c50=9;break;case 2:c50=d.vj?1:9;break;case 5:this.KC.stop(k,d.vj);c50=9;break;case 6:c50=this.hoa?4:6;break;}}};f.prototype.SJ=function(k,d,g,m){var X5k;X5k=2;for(;X5k !== 1;){switch(X5k){case 2:m.vj && (this.hoa?this.KC.add(k,d,g,m.vj):this.jR === m.vj && this.KC.add(k,d,g,m.vj));X5k=1;break;}}};H5h=3;break;case 3:f.prototype.Vm=function(){var N2_;N2_=2;for(;N2_ !== 1;){switch(N2_){case 4:return this.KC.get();break;case 2:return this.KC.get();break;}}};f.prototype.edb=function(k){var K$B,d,g;K$B=2;for(;K$B !== 5;){switch(K$B){case 2:(d=Object.keys(this.Ox).map(function(m){var X0O;X0O=2;for(;X0O !== 1;){switch(X0O){case 2:return parseInt(m);break;case 4:return parseInt(m);break;}}}),g=this.Ox[d[0]]);1 === d.length && !1 === g.e4?(this.KC.start(k,g.vj),this.jR=g.vj):1 < d.length && this.jR && (d=this.Ox[this.jR],this.KC.stop(k,this.jR),d.e4=!1,this.jR=void 0);K$B=5;break;}}};return f;break;}}})();b.Dba=a;},10764:function(r,b,a){var l;function c(){this.um=void 0;this.gA=0;}l=a(67841);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.gA && this.um?{p25:this.um.Cp,p50:this.um.dn,p75:this.um.Dp,c:this.gA}:null;};c.prototype.Eg=function(f){if(!(!l.Zb(f) && l.has(f,"p25") && l.has(f,"p50") && l.has(f,"p75") && l.has(f,"c") && l.isFinite(f.p25) && l.isFinite(f.p50) && l.isFinite(f.p75) && l.isFinite(f.c)))return (this.um=void 0,this.gA=0,!1);this.um={Cp:f.p25,dn:f.p50,Dp:f.p75};this.gA=f.c;};c.prototype.get=function(){return {wsa:this.um,Kj:this.gA};};c.prototype.set=function(f,k){this.um=f;this.gA=k;};c.prototype.reset=function(){this.um=void 0;this.gA=0;};c.prototype.toString=function(){return "IQRHist(" + this.um + "," + this.gA + ")";};r.exports=c;},33742:function(r,b,a){var d,g,m,h,n,p;function c(q){var u;u=q.ifa;this.Y=q;this.Sz=g.rl.HAVE_NOTHING;this.Zea=q.Zea;q=new n(q);this.$Q=q.create("throughput-location-history",u);this.I0=q.create("throughput-location-history",u);this.o1=q.create("throughput-location-history",u);this.p1=q.create("throughput-location-history",u);this.n1=q.create("throughput-location-history",u);this.gx=q.create("respconn-location-history",u);this.Yw=q.create("respconn-location-history",u);this.m1=q.create("throughput-tdigest-history",u);this.J0=q.create("throughput-iqr-history",u);this.w0=q.create("throughput-location-history",u);this.y0=q.create("throughput-location-history",u);this.x0=q.create("throughput-location-history",u);this.z0=q.create("throughput-location-history",u);this.jb=null;}function l(q,u,t,w,v){this.ds=new c(v);this.Bn=[];this.qob=m.time.Ga() - Date.now() % 864E5;this.$r=null;this.Y=v;for(q=0;q < w;++q){this.Bn.push(new c(v));}}function f(q,u,t){return d.has(q,u)?q[u]:q[u]=t;}function k(q,u){var t;this.Y=q;this.SPa=u;this.BDb();this.WD=new c(this.Y);this.dob();t=q.Qja;t && (t={confidence:g.rl.bP,qb:{Da:parseInt(t,10),Zd:0},cl:{Da:0,Zd:0},y5:{Da:0,Zd:0}},this.get=function(){return t;});}d=a(67841);g=a(54186)["default"];b=a(74005);m=a(29736)["default"];h=b.gDa;n=a(48643).eib;new m.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:g.rl.HAVE_NOTHING};c.prototype.xE=function(q,u){this.Sz=u;this.$Q.add(q);this.m1.add(q);this.jb=m.time.Ga();};c.prototype.vE=function(q){this.I0.add(q);};c.prototype.yE=function(q){this.o1.add(q.initial);this.p1.add(q.low);this.n1.add(q.high);};c.prototype.cI=function(q,u){this.J0.set(q,u);};c.prototype.rA=function(q){this.gx.add(q);};c.prototype.qA=function(q){this.Yw.add(q);};c.prototype.TJ=function(q){this.w0.add(q.Da);this.y0.add(q.Zd);this.x0.add(q.YJ);this.z0.add(q.rO);};c.prototype.getState=function(){var q,u,t,w,v,y,x,z,A,B,D,C,F,G;q=this.$Q.getState();u=this.I0.getState();t=this.o1.getState();w=this.p1.getState();v=this.n1.getState();y=this.gx.getState();x=this.Yw.getState();z=this.J0.getState();A=this.m1.getState();B=this.w0.getState();D=this.y0.getState();C=this.x0.getState();F=this.z0.getState();if(d.Zb(q) && d.Zb(y) && d.Zb(x))return null;G={c:this.Sz,t:m.time.Qqa(this.jb)};d.Zb(q) || (G.tp=q);d.Zb(u) || (G.itp=u);d.Zb(t) || (G.tcii=t);d.Zb(w) || (G.tcil=w);d.Zb(v) || (G.tcih=v);d.Zb(y) || (G.rt=y);d.Zb(x) || (G.hrt=x);d.Zb(z) || (G.iqr=z);d.Zb(A) || (G.td=A);d.Zb(B) || (G.dta=B);d.Zb(D) || (G.dtv=D);d.Zb(C) || (G.dtta=C);d.Zb(F) || (G.dttv=F);return G;};c.prototype.Eg=function(q){var u;u=m.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > g.rl.bP || q.t > u || !this.$Q.Eg(q.tp))return (this.Sz=g.rl.HAVE_NOTHING,this.$r=this.jb=null,this.$Q.Eg(null),this.gx.Eg(null),this.Yw.Eg(null),!1);this.Sz=q.c;this.jb=m.time.pra(q.t);this.gx.Eg(d.has(q,"rt")?q.rt:null);this.Yw.Eg(d.has(q,"hrt")?q.hrt:null);this.I0.Eg(d.has(q,"itp")?q.itp:null);this.o1.Eg(d.has(q,"tcii")?q.tcii:null);this.p1.Eg(d.has(q,"tcil")?q.tcil:null);this.n1.Eg(d.has(q,"tcih")?q.tcih:null);this.w0.Eg(d.has(q,"dta")?q.dta:null);this.y0.Eg(d.has(q,"dtv")?q.dtv:null);this.x0.Eg(d.has(q,"dtta")?q.dtta:null);this.z0.Eg(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.J0.Eg(q.iqr);d.has(q,"td") && this.m1.Eg(q.td);return !0;};c.prototype.get=function(){var q,u,t,w,v,y,x,z,A,B,D;q=this.Y;if(d.Zb(this.jb))return p;u=(m.time.Ga() - this.jb) / 1E3;u > q.Rnb?this.Sz=g.rl.HAVE_NOTHING:u > q.xnb && (this.Sz=Math.min(this.Sz,g.rl.CI));q=this.$Q.get();t=this.I0.get();w=this.o1.get().Da;v=this.p1.get().Da;y=this.n1.get().Da;x=this.gx.get();z=this.Yw.get();A=this.J0.get();B=this.m1.get();D={Da:this.w0.Zma().Da,Zd:this.y0.Zma().Da,YJ:this.x0.get().Da,rO:this.z0.get().Da};u={El:u,confidence:this.Sz,qb:q,UT:t,"throughput-ci":{initial:w,low:v,high:y},cl:x,y5:z,BB:A,ah:B,Km:D};q && (u.Qgc=h.prototype.Kv.bind(q));x && (u.Nfc=h.prototype.Kv.bind(x));z && (u.Sdc=h.prototype.Kv.bind(z));return u;};c.prototype.time=function(){return this.jb;};l.prototype.ae=function(){return ((m.time.Ga() - this.qob) / 1E3 / 3600 / (24 / this.Bn.length) | 0) % this.Bn.length;};l.prototype.getState=function(){var q;q={g:this.ds.getState(),h:this.Bn.map(function(u){return u.getState();})};d.Zb(this.$r) || (q.f=m.time.Qqa(this.$r));return q;};l.prototype.Eg=function(q){var u,t;if(!this.ds.Eg(q.g))return !1;u=this.Bn.length;t=!1;this.Bn.forEach(function(w,v){t=!w.Eg(q.h[v * q.h.length / u | 0]) || t;});this.$r=d.has(q,"f")?m.time.pra(q.f):null;return t;};l.prototype.xE=function(q,u){this.ds.xE(q,u);this.Bn[this.ae()].xE(q,u);this.$r=null;};l.prototype.vE=function(q){this.ds.vE(q);this.Bn[this.ae()].vE(q);this.$r=null;};l.prototype.yE=function(q){this.ds.yE(q);this.Bn[this.ae()].yE(q);this.$r=null;};l.prototype.cI=function(q,u){this.ds.cI(q,u);this.Bn[this.ae()].cI(q,u);};l.prototype.rA=function(q){this.ds.rA(q);this.Bn[this.ae()].rA(q);};l.prototype.qA=function(q){this.ds.qA(q);this.Bn[this.ae()].qA(q);};l.prototype.TJ=function(q){this.ds.TJ(q);this.Bn[this.ae()].TJ(q);};l.prototype.fail=function(q){this.$r=q;};l.prototype.get=function(){var q,u;if(!d.Zb(this.$r)){if((m.time.Ga() - this.$r) / 1E3 < this.Y.wnb)return {confidence:g.rl.HAVE_NOTHING,Hs:!0};this.$r=null;}q=this.Bn[this.ae()].get();u=this.ds.get();q=q.confidence >= u.confidence?q:u;q.Hs=!1;return q;};l.prototype.time=function(){return this.ds.time();};k.prototype.jOa=function(q,u){var t;t=this.Y;q=f(this.BQ,q,{});return f(q,u,new l(t.wOa || 14400,t.vOa || 100,t.uOa || 100,t.ePa || 4,t));};k.prototype.dob=function(){var q,u;q=m.storage.get("lh");u=m.storage.get("gh");q && this.Ipb(q);u && this.Hpb(u);};k.prototype.Inb=function(){var q;q={};d.Fs(this.BQ,function(u,t){d.Fs(u,function(w,v){f(q,t,{})[v]=w.getState();},this);},this);return q;};k.prototype.Hpb=function(q){this.WD.Eg(q);};k.prototype.Ipb=function(q){var u,t;u=null;t=this.Y;d.Fs(q,function(w,v){d.Fs(w,function(y,x){var z;z=new l(t.wOa || 14400,t.vOa || 100,t.uOa || 100,t.ePa || 4,t);z.Eg(y)?(f(this.BQ,v,{})[x]=z,u=!0):d.Zb(u) && (u=!1);},this);},this);};k.prototype.save=function(){var q;q=this.Inb();m.storage.set("lh",q);m.storage.set("gh",this.WD.getState());this.SPa && this.SPa.tva(this.WD.getState());};k.prototype.BDb=function(){this.BQ={};this.pJ=this.TNa="";this.Yj=null;};k.prototype.N9=function(q){this.TNa=q;this.Yj=null;};k.prototype.M9=function(q){this.pJ=q;this.Yj=null;};k.prototype.VD=function(){d.Zb(this.Yj) && (this.Yj=this.jOa(this.TNa,this.pJ));return this.Yj;};k.prototype.xE=function(q,u){this.VD().xE(q,u);this.WD.xE(q,u);};k.prototype.vE=function(q){this.VD().vE(q);this.WD.vE(q);};k.prototype.yE=function(q){this.VD().yE(q);this.WD.yE(q);};k.prototype.cI=function(q,u){q && q.Cp && q.dn && q.Dp && (this.VD().cI(q,u),this.WD.cI(q,u));};k.prototype.rA=function(q){this.VD().rA(q);};k.prototype.qA=function(q){this.VD().qA(q);};k.prototype.TJ=function(q){this.VD().TJ(q);};k.prototype.fail=function(q,u){this.jOa(q,this.pJ).fail(u);};k.prototype.get=function(q,u){var t,w,v,y;q=(q=this.BQ[q])?q[this.pJ]:null;t=null;if(q && (t=q.get(),t.confidence > g.rl.HAVE_NOTHING))return t;if(!1 === u)return p;w=t=null;v=!1;y=null;d.Fs(this.BQ,function(x){d.Fs(x,function(z,A){var B;if(!v || A == this.pJ){B=z.get();B && (!w || w <= B.confidence) && (!y || w < B.confidence || y < z.time()) && (w=B.confidence,v=A == this.pJ,y=z.time(),t=B);}},this);},this);return t?t:p;};r.exports=k;},40275:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);c=r.__importStar(a(67841));l=r.__importDefault(a(29736));new l.default.Console("ASEJS_LOCATION_HISTORY","media|asejs");a=(function(){function f(k){this.config=k;this.load();}f.prototype.save=function(){var k;k=this.getState();l.default.storage.set("nh",k);};f.prototype.u1a=function(k,d){this.rwa && (d > this.bN && (this.HH+=d - this.bN,this.bN=d),-1 === this.t6 || k > this.t6) && (k=d - k,this.HL.push([this.HH - k,k]),this.trim(),this.t6=d);};f.prototype.trim=function(){var k;k=this.HH - this.config.JRb;this.HL=this.HL.filter(function(d){return d[0] > k;});};f.prototype.load=function(){var k;k=l.default.storage.get("nh");this.Eg(k) || (this.bN=l.default.time.Ga(),this.HH=0,this.rwa=!1,this.t6=-1,this.HL=[]);};f.prototype.Eg=function(k){if(!(k && c.has(k,"t") && c.has(k,"s") && c.has(k,"i") && c.tb(k.t) && c.tb(k.s) && c.isArray(k.i)))return !1;this.bN=l.default.time.pra(1E3 * k.t);this.HH=1E3 * k.s;this.rwa=!1;this.HL=k.i.map(function(d){return [1E3 * d[0],d[1]];});this.t6=-1;return !0;};f.prototype.getState=function(){return this.rwa?{t:l.default.time.now() / 1E3 | 0,s:(this.HH + (l.default.time.Ga() - this.bN)) / 1E3 | 0,i:this.HL.map(function(k){return [k[0] / 1E3 | 0,k[1]];})}:{t:l.default.time.Qqa(this.bN) / 1E3 | 0,s:this.HH / 1E3 | 0,i:this.HL.map(function(k){return [k[0] / 1E3 | 0,k[1]];})};};return f;})();b["default"]=a;},73764:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);l=c.__importStar(a(67841));r=a(28075);f=c.__importDefault(a(24068));k=c.__importDefault(a(32364));d=a(42016);g=a(2838);m=a(8528);h=a(93950);n=a(29736)["default"];p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(u){function t(w,v,y){var x;x=u.call(this) || this;x.Uo={};x.RQ=0;x.bA=0;x.fQ=[];x.wf=0;x.lbc=!1;x.Y=y;x.aOa=new k.default(y);x.wQ=new m.Dba(!0);x.eQ=new m.Dba(!1);y.TCb && (x.EJ=new h.kIa(x.Y));x.reset();x.VOa=w;x.Yj=v;x.xOa=n.io.name();x.Yj.M9(x.xOa);n.events.on("networkchange",x.kTb.bind(x));return q=x;}c.__extends(t,u);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.kTb=function(w){this.xOa=w;this.Yj.M9(w);};Object.defineProperties(t.prototype,{yp:{get:function(){return this.Yj;},enumerable:!1,configurable:!0}});t.prototype.ldb=function(){var w;if(!this.oga){w=this.D_a();this.Yj.xE(w.default.Da,this.confidence);w["initial-throughput-ewma"] && w["initial-throughput-ewma"].Da && this.Yj.vE(w["initial-throughput-ewma"].Da);w["throughput-ci"] && this.Yj.yE(w["throughput-ci"]);w.deliverytime && this.Yj.TJ(w.deliverytime);this.Yj.cI(w.BB?w.BB.wsa:void 0,w.BB?w.BB.FZb:void 0);l.Zb(this.Fc) || (this.oga=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.Uo.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{bk:{get:function(){return this.dJ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{yqb:{get:function(){return this.fQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cOb:{get:function(){return this.AOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.aE;},enumerable:!1,configurable:!0}});t.prototype.cnb=function(){var w,v,y,x;w=this.Y;v=w.nnb.concat(w.unb);y=w.ifa;x=this.aOa;v=v.reduce(function(z,A){z[A]=x.create(A,y);return z;},{});v.confidence=new g.ida(w,new d.rHa(w,this.V7.bind(this)));return v;};t.prototype.reset=function(){var w,v,y,x;w=this.Y.ifa;v=this.aOa;y=this.Y;this.aE=null;this.Uo=this.cnb();if(this.Y.JWa){x=this.Y.fcb;this.Uo.p3b=new f.default(x.numB * x.bSizeMs,x.bSizeMs);}this.wQ.reset();this.eQ.reset();this.gx=v.create("respconn-ewma",w);this.Yw=v.create("respconn-ewma",w);this.EJ && this.EJ.reset();this.Zpb=this.ldb.bind(this);this.u1=void 0;this.Zw=this.Fc=this.qg=null;this.r1=0;y.F9a && (this.bA=this.RQ=this.dJ=0,this.fQ=[]);};t.prototype.N9=function(w){var v;v=this.Uo;if(w !== this.aE){l.ii(this.u1) || (clearInterval(this.u1),this.u1=void 0);l.Zb(this.aE) && (this.r1=0,this.qg=null);if(!l.Zb(w)){for(var y in v){v[y] && v[y].reset && v[y].reset();}this.gx.reset();this.Yw.reset();}l.Zb(this.qg) || (this.r1+=(l.Zb(this.Fc)?n.time.Ga():this.Fc) - this.qg);this.Fc=this.qg=null;this.aE=w;this.Yj.N9(w);}};t.prototype.M9=function(w){this.Yj.M9(w);};t.prototype.SJ=function(w,v,y,x){var z,A;this.AOa=Math.max(this.AOa || 0,y);this.bA-=w;z=this.Y;A=this.Uo;if(!0 === x.xO)(x=A["throughput-wssl"]) && x.add(w,v,y,!0);else if(l.ii(v))p.warn("addDataReceived called with undefined start time");else {this.EJ && this.EJ.SJ(w,v,y,x);z.tnb && 10 > y - v?v=y - 10:0 === y - v && (v=y - 1);this.wQ.SJ(w,v,y,x);this.eQ.SJ(w,v,y,x);for(var B in A){A[B] && A[B].add && A[B].add(w,v,y,x);}l.Zb(this.qg) && (this.qg=v,this.Fc=null,this.oga=!1);l.Zb(this.Fc) || (v > this.Fc && (this.qg+=v - this.Fc),this.Fc=null,this.oga=!1);l.Zb(this.Zw) || (v - this.Zw > z.WOa?this.VOa.u1a(this.Zw,v):y - v > z.WOa && this.VOa.u1a(v,y));this.Zw=this.Zw?Math.max(y,this.Zw):y;}};t.prototype.rA=function(w){this.gx.add(w);this.Yj.rA(w);};t.prototype.qA=function(w){this.Yw.add(w);this.Yj.qA(w);};t.prototype.start=function(w,v){var y;l.Zb(this.Zw) && !l.Zb(this.Fc) && (this.Zw=w);y=this.Uo;if(this.Y.ewa)for(var x in y){y[x] && y[x].start && y[x].start(w,v);}};t.prototype.stop=function(w,v){var y,x;y=this.Uo;for(x in y){y[x] && y[x].stop && y[x].stop(w,v);}this.Fc=l.Zb(this.Fc)?w:Math.min(this.Fc,w);this.Zw=null;};t.prototype.flush=function(){var w,v;w=this.Uo;for(v in w){w[v] && w[v].flush && w[v].flush();}};t.prototype.uHb=function(){var w,v;w=this.Uo.Xcc;if(w){v=w.vub();w.reset();}return v;};t.prototype.D_a=function(){var w,v,y,x,z,A,B,D;w=n.time.Ga();v=this.Uo;y=this.Y;x=y.hnb;z=y.inb;A=y.Dpb;B={};for(D in v){v[D] && v[D].get && (B[D]=v[D].get(w,this.bA),"iqr" === v[D].type && (B.BB=B[D]),"tdigest" === v[D].type && (B.ah=B[D]),"wssl" === v[D].type && (B.xO=B[D]));}B.cdnavtp=this.wQ.Vm();B.activecdnavtp=this.eQ.Vm();B.default=x && B[x] && z && void 0 !== B[x][z]?{Da:B[x][z]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.$ua && "none" !== A && (B.m$a=A && B[A]?B[A]:B["throughput-sw"]);return B;};t.prototype.Qma=function(){return this.EJ?this.EJ.Qma():void 0;};t.prototype.get=function(){var w,v,y,x,z,A;w=this.D_a();v=w.default;y=this.gx.get();x=this.Yw.get();z=this.Y;if(w.m$a){A=w.m$a;v=l.tb(v.Da) && l.tb(A.Da) && v.Da > A.Da && 0 < A.Da?A:v;}w.qb=v;w.UT=w["initial-throughput-ewma"];!z.eDb || !v || l.Zb(v.Da) || isNaN(v.Da) || !w.xO || l.Zb(w.xO.Da) || isNaN(w.xO.Da) || ("max" === z.Ieb?w.qb.Da=Math.max(w.xO.Da,v.Da):"sum" === z.Ieb && (w.qb.Da+=w.xO.Da));w.cl=y;w.y5=x;this.Y.JWa && (v=this.Y.fcb,w.Ugc=this.Uo.p3b.get(v.fillS,v.fillHl));v=this.r1 + (l.Zb(this.qg)?0:(l.Zb(this.Fc)?n.time.Ga():this.Fc) - this.qg);w.time=v;return w;};t.prototype.PJb=function(){var w,v,y;w={};v=this.get();if(v.confidence && v["throughput-ewma"]){w.aseavtp=Number(v["throughput-ewma"].Da).toFixed(2);w.asevartp=Number(v["throughput-ewma"].Zd).toFixed(2);if(v.BB){y=v.BB.wsa;!y || void 0 === y.Dp || void 0 === y.Cp || void 0 === y.dn || isNaN(y.Dp || 0) || isNaN(y.Cp) || isNaN(y.dn) || (w.aseniqr=0 < y.dn?Number((y.Dp - y.Cp) / y.dn).toFixed(2):-1,w.aseiqr=Number(y.Dp - y.Cp).toFixed(2),w.asemedtp=Number(y.dn).toFixed(2));w.iqrsamples=v.BB.FZb;}v.ah && v.ah.mL && (w.tdigest=v.ah.mL());}return w;};t.prototype.Tv=function(w,v){var y,x,z;y=v.requestId;1 === ++this.dJ && this.emit("active",w);if(this.Y.rWa){x=this.Uo;for(z in x){x[z] && x[z].Tv && x[z].Tv(w,v);}}this.Y.g$ && this.start(w,v);y && (this.Y.g$ || this.start(w,v),this.fQ.push(y));this.bA+=v.Ba || 0;this.wQ.Tv(w,v);this.eQ.Tv(w,v);};t.prototype.RYb=function(){++this.RQ;};t.prototype.Vv=function(w,v,y){var x,z,A;x=y.requestId;v && --this.RQ;--this.dJ;this.bA=Math.max((this.bA || 0) - ((y.Ba || 0) - (y.bytesReceived || 0)),0);this.Y.F9a && (this.dJ=Math.max(this.dJ,0),this.RQ=Math.max(this.RQ,0));if(this.Y.rWa){z=this.Uo;for(A in z){z[A] && z[A].Vv && z[A].Vv(w,v,y);}}this.Y.g$ && this.stop(w,y);0 === this.dJ && (this.Y.g$ || this.stop(w,y),this.emit("inactive",w));x && (v=this.fQ.indexOf(x),0 <= v && this.fQ.splice(v,1));this.wQ.Vv(w,y);this.eQ.Vv(w,y);};t.prototype.V7=function(){this.ldb();this.u1=setInterval(this.Zpb,this.Y.eob);};return t;})(r.EventEmitter);b["default"]=a;},68735:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.xHa=b.hg=void 0;r=a(70655);c=a(28075);l=r.__importDefault(a(29736));f=a(44724);k=a(8628);d=a(47571);g=r.__importDefault(a(73764));(function(h){h[h.$t=0]="CREATED";h[h.OPENED=1]="OPENED";h[h.CO=2]="ACTIVE";h[h.ij=3]="RECEIVING";h[h.zk=4]="COMPLETE";h[h.Zp=5]="ABORTED";})(m=b.hg || (b.hg={}));a=(function(){function h(n,p,q,u,t,w,v,y,x,z){this.stream=n;this.Xf=p;this.properties=t;this.listener=v;this.config=x;this.console=z;this.OD=0;this.rOa=!1;this.Sa=m.$t;this.request=new l.default.gq(q,u,this.iJb(t,y));this.offset=w.offset;this.mc=w.Ba;this.id=this.LHb();this.Bab=t.NW;this.kH=t.kH;this.Et=t.Et;this.responseType=void 0 === t.responseType?l.default.gq.Jf && !l.default.gq.Jf.yua.aea?0:1:t.responseType;this.Sk=this.Asb();this.mediaType === d.v.Ya || !x.Hga && t.Me || (this.Ic=g.default.instance());}Object.defineProperties(h.prototype,{url:{get:function(){return this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ba:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.OD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Jna:{get:function(){return this.rOa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Mh:{get:function(){return this.request.Mh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Nf:{get:function(){return this.request.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fv:{get:function(){return this.request.fv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ph:{get:function(){return this.request.Ph;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{BK:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{f8:{get:function(){return this.Sa >= m.OPENED && this.Sa < m.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Sa >= m.CO && this.Sa < m.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Lta:{get:function(){return this.Sa === m.ij;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Sa === m.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.Sa === m.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});h.prototype.open=function(){if(this.Sa !== m.$t || !this.request.open(this.Xf,{start:this.offset,end:this.offset + this.mc - 1},this.responseType,{},void 0,void 0,this.Bab,this.stream.nr,this.stream.ia?this.stream.pa.vU.MK:void 0))return !1;this.Sa=m.OPENED;return !0;};h.prototype.LH=function(n){this.Xf=n;return this.state >= m.OPENED && this.state < m.zk?this.request.LH(n):!0;};h.prototype.abort=function(){var n,p,q;if(this.aborted)return !0;p=this.f8;q=this.active;q && (null === (n=this.Ic) || void 0 === n?void 0:n.Vv(l.default.time.Ga(),this.Lta,this.uT()));this.Sa=m.Zp;this.request.abort();this.listener.zM(this,q,p);return !0;};h.prototype.de=function(){var n;7 !== this.request.readyState && 5 !== this.request.readyState && this.abort();null === (n=this.Sk) || void 0 === n?void 0:n.clear();this.request.de();};h.prototype.getResponseHeader=function(n,p){return this.request.getResponseHeader(n,p);};h.prototype.getAllResponseHeaders=function(n){return this.request.getAllResponseHeaders(n);};h.prototype.VGb=function(){var n,p;n=this.getResponseHeader("content-range",!1);if(n){p=n.indexOf("/");(0,f.assert)(-1 !== p,"unable to parse content-range: " + n);p=n.slice(p + 1);p=parseInt(p);(0,f.assert)(0 < p,"unable to parse content-range: " + n);return p;}};h.prototype.Ny=function(){this.request.Ny();};h.prototype.Si=function(){return this.request.Si();};h.prototype.uM=function(){var n,p;if(this.Sa === m.OPENED){this.Sa=m.CO;p=this.request.Mh || this.request.loadTime;k.XC.instance().push(l.default.time.Ga() - p);!this.config.Y3a && (null === (n=this.Ic) || void 0 === n?void 0:n.Tv(p,this.uT()));this.listener.KG(this);this.timestamp=p;}};h.prototype.W7=function(){var n,p,q,u;if(!(this.Sa >= m.ij)){this.Sa=m.ij;u=this.request.Mh || this.request.Ala;k.XC.instance().push(l.default.time.Ga() - u);this.config.Y3a && (null === (n=this.Ic) || void 0 === n?void 0:n.Tv(u,this.uT()));null === (p=this.Ic) || void 0 === p?void 0:p.RYb();n=this.request.sW;this.request.connect && n.length && (null === (q=this.Ic) || void 0 === q?void 0:q.rA(n[0]));this.timestamp=u;this.listener.JG(this);0 === this.mc && this.d5b(this.request.ro);this.MWb();}};h.prototype.IG=function(){var n;if(!(this.Sa > m.ij)){this.Sa=m.ij;n=this.request.Mh;k.XC.instance().push(l.default.time.Ga() - n);n=this.zra(!0);this.listener.LG(this,n);}};h.prototype.GG=function(){var n,p,q;if(!this.aborted){p=this.request.Mh;k.XC.instance().push(l.default.time.Ga() - p);q=this.zra(!0);null === (n=this.Ic) || void 0 === n?void 0:n.Vv(p,this.Lta,this.uT());this.Sa=m.zk;this.listener.Bp(this,q);this.de();}};h.prototype.XSb=function(){this.listener.Wra(this);};h.prototype.Zm=function(){var n;if(!this.complete && !this.aborted && "number" === typeof this.request.Nf){n=this.request.Mh;k.XC.instance().push(l.default.time.Ga() - n);this.zra(this.config.dua && void 0 === this.request.status);this.listener.vV(this);}};h.prototype.zra=function(n){var p,q,u,t;p=this;u=this.request.Mh;t=this.request.bytesReceived - this.OD;n && this.Ic && (void 0 !== this.timestamp && 0 < t && this.Ic.SJ(t,this.timestamp,u,this.uT()),null === (q=this.request.sW) || void 0 === q?void 0:q.forEach(function(w){return p.Ic.qA(w);}));this.timestamp=u;this.OD=this.request.bytesReceived;return t;};h.prototype.d5b=function(n){var p;p=this.mc;this.mc=n;this.listener.AM(this,this.mc,p);};h.prototype.MWb=function(){var n;if(this.stream.ia){n=this.request.getResponseHeader("X-TCP-Info",!0);this.rOa=this.stream.sUb(n);}else this.request.getAllResponseHeaders(!0);};h.prototype.uT=function(){return {requestId:this.id,vj:this.stream.$b,type:this.mediaType,kH:this.kH,Ba:this.mc,bytesReceived:this.request.bytesReceived,Et:this.Et};};h.prototype.LHb=function(){var n;n=(n=this.stream)?n.toString():this.url;this.mc && (n+=",range " + this.offset + "-" + (this.offset + this.mc - 1));return n;};h.prototype.Asb=function(){var n,p,q;n=this;p=new c.Re();q=l.default.gq.Bk;p.on(this.request,q.HHa,function(){return n.uM();});p.on(this.request,q.GHa,function(){return n.W7();});p.on(this.request,q.IHa,function(){return n.IG();});p.on(this.request,q.KP,function(){return n.GG();});p.on(this.request,q.D$b,function(){return n.XSb();});p.on(this.request,q.Hz,function(){return n.Zm();});return p;};h.prototype.iJb=function(n,p){return {mediaType:this.mediaType,Tb:this.stream.Tb,bitrate:this.stream.bitrate,Pc:this.stream.$b,Zs:!n.Me,I:p.id,config:this.config};};h.prototype.toString=function(){return this.request.Si() + " " + this.id;};h.prototype.toJSON=function(){return {requestId:this.request.Si(),id:this.id};};return h;})();b.xHa=a;},93950:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kIa=void 0;r=a(70655);c=a(47571);l=r.__importDefault(a(8533));a=(function(){var t3H;t3H=2;for(;t3H !== 3;){switch(t3H){case 2:f.prototype.reset=function(){var j1c;j1c=2;for(;j1c !== 4;){switch(j1c){case 2:this.oW=[0,0];this.ro=[0,0];this.yV=[0,0];j1c=4;break;}}};f.prototype.SJ=function(k,d,g,m){var N5J,h,n;N5J=2;for(;N5J !== 8;){switch(N5J){case 2:this.ro[m.type]+=k;N5J=5;break;case 5:N5J=(null === (h=m.kH) || void 0 === h?0:h.c6())?4:3;break;case 4:(this.oW[m.type]+=k,this.L6a.add(k,d,g),this.csa[m.type].add(k,d,g));N5J=3;break;case 3:N5J=(null === (n=m.kH) || void 0 === n?0:n.hqa(k,d,g,this.zV))?9:8;break;case 9:this.yV[m.type]+=k;N5J=8;break;}}};f.prototype.Qma=function(){var N$1;N$1=2;for(;N$1 !== 1;){switch(N$1){case 2:return {bytesRequestedPacingVideo:this.oW[c.v.X],bytesRequestedPacingAudio:this.oW[c.v.fa],estimatedBytesPacedVideo:this.yV[c.v.X],estimatedBytesPacedAudio:this.yV[c.v.fa],bytestotalVideo:this.ro[c.v.X],bytestotalAudio:this.ro[c.v.fa],pacedAvtpVideo:this.csa[c.v.X].get().Da,pacedAvtpAudio:this.csa[c.v.fa].get().Da,pacedAvtp:this.L6a.get().Da};break;}}};return f;break;}}function f(k){var a5R;a5R=2;for(;a5R !== 7;){switch(a5R){case 2:var B_B="1SIYbZrN";B_B+="JCp";B_B+="9";this.oW=[0,0];this.ro=[0,0];this.yV=[0,0];B_B;a5R=3;break;case 3:this.zV=k.zV;this.csa=[new l.default(),new l.default()];this.L6a=new l.default();a5R=7;break;}}}})();b.kIa=a;},45041:function(r,b,a){var l,f;function c(k){this.Y={NU:k.maxc || 25,eja:k.c || .5,AXb:k.rc || "none",TF:k.hl || 7200};this.WQ();this.tpb=this.Y.AXb;this.AQ=this.Y.TF;this.Iea=Math.exp(Math.log(2) / this.AQ);this.Iea=Math.max(this.Iea,1);this.s0=1;}l=a(67841);f=a(14378).TDigest;new (a(29736)["default"].Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var k;if(0 === this.We.size())return null;k=this.We.ri([.25,.75]);if(k[0] === k[1])return null;this.We.size() > this.Y.NU && this.We.Cx();k=this.We.yr(!1).reduce((function(d,g){l.tb(g.Pf) && l.tb(g.n) && d.push({mean:g.Pf,n:g.n / this.s0});return d;}).bind(this),[]);return {tdigest:JSON.stringify(k)};};c.prototype.Eg=function(k){var d;if(l.Zb(k) || !l.has(k,"tdigest") || !l.yg(k.tdigest))return !1;try{d=JSON.parse(k.tdigest);}catch(g){return !1;}d.forEach(function(g){l.isFinite(g.n) || (g.n=1);});k=d.map(function(g){return {Pf:g.mean,n:g.n};});this.s0=1;this.We.zta(k);void 0 === this.We.ri(0) && this.WQ();};c.prototype.get=function(){var k,d;k=this.We;d=k.ri([0,.1,.25,.5,.75,.9,1]);return {min:d[0],$ra:d[1],Cp:d[2],dn:d[3],Dp:d[4],bsa:d[5],max:d[6],sj:k.yr(!1)};};c.LIb=function(k){var d;d=new c({});l.Zb(k) || l.ii(k) || !l.isArray(k.sj) || (d.We.zta(k.sj),void 0 === d.We.ri(0) && d.WQ());k=d.We.ri([.25,.75]);return k[0] === k[1]?null:function(g){return d.We.ri(g);};};c.prototype.add=function(k){var d;d=1;"ewma" === this.tpb && (this.s0=d=this.s0 * this.Iea);this.We.push(k,d);};c.prototype.toString=function(){return "TDigestHist(" + this.We.summary() + ")";};c.prototype.WQ=function(){this.We=new f(this.Y.eja,this.Y.NU);};r.exports={rMa:c};},31925:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.V_=void 0;c=a(44724);b.V_=(function(){function f(k,d,g){g.nF && (l=new (a(51530).YLa)(k,d));}f.instance=function(){(0,c.assert)(l,"expected StaticMediaProvider to exist");return l;};return f;})();},58260:function(r,b,a){var f,k,d,g;function c(m,h,n,p,q){var u,t;n=null !== (u=h.af) && void 0 !== u?u:h.track.Js(m,n.G,void 0,q);m=null !== (t=h.nf) && void 0 !== t?t:h.track.WK(m,null === p || void 0 === p?void 0:p.G,h.el);return [!h.Ug(),n,m];}function l(m,h){var D,C;for(var n=[],p=0,q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],w=h.nf.index,v=h.track.so,y=0,x=h.af.La,z=h.af.ab.G > q[0],A=z,B=h.af.index;B <= w;++B){D=!1;if(q){C=v.get(B);z && (C.La.G >= t?(z=!1,++p >= m.length?t=u=q=void 0:(q=m[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):A?A=!1:(n.push(new g.J_(y,x,C.La)),x=C.La,D=!0));!z && q && C.ab.G > u && (z=!0,D=C.La,(C=h.track.ZF.Qn(B).GXa(u)) && 0 !== C.Jj && (D=k.N.Ma(C.xe)),n.push(new g.J_(y,x,D)),x=D,D=!0);}D && ++y;}n.push(new g.J_(y,x,h.nf.ab));return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.UPb=b.X3a=b.J5a=b.G5a=b.$ta=void 0;f=a(70655);k=a(94160);d=a(47571);g=a(54531);b.$ta=function(m,h,n){var p,q,u;u=h.get(d.v.fa);h=h.get(d.v.X);h=null === h || void 0 === h?void 0:h.track.WK(m,null === n || void 0 === n?void 0:n.G,h.el);return [null === u || void 0 === u?void 0:u.track.WK(m,null !== (q=null === (p=null === h || void 0 === h?void 0:h.ab) || void 0 === p?void 0:p.G) && void 0 !== q?q:null === n || void 0 === n?void 0:n.G,u.el),h];};b.G5a=function(m,h,n,p,q){var u,t,w,v;u=h.get(d.v.fa);h=h.get(d.v.X);t=f.__read(h?c(m,h,n,p,q):[!1],3);w=t[0];v=t[1];t=t[2];p=f.__read(u?c(m,u,w && void 0 !== (null === v || void 0 === v?void 0:v.La)?v.La:n,void 0 !== (null === t || void 0 === t?void 0:t.ab)?t.ab:p,q):[!1],3);m=p[0];n=p[1];p=p[2];m && (null === u || void 0 === u?void 0:u.O5(n,p));w && (null === h || void 0 === h?void 0:h.O5(v,t));return [m,w];};b.J5a=function(m,h,n){return h.track.Js(m,n.G,void 0,!0).La;};b.X3a=function(m,h,n){var p;p=h.u;if(!p.Fq || 0 === p.Fq.length)return [];m=p.Fq.map(function(q){return [p.sa + q[0],p.sa + q[1]];});return l(m,n.fta);};b.UPb=l;},81581:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jJa=void 0;c=a(70655);l=a(47571);f=a(58260);k=a(44724);r=(function(){function d(g){var m,h,n,p,q,u,t;m=g.console;h=g.config;n=g.pa;p=g.iC;q=g.u;u=g.La;t=g.ab;g=g.splice;this.ST=this.kK=!1;this.console=m;this.config=h;this.iC=p;this.pa=n;this.u=q;this.La=u;this.ab=t;this.splice=g;this.WLb();}d.prototype.va=function(g){if(this.kK)throw Error("Cannot call init() after cleanup");if(this.ST)throw Error("Cannot call init() twice");this.ST=!0;this.i6a=g;this.pa.events.addListener("onHeaderFragments",this.RSa);this.bha() && this.hra();};d.prototype.normalize=function(){if(this.kK)throw Error("Cannot call normalize() after cleanup");if(this.ST)throw Error("Cannot call init() / normalize() twice");this.ST=!0;(0,k.assert)(this.bha());return this.hra();};d.prototype.hN=function(g,m){(0,k.assert)(this.ST,"expected to be called init() before renormalize");this.u=g;this.ab=m;g=(0,f.$ta)(this.config,this.iC,this.ab);this.I5a();return g;};d.prototype.de=function(){this.kK || (this.kK=!0,this.i6a=void 0,this.pa.events.removeListener("onHeaderFragments",this.RSa));};d.prototype.WLb=function(){var g;g=this;this.RSa=function(){g.kK || g.bha() && g.hra();};};d.prototype.hra=function(){var g,m,h;if(this.kK)return {mS:!1,QA:!1};m=this.ZRb();h=!1;this.u && !this.u.Ap && (h=this.I5a());null === (g=this.i6a) || void 0 === g?void 0:g.call(this,m,h);this.de();return {mS:m,QA:h};};d.prototype.bha=function(){return this.iC.every(function(g){return g.track.gk;});};d.prototype.ZRb=function(){var g,m;g=c.__read((0,f.G5a)(this.config,this.iC,this.La,this.ab,this.splice),2);m=g[0];return g[1] || void 0 === this.iC.get(l.v.X) && m;};d.prototype.I5a=function(){var g,m,h;(0,k.assert)(this.u,"missing segment");g=this.iC.fta;m=(0,f.J5a)(this.config,g,this.u.Ud);if(void 0 === m || void 0 === g.ab)return !1;g=g.ab;h=this.config.Cxa && "lazy" === this.u.Xd?(0,f.X3a)(this.console,this.u,this.iC):[];this.u.normalize(m,g,h);return !0;};return d;})();b.jJa=r;},29736:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b["default"]={boa:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},42324:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zda=void 0;c=a(70655);r=(function(l){function f(k,d){k=l.call(this,k) || this;k.Rka=d;k.name="PlaybackError";return k;}c.__extends(f,l);f.mNb=function(k){return k && k.message && k.stack && k.Rka?"PlaybackError" === (null === k || void 0 === k?void 0:k.name):!1;};return f;})(Error);b.zda=r;},19821:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Faa=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(94160);d=a(74005);g=a(44724);m=a(50971);r=a(43221);h=a(32922);n=a(28035);p=a(30694);q=a(71843);u=a(53800);t=a(53915);w=r.Jv.Wja;a=(function(v){function y(x,z,A){var B;B=v.call(this) || this;B.Z=x;B.bg=z;B.oq=A;B.tS=[];B.De=void 0;B.xQ=new l.Re();B.Yz=void 0;B.cA=void 0;B.Gfa=void 0;B.xQ.on(B.Z,"underflow",B.uh.bind(B));B.nQ=new u.PJa(x);B.xQ.on(B.Z,"skipped",B.rV.bind(B));B.xQ.on(B.Z,"playing",B.Kra.bind(B));B.xQ.on(B.Z,"playbackEnding",B.Jra.bind(B));B.cx=new m.WP(B.nQ,B.V,"player");B.Txa=new d.ru();x.FSa && x.Sf && (B.Ry=new t.sLa(B,x,B.V));return B;}c.__extends(y,v);Object.defineProperties(y.prototype,{nl:{get:function(){var x;return null === (x=this.De) || void 0 === x?void 0:x.nl;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nC:{get:function(){var x;return (null === (x=this.De) || void 0 === x?void 0:x.nC) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Va:{get:function(){var x,z;return null !== (z=null === (x=this.De) || void 0 === x?void 0:x.op()) && void 0 !== z?z:[];},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{N2a:{get:function(){return this.Gfa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Aa:{get:function(){var x;return null === (x=this.De) || void 0 === x?void 0:x.Aa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{qa:{get:function(){return this.nQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{iRa:{get:function(){var x,z;return !!((null === (x=this.De) || void 0 === x?0:x.yH) && (null === (z=this.Sq) || void 0 === z?0:z.$h));},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yH:{get:function(){var x,z;return null !== (z=null === (x=this.De) || void 0 === x?void 0:x.yH) && void 0 !== z?z:!1;},enumerable:!1,configurable:!0}});y.prototype.Kra=function(x){var z;this.Gfa=this.Xk(null !== (z=x.xe) && void 0 !== z?z:this.Z.Fd);(0,g.assert)(this.Gfa,"Should have a location");};y.prototype.Jra=function(x){var z;if(this.Pd){x=this.Xk(x.xe || this.Z.Fd,!0);(0,g.assert)(x,"Playback ending at position outside playgraph");z=this.RF(x);(0,g.assert)(z,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:z,position:x});}else this.console.warn(("Unexpected playback ending event at ").concat(x.xe));};y.prototype.O$a=function(x){-1 === this.tS.indexOf(x) && this.tS.push(x);this.De && this.De.oV(x);this.events.emit("drmReady",{viewableId:x});};y.prototype.N$a=function(x){x=this.tS.indexOf(x);-1 !== x && this.tS.splice(x,1);};y.prototype.bU=function(x){var z;return -1 !== this.tS.indexOf(x) || !(null === (z=(0,k.Hc)(this.Va,function(A){return A.Tn && A.pa.J === x;})) || void 0 === z || !z.pa.Yu);};y.prototype.DC=function(x){var z;null === (z=this.De) || void 0 === z?void 0:z.DC(x);};y.prototype.reset=function(){var x,z;this.Txa=new d.ru();v.prototype.reset.call(this);this.cA=void 0;null === (x=this.De) || void 0 === x?void 0:x.reset();null === (z=this.Ry) || void 0 === z?void 0:z.reset();};y.prototype.tua=function(x){this.nN([x]);};y.prototype.nN=function(x){var z,A;z=this;x.forEach(function(B){var D;v.prototype.tua.call(z,B);null === (D=z.Ry) || void 0 === D?void 0:D.bZb(B);});null === (A=this.De) || void 0 === A?void 0:A.nN(x);};y.prototype.EA=function(){var x;null === (x=this.De) || void 0 === x?void 0:x.EA();};y.prototype.pause=function(x){this.FH(x);v.prototype.pause.call(this,null !== x && void 0 !== x?x:this.bg);};y.prototype.resume=function(x){var z;null === (z=this.De) || void 0 === z?void 0:z.resume(x);v.prototype.resume.call(this,null !== x && void 0 !== x?x:this.bg);};y.prototype.Pa=function(){this.Yz=this.s5()?this.Sn():void 0;this.De && this.eka(this.De.Aa);this.nQ.Pa();this.cx.Pa();this.xQ.clear();v.prototype.Pa.call(this);};y.prototype.CF=function(){var x,z;if(null === (x=this.De) || void 0 === x?0:x.rWb){x=this.Z.Fd;if(this.qa.hi){if(this.cA){if(this.cA.greaterThan(x))return (x=this.cA.wa(x),this.Txa.push(x.G),this.cA);if(this.Va.length){z=this.De.kOb;if(z && z.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Cc:{clockdrift:{type:"count"}}}),this.cA);}}this.cA=x;}return x;}return v.prototype.CF.call(this);};y.prototype.pL=function(){var x;x=this.Z.playbackRate;void 0 === x && (x=v.prototype.pL.call(this));return x;};y.prototype.s5=function(){return !!this.Yz || v.prototype.s5.call(this);};y.prototype.Sn=function(){return this.Yz?this.Yz:v.prototype.Sn.call(this);};y.prototype.HF=function(){var x;return null === (x=this.De) || void 0 === x?void 0:x.eOb;};y.prototype.eka=function(x){var z;(0,g.assert)(x === this.Aa);null === (z=this.De) || void 0 === z?void 0:z.Pa();this.De=void 0;};y.prototype.b2=function(x,z){var A,B;this.Yz=void 0;A=v.prototype.b2.call(this,x,z);if(A){B=new p.vza(x,this,this.V,x.config,this.oq,this.events,this.bg,this.cx,this.Ry,this.$z,this.Xz,this.mJ,null === z || void 0 === z?void 0:z.nl,null === z || void 0 === z?void 0:z.nC);null === z || void 0 === z?void 0:z.yM();this.De=B;this.FH(this.EM);this.Ry && (z=x.Sv.gJb(h.bea),z || (z=new h.bea(),x.Ye(z)),this.Ry.dYb(z));}return A;};y.prototype.yM=function(){var x;null === (x=this.De) || void 0 === x?void 0:x.yM();};y.prototype.Nka=function(){var A;for(var x=[],z=0;z < arguments.length;z++){x[z]=arguments[z];}A=this.De;(0,g.assert)(A);x.forEach(function(B){return A.qDb(B);});};y.prototype.Sva=function(){var x;null === (x=this.De) || void 0 === x?void 0:x.Sva();};y.prototype.ci=function(x){var z,A,B;if(!this.De)return !1;z=this.ZS(x);if(!z)return !1;A=z.u;B=f.N.Ma(this.oq.s7);return A.Mf.wa(B).lessThan(x) || !z.nK(x)?!1:this.De.ci(x);};y.prototype.uh=function(){var x,z,A;if(null === (x=this.Aa) || void 0 === x?0:x.zj)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {A=this.Md;(0,g.assert)(this.Aa);x=this.Xk(A,!0);(0,g.assert)(x);null === (z=this.De) || void 0 === z?void 0:z.uh();z=this.ZS(A);null === z || void 0 === z?void 0:z.pa.uh();this.Aa.uh(x);}};y.prototype.rV=function(){this.cA=void 0;};y.prototype.bma=function(){var x;return null === (x=this.De) || void 0 === x?void 0:x.bma();};y.prototype.FH=function(x){var z;null === (z=this.De) || void 0 === z?void 0:z.FH(x);};y.prototype.Wwa=function(x){(0,g.assert)(this.Aa && this.De);return v.prototype.Wwa.call(this,x);};y.prototype.N8=function(){(0,g.assert)(this.De);this.De.N8();};c.__decorate([w.return.Vha(),w.return.fm],y.prototype,"Sn",null);c.__decorate([w.return.Vha(),w.return.O7],y.prototype,"HF",null);return y=c.__decorate([n.xF],y);})(q.Eda);b.Faa=a;},30694:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.vza=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(94160);d=a(49252);g=c.__importDefault(a(29736));m=a(24705);h=a(47571);n=a(85147);p=a(74005);q=a(50971);u=a(44724);t=a(20571);w=a(44001);v=a(83674);r=(function(){function y(x,z,A,B,D,C,F,G,E,J,M,L,I,P){var K;K=this;this.Aa=x;this.Z=z;this.V=A;this.Y=B;this.oq=D;this.gb=C;this.bg=F;this.Gd=G;this.Ry=E;this.$z=J;this.Xz=M;this.mJ=L;this.l0=!1;this.dOa=new p.ILa();this.Qfa=this.SSb.bind(this);this.Sfa=this.vTb.bind(this);this.Vr=new m.UC(this.V);this.bR=I || new w.tea(this.V,x);this.szb(P);this.Vj && (this.jpb=this.$la(this.WIb()),this.nob=f.hq.yeb(this.Vj.map(function(H){return H.Yq;}),function(H){return H.every(function(N){return N;});},function(H){return K.$z.set(H);}),this.Mmb=new f.Wca(this.Vj.map(function(H){return H.q6;}),function(H){return f.N.min.apply(f.N,c.__spreadArray([],c.__read(H),!1));},function(H){K.Xz.set(H);},f.N.Ma(-Infinity)));this.Qo=G.Hx(function(){return K.Jtb();},"branchPruner");this.yn=new l.Re();this.yn.on(this.gb,"segmentPresenting",function(){return c.__awaiter(K,void 0,void 0,function(){var H;return c.__generator(this,function(N){switch(N.label){case 0:return (this.bob=this.Z.Sn(),null !== (H=this.Y.yRa) && void 0 !== H && H.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(N.Qa(),this.gb.emit("requestGarbageCollection",{time:g.default.time.Ga(),type:"requestGarbageCollection"}),N.label=2);case 2:return [2];}});});});}Object.defineProperties(y.prototype,{nl:{get:function(){return this.bR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nC:{get:function(){var x;x=new Map();this.Vj.forEach(function(z){x.set(z.mediaType,z.OM);});return x;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{eOb:{get:function(){return this.bob;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yH:{get:function(){return this.Vj.every(function(x){return x.yH;});},enumerable:!1,configurable:!0}});y.prototype.Jtb=function(){var x,z,A,B,D,C;return c.__generator(this,function(F){switch(F.label){case 0:if(!this.Vr.KTa)return [3,2];x=c.__read(this.Vr.uX(),1);z=x[0];A=z.u.P1a && (null === (C=this.oq.EN) || void 0 === C?void 0:C.G) || 0;B=z.y6 || z.Lb;D=B.add(f.N.Ma(A + 1E3));return [4,q.Pg.Tt(D)];case 1:return (F.Qa(),this.m8a(z),[3,0]);case 2:return [2];}});};Object.defineProperties(y.prototype,{rWb:{get:function(){var x;return !(null === (x=this.jpb) || void 0 === x || !x.Yq.value);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kOb:{get:function(){return this.l0?f.N.max.apply(f.N,c.__spreadArray([],c.__read(this.Vj.map(function(x){var z;return null === (z=x.Hsb) || void 0 === z?void 0:z.M2a;}).filter(k.I7)),!1)):void 0;},enumerable:!1,configurable:!0}});y.prototype.DC=function(x){this.Vj.forEach(function(z){z.DC(x);});};y.prototype.SSb=function(){var x;this.Qo.Sf();x=this.Vj.filter(function(z){return z.EMb;}).map(function(z){return z.mediaType;});this.FH(x);this.resume(x);};y.prototype.vTb=function(x){var z,A,B;x=x.yb;z=this.op();A=z.indexOf(x);if(-1 !== A && !z.slice(0,A).some(function(D){return !D.$h;})){B=x.Ll;B && B.greaterThan(this.mJ.value) && (x.$h && A < z.length - 1 && (B=f.N.max(B,z[A + 1].Ll || f.N.mRb)),this.mJ.set(B));}};y.prototype.qDb=function(x){(0,u.assert)(-1 === this.Vr.uX().indexOf(x),("Branch ").concat(x.u.id," is already in the collection, cannot re-queue"));x.events.on("branchEdited",this.Qfa);x.events.on("requestComplete",this.Sfa);x.Ll && this.op().every(function(z){return z.$h;}) && this.mJ.set(x.Ll);this.Vr.enqueue(x);this.Qo.state === q.Ek.complete && this.Qo.Sf();x.u.kX && this.Vr.pF();this.l0 || this.cFb(x);};y.prototype.oV=function(x){this.Vj.forEach(function(z){z.oV(x);});};y.prototype.reset=function(){this.Vj.forEach(function(x){x.reset();});this.l0=!1;this.dOa.removeAllListeners();this.EA();};y.prototype.tua=function(x){this.nN([x]);};y.prototype.nN=function(x){var z;z=this;x.forEach(function(A){A=z.$la(A);null === A || void 0 === A?void 0:A.reset(!1,x);});};y.prototype.EA=function(){var x;x=this;this.Vr.uX().forEach(function(z){z.events.ar("branchEdited",x.Qfa);z.events.ar("requestComplete",x.Sfa);});this.Vr.clear();this.Qo.Sf();};y.prototype.N8=function(){var x;x=this;this.Vr.uX().filter(function(z){return z.UJ;}).forEach(function(z){return x.m8a(z);});};y.prototype.resume=function(x){this.Vj.forEach(function(z){void 0 !== x && -1 === x.indexOf(z.mediaType) || z.resume();});};y.prototype.FH=function(x){this.Vj.forEach(function(z){return (void 0 === x || -1 !== x.indexOf(z.mediaType)) && z.stop();});};y.prototype.Sva=function(){this.Vj.forEach(function(x){return x.c1b();});};y.prototype.uh=function(){this.V.trace("attached-player: onUnderflow");};y.prototype.rJb=function(){return this.Vr.getIterator();};y.prototype.OHb=function(){return this.op()[0];};y.prototype.op=function(){return this.Vr.uX();};y.prototype.szb=function(x){var z,A,B;z=this;this.CJ("createMediaSourceStart");if(this.oq.Ima)A=this.oq.Ima();else (A=new g.default.MediaSource(this.Z.Z),A.Jf || (A.Jf=g.default.MediaSource.Jf));if(1 !== A.readyState)this.GJ("exception in init","NFErr_MC_StreamingInitFailure");else {this.CJ("createMediaSourceEnd");this.Ei=A;if(!A.Tga(this.bg))throw (this.V.trace("Error:",A.error),this.GJ("error creating source buffers","NFErr_MC_StreamingInitFailure"),A.error);B={};this.Aa.Ye(new t.IAa(B,this.Y));this.Vj=A.sourceBuffers.filter(function(D){return 0 <= z.bg.indexOf(D.mediaType);}).map(function(D){var C,F,G,E;F=new n.eAa(D.mediaType,A,D,z.Y,z.Z,z.Gd);F.addListener("error",function(J){return z.GJ(J.errorstr);});F.addListener("logdata",function(J){return z.gb.emit("logdata",J);});F.addListener("managerdebugevent",function(J){z.gb.emit("managerdebugevent",J);});G=null === x || void 0 === x?void 0:x.get(D.mediaType);E=new d.gza(F,D.mediaType,z,z.Y,z.V,z.Z,z.oq,z.Gd,z.nl,z.Ry,G);if(D.mediaType === h.v.X)E.on("drmNeeded",function(J){return z.gb.emit("drmNeeded",J);});G || (null === (C=E.OM) || void 0 === C?void 0:C.krb(new v.bba(B[D.mediaType]={},z.V,z.Z,F,z.Z.events,z.oq,z.Gd)));return E;});}};y.prototype.m8a=function(x){var z;(0,u.assert)(x.UJ,"Attempted to prune branch that has not been fully appended");this.Vr.remove(x);x.events.removeListener("branchEdited",this.Qfa);x.events.removeListener("requestComplete",this.Sfa);x.If("pruned");(null === (z=this.Y.yRa) || void 0 === z?0:z.branchPruned) && this.gb.emit("requestGarbageCollection",{time:g.default.time.Ga(),type:"requestGarbageCollection"});};y.prototype.Pa=function(){this.nob.clear();this.Mmb.clear();this.Vj.forEach(function(x){return x.Pa();});this.oq.Ima || this.Ei.Es();this.EA();this.Qo.Pa();this.yn.clear();};y.prototype.ci=function(x){return this.Vj.every(function(z){return z.ci(x);});};y.prototype.yM=function(){this.Vj.forEach(function(x){return x.uUa();});this.bR=new w.tea(this.V,this.Aa);};y.prototype.bma=function(){return {jXb:this.op(),gVb:this.Vj};};y.prototype.cFb=function(x){var z;z=this;this.l0=!0;x.Wd.forEach(function(A){var B;B=z.$la(A.mediaType);if(void 0 !== B)z.dOa.once(A.Ela,function(D){return B.eFb(D);});});if(x.La)this.pWa();else x.events.once("branchNormalized",function(){return z.pWa();});};y.prototype.pWa=function(){var x;x=this.OHb();x && ((0,u.assert)(x.Bb),this.gb.emit("ptsChanged",{initialTimestamp:x.Bb,forcedTimestamp:void 0}));};y.prototype.$la=function(x){return (0,k.Hc)(this.Vj,function(z){return z.mediaType === x;});};y.prototype.WIb=function(){return -1 !== this.bg.indexOf(h.v.X)?h.v.X:h.v.fa;};y.prototype.CJ=function(x){x={type:"startEvent",event:x,time:g.default.time.Ga()};this.gb.emit(x.type,x);};y.prototype.GJ=function(x,z){this.Aa.sf(x,void 0,z);};return y;})();b.vza=r;},83674:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.bba=void 0;c=a(70655);l=a(28075);f=a(44724);k=a(95994);d=0;r=(function(g){function m(h,n,p,q,u,t,w,v){n=g.call(this,("cdnList").concat(d++),n,p,q,u,t,w,"cdnList",v) || this;n.sg=h;n.va();return n;}c.__extends(m,g);m.prototype.va=function(){var h;h=this;this.MQ=new l.Re();this.MQ.on(this.xb.Z,"skipped",function(n){h.Fu && ((null === n || void 0 === n?0:n.nWb) && h.WR(n.nWb),h.Fu=void 0);});this.MQ.on(this.xb.Z,"paused",function(){h.Fu && h.xb.Pd && h.WR(h.xb.Md);});this.MQ.on(this.xb.Z,"underflow",function(){h.Fu && h.xb.Pd && h.WR(h.xb.Md);});};m.prototype.Uu=function(h,n,p){this.MQ.clear();g.prototype.Uu.call(this,h,n,p);this.va();};m.prototype.close=function(){k.K && this.console.trace("close");g.prototype.close.call(this);this.MQ.clear();};m.prototype.r1b=function(h,n){var p;p=this;this.Fu && this.WR(h);return this.AXa(n).map(function(q){return p.sg[q];});};m.prototype.a9a=function(h){var n;n=this;this.AXa(h).forEach(function(p){delete n.sg[p];});};m.prototype.AXa=function(h){var n;n=this;return Object.keys(this.sg).filter(function(p){return n.sg[p].O === ("").concat(h);});};m.prototype.Yq=function(h){var n,p,q;n=h.stream;p=h.Pc;q=h.Bb;h=h.Lb;(0,f.assert)(void 0 !== q);(0,f.assert)(void 0 !== h);k.K && this.console.trace(("Media appended ").concat(q.mb(),"-").concat(h.mb()));this.Lga({stream:n,Pc:p},q,h);};m.prototype.h6=function(h,n){return h.stream === n.stream && h.Pc === n.Pc;};m.prototype.EHb=function(h){var n,p;p=h.zr;h=p.Pc;p=null === (n=p.stream.pa.W.DA) || void 0 === n?void 0:n.Fp;return ("").concat(h,"::").concat(p);};m.prototype.Bka=function(h,n){k.K && this.console.trace(("Presenting event for ( ").concat(h.zr.stream.id,", ").concat(h.zr.Pc," )") + (" at ").concat(n.mb()));this.Fu?this.WR(n):this.pQ=n;this.Fu=h;};m.prototype.WR=function(h){var n,p,q,u,t,w,v,y,x;(0,f.assert)(this.Fu);if(null === (n=this.Ija) || void 0 === n?0:n.lessThan(h))h=this.Ija;t=this.Fu;n=this.sg;w=t.zr;v=w.stream;w=w.Pc;y=null === (p=v.HU) || void 0 === p?void 0:p.Mm;p=h.wa(this.pQ || t.timestamp).G;if(void 0 !== w && void 0 !== y){x=null === (q=v.pa.W.DA) || void 0 === q?void 0:q.Fp;q=v.track.O;t=this.EHb(t);n=(u=(n[t] || (n[t]={Fm:w,Fp:x,O:q,iF:{}})).iF)[y] || (u[y]={bitrate:v.bitrate,Vb:y,mediaType:v.mediaType,totalTime:0,zb:v.zb});n.totalTime=Math.max(n.totalTime + p,0);}this.pQ=h;};m.prototype.clone=function(h,n){n=void 0 === n?{}:n;h=new (n.Dgc || m)(h,this.LTb,this.xb,this.Q1,this.events,this.oq,this.Hd,n.priority);this.fwb(h);h.Fu=this.Fu;h.pQ=this.pQ;k.K && h.console.trace("Cloning",{ybc:h.kk.length});return h;};m.prototype.reset=function(){g.prototype.reset.call(this);this.pQ=void 0;};m.prototype.i6=function(h){return ("(").concat(h.stream.Tb,", ").concat(h.Pc,")");};return m;})(a(12192).y_);b.bba=r;},65015:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QCa=void 0;c=a(70655);l=a(95994);f=a(50971);r=(function(){function k(d,g,m){this.Hd=d;this.WQb=g;this.V=m;}Object.defineProperties(k.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});k.prototype.waitUntil=function(d){var g;d=(0,f.caa)(this.Hd,d,!0);g=d.promise;this.iqb=d.uk;return g;};k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m;return c.__generator(this,function(h){switch(h.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.Gla)return [3,2];m=g.Bb.wa(this.WQb);l.K && this.V.trace(("[").concat(g.mediaType,"] JIT: waiting until playertime >= ").concat(m.G),("to append next request ").concat(g.toString()));return [4,this.waitUntil(m)];case 1:(h.Qa(),l.K && this.V.trace(("[").concat(g.mediaType,"] JIT: now appending request ").concat(g.toString())),h.label=2);case 2:return [2,d];}});});};k.prototype.reset=function(){var d;null === (d=this.iqb) || void 0 === d?void 0:d.Pa();};return k;})();b.QCa=r;},75969:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.AFa=void 0;c=a(70655);l=a(86393);f=a(94160);r=(function(){function k(d){this.V=d;}Object.defineProperties(k.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m,h,n,p,q,u,t,w,v,y,x,z,A;return c.__generator(this,function(){d.done || (g=d.value.value,g.stream.ia && (m=g.mJb(),m instanceof ArrayBuffer && (h=new l.Co(this.V,g.stream,m,["moof"],!0,{msa:!0}),n=h.parse(),n.ot && (p=h.Rm("moof"),q=p.Rm("traf"),u=q.Rm("trun"),t=q.Rm("tfdt"),w=g.stream.Rn().G8,v=u.sd,y=t.GE,x=n.Ka.S,z=new f.N(y,x),A=this.pq?z.wa(this.pq.utb):void 0,this.V.trace(("Live Request Logger: processing request [").concat(g.mediaType,"]"),{baseMediaDecodeTime:y,timescale:x,baseMediaDecodeMs:z.G,ptsOffsetMs:w.G,mediaTimestampMs:z.wa(w).G,offsetFromPriorMs:null === A || void 0 === A?void 0:A.G,sampleCount:v,url:g.url}),this.pq={utb:z}))));return [2,d];});});};k.prototype.reset=function(){this.pq=void 0;};return k;})();b.AFa=r;},53915:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.sLa=void 0;c=a(70655);l=a(94160);f=a(28075);k=a(95994);d=a(47571);g=c.__importDefault(a(29736));m=a(74005);h=a(44724);r=(function(){function n(p,q,u){var t;t=this;this.xb=p;this.Z=q;this.pending=new Map();this.listeners=new f.Re();this.gra=!1;this.wKb=function(w){t.N9a(function(){k.K && t.V.debug("cancelling playback ending");w.cancel();});};this.N9a=function(w){var v,y,x,z,D,C,F;if(t.pending.size){k.K && t.V.trace("playback ending, restarting player");x={};z=(v={},v[d.v.fa]=void 0,v[d.v.X]=void 0,v[d.v.Ya]=void 0,v);try{for(var A=c.__values(t.pending.entries()),B=A.next();!B.done;B=A.next()){D=c.__read(B.value,2);C=D[0];F=D[1];x[C]=F.to.stream.Um();F.from.I && (z[C]=F.from.I);}}catch(E){var G;G={error:E};}finally{try{B && !B.done && (y=A.return) && y.call(A);}finally{if(G)throw G.error;}}null === w || void 0 === w?void 0:w();k.K && t.V.debug("Restarting player",x);t.Z.Sf(x,z).then(function(){var E,J;null === (E=t.$E) || void 0 === E?void 0:E.resolve();k.K && t.V.debug("Restart completed");null === (J=t.j$a) || void 0 === J?void 0:J.hrb();t.reset();});}};this.listeners.addListener(q,"playbackEnding",this.wKb);this.V=(0,m.Nh)(g.default,u,"SEAMLESSMANAGER");k.K && this.V.debug("construct");}n.prototype.Pa=function(){k.K && this.V.debug("destruct");this.pending.clear();this.listeners.clear();};n.prototype.dYb=function(p){this.j$a=p;};n.prototype.u6b=function(p){var q,u;0 === this.pending.size && ((0,h.assert)(void 0 === this.$E,"SeamlessManager: No pending transitions, but a wait is deferred"),this.$E=new l.yz());(0,h.assert)(this.$E,"SeamlessManager: deferred is undefined");(0,h.assert)(!this.pending.has(p.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + p.mediaType);this.pending.set(p.mediaType,p);k.K && this.V.trace(("got new transition [").concat(p.mediaType,"] --\x3e ").concat(p.to.stream.id));if(this.pending.size === this.xb.bg.length && !this.gra){u=this.rNb();if(u.E7a)return (k.K && this.V.trace(("seamless transition possible at ").concat(p.timestamp.mb())),this.$E.resolve(),this.reset(),Promise.resolve());k.K && this.V.trace(("starting non-seamless transition at ").concat(p.timestamp.mb()));null === (q=this.j$a) || void 0 === q?void 0:q.grb(u.info);if(!this.J1b())return (k.K && this.V.warn("Unable to perform a non-seamless transition here, allowing seamless"),this.$E.resolve(),this.reset(),Promise.resolve());}return this.$E.promise;};n.prototype.bZb=function(p){k.K && this.V.trace(("reset media [").concat(p,"]"));this.pending.delete(p);0 === this.pending.size && this.reset();};n.prototype.reset=function(){k.K && this.V.debug("resetting");this.gra=!1;this.$E=void 0;this.pending.clear();};n.prototype.rNb=function(){var p,q,u,v,y,x,z,A,B,D,C,F,G,E;try{for(var t=c.__values(this.pending.entries()),w=t.next();!w.done;w=t.next()){v=c.__read(w.value,2);y=v[0];x=v[1];if(x.from){z=x.from.stream;A=x.to.stream;if(z.track === A.track)k.K && this.V.debug("Seamless deemed possible due to same track",{mediaType:y});else {B=z.Um();D=A.Um();C=void 0;F=this.xb.Xk(x.timestamp);C=x.from.I && 0 > this.xb.q6.value.G?{I:x.from.I,offset:l.N.Ma(0)}:this.xb.Xk(x.sWb);G=this.Z.FSa({mediaType:y,MXa:x.MXa,from:B,to:D,UFb:C,H3b:F});E=G.reason;if(!G.FSa)return (k.K && this.V.debug("Non-seamless transition; details:",{reason:E,mediaType:y,from:B,to:D}),{E7a:!1,info:{nBb:null !== (q=x.to.I) && void 0 !== q?q:"unk",z1b:null !== (u=x.from.I) && void 0 !== u?u:"unk",oVb:x.timestamp,reason:E}});k.K && this.V.debug("Seamless deemed possible",{reason:E,mediaType:y,from:B,to:D,UFb:C,H3b:F});}}}}catch(M){var J;J={error:M};}finally{try{w && !w.done && (p=t.return) && p.call(t);}finally{if(J)throw J.error;}}return {E7a:!0};};n.prototype.J1b=function(){this.gra=!0;this.xb.Yq.value?(k.K && this.V.trace("Signaling EOS for upcoming restart"),this.xb.Sva()):(k.K && this.V.trace("Signaling immediate restart"),this.N9a());return !0;};return n;})();b.sLa=r;},53548:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tLa=void 0;c=a(70655);l=a(95994);r=(function(){function f(k,d,g){this.Ry=k;this.Ce=d;this.V=g;this.O0=!0;}Object.defineProperties(f.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});f.prototype.process=function(k){var d;return c.__awaiter(this,void 0,void 0,function(){var g;return c.__generator(this,function(m){switch(m.label){case 0:if(k.done)return [3,3];g=k.value.value;if(!this.pq || !g.Tx || g.stream.pa === this.pq.stream.pa || this.pq.Bb === g.Bb && this.pq.PYb === g.index)return [3,2];l.K && this.V.trace(("Seamless Throttler: Waiting on request [").concat(g.mediaType,"]"),g.index,"in",g.u.id);return [4,this.Ry.u6b({mediaType:g.mediaType,MXa:this.O0,to:{stream:g.stream,I:g.u.id},from:{stream:this.pq.stream,I:this.pq.I},timestamp:g.Bb,sWb:null === (d=this.pq) || void 0 === d?void 0:d.Bb})];case 1:(m.Qa(),m.label=2);case 2:(this.O0=!1,this.pq={PYb:g.index,stream:g.stream,Bb:g.Bb,I:g.u.id},m.label=3);case 3:return [2,k];}});});};f.prototype.jTb=function(k,d){void 0 === k && (k=[]);void 0 === d && (d=[]);l.K && this.V.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.O0 || (this.O0=-1 !== d.indexOf(this.Ce));(null === k || void 0 === k?0:k.length) && k.length !== d.length && (this.pq=void 0);};f.prototype.reset=function(){};return f;})();b.tLa=r;},2479:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mIa=void 0;c=a(70655);l=a(95994);f=a(44724);k=a(50971);r=(function(){function d(g,m,h,n){var p;p=this;this.Hd=g;this.fUb=m;this.dsa=h;this.V=n;g.qa.on("stopStart",function(){return p.ewb();});l.K && this.V.trace(("PacingThrottler: pacingFactory=").concat(m,", pacingThreshold=").concat(h.mb()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.ewb=function(){var g,m;m=this.Hd.qa;this.lK=m.hi?m.currentTime:void 0;this.uR=this.OS=void 0;l.K && this.V.trace(("PacingThrottler: clock reset ").concat(null === (g=this.lK) || void 0 === g?void 0:g.G));};d.prototype.waitUntil=function(g){var m;g=(0,k.caa)(this.Hd,g,!0);m=g.promise;this.t6b=g.uk;return m;};d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var m,h,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(g.done)return [3,11];m=g.value.value;(0,f.assert)(m.Bb);h=this.Hd.qa;if(!this.OS || !this.uR)return [3,10];if(!this.uR.greaterThan(this.dsa))return [3,8];if(!this.lK)return [3,5];n=m.Bb.wa(this.lK).wa(this.dsa);p=this.lK.add(n.Ni(this.fUb));if(!p.lessThan(m.Bb))return [3,3];if(!p.greaterThan(h.currentTime))return [3,2];l.K && this.V.trace(("PacingThrottler: waiting until ").concat(p.mb()," for mediaRequest @") + ("").concat(m.Bb.mb(),", ") + ("current time ").concat(h.currentTime.mb(),", ") + ("clock start time ").concat(this.lK.mb(),", ") + ("distance ").concat(n.mb()));return [4,this.waitUntil(p)];case 1:(q.Qa(),q.label=2);case 2:return [3,4];case 3:(l.K && this.V.warn("PacingThrottler: invalid schedule time " + ("").concat(p.mb()," for mediaRequest ") + ("@").concat(m.Bb.mb(),", ") + ("current time ").concat(h.currentTime.mb(),", ") + ("clock start time ").concat(this.lK.mb(),", ") + ("distance ").concat(n.mb())),q.label=4);case 4:return [3,7];case 5:n=m.Bb.wa(this.OS);if(!n.greaterThan(this.dsa))return [3,7];l.K && this.V.trace(("PacingThrottler: (buffering) waiting until ").concat(this.OS.G,"ms") + (" for mediaRequest @").concat(m.Bb.G,"ms, ") + ("current time ").concat(h.currentTime.G));return [4,this.waitUntil(this.OS)];case 6:(q.Qa(),q.label=7);case 7:return [3,9];case 8:(this.uR=this.uR.add(m.ue),q.label=9);case 9:return [3,11];case 10:(this.OS=m.Bb,this.uR=m.ue,q.label=11);case 11:return [2,g];}});});};d.prototype.reset=function(){var g;null === (g=this.t6b) || void 0 === g?void 0:g.Pa();};return d;})();b.mIa=r;},62435:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pda=void 0;c=a(70655);l=a(94160);f=a(44724);k=a(95994);d=a(79906);r=(function(g){function m(h){var n;n=g.call(this) || this;n.Aa=h;n.Yfa=new Map();n.Va=[];n.nQ=new d.U_({hi:!1,currentTime:function(){return n.Pd?n.Md:l.N.vp;},speed:1});return n;}c.__extends(m,g);Object.defineProperties(m.prototype,{qa:{get:function(){return this.nQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nl:{get:function(){return this.bR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nC:{get:function(){return this.Yfa;},enumerable:!1,configurable:!0}});m.prototype.b2=function(h,n){var p;p=!this.Aa;p && (this.Aa=h,this.Wea=(null === n || void 0 === n?0:n.Pd)?n.Md:void 0,this.bR=null === n || void 0 === n?void 0:n.nl,this.Yfa=n?n.nC:new Map(),null === n || void 0 === n?void 0:n.yM());return p;};m.prototype.yM=function(){this.Yfa=this.bR=void 0;};m.prototype.EA=function(){this.Va=[];this.Wea=void 0;};m.prototype.eka=function(h){k.K && (0,f.assert)(this.Aa === h);this.Aa=void 0;this.EA();};m.prototype.Nka=function(){for(var h,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(h=this.Va).push.apply(h,c.__spreadArray([],c.__read(n),!1));};m.prototype.CF=function(){return this.Wea?this.Wea:g.prototype.CF.call(this);};m.prototype.bU=function(){return !1;};m.prototype.DC=function(){};m.prototype.FH=function(){};m.prototype.N8=function(){this.Va=this.Va.filter(function(h){return h.UJ?(h.If("pruned"),!1):!0;});};m.prototype.Pa=function(){g.prototype.Pa.call(this);this.nC.forEach(function(h){return h.close();});};return m;})(a(71843).Eda);b.pda=r;},71843:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Eda=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(44724);d=a(47571);r=a(43221);g=c.__importDefault(a(29736));m=a(95994);h=a(74005);n=r.Jv.Wja;a=(function(){function p(){this.EM=[];this.$z=new f.hq(!1);this.Xz=new f.hq(f.N.Ma(-Infinity));this.mJ=new f.hq(f.N.Ma(-Infinity));this.events=new l.EventEmitter();this.V=new g.default.Console("ASEJS","media|asejs");}Object.defineProperties(p.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Gd:{get:function(){return this.cx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{N2a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nl:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nC:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{playbackRate:{get:function(){return this.pL();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{iRa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Yq:{get:function(){return this.$z;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{q6:{get:function(){return this.Xz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ll:{get:function(){return this.mJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Pd:{get:function(){return this.rp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Md:{get:function(){return this.CF();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jg:{get:function(){var q,u;q=this.Md;u=this.Xk(q,!1);m.K && (0,k.assert)(u,("Could not find current branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{eMb:{get:function(){return this.Va[0];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Sq:{get:function(){return this.rp?this.Va[this.Va.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hy:{get:function(){var q,u;q=this.Md;u=this.ZS(q);(0,k.assert)(u,("Could not find presenting branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rp:{get:function(){return 0 < this.Va.length;},enumerable:!1,configurable:!0}});p.prototype.O$a=function(){};p.prototype.N$a=function(){};p.prototype.ci=function(){return !1;};p.prototype.s5=function(){return 0 < this.Va.length;};p.prototype.Sn=function(){(0,k.assert)(0 < this.Va.length,"Could not find presenting branch. Player has no branches.");return this.Hy;};p.prototype.U_a=function(q){return -1 !== this.Va.indexOf(q);};p.prototype.b2=function(){return void 0 !== this.Aa?!1:!0;};p.prototype.yM=function(){};p.prototype.Pa=function(){};p.prototype.RF=function(q){var u,t,w;u=this.Va.filter(function(v){return v.u.id === q.I;});if(0 !== u.length){t=this.CF();w=new f.N(Infinity,1);u.forEach(function(v){v=v.er.add(q.offset);t.yK(v).lessThan(t.yK(w)) && (w=v);});return w;}};p.prototype.FT=function(q){var u,t,w,v,y,x,z,A,B,D;return c.__generator(this,function(C){switch(C.label){case 0:u=this.Va.filter(function(F){return F.u.id === q.I;});if(0 === u.length)return [2,void 0];t=this.CF();C.label=1;case 1:(C.Qj.push([1,6,7,8]),w=c.__values(u),v=w.next(),C.label=2);case 2:if(v.done)return [3,5];y=v.value;x=y.er.add(q.offset);z=t.yK(x);return [4,{Kp:x,yK:z}];case 3:(C.Qa(),C.label=4);case 4:return (v=w.next(),[3,2]);case 5:return [3,8];case 6:return (A=C.Qa(),B={error:A},[3,8]);case 7:try{v && !v.done && (D=w.return) && D.call(w);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};p.prototype.Xk=function(q,u){var t,w,v;void 0 === u && (u=!1);t=this.ZS(q,u);if(t){w=t.u;u=w.id;v=w.duration;q=f.N.min(q.wa(w.Ud.add(t.te)),v || f.N.vp);return {I:u,offset:q};}};p.prototype.reset=function(){this.EA();};p.prototype.tua=function(){};p.prototype.nN=function(){};Object.defineProperties(p.prototype,{yH:{get:function(){return !1;},enumerable:!1,configurable:!0}});p.prototype.pause=function(q){void 0 === q && (q=d.Bz);this.EM=null === q || void 0 === q?void 0:q.reduce(function(u,t){-1 === u.indexOf(t) && u.push(t);return u;},this.EM);};p.prototype.resume=function(q){var u;u=this;void 0 === q && (q=d.Bz);q.forEach(function(t){t=u.EM.indexOf(t);-1 !== t && u.EM.splice(t,1);});};p.prototype.Wwa=function(q){var u;(0,k.assert)(this.Aa);(0,k.assert)(q !== this);this.FH();u=q.b2(this.Aa,this);u && (this.N8(),q.pause(this.EM),q.Nka.apply(q,c.__spreadArray([],c.__read(this.Va),!1)),this.eka(this.Aa));return u;};p.prototype.CF=function(){return this.uZa();};p.prototype.uZa=function(){var q,u;m.K && (0,k.assert)(this.rp,"Attempted to get initial time before any branches were queued");u=c.__read(this.Va,1)[0];m.K && (0,k.assert)(u);return null !== (q=u.Bb) && void 0 !== q?q:u.fy;};p.prototype.pL=function(){return 1;};p.prototype.HF=function(){};p.prototype.ZS=function(q,u){var t;void 0 === u && (u=!1);if(this.rp){t=this.uZa();return q.lessThan(t)?this.Va[0]:(0,h.wla)(this.Va,q) || (u?this.Sq:void 0);}};p.prototype.WGb=function(){var q,u,v,y,x,z,A,B;u={};try{for(var t=c.__values(this.Va),w=t.next();!w.done;w=t.next()){v=w.value;y=void 0;x=void 0;z=v.cL();for(y in z){A=y;B=z[A];B && (u[A]=(null !== (x=u[A]) && void 0 !== x?x:0) + B);}if(!v.$h)break;}}catch(C){var D;D={error:C};}finally{try{w && !w.done && (q=t.return) && q.call(t);}finally{if(D)throw D.error;}}return u;};c.__decorate([n.return.th(),n.return.O7],p.prototype,"N2a",null);c.__decorate([n.return.th()],p.prototype,"Jg",null);c.__decorate([n.return.Vha(),n.return.fm],p.prototype,"Sn",null);c.__decorate([c.__param(0,n.th())],p.prototype,"RF",null);c.__decorate([c.__param(0,n.th())],p.prototype,"FT",null);c.__decorate([n.return.th()],p.prototype,"Xk",null);return p;})();b.Eda=a;},53800:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.PJa=void 0;c=a(28075);l=a(94160);f=a(47571);r=a(40885);a=(function(){function k(d){this.Z=d;this.Dfa=!1;this.UOa=new c.Re();this.bYb();}k.prototype.bYb=function(){var d,g;d=this;g=this.UOa;g.on(this.Z,"paused",function(){return d.b8();});g.on(this.Z,"playing",function(){return d.b8(!0);});g.on(this.Z,"underflow",function(){return d.b8();});g.on(this.Z,"skipped",function(){return d.rV();});g.on(this.Z,"clockAdjusted",function(){return d.nV();});g.on(this.Z,"playbackRateChanged",function(){return d.pTb();});};Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.MPa || this.Z.Fd || l.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hi:{get:function(){return this.Dfa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){var d;return null !== (d=this.Z.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});k.prototype.b8=function(d){void 0 === d && (d=!1);d !== this.Dfa && (this.MPa=(this.Dfa=d)?void 0:this.Z.Fd);this.emit("stopStart",{type:"stopStart"});};k.prototype.rV=function(){this.MPa=void 0;this.nV(f.wz.BH);};k.prototype.nV=function(d){void 0 === d && (d=f.wz.zrb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};k.prototype.pTb=function(){this.emit("speedChanged",{type:"speedChanged"});};k.prototype.Pa=function(){this.b8();this.UOa.clear();};return k;})();b.PJa=a;(0,r.wk)(c.EventEmitter,a);},12192:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.y_=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(74005);d=a(95994);g=a(50971);m=c.__importDefault(a(29736));h=f.N.Ma(1E3);r=(function(){function n(p,q,u,t,w,v,y,x,z,A){var B,D;this.MFb=p;this.LTb=q;this.Q1=t;this.events=w;this.oq=v;this.Dcb=x;this.priority=z;this.kk=[];this.console=(0,k.Nh)(m.default,q,("PresentationTracker [").concat(this.MFb,"] ").concat(this.Dcb,"]"));this.nsa=h.add(f.N.Ma(null !== (D=null === (B=v.EN) || void 0 === B?void 0:B.G) && void 0 !== D?D:0));this.listeners=new l.Re();this.Msa=new l.Re();this.lE=!A;this.Dzb(y);this.Z$a(u,y,t);}n.prototype.Z$a=function(p,q,u){var t;t=this;this.Q1=u;this.listeners.clear();this.Msa.clear();this.xb=p;this.Hd=q;this.Msa.on(p.Z,"skipped",this.rV.bind(this));this.listeners.on(u,"requestAppended",function(w){return t.Yq(w.request);});this.events=p.events;this.GK.PSa(q);this.WV.PSa(q);};n.prototype.Dzb=function(p){var q;q=this;this.GK=p.Hx(function(){return q.sCb();},"Presentation Emit",this.priority);this.WV=p.Hx(function(){return q.ZWb();},"Presentation Prune");};n.prototype.rV=function(){this.trace(("skipped, scheduler clock ").concat(this.Hd.qa.currentTime.mb()));this.lE=!0;this.GK.Sf();};n.prototype.sCb=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:(d.K && this.console.trace("Starting emit job"),this.bH=this.SRb(this.lE),p=this.v5a(),t.label=1);case 1:if(!p)return [3,3];this.trace(("queuing task for ").concat(this.i6(p.zr)) + (" at player time ").concat(p.timestamp.mb()) + (" scheduler clock is ").concat(this.Hd.qa.currentTime.mb()));return [4,g.Pg.Tt(p.timestamp)];case 2:t.Qa();this.trace(("executing task for ").concat(this.i6(p.zr)) + (" for player time ").concat(p.timestamp.mb()) + (", scheduler clock: ").concat(this.Hd.qa.currentTime.mb()) + (", actual player time: ").concat(this.xb.Md) + (", first item: ").concat(this.lE));q=this.lE?this.xb.Md:p.timestamp;u=this.lE;this.lE=!1;this.UUa=p;this.bH++;this.Ija=(p=this.v5a())?p.timestamp:this.iG;try{this.Bka(this.UUa,q,u);}catch(w){this.console.error(("Error in ").concat(this.Dcb," emit, continuing"),w);}q=null === p || void 0 === p?void 0:p.timestamp;return [3,1];case 3:return (d.K && this.console.trace("Ending emit job"),[2]);}});};n.prototype.v5a=function(){if(void 0 !== this.bH)return this.kk[this.bH];};n.prototype.SRb=function(p){var q,u,w;void 0 === p && (p=!1);for(var t=p?0:null !== (q=this.bH) && void 0 !== q?q:0;t < this.kk.length;t++){q=this.kk[t];w=f.N.Ma(null !== (u=this.oq.mVb) && void 0 !== u?u:0);if(q.timestamp.greaterThan(this.xb.Md.add(w)))return p && 0 < t?t - 1:t;}return Math.max(this.kk.length - 1,0);};n.prototype.ZWb=function(){var p,q;return c.__generator(this,function(u){switch(u.label){case 0:if(!(1 < this.kk.length))return [3,2];p=c.__read(this.kk,2);q=p[1];this.trace(("queuing pruning task for ").concat(q.zr) + (" at player time ").concat(this.nsa.add(q.timestamp).mb()) + (" scheduler clock is ").concat(this.Hd.qa.currentTime.mb()));return [4,g.Pg.Tt(this.nsa.add(q.timestamp))];case 1:return (u.Qa(),this.trace(("executing pruning task for ").concat(q.zr) + (" at player time ").concat(this.nsa.add(q.timestamp).mb()) + (" scheduler clock is ").concat(this.Hd.qa.currentTime.mb())),this.kk.shift(),this.bH && this.bH--,[3,0]);case 2:return [2];}});};n.prototype.Uu=function(p,q,u){this.Z$a(p,q,u);};n.prototype.reset=function(){this.kk=[];d.K && this.trace("reset");this.lE=!0;this.iG=void 0;this.bH=0;this.WV.Sf();this.GK.Sf();};n.prototype.close=function(){d.K && this.trace("close()");this.Msa.clear();this.GK.Pa();this.WV.Pa();this.listeners.clear();this.kk=[];};n.prototype.ci=function(p){var q;d.K && this.trace(("canSkip() ").concat(p));if(0 === this.kk.length)return (d.K && this.trace("canSkip false, no media sequence"),!1);q=this.kk[0];return q.timestamp.greaterThan(p)?(d.K && this.trace(("canSkip false, before earliest item at ").concat(q.timestamp)),!1):void 0 === this.iG || this.iG.lessThan(p)?(d.K && this.trace(("canSkip false, later than last appended at ").concat(this.iG)),!1):!0;};n.prototype.trace=function(p){d.K && this.console.trace(p);};n.prototype.Lga=function(p,q,u){var t;u && (this.iG=u);t=this.kk.length?this.kk[this.kk.length - 1]:void 0;if(void 0 === t || !this.h6(t.zr,p))return (this.kk.push({zr:p,timestamp:q}),this.GK.state === g.Ek.complete && this.GK.Sf(),this.WV.state === g.Ek.complete && this.WV.Sf(),!0);t === this.UUa && (this.Ija=u);return !1;};n.prototype.h6=function(p,q){return p === q;};n.prototype.fwb=function(p){p.kk=c.__spreadArray([],c.__read(this.kk),!1);p.iG=this.iG;};return n;})();b.y_=r;},30184:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.BKa=void 0;c=a(70655);l=a(94160);f=a(47571);k=a(2243);d=a(67006);r=(function(){function g(m,h,n,p,q,u,t,w){this.mediaType=m;this.console=h;this.xb=n;this.Q1=p;this.Ln=q;this.Ksa=u;this.Hd=t;this.jA=[];this.mediaType === f.v.X && this.jA.push(new d.DLa(m,h,n,p,q,u,t,w,2));this.jA.push(new k.fMa(m,h,n,p,q,u,t,"stream",1,null === w || void 0 === w?void 0:w.J0a()));}g.prototype.Uu=function(m,h,n){this.xb=m;this.Hd=h;this.Q1=n;this.$H.forEach(function(p){return p.Uu(m,h,n);});};g.prototype.krb=function(m){this.jA.push(m);};g.prototype.UEb=function(m){return (0,l.Hc)(this.jA,function(h){return h instanceof m;});};g.prototype.reset=function(){this.jA.forEach(function(m){return m.reset();});};g.prototype.close=function(){this.jA.forEach(function(m){return m.close();});};g.prototype.ci=function(m){return c.__read(this.jA,1)[0].ci(m);};Object.defineProperties(g.prototype,{$H:{get:function(){return this.jA;},enumerable:!1,configurable:!0}});return g;})();b.BKa=r;},67006:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DLa=void 0;c=a(70655);l=a(94160);f=a(95994);k=a(44724);r=(function(d){function g(m,h,n,p,q,u,t,w,v){m=d.call(this,m,h,n,p,q,u,t,"segment",v,null === w || void 0 === w?void 0:w.J0a()) || this;m.nl=w;return m;}c.__extends(g,d);g.prototype.Yq=function(m){var h,n,p,q,u,t,w,v,y;q=m.Bb;u=m.Lb;t=m.La;w=m.bitrate;v=m.zb;(0,k.assert)(void 0 !== q);y=null === (h=this.xb.Xk(q)) || void 0 === h?void 0:h.I;(0,k.assert)(void 0 !== y);this.w6=m={I:y,fFb:m.Tx,La:t,aeb:w,zb:v,pWb:null === (n=this.w6) || void 0 === n?void 0:n.aeb,qWb:null === (p=this.w6) || void 0 === p?void 0:p.zb};this.Lga(m,q,u) && f.K && this.trace(("segment ").concat(y," @ ").concat(q.G,"ms"));};g.prototype.h6=function(m,h){return m.I === h.I && !h.fFb;};g.prototype.Bka=function(m,h,n){var p,q,u,t,w,v;p=m.zr;q=p.I;u=p.aeb;t=p.pWb;w=p.zb;p=p.qWb;v=this.xb.Xk(h);(0,k.assert)(void 0 !== v);f.K && this.trace(("emitSegmentPresentingEvent @ ").concat(m.timestamp.G,"ms for segment ").concat(q));v.I !== q && (f.K && this.console.warn("player position:",v,"not equal to trackedElement:",q),v={I:q,offset:l.N.Ia});m={type:"segmentPresenting",playerTimestamp:h,position:v,seek:n};if(this.nl){if(q=this.nl.Jma(q))(q.destvbitrate=u,q.destvmaf=w,q.srcvbitrate=t,q.srcvmaf=p);m.metrics=q;}f.K && this.trace(("segmentPresenting: ").concat(JSON.stringify(m)));this.events.emit(m.type,m);};g.prototype.reset=function(){d.prototype.reset.call(this);this.w6=void 0;};g.prototype.close=function(){d.prototype.close.call(this);this.w6=void 0;};g.prototype.i6=function(m){return m.I;};return g;})(a(12192).y_);b.DLa=r;},2243:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fMa=void 0;c=a(70655);l=a(95994);f=a(44724);r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.Yq=function(g){var m,h,n;m=g.stream;h=g.Bb;n=g.Lb;g=g.La;(0,f.assert)(void 0 !== h,"playerStartTimestamp undefined at media append");(0,f.assert)(void 0 !== g,"contentStartTimestamp undefined at media append");this.Lga({stream:m,La:g},h,n) && l.K && this.trace(("stream ").concat(m.id,", ").concat(m.bitrate,"kbit/s @ ").concat(h.G,"ms"));};d.prototype.h6=function(g,m){return g.stream === m.stream;};d.prototype.Bka=function(g,m){var h,n,p,q;p=g.zr.stream;q=this.xb.Xk(m);(0,f.assert)(void 0 !== q);l.K && this.trace(("emitStreamPresentingEvent @ ").concat(g.timestamp.G,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:m,position:q,trackIndex:null === (h=null === p || void 0 === p?void 0:p.track) || void 0 === h?void 0:h.tE,streamIndex:null === p || void 0 === p?void 0:p.It,stream:p,manifest:null === (n=p.pa) || void 0 === n?void 0:n.W,contentStartTimestamp:g.zr.La});};d.prototype.i6=function(g){return ("").concat(g.stream.Tb,"@").concat(g.La.mb());};return d;})(a(12192).y_);b.fMa=r;},44001:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.tea=void 0;r=a(70655);c=a(94160);l=r.__importDefault(a(29736));f=a(47571);k=a(16955);a=(function(){function d(g,m){this.V=g;this.nj=m;}d.prototype.CH=function(g,m,h,n,p){var q,u;void 0 === p && (p=!1);q=g.u;u=this.Cnb(q);this.pE={startTime:l.default.time.Ga(),B1b:g,A1b:h.G,G3:m,Xd:this.$Hb(n,m),V3b:this.RJb(n,p),RAb:p,tf:n,aTa:u,QRb:this.xIb(q,h)};};d.prototype.J0a=function(){return !!this.pE;};Object.defineProperties(d.prototype,{G3:{get:function(){var g;return null === (g=this.pE) || void 0 === g?void 0:g.G3;},enumerable:!1,configurable:!0}});d.prototype.Jma=function(g){var m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M;if(this.pE && 0 !== Object.keys(this.pE.aTa).length && g === this.pE.G3){v=this.pE;y=v.aTa;x=v.QRb;z=v.RAb;A=v.tf;B=v.B1b;D=v.A1b;C=v.startTime;F=v.Xd;v=v.V3b;this.pE=void 0;G=this.ofa(g).Xha;E=this.uGb(B.u.id,g,y);G=this.JOa(E.weight,G);J={};for(M in y){M !== g && (J[M]=y[M].details);}y=l.default.time.Ga() - C;C=A?0:y;M={offset:c.N.Ma(this.wJb(B,D,A,z)),I:B.u.id};D={offset:c.N.Ma(D),I:B.u.id};x={segment:g,destPosition:{I:g,offset:c.N.Ia},srcsegment:B.u.id,srcTransitionPosition:M,srcStartPosition:D,srcsegmentduration:B.wX.G,srcoffset:M.offset.G,seamlessRequested:A,atRequest:E,atTransition:G,discard:J,transitionType:F,transitionTypeAtRequest:v,delayToTransition:this.cHb(y,A,z),durationOfTransition:C,nextExitPositionAtRequest:x};z=null !== (h=null === (m=this.nj.ga.M[g]) || void 0 === m?void 0:m.type) && void 0 !== h?h:"content";m=null !== (p=null === (n=this.nj.ga.M[B.u.id]) || void 0 === n?void 0:n.type) && void 0 !== p?p:"content";g=null !== (u=null === (q=this.nj.ga.M[g]) || void 0 === q?void 0:q.J) && void 0 !== u?u:void 0;q=null !== (w=null === (t=this.nj.ga.M[B.u.id]) || void 0 === t?void 0:t.J) && void 0 !== w?w:void 0;g && q && g !== q && (x.auxMidType=z,x.auxSrcmidType=m,x.auxMid=g,x.auxSrcmid=q);return x;}};d.prototype.uGb=function(g,m,h){var n,p,q;q={};(h=h[m])?q=h.details:((0,k.assert)(this.nj),q.weight=null === (p=null === (n=this.nj.ga.M[g].next) || void 0 === n?void 0:n[m]) || void 0 === p?void 0:p.weight);return q;};d.prototype.cHb=function(g,m,h){var n;h || (n=m?g:0);return n;};d.prototype.xIb=function(g,m){var h,n,p;n=g.Ud.add(m);null === (h=g.Rv) || void 0 === h?void 0:h.some(function(q){n.lessThan(q.La) && (p=q.La.G);});return p;};d.prototype.wJb=function(g,m,h,n){return h || n?g.wX.G:m;};d.prototype.$Hb=function(g,m){return g?"seamless":this.ofa(m).V_a?"reset":"long";};d.prototype.RJb=function(g,m){return g || m?"lazy":"immediate";};d.prototype.Cnb=function(g){var m,h;m=this;h={};g.yy.forEach(function(n){var p,q;p=g.TRb[n];q=m.ofa(n).Xha;h[n]={details:m.JOa(p,q)};});return h;};d.prototype.ofa=function(g){var m,h;g=this.nj.$S(g);m=0 < g.length?g[0]:void 0;g=null === m || void 0 === m?void 0:m.cL();if(!m || !g)return {V_a:!1,Xha:{S$:0,z1:0,JX:0,hR:0}};h=m.p5(f.v.fa) && !g.z1;m=m.p5(f.v.X) && !g.S$;return {V_a:!h && !m,Xha:g};};d.prototype.JOa=function(g,m){return {weight:g,vbuflmsec:m.S$,abuflmsec:m.z1,vbuflbytes:m.JX,abuflbytes:m.hR};};return d;})();b.tea=a;},19709:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,Ka,Va,db,W,ha;function c(ta){var Q;Q={};ta.forEach(function(O){O.mediaType !== h.v.Ya && (Q[O.mediaType]=O.Um());});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.Gaa=void 0;l=a(70655);f=a(28075);k=a(41427);d=a(94160);g=a(94160);m=a(35510);h=a(47571);n=a(25580);p=a(10249);q=a(54059);u=l.__importDefault(a(29736));t=a(44724);w=a(62435);v=a(50971);y=a(71820);x=a(89098);z=a(19829);A=a(89589);B=a(79906);D=a(22258);C=a(48256);F=a(74573);G=l.__importDefault(a(73764));E=a(52302);J=a(18312);M=a(80120);L=a(74005);I=a(55168);P=a(47052);K=a(75559);H=a(68397);N=a(99568);R=a(65533);Y=a(24462);ma=a(33154);ia=a(43450);ja=a(302);Ca=a(81545);Ba=a(62437);Ka=a(12215);Va=a(88414);db=a(5456);W=a(42462);ha=a(43221).Jv.Wja;r=(function(){function ta(Q,O,Z,oa,qa,Ha,Ya,Wa,rb,nb){this.nj=Q;this.ZPa=O;this.config=Z;this.id=oa;this.ks=Ha;this.uj=Ya;this.Nvb=Wa;this.yl=nb;this.rJ=!1;this.eJ=void 0;this.Wka=[];this.Gh=this.Ta=void 0;this.Qrb="2.0";this.d1a=this.c1=this.vm=this.Kfa=void 0;this.Sa=m.lm.CLOSED;this.lfa=!0;this.V1=!1;this.UN=this.QX=this.DE=void 0;this.eSa=new f.Re();this.TA=0;this.l$=!1;this.YLb();this.console=new u.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.dh=new F.tu({co:10,cn:this,source:"AsePlaygraph",console:this.console});this.events=new f.EventEmitter();this.wva(Q);this.Va=new R.YJa();this.ug=new db.$Ja(this.console);this.Ana=new P.jDa(this.config,d.N.Ma(this.config.U6),{parent:function(Fb){return Fb.qT();},next:this.zIb.bind(this)},this.events,this.console);this.m$=new q.hMa(this.console,this.events);this.JR={uB:Z.OU || Infinity};this.Z=new w.pda(this);this.Gd=new v.WP(this.Z.qa,this.console,"playgraph",1);this.cMb();this.jf=new Y.gAa(this.console,Z,qa,this.events,this,this.Yp);this.p2=new ja.Uza(this.Gd,this.Yp,this.config,this.Nj.bind(this),this.hf,this.console);this.T7=this.jf.T7.bind(this.jf);this.sV=this.jf.sV.bind(this.jf);this.c8=this.jf.c8.bind(this.jf);this.M7=this.M7.bind(this);this.N7=this.N7.bind(this);this.tH=this.tH.bind(this);this.Sv=new z.Uda(Z);this.ULb();this.Sv.Ye(new D.Qw(this.jf.dh));this.Sv.Ye(new C.lJa(this.MIb.bind(this)));this.Sv.Ye(new D.Qw(this.dh));this.Sv.Ye(new E.XJa(this.Va,this));this.Sv.Ye(new M.zFa(this));this.pbb=new Va.gMa(this,this.console,rb);this.K6=new J.XFa(this.Yp,this.console,this.events);this.Bm=new W.bKa(this.Z8.bind(this));this.Cva((0,y.pK)(this.config),(0,y.oK)());}Object.defineProperties(ta.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{Nq:{get:function(){return !(this.Z instanceof w.pda);},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{Sc:{get:function(){return this.eJ;},set:function(Q){this.eJ=Q;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{oMb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{ga:{get:function(){return this.nj;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{weight:{get:function(){return this.ZPa;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{yh:{get:function(){(0,t.assert)(this.Oq,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.vm.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{n$a:{get:function(){(0,t.assert)(this.Oq,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.ET(this.yh).zq;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{hf:{get:function(){return this.jf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{zj:{get:function(){return this.jf.zj;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{Oq:{get:function(){return void 0 !== this.vm;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{Jg:{get:function(){return this.Z.Pd?this.Z.Jg:this.yh;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{Md:{get:function(){var Q,O;return this.Z.Pd?this.Z.Md:null !== (O=null === (Q=this.vm) || void 0 === Q?void 0:Q.Kp) && void 0 !== O?O:this.n$a;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{Zsb:{get:function(){return this.Imb;},enumerable:!1,configurable:!0}});Object.defineProperties(ta.prototype,{Z$:{get:function(){return this.eqb;},enumerable:!1,configurable:!0}});ta.prototype.cMb=function(){this.Yp=new v.WP(new B.U_({hi:!0,currentTime:function(){return d.N.Ma(u.default.time.Ga());},speed:1}),this.console,"wallclock");};ta.prototype.ULb=function(){var Q;Q=this;(0,Ka.mUa)({jf:this.jf,Yp:this.Yp},v.Pg.SC(d.N.Ma(this.config.MV)),function(){Q.Z.Pd && Q.Z.Hy && (Q.jf.state.value === h.Yc.ul || Q.jf.state.value === h.Yc.Qe) && Q.dE(Q.Z.Hy);},"buffering");};ta.prototype.YLb=function(){var Q;Q=this;this.Fv=function(O){var Z,oa,qa;oa=Q.navigator.Od(O.position.I);if((oa=Q.Mma(oa)) && Q.Z.Pd){qa=(0,L.wla)(Q.Z.Va.filter(function(Ha){return Ha.u.id === O.position.I;}),O.playerTimestamp,{HTa:!0});qa && (null === (Z=Q.Z.nl) || void 0 === Z?void 0:Z.CH({u:qa.u,get wX() {return qa.ab.wa(qa.u.Ud);}},oa,Q.Jg.offset,!0,!1));}Q.Bm.start();};this.oV=function(){Q.uj("onDrmReady");};this.iTb=function(O){O=O.newValue;Q.rJ || (Q.rJ=O);};};ta.prototype.open=function(){this.lfa=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Sa !== m.lm.CLOSED)return !1;this.Sa=m.lm.OPEN;return !0;};ta.prototype.Pa=function(){this.Yp.Pa();this.Gd.Pa();this.Sa !== m.lm.CLOSED && (this.If(),this.Bm.Pa(),this.jf.stop(),this.Sa=m.lm.CLOSED,this.Nq || this.Z.Pa(),this.K6.Pa());};ta.prototype.pvb=function(Q,O,Z){Q=(0,ma.Vka)(this.Va,this.tH.bind(this),Q,O,Z).QSa;return this.ESa(Q);};ta.prototype.Wy=function(Q,O,Z){var oa,qa,Ha,Ya,Wa,rb,nb;oa=this;qa=this.DE;Ha=this.QX;Ya=this.UN;this.DE=Q;this.QX=O;this.UN=Z;Q=(0,ma.Vka)(this.Va,this.tH.bind(this));Wa=Q.QSa;Q=Q.Ktb;if(0 === Wa.length)return !0;if(!this.ESa(Wa))return (this.DE=qa,this.QX=Ha,this.UN=Ya,!1);rb=this.Jg;this.Z.nN(Wa);nb=this.ET(rb).zq;Q.forEach(function(Fb){var Kb;Kb=Fb.yb;Kb.Wy(Fb.Wd,rb.I === Kb.u.id?nb:void 0,void 0 !== oa.Va.U4(Kb),Wa);});this.jf.ETb(rb,Q[0].Wd);return !0;};ta.prototype.oK=function(Q){return (0,y.oK)(this.config,Q);};ta.prototype.pK=function(Q){return (0,y.pK)(this.config,Q);};ta.prototype.nT=function(Q,O){var Z,oa;Z=this.navigator.Od(Q);oa=this.navigator.Od(O);return {O5b:Z.OKb(O),KR:O !== Q && this.Va.has(O) && this.Va.op(O)[0].Ug,T2:oa.Ud.G,cra:this.Mma(Z)};};ta.prototype.Nj=function(Q,O,Z,oa){var qa,Ha,Ya,Wa;qa=this;void 0 === oa && (oa=!0);if(!O)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(oa && this.ug.get(Q))Z || this.ug.set(Q,O);else {Ya=this.$S(Q)[0];Wa=this.navigator.Od(Q);this.Jg.I === Q && Ya && (null === (Ha=this.Z.nl) || void 0 === Ha?void 0:Ha.CH({u:Ya.u,get wX() {return Ya.ab.wa(Ya.u.Ud);}},O,this.Jg.offset,oa,Z));oa || (Q={offset:d.N.Ia,I:O},this.vm={position:Q,Ug:!0,$cb:Q});Z?this.ug.M_b(Wa.id,O):this.ug.set(Wa.id,O);this.Bm.start();oa && Wa.Rv && 0 < Wa.Rv.length && ((0,t.assert)(Ya),Ya.E$(Wa.Rv) && this.$S(O).forEach(function(rb){return qa.ew(Ya,rb);}));oa || this.jf.a8(this.yh);}};ta.prototype.ESa=function(Q){var O,Z;if(0 === Q.length)return !0;if(this.Z.yH && this.Z.q6.value.wa(this.Z.Md).lessThan(d.N.Ma(5E3)))return !1;Q=this.Z.Va;if(!Q.length)return !0;Z=null === (O=Q[0]) || void 0 === O?void 0:O.pa.J;return !Q.some(function(oa){return oa.pa.J !== Z;});};ta.prototype.ew=function(Q,O){var Z;Z=this;Q=Q.Lb.wa(O.u.Ud);O.ew(Q);this.Va.RGb(O).forEach(function(oa){return Z.ew(O,oa);});};ta.prototype.cj=function(Q){this.navigator.cj(Q);this.Bm.start();};ta.prototype.Cva=function(Q,O){this.Imb=Q;this.eqb=O;this.state === m.lm.qm && this.uj("setStreamFilters");};ta.prototype.Qqb=function(Q){(0,t.assert)(-1 === this.Wka.indexOf(Q),"Attempted to add the same evaluation hook twice");this.Wka.push(Q);};ta.prototype.g0b=function(Q){this.ks.BYb(Q);};ta.prototype.zC=function(Q,O){this.A9(Q,O);};ta.prototype.A9=function(Q,O,Z){var oa,qa,Ha,Ya,Wa;Ha=this.ga;Ya=(0,I.$db)(Ha,Q);if(Ya.QL){Wa=this.LZb(Ha,Q,O);if(void 0 === Wa)this.sf(("Invalid seekPosition after sanitization to ").concat(Q.I) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ya.reason),null === (oa=Ha.M[Q.I]) || void 0 === oa?void 0:oa.J);else if(void 0 === this.DE || void 0 === this.QX)this.sf("No track selectors available");else if((oa=!(this.Nq && this.Z.rp) && (0,I.O_a)(null === (qa=this.vm) || void 0 === qa?void 0:qa.$cb,Wa),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:oa}),!oa)){this.c1=Z;this.Oq?(this.CH(Wa),this.kTa(Q)):this.Va.empty && Z && (Z=this.Z.HF()) && (this.CH(Wa,Z),this.kTa(Q));Q=this.zZa();try{this.If(!0);this.Qvb();this.vm={position:Wa,$cb:Wa,Ug:!1,Kp:O};this.d1a=O?O.wa(this.n$a):d.N.Ia;this.jf.a8();this.Sa=m.lm.qm;this.Bm.start();}finally{Q.release();}}}else this.sf(("Invalid seekPosition to ").concat(null === Q || void 0 === Q?void 0:Q.I) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ya.reason),null === (Wa=Ha.M[Q.I]) || void 0 === Wa?void 0:Wa.J);};ta.prototype.CH=function(Q,O){var Z,oa,qa;qa=this.navigator.Od(null !== (Z=null === O || void 0 === O?void 0:O.u.id) && void 0 !== Z?Z:this.Jg.I);null === (oa=this.Z.nl) || void 0 === oa?void 0:oa.CH({u:qa,wX:qa.duration},Q.I,O?O.te:this.Jg.offset,!1);};ta.prototype.kTa=function(Q){var O,Z;if((null === (O=this.Z.HF()) || void 0 === O?void 0:O.u.id) === Q.I){if((this.ug.Rvb(Q.I),!this.ug.get(Q.I) && this.Z.rp)){Q=this.Z.Va;Z=this.Z.HF();Z && (Q=(0,g.Hc)(Q,function(oa){return oa.parent === Z;})) && this.ug.set(Z.u.id,null === Q || void 0 === Q?void 0:Q.u.id);}}else this.ug.Mia();};ta.prototype.zZa=function(){var Q,O;Q=this;O=this.Va.filter(function(Z){return Z.u.J !== k.sn;}).map(function(Z){return Q.ks.no(Z.u.J).oG;});return new x.lca(function(){O.forEach(function(Z){return Z.release();});},this.console).Ku();};ta.prototype.If=function(Q){var O,Z,oa;oa=this.eKb();this.Va.reset();if(!Q && (this.ug.Mia(),oa.length))try{for(var qa=l.__values(oa),Ha=qa.next();!Ha.done;Ha=qa.next()){Ha.value.Z8a();}}catch(Wa){var Ya;Ya={error:Wa};}finally{try{Ha && !Ha.done && (O=qa.return) && O.call(qa);}finally{if(Ya)throw Ya.error;}}this.Gd.Sf();this.Z.reset();this.vm=void 0;this.p2.reset();null === (Z=this.eSa) || void 0 === Z?void 0:Z.clear();this.Sa === m.lm.qm && (this.Sa=m.lm.OPEN);};ta.prototype.$S=function(Q){return this.Va.op(Q);};ta.prototype.uh=function(Q){this.jf.uh(Q);(0,t.assert)(this.Z.Sq,"Must have an appended branch on underflow");this.Z.iRa && this.jf.zj && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.Pn(this.Md),this.jf.Dm("complete",Q.eO,Q.fO));this.p2.Uwa(this.Z.Sq,this.Md);this.uj("onUnderflow");this.events.emit("underflow");};ta.prototype.Ye=function(Q){this.Sv.Ye(Q);};ta.prototype.Uu=function(Q){this.Ye(new A.YKa(Q));return this.Fsb(Q);};ta.prototype.Fsb=function(Q){var O;O=this.Z;if(!this.Z.Wwa(Q))return (this.sf("player in use"),!1);this.Z=Q;this.Gd.zRa(this.Z.qa);this.Z.events.on("segmentPresenting",this.Fv);this.Z.events.on("drmReady",this.oV);this.Z.Yq.addListener(this.iTb);this.events.emit("playerChanged",{type:"playerChanged",old:O,"new":this.Z});return !0;};ta.prototype.ET=function(Q){var O,Z;O=Q.offset;Z=this.navigator.Od(Q.I);Q=Z.J;O=Z.Ud.add(O);return {J:Q,zq:O};};ta.prototype.Xk=function(Q,O){var Z,oa,qa,Ha;Ha=this.Z.Xk(Q);if(void 0 !== Ha)return Ha;if(null === (oa=null === (Z=this.vm) || void 0 === Z?void 0:Z.Kp) || void 0 === oa?0:oa.equal(Q))return null !== (qa=this.c1) && void 0 !== qa?qa:this.yh;Z=this.Z.Sq;return (0,I.Xk)(Q,{Aa:this,fMb:Z && ({id:Z.u.id,d_b:Z.er})},O);};ta.prototype.RF=function(Q,O){void 0 === O && (O=!1);Q=this.FT(Q,O).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.Kp);};ta.prototype.FT=function(Q,O){var Z,oa,qa,Ha,Ya,Wa,rb,nb,Fb,Kb,Ta,$a,ib;void 0 === O && (O=!1);return l.__generator(this,function(mb){switch(mb.label){case 0:(Z=this.Z.FT(Q),oa=Z.next(),mb.label=1);case 1:return oa.done?[3,3]:[4,oa.value];case 2:return (mb.Qa(),oa=Z.next(),[3,1]);case 3:if(!O)return [2];qa={};Ha=this.Jg;this.Nq && this.Z.Pd && (rb=this.Z.Sq) && (Ha={offset:d.N.Ia,I:rb.u.id},Ya=rb.Lb.wa(this.Z.Md),Wa=rb.u);Ya || (Wa=this.navigator.Od(Ha.I),Ya=Wa.Ud.add(Ha.offset).wa(Wa.Mf));(0,t.assert)(Wa,"Current segment should be defined by here");nb=this.Md;if(Wa.u.Db && Wa.id !== Q.I)return [3,6];if(Wa.id !== Q.I)return [3,5];Fb=Q.offset.wa(Ha.offset);return [4,{yK:Fb,Kp:nb.add(Fb)}];case 4:(mb.Qa(),mb.label=5);case 5:return [2];case 6:(Kb=this.navigator.Od(Wa.u.Db),Ta=this.navigator.v2a(Kb),$a=Ta.next(),mb.label=7);case 7:if($a.done)return [3,11];ib=$a.value;if(qa[ib.id])return [3,11];qa[ib.id]=!0;if(ib.id !== Q.I)return [3,9];Fb=Q.offset.add(Ya);return [4,{yK:Fb,Kp:nb.add(Fb)}];case 8:return (mb.Qa(),[2]);case 9:(Ya=Ya.add(ib.duration),mb.label=10);case 10:return ($a=Ta.next(),[3,7]);case 11:return [2];}});};ta.prototype.d$a=function(Q){return (0,I.Mua)(this.ga,Q);};ta.prototype.LZb=function(Q,O,Z){var oa,qa;oa=(0,I.Mua)(Q,O);qa=d.N.Ma(1E4);if(!oa || !Z || Z.greaterThan(qa))return oa;Q=O.offset.add(d.N.Ma(Q.M[O.I].sa));Z=Z.wa(Q);if(Z.gi(d.N.Ia))return oa;qa=d.N.max(d.N.Ia,Q.wa(qa)).add(Z);if(qa.gi(d.N.Ia))return oa;qa=oa.offset.add(qa);return {I:oa.I,offset:qa};};ta.prototype.Js=function(Q,O){var Z;Q="string" === typeof Q?{J:this.ga.M[Q].J,zq:d.N.Ma(O)}:Q;if(Q.J !== k.sn){O=this.ks.no(Q.J);try{return null === (Z=O.pa) || void 0 === Z?void 0:Z.Js(this.config,Q.zq.G);}finally{O.oG.release();}}};ta.prototype.R4=function(){return (0,Ca.zYa)(this.Va,this.S5.bind(this));};ta.prototype.S5=function(Q){Q=this.Va.U4(Q);return void 0 === Q || Q.$h && this.S5(Q);};ta.prototype.Q4=function(){return this.JR.uB;};ta.prototype.qHb=function(Q){return (0,Ba.x_a)(this.Va,Q);};ta.prototype.Pn=function(Q){var O,Z,oa;O=this;this.Va.tF(function(qa){var Ha,Ya;Ha=qa.cT(h.v.fa);Ya=qa.cT(h.v.X);if(qa.u.kX || !O.Va.Fna(qa) || !qa.$h){if(!Z || Ha < Z)Z=Ha;if(!oa || Ya < oa)oa=Ya;}return qa.$h;});return {eO:Z?Math.max(Z - Q.G,0):0,fO:oa?Math.max(oa - Q.G,0):0};};ta.prototype.AF=function(){var Q,O,Z,oa;Z=this.Oq?this.Pn(this.Md):{eO:0,fO:0};oa=G.default.instance().get();return {totalabuflmsecs:Z.eO,totalvbuflmsecs:Z.fO,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (O=Number(0 < oa.confidence) && (null === (Q=oa.qb) || void 0 === Q?void 0:Q.Da)) && void 0 !== O?O:0};};ta.prototype.uL=function(){var Q,O,Z,oa,qa,Ha,Ya,Wa;Q=this;if(this.Rq())return (this.dh.qs({isStreamingFailureReported:!0}),[]);Z=this.Va.size;this.dh.qs({branchCount:Z});if(!this.Oq || 0 === Z)return [];oa=this.Md;qa=this.Jg;Ha=[];Z=this.navigator.Od(this.Jg.I);Ya=Z.duration;Wa=this.ug.get(Z.id)?1:null !== (O=Z.Sy) && void 0 !== O?O:1;O=this.Va.reduce(function(rb,nb,Fb){var Kb,Ta,mb,pb,Bb;try{for(var $a=l.__values(nb.P4()),ib=$a.next();!ib.done;ib=$a.next()){mb=ib.value;if(!mb.Ys()){pb=("p").concat(Q.id,"-").concat(Fb,"-").concat(null === (Ta=nb.Bb) || void 0 === Ta?void 0:Ta.G);Bb=Q.FJb(mb);rb.push(Q.Bzb(mb,Bb.G,pb,Ya.G,Wa,oa.G,qa));}!mb.GB() && Q.dh.enabled && Ha.push({segmentId:mb.I,isDoneStreaming:mb.Ys(),isNormalized:mb.Ug(),needsHeaderRequest:mb.track.bV});}}catch(Lb){var Db;Db={error:Lb};}finally{try{ib && !ib.done && (Kb=$a.return) && Kb.call($a);}finally{if(Db)throw Db.error;}}return rb;},[]);this.dh.qs({nonStreamables:Ha});return O;};ta.prototype.FJb=function(Q){var O;O=Q.qT();if(this.config.J3 && O && this.navigator.KKb(O.yb.u,Q.I))return Q.Ll;for(;O && !O.osa;){Q=O;O=O.qT();}return Q.Ll;};ta.prototype.zIb=function(Q){var O;if(!Q.yb.Kd){O=Q.yb.u.u.Db;if(O)return (O=l.__read(this.Va.op(O),1)[0],null === O || void 0 === O?void 0:O.JF(Q.mediaType));}};ta.prototype.FTb=function(Q){var O,Z;if(!this.m$.Rq()){O=void 0;Z=this.Z.Jg;Z && (O=this.navigator.Od(Z.I).J);this.sf("BufferingStateTracker: Temporary failure while buffering",O,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.Nf,null === Q || void 0 === Q?void 0:Q.$x,null === Q || void 0 === Q?void 0:Q.Ph);}};ta.prototype.sf=function(Q,O,Z,oa,qa,Ha,Ya){void 0 === Ya && (Ya=!1);"string" === typeof Q?this.m$.sf(Q,Z,{networkErrorCode:oa,httpCode:qa,nativeCode:Ha,viewableId:O,temporaryFailure:Ya}):this.m$.HYb(Q);return !0;};ta.prototype.bxa=function(Q,O){O=this.N4(O,Q);this.events.emit("logdata",{type:"logdata",target:Q,fields:O});};ta.prototype.N4=function(Q,O){void 0 !== Q && this.K6.qOb(Q);O=this.Sv.Qi(Q,O);Q === z.qc.Oi && (Q=this.AF(),O.vbuflmsec=Q.totalvbuflmsecs,O.abuflmsec=Q.totalabuflmsecs,O.vbuflbytes=Q.vbuflbytes,O.abuflbytes=Q.abuflbytes);return O;};ta.prototype.fdb=function(Q){this.JR=Q;this.uj("updateBudget");};ta.prototype.Rq=function(){return this.m$.Rq();};ta.prototype.Bdb=function(Q){Q !== this.weight && (this.ZPa=Q,this.events.emit("weightUpdated"));};ta.prototype.Rt=function(Q){var O,Z,oa,qa,Ha,Ya,nb,Fb,Kb,Ta,$a,ib,mb,pb,Bb,Db;oa=(0,N.wSa)(this.ga,Q);qa=oa.fN;Ha=oa.mvb;Ya=oa.v4b;if([oa.Wga,qa,Ha].every(function(Pb){return !Pb.length;}))return (this.wva(Q),this.Bm.start(),{ha:!0,reason:h.kq.Kkb});if(0 === Ha.length && 0 === Ya.length && this.Nq && this.Z.Pd)return {ha:!1,reason:h.kq.Ujb};if(this.Z.Va.some(function(Pb){return -1 < qa.indexOf(Pb.u.id);}))return {ha:!1,reason:h.kq.Ilb};if(this.Oq && !this.Z.Pd && -1 < qa.indexOf(this.yh.I))return {ha:!1,reason:h.kq.ljb};if(this.Oq)try{for(var Wa=l.__values(Ha),rb=Wa.next();!rb.done;rb=Wa.next()){nb=rb.value;Fb=this.ga.M[nb];Kb=Fb.sa;Ta=Fb.ta;$a=Fb.J;ib=Q.M[nb];mb=ib.ta;pb=ib.sa;Bb=ib.J;if(this.Jg.I === nb && mb !== Ta){if(!mb)return {ha:!1,reason:h.kq.Jlb};Db=d.N.Ma(mb - pb);if(null === (Z=this.Jg.offset) || void 0 === Z?0:Z.greaterThan(Db))return {ha:!1,reason:h.kq.Xeb};}if(Kb !== pb)return {ha:!1,reason:h.kq.Yhb};if($a !== Bb)return {ha:!1,reason:h.kq.Zhb};}}catch(Pb){var Lb;Lb={error:Pb};}finally{try{rb && !rb.done && (O=Wa.return) && O.call(Wa);}finally{if(Lb)throw Lb.error;}}this.wva(Q);this.Bm.start();return {ha:!0,reason:h.kq.Jkb};};ta.prototype.hB=function(Q){Q=this.$S(Q);Q=0 < Q.length?Q[0]:void 0;if((Q=null === Q || void 0 === Q?void 0:Q.Qs()) && 0 !== Q.length)return d.N.min.apply(d.N,l.__spreadArray([],l.__read(Q.map(function(O){return O.hB();})),!1));};ta.prototype.wva=function(Q){var O;O={type:"playgraphUpdating",NSb:this.nj,KRb:Q};this.nj=Q;this.navigator?this.navigator.update(Q):this.navigator=new H.gKa(Q);this.hKb=(0,N.ZTa)(this.navigator);this.l5b();this.events.emit("playgraphUpdating",O);};ta.prototype.l5b=function(){var Q,O,Z,oa,qa;Z=this.Z && this.Nq && this.Z.Pd?this.Jg:void 0;if(Z){oa=this.navigator.Od(Z.I);Z=null === (Q=this.Z.nl) || void 0 === Q?void 0:Q.G3;if((Q=this.Mma(oa)) && Q !== Z && this.Z.rp){qa=this.Z.Hy;null === (O=this.Z.nl) || void 0 === O?void 0:O.CH({u:qa.u,get wX() {return qa.ab.wa(qa.u.Ud);}},Q,this.Jg.offset,!0,!1);}}};ta.prototype.tV=function(Q,O){this.m9a(Q);Q.SK.addListener("criticalNetworkError",this.T7);Q.SK.addListener("temporaryNetworkError",this.sV);Q.SK.addListener("updatingLastSuccessEvent",this.c8);Q.events.addListener("liveEventTimesUpdated",this.M7);Q.events.addListener("liveLoggingInfoUpdated",this.N7);Q.ia && Q.DWb();this.Sa === m.lm.qm && O && this.g$a();};ta.prototype.Tra=function(Q){0 === this.Va.filter(function(O){return O.Tn && O.pa === Q;}).length && this.m9a(Q);};ta.prototype.m9a=function(Q){Q.SK.removeListener("criticalNetworkError",this.T7);Q.SK.removeListener("temporaryNetworkError",this.sV);Q.SK.removeListener("updatingLastSuccessEvent",this.c8);Q.events.removeListener("liveEventTimesUpdated",this.M7);Q.events.removeListener("liveLoggingInfoUpdated",this.N7);};ta.prototype.nQa=function(Q){var O;(0,t.assert)(Q.Ug,"expected branch to be normalized on addBranchToPlayer");this.Z.rp || (null === (O=this.vm) || void 0 === O?0:O.Ug) || this.bFb(Q);this.jf.vxa(Q.Wd);this.Z.rp && (O=this.Z.Sq) && this.ug.clear(O.u.id);this.Z.Nka(Q);this.p2.Uwa(Q,this.Md);};ta.prototype.bFb=function(Q){(0,t.assert)(Q.La,"Normalized branch should have a defined content start timestamp");(0,t.assert)(this.vm,"AsePlaygraph should have a seek position on first branch normalization");(0,t.assert)(!this.vm.Ug,"Seek position should not already be normalized on first branch normalization");this.vm=l.__assign(l.__assign({},this.vm),{position:{I:Q.u.id,offset:Q.La.wa(Q.u.Ud)},Ug:!0});this.jf.I_b(this.vm.position,Q.Wd.filter(function(O){return O.mediaType === h.v.fa;})[0]);};ta.prototype.Qvb=function(){var Q;this.p2.reset();this.Z.EA();this.vm=void 0;null === (Q=this.eSa) || void 0 === Q?void 0:Q.clear();};ta.prototype.Bzb=function(Q,O,Z,oa,qa,Ha,Ya){var Wa,rb,nb,Fb;Wa=this;Fb=null !== (nb=null === (rb=Q.yb.Bb) || void 0 === rb?void 0:rb.G) && void 0 !== nb?nb:Q.yb.fy.G;rb=Q.HC.G;nb=this.ug.get(Q.I)?1:Q.yb.u.Sy;return {identifier:Q.I,mediaType:Q.mediaType,Yg:Q.Yg,hf:this.hf.value,By:O,wr:rb,Cq:Ha,NXa:Q.XK.G,ata:Ya.offset.G,$sa:oa,RV:qa,Sy:nb,lF:Q.yb.ue.G,rbb:Math.max(rb - Fb,0),GB:Q.GB(),Ys:Q.Ys(),Pk:Q.Pk,groupId:Z,i2a:function(Kb,Ta){Kb=Wa.pbb.Vub(Kb,Q.mediaType,1 > Ta || !Q.yb.Kd && !Wa.S5(Q.yb));1 === Ta && "global" === (0,h.Ita)(Kb.reason) && Wa.jf.dTb(Q.mediaType,Wa.Pn(Wa.Md));return Kb;},o2a:function(){var Kb,Ta,$a,ib,mb,pb,Bb,Db,Lb,Pb,Xb,Ib,Ob;ib=Q.mediaType;mb=Wa.Ana.j_b(Wa.hf.value,Wa.Md,Q.HC,Q.qbb,Wa.Z.playbackRate,Q,ib === h.v.fa?Wa.Zsb:Wa.Z$,Wa.V1);pb=mb.stream;Bb=mb.QW;Db=mb.FL;Lb=mb.Et;Pb=mb.Gv;Xb=mb.reason;Ib=mb.EEb;mb=mb.k_b;if(!pb)return {Lh:!1,reason:Xb || "selectLocationsAndStream"};if(Wa.hf.value === h.Yc.qm && Q.yb && Q.yb.pa.Sl && !Q.yb.pa.QU && !Wa.Z.bU(Q.yb.pa.J)){Xb=Q.HC.G - Wa.Md.G;if(!Q.yb.pa.np && Xb > Wa.config.c4a)return {Lh:!1,reason:"maxBufferingCompleteBufferInMs"};if(!pb.Kh && pb.mediaType === h.v.X && Xb >= Wa.config.kqa)return {Lh:!1,reason:"maxFastPlayBufferInMs"};}Xb=h.v.X;if(null === (Kb=Q.yb) || void 0 === Kb?0:Kb.Wd.every(function(Qb){return Qb.mediaType === h.v.fa;}))Xb=h.v.fa;Wa.jf.zj && ib === Xb && Wa.jf.U_b(Q.gl.m_b,pb.bitrate,Db);Wa.O_b(Q.yb.u,Bb);Kb=null === (Ta=Q.yb.Br) || void 0 === Ta?void 0:Ta.G;Ta=Q.Ocb(pb,Pb,Lb);if(Ta.Lh){Wa.lfa && (Wa.CJ("firstDriveStreaming"),Wa.lfa=!1);if(0 < Wa.TA){Ob=null === ($a=Q.yb.Br) || void 0 === $a?void 0:$a.G;Kb && Ob && (Wa.TA-=Kb - Ob,0 >= Wa.TA && Wa.g$a());}Wa.events.emit("requestIssued",{type:"requestIssued",mediaType:ib,result:mb,streamList:Ib});}else "exceedsLiveEdge" === Ta.reason && (null === (Ob=Wa.Kfa) || void 0 === Ob?void 0:Ob.Pa(),Wa.Kfa=Wa.Yp.KA(v.Pg.SC(pb.Rn().ue),function(){Wa.Kfa=void 0;Wa.uj("liveEdgeRetry");}));return Ta;}};};ta.prototype.O_b=function(Q,O){var Z;Z=this;O.forEach(function(oa){oa.pa.N_b(oa,Q,function(){var qa,Ha;(0,t.assert)(Z.Oq,"Speculative header callback after streaming is cancelled");qa=Z.Md.G;Ha=qa + Z.config.l7;return {Yg:[],hf:Z.jf.state.value,By:Ha,wr:Ha,Cq:qa};});});};ta.prototype.g$a=function(){var Q;Q=this;this.Bm.baa(W.nD.xw,function(){return Q.Bm.start();});};ta.prototype.Z8=function(){var Q,O,Z,oa,qa;Q=this;if(this.Sa === m.lm.qm){O=this.Jg;Z=this.Z.Va;oa=this.Va.WJb();qa=l.__read(Z,1)[0];O=qa?this.navigator.Od(qa.u.id):this.navigator.Od(O.I);Z=Z.map(function(Ha){return {id:Ha.u.id,duration:Ha.Lb.wa(Ha.Bb).G};});oa=(0,K.Z8)(this.console,this.hKb,O,oa,this.ug,Z,d.N.Ma(this.config.Itb),this.config.Nqa,d.N.Ma(this.config.Uha));Z=oa.pua;this.TA=oa.TA || 0;oa=this.Wka.reduce(function(Ha,Ya){return Ya(Ha);},Z);this.Va.J4b(oa,function(Ha,Ya){var Wa,rb;rb=Q.navigator.Od(Ha);Ha=Ha === Q.yh.I?Q.yh.offset:Ha === (null === (Wa=Q.c1) || void 0 === Wa?void 0:Wa.I)?Q.c1.offset:d.N.Ia;Wa=rb.Ud.add(Ha);return Q.g4b(rb,Wa,Ya);}).fN.forEach(function(Ha){Ha.If("aborted");});this.V8a();this.USa();this.Bm.baa(W.nD.xw,function(){var Ha;(null === (Ha=Q.Va.root()) || void 0 === Ha?0:Ha.Tn) && Q.uj("reevaluateBranches");Q.Bm.UU(W.nD.SP);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};ta.prototype.eKb=function(){return (0,g.pha)(this.Va.filter(function(Q){return Q.Tn;}).map(function(Q){return Q.pa;}));};ta.prototype.V8a=function(){var Q,O;Q=this;if(this.Sa === m.lm.qm){if(!this.Z.Sq){O=l.__read(this.Va.op(this.yh.I),1)[0];(null === O || void 0 === O?0:O.Ug) && this.nQa(O);}if(this.Z.Sq)for(;;){O=this.oZa(this.Z.Sq.u);if(!O)break;O=l.__read(this.Va.op(O).filter(function(Z){return Z.parent === Q.Z.Sq;}),1)[0];if(!O)break;if(null === O || void 0 === O || !O.Ug)break;else if(this.Z.U_a(O))break;this.nQa(O);}}};ta.prototype.Mma=function(Q){var O,Z,oa,qa;if(this.Z.rp){O=this.Z.Hy;Z=!1;oa=this.Z.Va.filter(function(Ha){Z || (Z=Ha === O);return Z;});qa=(0,g.Tu)(oa,function(Ha){return Ha.u.id === Q.id;});if(oa=oa[qa + 1])return oa.u.id;}return this.oZa(Q);};ta.prototype.oZa=function(Q){var O;O=this.ug.get(Q.id);if(void 0 !== O)return O;Q=this.navigator.iHb(Q);if(1 === Q.length)return Q[0].id;};ta.prototype.USa=function(){var Q;Q=this.Va.empty || 0 !== this.kGb();Q || this.l$?Q && this.l$ && (this.l$=!1):(this.jf.zj && (Q=this.Pn(this.Md),this.jf.Dm("complete",Q.eO,Q.fO)),this.Job(),this.l$=!0);};ta.prototype.kGb=function(){return this.Va.filter(function(Q){return !Q.$h;}).length;};ta.prototype.dE=function(Q){this.S5(Q) && this.jf.Fia(this.Md,this.Z.playbackRate,Q,{Eia:this.Ana.Eia.bind(this.Ana,this.pbb)});};ta.prototype.USb=function(Q,O){var Z,oa;Z=this;if(O.didNormalizeSegment){oa=ia.yLa.dKb(Q);(0,t.assert)(oa,"Segment should be normalized");Promise.resolve().then(function(){return Z.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.u.id,normalizedStart:O.segmentContentStart,normalizedEnd:O.branchContentEnd,viewableContentEnd:oa.leb,viewableEarliestContentEnd:oa.meb,media:c(Q.Wd)});});}Promise.resolve().then(function(){Z.V8a();});this.uj("branchNormalized");};ta.prototype.VSb=function(){this.USa();};ta.prototype.TSb=function(){this.Bm.start();};ta.prototype.Nzb=function(Q,O){var Z;Z=this;return new n.Wza(Q.J,this.ks.no.bind(this.ks),function(oa,qa,Ha){Z.state !== m.lm.CLOSED && (Z.tV(qa,Ha),Z.Bm.baa(W.nD.SP,function(){oa.Kd || Z.Iob(oa,qa,O);}));},this.Tra.bind(this));};ta.prototype.g4b=function(Q,O,Z){var oa,qa;if(this.Nvb(Q,O))throw Error("Not implemented");oa=this.Nzb(Q,!Z);qa=Z?Z.Lb.wa(O):this.d1a || d.N.Ia;Q=(0,p.YTa)({config:this.config,console:this.console,u:Q,events:this.events,tH:this.tH,Xm:O,te:qa,Ms:this.Yzb.bind(this),hf:this.hf,Gd:this.Gd,hI:oa,iSa:this.yl,Qsa:this.Va});this.m2b(Q,!!Z);return Q;};ta.prototype.Yzb=function(){return this.Md.G;};ta.prototype.m2b=function(Q,O){var Z,oa;Z=this;oa=new f.Re();oa.addListener(Q.events,"needsRequest",function(){var qa;qa=Z.Va.root();qa && !qa.Tn || Z.uj("branchNeedsHeader");});oa.addListener(Q.events,"branchNormalized",this.USb.bind(this,Q));oa.addListener(Q.events,"lastRequestIssued",this.TSb.bind(this,Q));oa.addListener(Q.events,"branchStreamingComplete",this.VSb.bind(this,Q));oa.addListener(Q.events,"checkBufferingProgress",this.dE.bind(this,Q));oa.addListener(Q.events,"branchDestroyed",function(qa){oa.clear();Z.Va.contains(Q) && (Z.Va.qYb(Q),Z.Bm.start());"aborted" === qa.reason && (Z.Z.U_a(Q) || Z.Bm.baa(W.nD.xw,function(){return Z.Hob(Q.u.id);}));});O || (this.CJ("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){Z.CJ("createDlTracksEnd");}));};ta.prototype.MIb=function(Q){if(this.Z.Pd)return this.Z.Hy.cf(Q);};ta.prototype.tH=function(Q,O,Z,oa){O=[[h.v.fa,null !== O && void 0 !== O?O:this.DE,"audio_tracks"],[h.v.X,null !== Z && void 0 !== Z?Z:this.QX,"video_tracks"]].map(function(qa){var Ha,Ya;Ha=l.__read(qa,3);Ya=Ha[0];qa=Ha[1];Ha=Ha[2];if(Q.W && ((0,t.assert)(qa,("Expected mediaType ").concat(Ya," track selector to be defined")),Ya=Q.W[Ha],qa=qa.yN(Q.W,Ya),void 0 !== qa))return Q.getTrackById(Ya[qa].iO);}).filter(g.I7);Z=oa || this.UN;Q.W && Z && (oa=Q.W.timedtexttracks,Z=Z.yN(Q.W,oa),void 0 !== Z && 0 <= Z && (oa=Q.getTrackById(oa[Z].id)) && O.push(oa));return O;};ta.prototype.M7=function(Q){var O,Z,oa,qa;O=this;Z=Q.pa;oa=Q.startTime;qa=Q.endTime;this.Va.filter(function(Ha){return Ha.Tn && Ha.pa === Z;}).forEach(function(Ha){Ha={type:"liveEventTimesUpdated",I:Ha.u.id,startTime:oa,endTime:qa};O.events.emit(Ha.type,Ha);});};ta.prototype.N7=function(Q){var O,Z,oa,qa;O=this;Z=Q.pa;oa=Q.mediaType;qa=Q.info;this.Va.filter(function(Ha){return Ha.Tn && Ha.pa === Z;}).forEach(function(Ha){Ha={type:"liveLoggingInfoUpdated",I:Ha.u.id,mediaType:oa,info:qa};O.events.emit(Ha.type,Ha);});};ta.prototype.Iob=function(Q,O,Z){(0,t.assert)(Q.Wd.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.u.id,contentOffset:Q.te.G,maxBitrates:{audio:O.bM[h.v.fa],video:O.bM[h.v.X]},media:c(Q.Wd),initial:Z};this.events.emit(Q.type,Q);};ta.prototype.Hob=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};ta.prototype.Job=function(){var Q;Q={type:"streamerEnd",time:u.default.time.Ga()};this.events.emit(Q.type,Q);};ta.prototype.CJ=function(Q){Q={type:"startEvent",event:Q,time:u.default.time.Ga()};this.events.emit(Q.type,Q);};l.__decorate([ha.return.th()],ta.prototype,"yh",null);l.__decorate([(0,F.Sb)({methodName:"checkCanSetTracks",return:!0})],ta.prototype,"pvb",null);l.__decorate([(0,F.Sb)({methodName:"setTracks",return:!0})],ta.prototype,"Wy",null);l.__decorate([(0,F.Sb)({methodName:"setNextSegment",sq:!0})],ta.prototype,"Nj",null);l.__decorate([(0,F.Sb)({methodName:"seekStreaming"}),l.__param(0,ha.th())],ta.prototype,"zC",null);l.__decorate([(0,F.Sb)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,ha.th()),l.__param(2,ha.th()),l.__param(2,ha.O7)],ta.prototype,"A9",null);l.__decorate([ha.return.bUa(),l.__param(0,ha.th())],ta.prototype,"ET",null);l.__decorate([ha.return.th()],ta.prototype,"Xk",null);l.__decorate([l.__param(0,ha.th())],ta.prototype,"RF",null);l.__decorate([l.__param(0,ha.th())],ta.prototype,"FT",null);l.__decorate([ha.return.th(),l.__param(0,ha.th())],ta.prototype,"d$a",null);l.__decorate([l.__param(0,ha.bUa()),l.__param(0,ha.I())],ta.prototype,"Js",null);l.__decorate([(0,F.Sb)({methodName:"getStreamables",dk:!0})],ta.prototype,"uL",null);l.__decorate([(0,F.Sb)({methodName:"updatePlaygraphMap",return:!0})],ta.prototype,"Rt",null);return ta;})();b.Gaa=r;},82800:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.qya=b.fQa=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(94160);d=a(94160);g=a(47571);m=c.__importDefault(a(29736));h=a(18934);n=a(50971);p=a(95994);q=a(74005);b.fQa=["AD_BREAK_UNAVAILABLE"];u=(function(){function t(w,v){this.J=w;this.Rc=v;this.kW=!1;this.y1=new f.AbortController();}t.isEqual=function(w,v){return v.J === w.J && v.Rc === w.Rc;};return t;})();r=(function(){function t(w,v,y,x,z,A){var B;B=this;this.ks=w;this.Aa=y;this.xeb=x;this.config=z;this.console=A;this.items=[];this.events=new l.EventEmitter();v.events.addListener("adBreakComplete",function(){B.kcb=B.xeb.qa.currentTime;});this.console=(0,q.Nh)(m.default,A,"AdBreakHydrator");}t.prototype.RZb=function(w){c.__awaiter(this,void 0,void 0,function(){var v,y,x,z,A;A=this;return c.__generator(this,function(B){switch(B.label){case 0:v=w.map(function(D){return new u(D.J,D.Rc);});y=(0,d.BTa)(this.items,v,u.isEqual);this.items=y.result;y.Vta.forEach(function(D){var C;null === (C=D.y1) || void 0 === C?void 0:C.abort();});p.K && this.console.log("Evaluated schedule",{vbc:y.trb.length,Vta:y.Vta.length,U7a:y.U7a.length,ffc:y.result.length});x=this.items.filter(function(D){return !D.kW;}).map(function(D){return A.Zi(D);});if(!(0,g.Vn)(this.Aa.hf.value))return [3,5];z=this.items.map(function(D){return A.ks.no(D.J).oG;});B.label=1;case 1:return (B.Qj.push([1,,3,4]),[4,Promise.race(x)]);case 2:return (B.Qa(),[3,4]);case 3:return (z.forEach(function(D){return D.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(x)];case 6:(B.Qa(),B.label=7);case 7:return [2];}});});};t.prototype.Zi=function(w){var v;return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:(p.K && this.console.log("Start scheduling for adbreak",{jhc:w.J,Pbc:w.Rc.qj}),null === (v=w.y1) || void 0 === v?void 0:v.abort(),y=new f.AbortController(),w.y1=y,x=(0,h.Fx)(this.Aa.ga,w.J,k.N.Ma(w.Rc.jk)),z=(0,f.sha)(y.signal),D.label=1);case 1:return (D.Qj.push([1,,5,6]),[4,Promise.race([this.Mra(y.signal).then(function(){return "rebuffer";}),Promise.all([this.q6b(z),this.s6b(x,z)]).then(function(){return "gatesPassed";}),z.then(function(){return "cleanup";})])]);case 2:A=D.Qa();p.K && this.console.log("Schedule completed for reason",A);if(y.aborted)return [3,4];p.K && this.console.log("Making Item Fetch",{Qbc:w.Rc.qj,jk:w.Rc.jk});w.kW=!0;return [4,this.gXb(w.Rc.Ho.mh,w.J,y.signal)];case 3:(D.Qa(),D.label=4);case 4:return [3,6];case 5:return (w.y1 === y && (B=this.items.indexOf(w),-1 !== B && (p.K && this.console.log(("Removing item ").concat(B,", ").concat(this.items.length - 1," left")),this.items.splice(B,1))),[7]);case 6:return [2];}});});};t.prototype.Mra=function(w){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,k.hq.y6b([this.Aa.hf],function(v){v=c.__read(v,1)[0];return (0,g.Vn)(v);},w)];});});};t.prototype.q6b=function(w){var v;v=this;return this.kcb && this.config.B0a?new Promise(function(y){var x,z;x=v.kcb.add(k.N.Ma(v.config.B0a));z=v.xeb.KA(n.Pg.Tt(x),y,"hydratorWaitTask");w.then(function(){return z.Pa();});}):Promise.resolve();};t.prototype.s6b=function(w,v){var y,x;y=this;if(!this.config.o4a)return Promise.resolve();x=k.N.Ma(this.config.o4a);return new Promise(function(z){var A,B;A=y.Aa.RF(w,!0);B=y.Aa.Gd.KA(n.Pg.Tt(A.wa(x)),z,"waitJitHydrateAdBreak");v.then(function(){return B.Pa();});});};t.prototype.gXb=function(w,v,y){var x,z,A,B,D,C;return c.__awaiter(this,void 0,void 0,function(){var F,G,E,J,M,L,I,P,K,H;return c.__generator(this,function(N){switch(N.label){case 0:(F=this.ks.no(v),G=F.oG,N.label=1);case 1:return (N.Qj.push([1,4,5,6]),[4,F.jz]);case 2:return (N.Qa(),[4,this.ks.Uv({mh:w,J:v})]);case 3:return (E=N.Qa(),y.aborted || (J=E.A1,M=E.wha,p.K && this.console.log("Hydrated response " + ("with ").concat(null === (x=E.A1.Ze) || void 0 === x?void 0:x.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",mh:w,A1:J,wha:M})),[3,6]);case 4:L=N.Qa();if(!y.aborted){if(I=null === (z=L.Rka) || void 0 === z?void 0:z.context)if((P=null !== (A=I.type) && void 0 !== A?A:I.type,K=null !== (B=I.error) && void 0 !== B?B:I.error,"adBreakHydration" === P && (H=null !== (C=null !== (D=K.edgeCode) && void 0 !== D?D:K.code) && void 0 !== C?C:K.code,-1 !== b.fQa.indexOf(H))))return (p.K && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("code: ").concat(H,", ") + ("parentViewableId: ").concat(v,", ") + ("adBreakToken: ").concat(w)),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",mh:w,wd:v}),[2]);this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",mh:w,error:L});}return [3,6];case 5:return (G.release(),[7]);case 6:return [2];}});});};return t;})();b.qya=r;},98875:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rya=void 0;c=a(70655);l=c.__importDefault(a(29736));f=a(26888);r=(function(){function k(d,g,m,h,n){this.Aa=d;this.Gd=g;this.events=m;this.Rc=h;this.console=n;this.Wo=0;h.h2 && l.default.ping && l.default.ping(h.h2);}Object.defineProperties(k.prototype,{kxa:{get:function(){return this.Wo;},enumerable:!1,configurable:!0}});k.prototype.xra=function(d,g,m,h,n){this.Ou && (this.Ou.Pa(),this.Ou=void 0);this.Ou=new f.MLa(this.Aa,this.Gd,this.events,this.Rc,d,g,m,h,n,this.console);};k.prototype.R7=function(d){this.Ou && (this.Ou.Pa(),this.Ou=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Rc.xga.complete),{th:d,uE:this.Rc.Ot,qj:this.Rc.qj}));this.Rc.Lna=!0;}catch(g){this.console.error("Impression error event",g);this.Wo++;}};k.prototype.jv=function(){var d;return {ad:null === (d=this.Ou) || void 0 === d?void 0:d.jv(),errors:this.Wo};};return k;})();b.rya=r;},87982:function(r,b,a){var l,f,k,d,g,m,h,n;function c(p){return null === p || void 0 === p?void 0:p.ce.map(function(q){return q.Ze;}).map(function(q){return null === q || void 0 === q?void 0:q.map(function(u){return u.id;});}).reduce(function(q,u){return null === u || void 0 === u?void 0:u.concat(q);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.sya=void 0;l=a(70655);f=a(28075);k=a(41427);d=a(94160);g=a(95994);m=a(44724);h=a(54533);n=a(3839);r=(function(){function p(q,u,t,w){this.config=q;this.console=u;this.Ta=t;this.Lc=w;this.Pu={};this.v6=!1;this.events=new f.EventEmitter();this.Ta.Qqb(this.JDb.bind(this));}Object.defineProperties(p.prototype,{nMb:{get:function(){return this.Ta.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ce:{get:function(){return this.Dn.kR;},enumerable:!1,configurable:!0}});p.prototype.va=function(q,u,t){this.Dn=new h.Kya(q,u);this.mR=new n.Hya(this.Dn,this.console,this.Ta,this.Lc);this.PJ=t;};p.prototype.xL=function(){var q;q=this;return !!(0,d.Hc)(Object.keys(this.ce),function(u){return 0 < q.ce[u].length;});};p.prototype.a8=function(q){var u,t,w;u=this.Lc.Tg;(0,m.assert)(u,"Could not get graph location service");if(0 < this.Dn.xxa){t=this.JA(this.Lc.ga);u=u.Ydb(this.Lc.ga,t);this.Dn.reset();}w=this.mR.jRa(q,u,t);q=w.yh;u=w.ZA;this.P2a=w.A8;g.K && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(q)));w=(null !== t && void 0 !== t?t:this.Ta.ga).M[q.I];this.v6=!!w.type && -1 < ["ad","padding"].indexOf(w.type);return {yh:q,ZA:u,C7:t};};p.prototype.tV=function(q,u){var t,w;t=this.qYa(q);w=this.Pu[q.O];this.Pu[q.O]=t;if(w=w !== t && (null === w || void 0 === w?void 0:w.ce.length) !== (null === t || void 0 === t?void 0:t.ce.length)){if(null === t || void 0 === t?0:t.ce)(this.Dn.E_b(q.O,t.ce),this.mR.bab(),g.K && this.console.trace("Received ad metadata for",{pa:q.O,Iqb:c(t)}));if(u && this.d0a(u)){if(this.vab(u))return l.__assign({RQa:w},this.qdb(u,"viewableReceived"));g.K && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(u,",\n                        didAppendData: ").concat(this.Ta.rJ,",\n                        enablePrerollForInitialSeek ").concat(this.Ta.config.L3));}}return {RQa:w,yxa:u};};p.prototype.vra=function(q,u,t){var w;w=this.qYa(q);(0,m.assert)(w,("adMetadata for viewable ").concat(q.J," should exist if an adBreak hydration was requested"));this.Pu[q.O]=w;this.Dn.vra(q.O,u);this.mR.bab();g.K && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{pa:q.O,Iqb:c(w)});if(t)return this.qdb(t,"adBreakHydration");};p.prototype.wra=function(q,u){this.Dn.wra(q,u);};p.prototype.sNb=function(){return !this.Ta.Z.rp && this.Ta.zj;};p.prototype.qdb=function(q,u){var t,w,v,y,x;g.K && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(q)));t=this.Lc.Tg;(0,m.assert)(t,"Could not get graph location service");w=this.JA(this.Lc.ga);t=t.Ydb(this.Lc.ga,w);v=this.mR.jRa(q,t,w);y=v.yh;v=v.ZA;this.v6=!1;x=w.M[y.I];x || (x=this.Ta.ga.M[y.I]);this.v6=!!x.type && -1 < ["ad","padding"].indexOf(x.type);t=null === t || void 0 === t?void 0:t.Pt(y);g.K && this.console.trace(("ads::updatePendingSeekPosition: should consider preroll on seek:\n            original seekPosition: ").concat(q,",\n            updated seekPosition: ").concat(t,",\n            entryPoint: ").concat(JSON.stringify(v),",\n            didAppendData: ").concat(this.Ta.rJ,",\n            enablePrerollForInitialSeek ").concat(this.Ta.config.L3,",\n            reason: ").concat(u));return {yxa:t,ZA:v,C7:w};};p.prototype.JA=function(q){var u,t,w;u=this;t=q;w=Object.keys(q.M).map(function(v){return ("").concat(q.M[v].J);});Object.keys(this.Pu).forEach(function(v){var y,x;if(-1 !== w.indexOf(v)){y=u.Pu[v];if(y){x=y.ce.map(function(z,A){z=u.ce[v][A];return z.Mq || z.Ze.reduce(function(B,D,C){return D.dU?l.__spreadArray(l.__spreadArray([],l.__read(B),!1),[C],!1):B;},[]);});y=(0,k.kUa)(parseInt(v),y,x,u.config.esa);t=(0,k.Aqa)(t,y);}}});return t;};p.prototype.d0a=function(q){return !!this.Pu[this.Lc.ga.M[q.I].J];};p.prototype.qYa=function(q){if(q.zm && (q=q.zm,q.ce.length))return q;};p.prototype.ska=function(q){this.Dn.ska(q);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:q});};p.prototype.Kva=function(q,u,t){var w;return this.mR.Kva(q,u,t,null === (w=this.nMb) || void 0 === w?void 0:w.we);};p.prototype.JDb=function(q){var u,t,w,v,y,x,z;u=this;if(!this.xL())return q;t=!0;w=[];v=[];x=this.Ta.oMb.ga;q.tF(function(A,B){var D,C,F,G;if(!(B || !A.u.P1a || u.sNb() && u.vab(u.Ta.yh)))return (u.console.trace("Hydration: Not checking root segment"),!0);C=x.M[A.u.id];(0,m.assert)(C,"Hydration: Segment must be present in innermost playgraph");F=C.J;if(C.type && -1 < ["ad","padding"].indexOf(C.type))t=!1;else if(C.Rb){G=u.Ta.ga.M[C.Rb];G && G.J !== C.J && (u.console.trace("Hydration: segment evaluated is a custom ident, get viewableId from equivalent segment. " + ("custom ident viewableId: ").concat(C.J,", ") + ("main content viewableId: ").concat(G.J)),F=G.J);}if((C=u.Dn.pYa(F,C.sa)) && !C.Mq)if(C.DSa && !C.xg){if(C.FN)u.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((G=null === (D=null === B || void 0 === B?void 0:B.yb) || void 0 === D?void 0:D.duration,u.v6 && G && 5E3 > G))u.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {w.push(A);if(t && 0 === v.length || y === B)(v.push({J:F,Rc:C}),y=B);return !1;}}else t=!1;return !0;});w.forEach(function(A){return q.remove(A);});this.PJ.RZb(v);if(this.config.hYb && q.root){z=x.M[q.root.u.id];(z=this.Dn.pYa(z.J,z.sa)) && z.FN && (z.FN=!1);}return q;};p.prototype.vab=function(q){var u,t,w;t=this.Ta.rJ;(w=0 === q.offset.G) || (t?(t=this.P2a,w=null === (u=this.Ta.Z.HF()) || void 0 === u?void 0:u.u.id,q=t && t.WFb === w && t.to.I === q.I && t.to.offset.G === q.offset.G?this.P2a.DKb:!0):q=this.Ta.config.L3,w=q);return w;};return p;})();b.sya=r;},84630:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tya=void 0;c=a(94160);r=(function(){function l(f,k){this.ps=f;this.Xe=k;}l.prototype.Cna=function(f){var k;k=this;return this.ps.Z.Va.some(function(d){return d.u.u.J === f && d.ZQa;})?!1:(0,c.Hc)(Object.keys(this.Xe.Pu),function(d){if(d=k.Xe.Pu[d])return (0,c.Hc)(d.ce,function(g){return g.Ze && (0,c.Hc)(g.Ze,function(m){return m.id === f;});});})?(this.Xe.ska(f),!0):!1;};return l;})();b.tya=r;},57389:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vya=void 0;c=a(28075);l=a(19829);r=(function(){function f(k,d,g){var m;m=this;this.Xe=d;this.yn=new c.Re();this.zp="adHydratorAudit";this.qd="adHydratorAuditor";this.enabled=!0;this.yn.on(k.events,"adBreakPresenting",function(h){m.state.jQa.push(h.presentingInfo.Rc.RJ.x_b);});this.yn.on(g.events,"adBreakHydrated",function(){m.state.hQa++;});this.yn.on(g.events,"adBreakHydrationFailed",function(){m.state.gQa++;});this.yn.on(g.events,"adBreakHydrationSkipped",function(){m.state.kQa++;});this.state={hQa:0,gQa:0,kQa:0,jQa:[]};}f.prototype.Qi=function(k){k=k.Ti;if(this.Xe.xL() && k === l.qc.Oi)return {adBreaksPresentedSequence:this.state.jQa,adBreaksHydratedCount:this.state.hQa,adBreaksFailedHydratedCount:this.state.gQa,adBreaksSkippedCount:this.state.kQa};};f.prototype.Pa=function(){this.yn.clear();};return f;})();b.vya=r;},40588:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wya=void 0;c=a(28075);l=a(19829);r=(function(){function f(k,d,g){var h;function m(n){var p,q;(p=h.state.Aga)[q=n.event] || (p[q]=0);h.state.Aga[n.event]++;}h=this;this.Xe=d;this.coa=g;this.yn=new c.Re();this.zp="adImpressionAudit";this.qd="adImpressionAuditor";this.enabled=!0;this.yn.on(k.events,"adPresenting",function(){return h.state.SQa++;});this.yn.on(k.events,"adBreakPresenting",function(){return h.state.iQa++;});this.yn.on(g.events,"adEvent",m);this.yn.on(g.events,"adBreakEvent",m);this.state={iQa:0,Aga:{},SQa:0};}f.prototype.Qi=function(k){k=k.Ti;if(this.Xe.xL() && k === l.qc.Oi)return {presented:{breaks:this.state.iQa,ads:this.state.SQa},events:this.state.Aga,logger:this.coa.jv()};};f.prototype.Pa=function(){this.yn.clear();};return f;})();b.wya=r;},30327:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zya=void 0;r=a(70655);c=a(28075);l=r.__importDefault(a(29736));f=a(74005);k=a(44724);d=a(95994);g=a(98875);a=(function(){function m(h,n,p,q){this.Ta=n;this.Gd=p;this.Wo=0;this.events=new c.EventEmitter();this.console=(0,f.Nh)(l.default,q,"IMPRESSION");h.events.addListener("adBreakPresenting",this.S7.bind(this));h.events.addListener("adBreakComplete",this.R7.bind(this));h.events.addListener("adPresenting",this.xra.bind(this));}Object.defineProperties(m.prototype,{QT:{get:function(){return !!this.Cl;},enumerable:!1,configurable:!0}});m.prototype.S7=function(h){this.Cl && (d.K && this.console.warn("Unexpected back-to-back ad breaks"),this.Cl.R7(h.Qm.position),this.Wo+=this.Cl.kxa,this.Cl=void 0);(0,k.assert)(h.Qm.Rc,"Ad break must be defined for ad break presenting");this.Cl=new g.rya(this.Ta,this.Gd,this.events,h.Qm.Rc,this.console);};m.prototype.R7=function(h){var n,p,q;q=h.Qm.Rc || (null === (n=this.Cl) || void 0 === n?void 0:n.Rc);d.K && this.console.trace(("adBreakComplete event, ").concat(this.Cl?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.qj," is ") + ("").concat(q.Ze.length?"not ":"","empty, ") + ("has ").concat(q.Mq?"":"not ","played"):"no ad break"));if(0 === (null === (p=h.Qm.Rc) || void 0 === p?void 0:p.Ze.length))((0,k.assert)(!this.Cl,"Received ad break complete for empty ad break during ad break"),h.Qm.Rc.c0b(),this.S7(h));else if(!this.Cl)return;this.Cl.R7(h.Qm.position);this.Wo+=this.Cl.kxa;this.Cl=void 0;};m.prototype.xra=function(h){var n,p,q;(0,k.assert)(this.Cl,"Expect to be in ad break when ad presenting is received");(0,k.assert)(this.Cl.Rc === h.Qm.Rc,"Expect to be in correct ad break when ad presenting is received");p=this.Ta.$S(h.Qm.position.I)[0];q=h.Qm.Kp;this.Cl.xra(h.Qm.ff,null === p || void 0 === p?void 0:p.pa,h.Qm.position.I,q,null !== (n=null === p || void 0 === p?void 0:p.Bb) && void 0 !== n?n:q);};m.prototype.jv=function(){var h;return {"break":null === (h=this.Cl) || void 0 === h?void 0:h.jv(),errors:this.Wo};};return m;})();b.zya=a;},40612:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Aya=void 0;c=a(87982);l=a(96349);f=a(89025);k=a(30327);d=a(84630);g=a(40588);m=a(82800);h=a(57389);r=(function(){function n(p,q,u,t,w,v){this.C1=v;this.INa=new c.sya(q,p,u,t);this.gpb=new l.Iya(u,t,this.Xe);this.fE=new f.OJa(this,u,p);this.xfa=new k.zya(this.fE,u,u.Gd,p);this.HNa=new m.qya(w,this.fE,t,t.Yp,q,p);u.Sv.Ye(new g.wya(this.fE,this.Xe,this.xfa));u.Sv.Ye(new h.vya(this.fE,this.Xe,this.HNa));this.INa.va(this.xfa.events,this.fE.events,this.PJ);this.Bmb=new d.tya(u,this.Xe);}Object.defineProperties(n.prototype,{Xe:{get:function(){return this.INa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{MM:{get:function(){return this.gpb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{t7a:{get:function(){return this.fE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{coa:{get:function(){return this.xfa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Gqb:{get:function(){return this.Bmb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{PJ:{get:function(){return this.HNa;},enumerable:!1,configurable:!0}});n.prototype.ci=function(p){return this.fE.ci(p);};return n;})();b.Aya=r;},48487:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YR=void 0;c=a(70655);l=a(35340);f=a(81253);k=a(35490);d=a(43221);g=a(64525);b.YR=function(m,h,n){var p,q,u,t,w;p=c.__assign({Mba:f.Lba},m).Mba;q=h.LV[5];u=(0,k.Nra)(function(){return w;});q.uQa(u.no);m=new l.Tca();t={Tg:void 0,Lc:void 0,Ta:void 0,Aoa:m,Z2a:"ads"};t.Tg=new p(function(){return t.Lc.ga;},m,h.LV[2],"Ads:");w=new g.Fya(t,u.zbb,d.Jv.Dua.qN,q);p=h.fha;h.fha=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[w],!1);t.Ta=n(h);t.Lc=d.Jv.rta(t.Ta,w,function(){return t;},p);w.va();m.va(t.Ta);m.Y8();return t.Lc;};},64525:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Fya=void 0;c=a(70655);l=a(28075);f=a(95994);k=a(15876);d=a(74573);g=a(44724);r=a(11064);m=a(89098);h=a(40612);a=(function(n){function p(q,u,t,w){q=n.call(this,q,u,t,"AdsPlaygraphHost",!1) || this;q.ks=w;q.eJ=void 0;q.Jsa=new l.Re();q.x3a=new m.Tda();q.C1=new l.EventEmitter();return q;}c.__extends(p,n);Object.defineProperties(p.prototype,{Lc:{get:function(){return this.$k.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ps:{get:function(){var q;q=this.JA(this.Lc.ga);if(q !== this.Lc.ga)return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Sc:{get:function(){return this.eJ;},enumerable:!1,configurable:!0}});p.prototype.va=function(){var q;q=this;n.prototype.va.call(this);this.$k.Ta.Ye(new k.Gya(this.$k));this.eJ=new h.Aya(this.V,this.Y,this.Ta,this.Lc,this.ks,this.C1);this.$k.Ta.Sc=this.eJ;this.Sc.PJ.events.on("adBreakHydrated",function(u){return q.Y7a(u);});this.Sc.PJ.events.on("adBreakHydrationFailed",function(u){return q.sf(u.error);});this.Sc.PJ.events.on("adBreakHydrationSkipped",function(u){return q.CWb(u);});};p.prototype.qC=function(q){var u,t,w,v,y;w=n.prototype.qC.call(this,q);if(w){(0,g.assert)(this.Sc,"missing manager");q=this.Sc.Xe.tV(q,null === (u=this.AL) || void 0 === u?void 0:u.yh);u=q.yxa;v=q.ZA;y=q.C7;q.RQa && this.TM(y,u,null === (t=this.AL) || void 0 === t?void 0:t.Kp,v);}return w;};p.prototype.Y7a=function(q){var u,t,w;w=q.wha;q=w.rLb(q.A1,q.mh);(0,g.assert)(this.Sc,"missing manager");q && ((w=this.Sc.Xe.vra(w,q,null === (u=this.AL) || void 0 === u?void 0:u.yh))?(u=w.ZA,this.TM(w.C7,w.yxa,null === (t=this.AL) || void 0 === t?void 0:t.Kp,u)):this.TM());};p.prototype.CWb=function(q){this.Sc.Xe.wra(q.wd.toString(),q.mh);this.TM();};p.prototype.sf=function(q,u,t,w,v,y,x){var z,A;void 0 === x && (x=!1);z=!1;A=!1;u && !x && (z=this.Sc.Gqb.Cna(u));z?this.TM():A=this.$k.Ta.sf(q,u,t,w,v,y,x);return A;};p.prototype.zC=function(q,u){var t,w,v,y,x;t=this;this.Ava(q,u);w=this.Lc.Gd.qa;this.Jsa.clear();this.Jsa.addListener(w,"stopStart",function(){w.hi && (t.AL=void 0,t.Jsa.clear());});if(this.Sc.Xe.d0a(q)){f.K && this.V.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));v=this.Sc.Xe.a8(q);y=v.yh;x=v.ZA;if(v=v.C7)(f.K && this.V.trace("ads::seekStreaming: ads playgraph was updated"),this.TM(v,q,u));f.K && this.V.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(y),", ") + ("playerTimestamp: ").concat(u,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Ta.A9(y,u,x);}else this.Ta.zC(q,u);};p.prototype.TM=function(q,u,t,w){var v;v=this;this.x3a.hha || this.x3a.Deb(function(){v.Ota(q,v.Lc.ga,u,t,w);v.C1.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.JA=function(q){return this.Sc.Xe.JA(q);};p.prototype.If=function(q){n.prototype.If.call(this,q);this.AL=void 0;};p.prototype.Ava=function(q,u){this.AL={yh:q,Kp:u};};c.__decorate([(0,d.Sb)({methodName:"ads::processViewableResponse"})],p.prototype,"qC",null);c.__decorate([(0,d.Sb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"Y7a",null);c.__decorate([(0,d.Sb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"sf",null);c.__decorate([(0,d.Sb)({methodName:"ads::seekStreaming"})],p.prototype,"zC",null);c.__decorate([(0,d.Sb)({methodName:"ads::cancelStreaming"})],p.prototype,"If",null);return p;})(r.Gda);b.Fya=a;},3839:function(r,b,a){var l,f,k,d;function c(g,m){var h;h=m && g.M[m];if(h)return "content" !== h.type?c(g,h.Db):m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Hya=void 0;l=a(94160);f=a(95994);k=a(44724);d=a(96349);r=(function(){function g(m,h,n,p){this.Dn=m;this.console=h;this.Ta=n;this.Lc=p;}g.prototype.bab=function(){this.Z0=void 0;};g.prototype.jRa=function(m,h,n){var p,q,u,t,w,v,y,x,z;void 0 === n && (n=this.Ta.ga);q=this.Dn.kR[this.Lc.ga.M[m.I].J];u=h.RA(m);t=u;w=n.M[u.I];if(0 === u.offset.G)v=this.Xma(n,q,u);else {"padding" === w.type && (u={I:w.Db,offset:l.N.Ia});y=null === (p=this.Ta.Z.HF()) || void 0 === p?void 0:p.u.id;if(y)x=y;else (p=c(n,n.we),this.Ta.Z.rp || !this.Ta.zj || this.Ta.rJ || p !== u.I?x=p:v=this.Xma(n,q,h.RA({I:m.I,offset:l.N.Ia})));!v && x && (f.K && this.console.trace(("ads::seekStreaming: seek from segment ").concat(x)),v=this.UIb(x,u,n));}if(v)if(v.I){t={I:v.I,offset:l.N.Ia};z=u;}else this.Z0=v.Rc;m={DKb:!!v,WFb:x,to:u};return z || "ad" !== w.type?{yh:t,ZA:z,A8:m}:{yh:u,ZA:u,A8:m};};g.prototype.Kva=function(m,h,n,p){if(this.Z0)return (h=this.Z0,this.Z0=void 0,h);if((m=this.Dn.kR[m]) && m.length)if(n && h.I === p && h.offset.equal(l.N.Ia)){if((h=m[0],0 === h.jk && 0 === h.Ze.length && !h.Mq && !h.Lna))return h;}else if(!n)return this.qma(h.I,m);};g.prototype.UIb=function(m,h,n){var p,t,w;f.K && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(m," to ").concat(JSON.stringify(h)));if(n){p=this.Dn.kR[this.Lc.ga.M[n.M[h.I].Rb].J];n=n.M;m=n[m].Db;for(var q=void 0,u=void 0;m;){t=n[m];if("content" === t.type && ("content" === q || void 0 === q) && p){w=this.qma(m,p);w && (u={Rc:w});}if(m === h.I)return (h=u && !u.I || q && "content" !== q?u:void 0,f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(h)),h);"ad" === t.type && "ad" !== q && (f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(m)),q=(0,d.zF)(m),(0,k.assert)(q,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),u={I:m,Rc:p[null === q || void 0 === q?void 0:q.qj]});q=t.type;m=t.Db;}}f.K && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};g.prototype.Xma=function(m,h,n){var p,q;p=m.M;n=n.I;q=p[n].type;if("padding" === q)return this.Xma(m,h,{I:p[n].Db,offset:l.N.Ia});f.K && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",n);if("ad" === q)return (m=(0,d.zF)(n),(0,k.assert)(m,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{I:n,Rc:h[null === m || void 0 === m?void 0:m.qj]});if("content" === q){if(h=this.qma(n,h))return {Rc:h};}else f.K && (0,k.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};g.prototype.qma=function(m,h){m=(0,d.RYa)(m);(0,k.assert)(m,"Should have contentInfo from segment name");if(0 < m.cUa && (h=h[m.cUa - 1],0 === h.Ze.length && !h.Mq && !h.Lna))return h;};return g;})();b.Hya=r;},96349:function(r,b,a){var l,f,k;function c(d){var g;g=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(g)return {B1:parseInt(g[2]),qj:parseInt(g[1]),eG:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {qj:parseInt(d[4]),eG:!0,AV:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.RYa=b.zF=b.Iya=void 0;l=a(94160);f=a(93959);k=a(81768);r=(function(){function d(g,m,h){this.ps=g;this.Lc=m;this.Xe=h;}d.prototype.qGb=function(g){for(var m,h,n=c(null === g || void 0 === g?void 0:g.I),p=this.ps.ga,q,u=p.M[g.I],t=u,w=[g.I],v=this.Lc.ga.M[t.Rb].J;t && t.Rb === u.Rb && t.J !== v;){w.push(t.Db);t=p.M[t.Db];}w.pop();p=null !== (q=w.pop()) && void 0 !== q?q:g.I;q=c(p);g=this.ps.ga.M[g.I];p=this.ps.ga.M[p];g=(null !== (m=g.ta) && void 0 !== m?m:Infinity) - g.sa;m=(null !== (h=p.ta) && void 0 !== h?h:Infinity) - p.sa;return {start:(null === n || void 0 === n?0:n.eG)?new k.Daa(f.pI.start,g):void 0,end:(null === q || void 0 === q?0:q.eG)?new k.Daa(f.pI.end,m):void 0};};Object.defineProperties(d.prototype,{Gy:{get:function(){if(this.ps.Z.Pd)return this.nGb(this.ps.Z.Jg);},enumerable:!1,configurable:!0}});d.prototype.nGb=function(g){var m,h,n;h=c(g.I);if(h){n=null === (m=this.Lc.Tg) || void 0 === m?void 0:m.Pt(g);m=this.Xe.ce[this.Lc.ga.M[n.I].J][h.qj];n=this.qGb(g);n=new k.Wya(m,n.start,n.end);for(var p=this.ps.ga,q=p.M[g.I],u=q,t=-g.offset.G,w=this.Lc.ga.M[u.Rb].J;u && u.Rb === q.Rb && u.J !== w;){t+=u.ta - u.sa;u=p.M[u.Db];}p=l.N.Ma(t);q=p.wa(n.BS.duration);h.eG && ("end" === h.AV?q=l.N.Ia:(u=n.d$.duration.wa(g.offset),q=q.wa(u)));n={Rc:n,progress:{Bqb:m.duration.wa(q),Dqb:1 - Math.max(0,q.G) / m.duration.G,Eqb:n.duration.wa(p),Fqb:1 - Math.max(0,p.G) / n.duration.G},position:g,index:h.qj};p=this.ps.ga.M[g.I];p=p.ta - p.sa;g=g.offset.G / p;h.eG?n.M6a={hUb:g,gsa:h.AV,h8:l.N.Ma(p)}:n.pA={ff:m.Ze[h.B1],lQa:g,index:h.B1};return n;}};d.prototype.pGb=function(g,m){var h,n;h=g.I;n=this.cKb(g);if(h=c(h))return (g=this.Xe.ce[n][h.qj],h.eG?{Rc:g,AV:h.AV}:{Rc:g,ff:g.Ze[h.B1]});if(g=this.Xe.Kva(n,g,m))return {Rc:g};};d.prototype.zF=function(g){return c(g);};d.prototype.cKb=function(g){var m,h;h=this.Lc;g=null === (m=h.Tg) || void 0 === m?void 0:m.Pt(g);return h.ga.M[g.I].J;};return d;})();b.Iya=r;b.zF=c;b.RYa=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {cUa:parseInt(d[1])};};},54533:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Kya=void 0;c=a(94160);l=a(44724);f=a(81768);r=(function(){function k(d,g){var m;m=this;this.xxa=0;this.uu={};this.Amb=1;d.on("adEvent",function(h){return m.PSb(h);});g.on("adBreakPresenting",function(h){return m.S7(h);});}Object.defineProperties(k.prototype,{kR:{get:function(){return this.uu;},enumerable:!1,configurable:!0}});k.prototype.E_b=function(d,g){this.uu[d]=g.map(function(m,h){return new f.Xya(m,h);});};k.prototype.vra=function(d,g){var m;m=this;this.uu[d].some(function(h){if(h.Ho.mh === g.mh)return (h.qLb(g,m.Amb++),!0);});};k.prototype.wra=function(d,g){this.uu[d].some(function(m){if(m.Ho.mh === g)return m.FN=!0;});};k.prototype.reset=function(){this.xxa=0;};k.prototype.PSb=function(d){var g;g=this;"adComplete" === d.event && Object.keys(this.uu).some(function(m){var h,n,p;m=null !== (h=(p=g.uu)[m]) && void 0 !== h?h:p[m]=[];(0,l.assert)(void 0 !== d.qj,"complete event should have an adBreakIndex");return null === (n=m[d.qj].Ze) || void 0 === n?void 0:n.some(function(q){return q.id == d.W.O?(q.Mq=!0,g.xxa++,!0):!1;});});};k.prototype.S7=function(d){var g;g=this;Object.keys(this.uu).forEach(function(m){var h,n;(null !== (h=(n=g.uu)[m]) && void 0 !== h?h:n[m]=[]).forEach(function(p){p !== d.Qm.Rc && p.UAb();});});};k.prototype.ska=function(d){var g;g=this;Object.keys(this.uu).forEach(function(m){g.uu[m].forEach(function(h){h.Ze.forEach(function(n){n.id == d && (n.dU=!0);});});});};k.prototype.pYa=function(d,g){return (d=this.kR[d]) && (0,c.Hc)(d,function(m){return m.jk === g;});};return k;})();b.Kya=r;},12160:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Wya=b.Daa=b.Xya=void 0;c=a(94160);l=a(13815);f=a(46834);r=(function(){function d(g,m,h){var n,p;void 0 === h && (h=NaN);this.Ho=g;this.qj=m;this.GPa=h;this.FN=this.qOa=this.sOa=this.rfa=!1;this.KD=null !== (p=null === (n=g.Ze) || void 0 === n?void 0:n.map(function(q){return new f.zaa(q);})) && void 0 !== p?p:[];}Object.defineProperties(d.prototype,{jk:{get:function(){return this.Ho.jk;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ot:{get:function(){return this.Ho.Ot;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{h2:{get:function(){return this.Ho.h2;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{x_b:{get:function(){return this.GPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xga:{get:function(){return this.Ho.xga;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ze:{get:function(){return this.KD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.KD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Ze.reduce(function(g,m){return g.add(m.endTime.wa(m.startTime));},c.N.Ia);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aNb:{get:function(){return this.Mq || !this.DSa && !this.qOa?this.KD.every(function(g){return g.Mq;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mq:{get:function(){return this.KD.length?this.KD.every(function(g){return g.Mq;}):this.rfa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{DSa:{get:function(){return !this.xg && !!this.Ho.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xg:{get:function(){return !!this.Ho.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lna:{get:function(){return this.sOa;},set:function(g){g && (this.sOa=!0);},enumerable:!1,configurable:!0}});d.prototype.c0b=function(){this.Ze.length || (this.rfa=!0);};d.prototype.qLb=function(g,m){var h,n;this.Ho=g;this.KD=null !== (n=null === (h=this.Ho.Ze) || void 0 === h?void 0:h.map(function(p){return new f.zaa(p);})) && void 0 !== n?n:[];this.qOa=!0;this.GPa=m;this.FN=!1;};d.prototype.UAb=function(){this.Ho.mh && (this.rfa=this.Mq,this.Ho.Ze=void 0,this.KD=[],this.FN=!1);};return d;})();b.Xya=r;k=(function(){function d(g,m){this.gsa=g;this.mnb=m;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.N.Ma(this.mnb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{qra:{get:function(){return this.Lob || (this.Lob=new d(l.pI.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{rSb:{get:function(){return this.Kob || (this.Kob=new d(l.pI.end,0));},enumerable:!1,configurable:!0}});return d;})();b.Daa=k;r=(function(){function d(g,m,h){this.RJ=g;this.LPa=m || k.qra;this.pnb=h || k.qra;}Object.defineProperties(d.prototype,{d$:{get:function(){return this.LPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{BS:{get:function(){return this.pnb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{PKb:{get:function(){return this.LPa !== k.qra || this.BS !== k.rSb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.RJ.duration.add(this.d$.duration).add(this.BS.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{h8:{get:function(){return this.d$.duration.add(this.BS.duration);},enumerable:!1,configurable:!0}});return d;})();b.Wya=r;},46834:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zaa=void 0;c=a(94160);r=(function(){function l(f){this.ff=f;this.dU=this.Mq=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.ff.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return c.N.Ma(this.ff.sa);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return c.N.Ma(this.ff.ta);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nA:{get:function(){return this.ff.nA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{v$:{get:function(){return this.ff.v$;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xs:{get:function(){return this.ff.Xs;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{VN:{get:function(){return this.ff.VN;},enumerable:!1,configurable:!0}});return l;})();b.zaa=r;},81768:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(46834),b);r.__exportStar(a(12160),b);r.__exportStar(a(36178),b);},89025:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.OJa=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(95994);d=c.__importDefault(a(29736));g=a(74005);m=a(44724);r=(function(){function h(n,p,q){var u;u=this;this.Sc=n;this.Ta=p;this.gfa=new l.Re();this.yfa=!1;this.V=(0,g.Nh)(d.default,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.Ta.events.on("playerChanged",this.u7a.bind(this));this.u7a();this.Sc.C1.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.Xe.events.on("adSegmentDropped",function(t){u.QSb(t);});}Object.defineProperties(h.prototype,{QT:{get:function(){return this.yfa;},enumerable:!1,configurable:!0}});h.prototype.ci=function(n){var p;if(!this.Ta.Nq)return (k.K && this.V.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Ta.Z;if(!p.ZS(n))return (k.K && this.V.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",n),!1);k.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p.Md.mb()," -> ").concat(n.mb()));n=n.greaterThan(p.Md)?(0,g.pla)(p.Va,p.Md,n):(0,g.pla)(p.Va,n,p.Md);p=!n.some(function(q){return "content" !== q.u.u.type;});k.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(n.map(function(q){return ("").concat(q.u.id," ").concat(q.u.u.type," ").concat(q.Bb.G,"..").concat(q.Bb.G);})));return p;};Object.defineProperties(h.prototype,{Xe:{get:function(){return this.Sc.Xe;},enumerable:!1,configurable:!0}});h.prototype.u7a=function(){var n,p;n=this;this.V.trace("Player changed",this.Ta.Nq);this.gfa.clear();if(this.Ta.Nq){p=this.Ta.Z;this.gfa.addListener(p.events,"segmentPresenting",function(q){return n.Fv(q);});this.gfa.addListener(p.events,"playbackEnding",function(q){return n.Jra(q);});}};h.prototype.Fv=function(n){var p,q,u,t,w;p=this.MM.pGb(n.position,!!n.seek);if(p){q=p.Rc;u=p.ff;k.K && this.V.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(u));t=this.MM.Gy;w={Kp:n.playerTimestamp,position:n.position,Rc:q};this.QT || (q.Ze.length?this.Cqb(t,w):q.xg || u?this.oA(n.playerTimestamp,n.position,q):k.K && this.V.trace("Passed an unhydrated ad break; assume it was skipped intentionally"));u && this.Dl(t,w,u);}!this.QT || p && "end" !== p.AV || this.oA(n.playerTimestamp,n.position);this.QT && !p && this.eQa(n.position);};h.prototype.Jra=function(n){this.QT && this.RMb(n.position) && (this.oA(n.playerTimestamp,n.position),this.eQa(n.position));};h.prototype.Cqb=function(n,p){(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");k.K && this.V.trace("Emitting adBreakPresenting");this.yfa=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:n,Qm:p});};h.prototype.Dl=function(n,p,q){k.K && this.V.trace("Emitting adPresenting");(0,m.assert)(n,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:n,Qm:c.__assign(c.__assign({},p),{ff:q})});};h.prototype.oA=function(n,p,q){k.K && this.V.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Qm:{Kp:n,position:p,Rc:q}});};h.prototype.eQa=function(n){this.yfa=!1;k.K && this.V.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:n}});};h.prototype.Yla=function(n){var p,q,u,t;p=this;q={$rb:[],result:{}};u=this.Xe.Pu;t=Object.keys(u).filter(function(w){return u[w];});if(null === n || void 0 === n?0:n.oeb)t=t.filter(function(w){var v;return -1 !== (null === (v=n.oeb) || void 0 === v?void 0:v.indexOf(w));});q.$rb=t;t.forEach(function(w){var v,y,x;y=null === (v=u[w]) || void 0 === v?void 0:v.ce;if(y){v=p.yEb(w,y);x=p.Xe.ce[w];q.result[("").concat(w)]=v.map(function(z,A){return c.__assign(c.__assign({},z),{hasCompletedPlayback:x[A].aNb});});}});return q;};Object.defineProperties(h.prototype,{MM:{get:function(){return this.Sc.MM;},enumerable:!1,configurable:!0}});h.prototype.yEb=function(n,p){var q,u;q=[];u=[];this.Xe.ce[n].forEach(function(t){return t.Ze.forEach(function(w){w.dU && -1 === u.indexOf(w.id) && u.push(w.id);});});p.forEach(function(t){var w,v;t=c.__assign({},t);v=null === (w=t.ads) || void 0 === w?void 0:w.filter(function(y){return -1 === u.indexOf(y.id);});t.ads=v;q.push(t);});return q;};h.prototype.QSb=function(n){var p,q,u,t;p=this;q=n.adId;u=this.Xe.Pu;n=Object.keys(u).filter(function(w){return u[w];});t=this.Ta.ga.M;n.forEach(function(w){var v,y;null === (y=null === (v=u[w]) || void 0 === v?void 0:v.ce) || void 0 === y?void 0:y.forEach(function(x,z){var A;null === (A=x.Ze) || void 0 === A?void 0:A.forEach(function(B,D){B.id === q && (B=(0,f.Hc)(Object.keys(t),function(C){C=p.MM.zF(C);return !C || C.eG?!1:D === C.B1 && z === C.qj;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.Ot,reason:"network_error",sev:"error",segmentId:B});});});});};h.prototype.RMb=function(n){var p;p=this.Ta.navigator;return (n=p.Od(n.I)) && !p.GKb(n);};return h;})();b.OJa=r;},26888:function(r,b,a){var c,l,f,k,d,g,m,h,n;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;c=a(70655);l=a(94160);f=a(94160);k=a(91854);d=a(47571);g=a(95994);m=a(83674);h=a(44724);n=a(50971);r=(function(){function p(q,u,t,w,v,y,x,z,A,B){var D;D=this;this.Aa=q;this.Gd=u;this.events=t;this.Rc=w;this.ff=v;this.Cga=y;this.D1=x;this.zqb=z;this.nR=A;this.console=B;this.dm=k.platform.time.now();this.$H=new Map();this.Wo=0;(0,h.assert)(y.W,"Presenting ad should have a manifest");this.mQa=u.Hx(function(){return D.P3b();},"impressionLogging");this.Aa.Z.nC.forEach(function(C,F){(C=C.UEb(m.bba)) && D.$H.set(F,C);});}Object.defineProperties(p.prototype,{kxa:{get:function(){return this.Wo;},enumerable:!1,configurable:!0}});p.prototype.Pa=function(){this.mQa.Pa();};p.prototype.P3b=function(){var q,u,t,w,v,y,x,z,A,B,D,C,F,G,E;return c.__generator(this,function(J){switch(J.label){case 0:(g.K && this.console.trace("AdImpressionLogger: starting at",this.nR.mb()),q=this.ff,this.lTa(),u=0,t=this.nR,w=this.nR.add(q.endTime),v=this.zqb,J.label=1);case 1:(J.Qj.push([1,,12,13]),(0,h.assert)(null === (F=q.nA) || void 0 === F?void 0:F.start,"Start event info should be defined"),this.emit(q.nA.start,u,t,!1),(0,h.assert)(q.v$,"Timed event info should be defined"),J.label=2);case 2:(J.Qj.push([2,7,8,9]),y=c.__values(q.v$),x=y.next(),J.label=3);case 3:if(x.done)return [3,6];z=x.value;t=this.nR.add(l.N.Ma(z.Kwa));g.K && this.console.trace(("AdImpressionLogger[").concat(this.D1,"]: waiting for ").concat(z.Kwa,"ms timed event") + (" at ").concat(t.mb()));return [4,n.Pg.Tt(t)];case 4:(J.Qa(),v=t,this.emit(z,z.Kwa,t,!1),J.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (A=J.Qa(),D={error:A},[3,9]);case 8:try{x && !x.done && (C=y.return) && C.call(y);}finally{if(D)throw D.error;}return [7];case 9:if(!w.greaterThan(t))return [3,11];t=w;g.K && this.console.trace(("AdImpressionLogger[").concat(this.D1,"]: waiting for end of ad at ").concat(t.mb()));return [4,n.Pg.Tt(t)];case 10:(J.Qa(),v=t,J.label=11);case 11:return [3,13];case 12:this.Aa.Z.Pd && (v=this.Aa.Z.Md);if(v.gi(w))((0,h.assert)(null === (G=q.nA) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.nA.complete,q.endTime.G,w,!0));else if(null === (E=q.nA) || void 0 === E?0:E.stop)(B=v.wa(this.nR).G,this.emit(q.nA.stop,B,v,!0));this.lTa();return [7];case 13:return [2];}});};p.prototype.emit=function(q,u,t,w){g.K && this.console.trace(("AdImpressionLogger[").concat(this.D1,"]: emitting ").concat(q.event," event at ").concat(u,"ms") + (" for player time ").concat(t.mb()));u={I:this.D1,offset:l.N.Ma(u)};t=this.Sma(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{th:u,Iv:t,W:this.Cga.W,dm:this.dm,ogc:w?k.platform.time.now():-1,uE:this.Rc.Ot,qj:this.Rc.qj,VN:this.ff.VN,Xs:this.ff.Xs}));}catch(v){this.console.error("Impression error event",v);this.Wo++;}};p.prototype.Sma=function(q){var u,t,w;u=this.Cga.W.O;t=c.__read(this.d_a(q,this.$H.get(d.v.fa),u),2);w=t[0];t=t[1];q=c.__read(this.d_a(q,this.$H.get(d.v.X),u),2);return {audio:w,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.d_a=function(q,u,t){q=(null === u || void 0 === u?void 0:u.r1b(q,t)) || [];q=(0,f.flatten)(q.map(function(w){return Object.keys(w.iF).map(function(v){v=w.iF[v];return {Vb:v.Vb,duration:v.totalTime,Fm:w.Fm};});}));u=q.reduce(function(w,v){return w + v.duration;},0);g.K && this.console.trace("Getting playtime journal",{O:t,wfc:q.length,totalTime:u});return [q,u];};p.prototype.lTa=function(){var q,u,t;t=this.Cga.W.O;null === (q=this.$H.get(d.v.fa)) || void 0 === q?void 0:q.a9a(t);null === (u=this.$H.get(d.v.X)) || void 0 === u?void 0:u.a9a(t);};p.prototype.jv=function(){return {ad:this.mQa.jv(),errors:this.Wo};};return p;})();b.MLa=r;},93750:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.YR=void 0;c=a(70655);l=a(35340);f=a(81253);k=a(43221);d=a(35490);b.YR=function(g,m,h){var n,p,q,u,t;n=m.LV;p=m.fha;g=c.__assign({Mba:f.Lba},g).Mba;q=n[5];n=(0,d.Nra)(function(){return t;});q.uQa(n.no);h=h(m);q=new l.Tca();q.va(h);u={Tg:void 0,Lc:void 0,Ta:h,Aoa:q,Z2a:"content"};u.Tg=new g(function(){return u.Lc.ga;},q,m.LV[2]);t=new d.bBa(u,n.zbb,k.Jv.Dua.qN);u.Lc=k.Jv.rta(h,t,function(){return u;},p);return u.Lc;};},35490:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Nra=b.bBa=void 0;c=a(70655);l=a(41427);f=a(21185);k=a(74573);d=a(44724);r=(function(g){function m(h,n,p,q){void 0 === q && (q="CphAsePlaygraph");q=g.call(this,h,n,p,q,!0) || this;q.$k=h;q.q6a=n;q.Y9a=p;h.Ta.Ye(new f.cBa(q));return q;}c.__extends(m,g);m.prototype.qC=function(h){var n,p;n=g.prototype.qC.call(this,h);if(n){p=h.W.Im;p && !this.o0 && (this.Uea.qs({applyingContentPlaygraph:!0}),this.o0=p,this.Nnb=this.Pwb(h.W),this.Ota());}return n;};Object.defineProperties(m.prototype,{b0a:{get:function(){return this.Nnb;},enumerable:!1,configurable:!0}});m.prototype.JA=function(h){if(this.o0)return (h=c.__assign(c.__assign({},h),{M:c.__assign({},h.M)}),(0,l.Aqa)(h,this.o0.ga));};m.prototype.Pwb=function(h){var n,p;n=h.cp;p=h.pB;return !(!n || !n.some(function(q){return q.pB !== p;}));};Object.defineProperties(m.prototype,{Im:{get:function(){var h;return null === (h=this.o0) || void 0 === h?void 0:h.ga;},enumerable:!1,configurable:!0}});c.__decorate([(0,k.Sb)({methodName:"processViewableResponse"})],m.prototype,"qC",null);return m;})(a(11064).Gda);b.bBa=r;b.Nra=function(g){var m;m=[];return {no:function(h,n){var p,q,u,t,w,v,y;u=h.J;t=h.jW;w=g();if(w.Gha && w.Gha !== u){v=null === (p=null === t || void 0 === t?void 0:t.Gf) || void 0 === p?void 0:p.bc;p=null === (q=null === t || void 0 === t?void 0:t.Gf) || void 0 === q?void 0:q.wd;q=w.bc;t=w.Gha;(0,d.assert)(t,"did not receive parent viewable id");t={Gf:{bc:null !== v && void 0 !== v?v:q,wd:null !== p && void 0 !== p?p:t}};}w.Ta.console.trace("In wrapped request viewable",u,t);y=n(c.__assign(c.__assign({},h),{jW:t}));m.forEach(function(x){return x({J:u,jz:y.jz});});return y;},zbb:function(h){m.push(h);}};};},70744:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oja=void 0;c=a(43221);l=a(8348);b.oja=function(f,k){var d;f=k(f);d=new l.SJa(f,c.Jv.Dua.qN);return c.Jv.rta(f,d,function(){return d.$k;});};},43309:function(r,b,a){var l,f,k,d;function c(g,m){return m && !Array.isArray(m) && -1 === m.ZWa.indexOf(g)?m.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.xja=void 0;l=a(70655);r=a(28075);f=a(41937);k=a(28005);d=(function(g){function m(h,n){var p;p=g.call(this) || this;p.NPb=h;p.l1a=n;p.hfa={};return p;}l.__extends(m,g);m.prototype.emit=function(h){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return g.prototype.emit.call(this,h,this.NPb(h,n[0]));};m.prototype.subscribe=function(h){var n,p;n=this;if(!this.listeners(h).length){p=function(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}return n.emit.apply(n,l.__spreadArray([h],l.__read(q),!1));};this.hfa[h]=p;this.l1a.addListener(h,p);}};m.prototype.addListener=function(h,n){this.subscribe(h);g.prototype.addListener.call(this,h,n);return this;};m.prototype.removeListener=function(h,n){g.prototype.removeListener.call(this,h,n);n=this.hfa[h];!this.listeners(h).length && n && (this.l1a.removeListener(h,n),this.hfa[h]=void 0);return this;};m.prototype.on=function(h,n){this.addListener(h,n);return this;};m.prototype.ar=function(h,n){this.removeListener(h,n);return this;};m.prototype.once=function(h,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);n.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.addListener(h,p);return this;};m.prototype.E8=function(h,n){this.subscribe(h);g.prototype.E8.call(this,h,n);};m.prototype.R7a=function(h,n){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);n.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.E8(h,p);};return m;})(r.EventEmitter);b.xja=function(g,m,h,n){return new d(function(p,q){var u,t;t=c(p,n["*"]);p=null !== (u=n[p]) && void 0 !== u?u:[];u=t.concat(p).filter(function(w){return "object" === typeof w;});t=l.__read(p.filter(function(w){return "function" === typeof w;}),1)[0];return u.length?(0,k.q9)(g,q,h,{rules:u,fm:!1,dha:!0},f.gu.nxa,t):q;},m);};},81253:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Lba=void 0;c=a(70655);l=a(41427);f=a(94160);k=c.__importDefault(a(29736));d=a(74573);g=a(55168);m=a(44724);h=a(29083);n=a(95994);p=a(38264);r=(function(){function q(u,t,w,v){var x,z;function y(A,B){return A.I === B.I && A.offset.equal(B.offset);}x=this;this.ax=u;this.n0=t;this.config=w;this.console=new k.default.Console("GRAPHLOCATIONSERVICE");this.dh=new d.tu({cn:this,source:(v || "") + "GraphLocation",console:this.console});(0,p.Qta)(this,"d",new p.vca(w,y));(0,p.Qta)(this,"u",new p.vca(w,y));"temp" !== v && (null === (z=this.n0.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.IYa)(x).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.ax();},enumerable:!1,configurable:!0}});q.prototype.Ydb=function(u,t){return new q(function(){return u;},{hV:t,mxa:t},this.config,"temp");};q.prototype.RA=function(u){var t,w,v;n.K && this.console.trace("downConverting",u);t=this.parent;w=this.n0;v=w.hV;if(t === w.mxa)return u;if(v.M[u.I])return (t.M[u.I] || n.K && this.console.warn("Received a down converted position unexpectedly",u,Error().stack),u);w=(0,g.Lia)(u,t);u=(0,l.Zdb)(t,v,{offset:w.E2.G,u:u.I});u={offset:w.Jn.add(f.N.Ma(u.offset)),I:u.u};n.K && this.console.trace("downConverting ret:",u);return u;};q.prototype.Pt=function(u){var t,w,v;n.K && this.console.trace("upConverting",u);t=this.parent;w=this.n0;v=w.hV;if(t === w.mxa)return u;if(t.M[u.I])return (v.M[u.I] || n.K && this.console.warn("Received a up converted position unexpectedly",u,Error().stack),u);w=(0,g.Lia)(u,v);u=(0,l.ETa)(t,v,{offset:w.E2.G,u:u.I});u={offset:w.Jn.add(f.N.Ma(u.offset)),I:u.u};n.K && this.console.trace("upConverting ret:",u);return u;};q.prototype.YHb=function(u){var t;t=(0,l.PYa)(this.parent,this.n0.hV,{u:u.I,offset:u.offset.G});t=(0,h.K2a)(t);(0,m.assert)(t,("Could not find any segments in the path of ").concat(u));return t;};c.__decorate([(0,d.Sb)({methodName:"downConvertPosition",dk:!0,sq:!0,return:!0}),(0,p.hia)("d")],q.prototype,"RA",null);c.__decorate([(0,d.Sb)({methodName:"upConvertPosition",dk:!0,sq:!0,return:!0}),(0,p.hia)("u")],q.prototype,"Pt",null);return q;})();b.Lba=r;},43221:function(r,b,a){var k,d,g,m,h,n,p,q,u;function c(t,w){var v,y,x,z;z=t.Lc.ga.M[w];z && z.Rb && t.Lc.Sc && (z=Number(z.Rb.replace(":main","")),(w=(0,p.zF)(w)) && (x=null === (y=null === (v=t.Lc.Sc.Xe.ce[z]) || void 0 === v?void 0:v[w.qj]) || void 0 === y?void 0:y.Ot));return x;}function l(t,w,v,y){var x;return w === h.gu.pS?(w=d.N.Ia,(null === y || void 0 === y?void 0:y.ggc) === u.end && (w=d.N.Ma(null !== (x=v.Lc.ga.M[t].ta) && void 0 !== x?x:0),(0,g.assert)(0 < w.G,"EndTime must be non null")),v.Tg.RA({offset:w,I:t}).I):v.Tg.Pt({offset:d.N.Ia,I:t}).I;}function f(t,w,v){return w === h.gu.nxa?v.Tg.Pt(t):v.Tg.RA(t);}Object.defineProperties(b,{__esModule:{value:!0}});b.Jv=void 0;k=a(70655);d=a(94160);g=a(44724);r=a(82922);m=a(94522);h=a(41937);n=a(18934);p=a(96349);q=a(87082);a=(0,m.X9a)();a=(0,r.pSa)()({V3a:"combinedPlaygraph",qN:{th:a()({map:f,tx:q.Y1a}),Pd:a()({map:function(t,w,v,y){var x;x=(null === y || void 0 === y?0:y.Tp)?(0,q.L4)(t,y.Tp):t.position;w=f(x,w,v);t=(0,q.J2)(t,null === y || void 0 === y?void 0:y.Tp);(null === y || void 0 === y?0:y.Tp)?(0,q.S$a)(t,y.Tp,w):t.position=w;return t;},tx:function(t,w,v){return (null === v || void 0 === v?0:v.Tp)?(0,q.L4)(t,v.Tp):(0,q.Pd)(t);}}),Xxa:a()({map:function(t,w,v,y){if(w === h.gu.pS)return t.inner;w=(0,q.J2)(t,null === y || void 0 === y?void 0:y.Tp);w.inner || (w.inner=t,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).gib && (w.gctag=void 0));return w;},tx:function(t,w,v){return (null === v || void 0 === v?0:v.Tp)?"object" === typeof (0,q.L4)(t,v.Tp):"object" === typeof t;}}),I:a()({map:l,tx:q.b2a}),zW:a()({map:function(t,w,v,y){var x,z;z=null !== (x=t.I) && void 0 !== x?x:t.segmentId;w=l(z,w,v,y);return t.I?k.__assign(k.__assign({},t),{I:w}):k.__assign(k.__assign({},t),{segmentId:w});},tx:q.f0a}),bUa:a()({map:function(t,w,v){w === h.gu.pS?(t=(0,n.Fx)(v.Lc.ga,t.J,t.zq,{k$a:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in ux playgraph"),t=v.Tg.RA(t),w=t.I,t=t.offset,w=v.Ta.ga.M[w],v=w.J,w=w.sa,t=d.N.Ma(w).add(t)):(t=(0,n.Fx)(v.Ta.ga,t.J,t.zq,{k$a:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in combined playgraph"),t=v.Tg.Pt(t),w=t.I,t=t.offset,w=v.Lc.ga.M[w],v=w.J,w=w.sa,t=d.N.Ma(w).add(t));return {zq:t,J:v};},tx:q.H1a}),Vha:a()({tx:q.E1a,map:function(t,w,v){var y,x,z,A,B;if(w === h.gu.pS){w={I:t.u.id,offset:d.N.Ia};z=v.Tg.RA(w);w=v.Ta.ga.M[z.I];v=v.Lc.ga.M[t.u.id];A=w.ta;B=w.sa;A=null !== (y=A && A - B) && void 0 !== y?y:0;v=t.te.add(d.N.Ma(w.sa - v.sa));return {te:v,YG:t.er.add(d.N.Ma(A)),er:t.er,u:{id:z.I,Ud:d.N.Ma(w.sa),Mf:d.N.Ma(null !== (x=w.ta) && void 0 !== x?x:0)}};}w={I:t.u.id,offset:d.N.Ia};x=v.Tg.Pt(w);B=v.Aoa.hV;w=B.M[t.u.id];z=v.Lc.ga.M[x.I];y=d.N.Ma(null !== (A=z.ta && z.ta - z.sa) && void 0 !== A?A:0);z.ta && Infinity !== z.ta || (A=v.Tg.YHb(x),B=B.M[A],B.ta && (y=v.Tg.Pt({I:A,offset:d.N.Ma(B.ta - B.sa)}).offset));A=t.er.wa(x.offset);B=A.add(y);v=t.te.add(d.N.Ma(z.sa - w.sa));t=d.N.Ma(z.sa);w=y.add(t);return {te:v,YG:B,er:A,u:{id:x.I,Ud:t,Mf:w}};}}),etb:a()({tx:function(t){return "segmentPresenting" === t.type;},map:function(t,w,v){var y;t=(0,q.J2)(t);if(w=t.metrics){y=c(v,w.destPosition.I);void 0 !== y && (t.metrics.adBreakLocationMs=y);y=c(v,w.srcStartPosition.I);void 0 !== y && (t.metrics.srcadBreakLocationMs=y);}return t;}})}});(function(t){t[t.Mbc=0]="beginning";t[t.end=1]="end";})(u || (u={}));b.Jv=a;},78368:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.v7a=void 0;b.v7a={"*":{ZWa:["logdata"],rules:[{Ij:function(a){return a.Xxa;}}]},segmentPresenting:[{Ij:function(a){return a.Xxa;},config:{Tp:["metrics"]}},{Ij:function(a){return a.Pd;}},{Ij:function(a){return a.Pd;},config:{Tp:["metrics","srcStartPosition"]}},{Ij:function(a){return a.Pd;},config:{Tp:["metrics","srcTransitionPosition"]}},{Ij:function(a){return a.Pd;},config:{Tp:["metrics","destPosition"]}},{Ij:function(a){return a.etb;}}],streamPresenting:[{Ij:function(a){return a.Pd;}}],segmentAppended:[{Ij:function(a){return a.zW;}}]};},8348:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.SJa=void 0;c=a(70655);l=a(74573);f=a(74005);k=c.__importDefault(a(29736));d=a(43309);g=a(78368);r=(function(){function m(h,n){var p;p=this;this.VT=h;this.events=(0,d.xja)(function(){return p.$k;},this.VT.events,n,g.v7a);this.Snb=(0,f.Nh)(k.default,this.VT.console,"PLAYERHOST");new l.tu({co:10,cn:this,source:"PlayerHost",console:this.Snb});}m.prototype.Ria=function(){this.$k=void 0;};m.prototype.yva=function(h){this.$k=h;};c.__decorate([(0,l.Sb)({methodName:"clearProxyPlaygraphContext"})],m.prototype,"Ria",null);c.__decorate([(0,l.Sb)({methodName:"setProxyPlaygraphContext"})],m.prototype,"yva",null);return m;})();b.SJa=r;},43193:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.x7a=void 0;b.x7a={"*":{ZWa:["logdata"],rules:[{Ij:function(a){return a.Xxa;}}]},locationSelected:[{Ij:function(a){return a.zW;}}],segmentComplete:[{Ij:function(a){return a.zW;}}],segmentStarting:[{Ij:function(a){return a.zW;}}],serverSwitch:[{Ij:function(a){return a.zW;}}],streamSelected:[{Ij:function(a){return a.Pd;}}]};},11064:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Gda=void 0;c=a(70655);l=a(94160);f=a(94160);k=a(22258);d=a(74573);g=a(47571);m=a(44724);h=a(95994);n=a(36024);p=a(52843);q=a(43309);u=a(43193);r=(function(){function t(w,v,y,x,z){var A;void 0 === x && (x="CphAsePlaygraph");void 0 === z && (z=!0);A=this;this.$k=w;this.q6a=v;this.Y9a=y;this.O3b=x;this.Qnb=new n.Pda();z && this.va();this.q6a(function(B){var D;D=B.jz;return c.__awaiter(A,void 0,void 0,function(){var C;return c.__generator(this,function(F){switch(F.label){case 0:return [4,D];case 1:return (C=F.Qa(),this.qC(C),[2]);}});});});}Object.defineProperties(t.prototype,{Ta:{get:function(){return this.$k.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gh:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ga:{get:function(){return this.nj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Tg:{get:function(){return this.$k.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{V:{get:function(){return this.Ta.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Y:{get:function(){return this.Ta.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{b0a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.va=function(){var w,v,y;w=this;v=this.$k;this.Uea=new d.tu({co:10,cn:this,source:this.O3b,console:this.V});this.events=(0,q.xja)(function(){return v;},v.Ta.events,this.Y9a,u.x7a);this.nj=v.Ta.ga;y=v.Tg;v.Ta.Ye(new k.Qw(this.Uea));v.Ta.Ye(new k.Qw(v.Tg.dh));v.Ta.Ye(new p.AAa(("").concat(v.Z2a,"::gls"),y));v.Ta.events.on("playgraphUpdating",function(){w.$k.Aoa.Y8();});};t.prototype.Uu=function(w){var v,y,x;x=null !== (v=this.Z) && void 0 !== v?v:this.Ta.Z;this.Z=w;w.yva && w.yva(this.$k);(v=this.$k.Ta.Uu(null !== (y=w.VT) && void 0 !== y?y:w))?(this.Z=w,x !== w && x.Ria && x.Ria()):this.Z=x;return v;};t.prototype.Ota=function(w,v,y,x,z){(w=null !== w && void 0 !== w?w:this.JA(null !== v && void 0 !== v?v:this.nj)) && this.lTb(w,this.b0a,y,x,z);};t.prototype.lTb=function(w,v,y,x,z){var A,B,D,C,F,G,E;A=this.$k.Lc;B=A.Z;C=A.ga;if(D=y?y:A.Nq && B.Pd?B.Jg:A.Oq?A.yh:void 0){F=this.Ta.ga.M[D.I];F && F.Rb && (D=this.Tg.Pt(D));}A.config.p6b && v && B.DC(!0);v=A.zZa();h.K && this.V.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(C)));h.K && this.V.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(w)));this.Qnb.set(w,!0);C=this.Ta.Rt(w);try{if(!C.ha || D && !B.Pd && !A.Oq || y && z)if(((0,m.assert)(!B.qa.hi,"Player is not paused:" + g.kq[C.reason]),A.If(!0),this.Ta.Rt(w),D)){G=this.Tg.RA(D);E=w.M[G.I];"padding" === (null === E || void 0 === E?void 0:E.type) && (G={I:E.Db,offset:l.N.Ia});this.Ava(D,x);this.Ta.A9(G,x,z);B.resume();}}finally{v.release();}};t.prototype.Rt=function(w){var y,x,z;function v(){y.nj=w;}y=this;z=null !== (x=this.JA(w)) && void 0 !== x?x:w;try{return (this.Ta.events.R7a("playgraphUpdating",v),this.Ta.Rt(z));}finally{this.Ta.events.removeListener("playgraphUpdating",v);}};Object.defineProperties(t.prototype,{bc:{get:function(){return this.MNa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gha:{get:function(){var w,v,y,x;w=this;y=Object.keys(this.Ta.ga.M);if(y=(0,f.Hc)(y,function(z){return !!w.Ta.ga.M[z].Rb;})){y=this.Ta.ga.M[y].Rb;x=this.ga.M[y];return null !== (v=null === x || void 0 === x?void 0:x.J) && void 0 !== v?v:Number(y.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.qC=function(w){var v,y,x,z;y=w.W;x=y.bc;y=y.Im;z=null !== (v=this.Y.dla) && void 0 !== v?v:[];if(y && z.some(function(A){return A == w.O;}))return (v=("").concat(w.O," was excluded from content playgraph"),this.Uea.qs(v),h.K && this.V.trace(v),!1);x && !this.MNa && (this.MNa=x);return !0;};t.prototype.If=function(w){this.Ta.If(w);};t.prototype.Ava=function(){};c.__decorate([(0,d.Sb)({methodName:"attachPlayer"})],t.prototype,"Uu",null);c.__decorate([(0,d.Sb)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"Ota",null);c.__decorate([(0,d.Sb)({methodName:"processViewableResponse"})],t.prototype,"qC",null);c.__decorate([(0,d.Sb)({methodName:"cancelStreaming"})],t.prototype,"If",null);return t;})();b.Gda=r;},87082:function(r,b,a){var l;function c(f,k){var d,g;d=l.__assign({},f);g=l.__read(null !== k && void 0 !== k?k:[],1)[0];g && f[g] && (f=f[g],"object" === typeof f?(k=k.concat(),k.shift(),d[g]=c(f,k)):d[g]=f);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.S$a=b.J2=b.L4=b.E1a=b.H1a=b.b2a=b.f0a=b.Y1a=b.Pd=void 0;l=a(70655);b.Pd=function(f){return !(null === f || void 0 === f || !f.position);};b.Y1a=function(f){return !(null === f || void 0 === f || !f.I) && !(null === f || void 0 === f || !f.offset);};b.f0a=function(f){return !(null === f || void 0 === f || !f.I) || !(null === f || void 0 === f || !f.segmentId);};b.b2a=function(f,k){return "string" === typeof f && !(!k.Lc.ga.M[f] && !k.Ta.ga.M[f]);};b.H1a=function(f){return !(null === f || void 0 === f || !f.J) && !(null === f || void 0 === f || !f.zq);};b.E1a=function(f){return !(null === f || void 0 === f || !f.te);};b.L4=function(f,k){var d;d=f;k.forEach(function(g){d=null === d || void 0 === d?void 0:d[g];});return d;};b.J2=c;b.S$a=function(f,k,d){for(var g=0;g < k.length - 1 && f;g++){f=f[k[g]];}return f?(f[k[k.length - 1]]=d,!0):!1;};},302:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Uza=void 0;r=a(70655);c=a(28075);l=a(94160);f=a(74005);k=a(50971);d=a(95994);g=a(47571);m=r.__importDefault(a(29736));a=(function(){function h(n,p,q,u,t,w){this.Hd=n;this.Yp=p;this.config=q;this.RSb=u;this.hf=t;this.console=w;this.ffa=new c.Re();this.console=(0,f.Nh)(m.default,w,"BranchDecisionMaker");}h.IGb=function(n){var p;return null !== (p=n.Lb) && void 0 !== p?p:n.YG;};h.BHb=function(n){var p,q;p=n.u;q=n.qM;return p.Db?p.Db:q.length?q[0]:n.yy[0];};h.prototype.Uwa=function(n,p){var q,u,t,w;q=this;t=n.u;d.K && this.console.trace(("tracking ").concat(n.u.id));this.reset();if(t.kX || 1 >= t.yy.length && (null === (u=t.Rv) || void 0 === u || !u.length))d.K && this.console.trace(("").concat(n.u.id," does not need tracking"));else {w=this.yub(n);u=w.Vua;p=p.lessThan(w.FLb);d.K && this.console.trace(("tracking ").concat(n.u.id),{I:t.id,vcc:p,$fc:null === u || void 0 === u?void 0:u.G});this.QZb(t,p?u:void 0);if(p)this.ffa.on(n.events,"branchEdited",function(){q.Uwa(n,q.Hd.qa.currentTime);});}};h.prototype.jTa=function(){var n;null === (n=this.fVa) || void 0 === n?void 0:n.Pa();this.fVa=void 0;};h.prototype.reset=function(){this.jTa();this.ffa.clear();};h.prototype.yub=function(n){var p,q;n=h.IGb(n);p=l.N.Ma(this.config.s7);q=l.N.Ma(this.config.hRb + this.config.r7);p=n.wa(p);return {FLb:(0,g.Vn)(this.hf.value)?n.wa(q):p,Vua:p};};h.prototype.QZb=function(n,p){var q;q=this;this.jTa();this.fVa=p?this.Hd.KA(k.Pg.Tt(p),function(){return q.K3a(n);},"scheduled branch decision"):this.Yp.KA(k.Pg.v6b,function(){return q.K3a(n);},"immediate branch decision");};h.prototype.K3a=function(n){var p;this.ffa.clear();p=h.BHb(n);d.K && this.console.trace(("BranchDecisionMaker making decision for ").concat(n.id,", decision is ").concat(p));this.RSb(n.id,p,!0);};return h;})();b.Uza=a;},24462:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.gAa=void 0;c=a(70655);l=a(94160);f=c.__importDefault(a(29736));k=a(47571);d=a(44724);g=a(74573);m=a(50971);r=(function(){function h(n,p,q,u,t,w,v){var y;void 0 === v && (v=500);y=this;this.V=n;this.config=p;this.Ic=q;this.events=u;this.Qka=t;this.Hd=w;this.Ztb=v;this.bta=this.$ha=0;this.g7=[];this.TK={av:0};this.state=new l.hq(k.Yc.Tr);this.dh=new g.tu({co:10,cn:this,source:"BufferStateTracker",MQa:function(){return {isBuffering:y.zj,alwaysRunUnderflowTimer:y.config.VJ};}});}Object.defineProperties(h.prototype,{av:{get:function(){return this.TK.av;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zj:{get:function(){return (0,k.Vn)(this.state.value);},enumerable:!1,configurable:!0}});h.prototype.vxa=function(n){var p;p=this;Array.isArray(n) || (n=[n]);n.forEach(function(q){q.mediaType === k.v.fa && (p.kSa=c.__assign(c.__assign({},p.kSa),{audio:{trackId:q.trackId,trackIndex:q.YH}}));});};h.prototype.a8=function(n){this.set(k.Yc.Tr);this.bwa(n,k.Yc.Qe);};h.prototype.T7=function(){this.TK.av++;};h.prototype.sV=function(n){this.config.VJ || void 0 === this.ly && this.zj && this.Cja();this.ly={$x:n.httpCode,Nf:n.errorCode,Ph:n.nativeCode};};h.prototype.c8=function(){this.ly=void 0;this.config.VJ || this.t3();};h.prototype.uh=function(n){this.zj || (this.bwa(n,k.Yc.ul),this.zj && (this.ly || this.config.VJ) && this.Cja());};h.prototype.ETb=function(n,p){this.state.value !== k.Yc.Qe && this.bwa(n,k.Yc.Y_);this.vxa(p);};h.prototype.dTb=function(n,p){var q;q=this;this.config.Xtb && this.zj && (-1 === this.g7.indexOf(n) && this.g7.push(n),2 === this.g7.length && Promise.resolve().then(function(){q.zj && void 0 !== q.Yv && q.Dm("memoryLimit",p.eO,p.fO);}));};h.prototype.I_b=function(n,p){(0,d.assert)(this.state.value === k.Yc.Qe && void 0 === this.Yv);this.Yv=n;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.YH}),this.vxa(p));};h.prototype.U_b=function(n,p,q){(0,d.assert)(this.zj);this.uoa=null !== n && void 0 !== n?n:this.uoa;this.TT=null !== p && void 0 !== p?p:this.TT;void 0 === this.FL?this.FL=q:void 0 !== (null === q || void 0 === q?void 0:q.reason) && (this.FL.reason=q.reason);};h.prototype.Dm=function(n,p,q){var u;(0,d.assert)(this.zj && void 0 !== this.Yv && void 0 === this.t2 && void 0 === this.R$ && void 0 === this.w1);this.t2=n;this.R$=p;this.w1=q;this.gp=100;this.Qia();this.t3();null === (u=this.Gia) || void 0 === u?void 0:u.Pa();this.state.value === k.Yc.ul && (this.bta=f.default.time.Ga());this.nCb();this.set(k.Yc.qm);this.w1=this.R$=this.t2=this.FL=this.TT=this.uoa=this.Yv=void 0;};h.prototype.stop=function(){var n;this.set(k.Yc.Tr);this.Qia();this.t3();null === (n=this.Gia) || void 0 === n?void 0:n.Pa();};h.prototype.Fia=function(n,p,q,u){var t,w,v,y,x,z,A,B,D,C;t=this;(0,d.assert)(this.zj);null === (w=this.Gia) || void 0 === w?void 0:w.Pa();if(this.state.value === k.Yc.ul && f.default.time.Ga() < this.bta + this.config.Z4a){x=this.config.Z4a - (f.default.time.Ga() - this.bta);this.Gia=this.Hd.KA(m.Pg.SC(l.N.Ma(x)),function(){t.Fia(n,p,q,u);});}else {w=q.JF(k.v.fa);z=q.JF(k.v.X);A=f.default.time.Ga() - this.$ha;if(w || z){B=function(F){return F?F.GB() || F.Ys()?u.Eia(t.state.value,n,A >= t.config.MV,p,F,t.av):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=B(w);B=B(z);C=function(F){var G;return {reason:F.reason,complete:F.complete,bl:null !== (G=F.zA) && void 0 !== G?G:0};};this.dh.qs({as:C(D),vs:C(B),bt:A});C=z?B:D;C.a6b=z && B.zA || 0;C.Ksb=w && D.zA || 0;D.complete && B.complete?(C.complete=!0,this.Dm(null !== (x=C.reason) && void 0 !== x?x:"unknown",null !== (v=C.a6b) && void 0 !== v?v:0,null !== (y=C.Ksb) && void 0 !== y?y:0)):(C.complete=!1,this.xub(C),this.dh.qs({bp:this.gp}));}}};h.prototype.xub=function(n){var p,q,u;u=n.progress;n.Upa?u=(f.default.time.Ga() - this.$ha) / this.config.MV:u || (u=(null !== (p=n.zA) && void 0 !== p?p:0) / this.config.Zq);n=Math.min(Math.max(Math.round(100 * u),null !== (q=this.gp) && void 0 !== q?q:0),99);n != this.gp && (this.gp=n);};h.prototype.bwa=function(n,p){(0,d.assert)(p === k.Yc.Qe || void 0 !== n);this.Yv=n;this.gp=0;this.J7=void 0;this.TK.av=0;this.g7=[];n=this.state.value === k.Yc.Qe || this.state.value === k.Yc.ul;this.$ha=f.default.time.Ga();this.set(p);n || (this.pCb(),this.s0b());};h.prototype.set=function(n){this.state.set(n);};h.prototype.pCb=function(){(0,d.assert)(this.events && void 0 !== this.gp);this.J7=this.gp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.Ga(),percentage:this.gp});};h.prototype.s0b=function(){var n;n=this;this.Qia();this.$Rb=this.Hd.tUa(function(){return n.oCb();},l.N.Ma(this.Ztb),"buffering-notification");};h.prototype.Qia=function(){var n;null === (n=this.$Rb) || void 0 === n?void 0:n.Pa();};h.prototype.oCb=function(){this.zj && this.events && void 0 !== this.gp && this.gp !== this.J7 && this.events.emit("buffering",{type:"buffering",time:f.default.time.Ga(),percentage:this.gp}) && (this.J7=this.gp);};h.prototype.nCb=function(){var n;(0,d.assert)(this.events && this.Yv && void 0 !== this.t2 && void 0 !== this.w1 && void 0 !== this.R$);this.J7=this.gp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.Ga(),actualStartPosition:this.Yv,reason:this.t2,aBufferLevelMs:this.w1,vBufferLevelMs:this.R$,selector:this.uoa,initBitrate:this.TT,initSelReason:null === (n=this.FL) || void 0 === n?void 0:n.reason},this.kSa));};h.prototype.Cja=function(){var n;n=this;this.config.Hdb && (!this.ez || this.ez.state !== m.Ek.complete && this.ez.state !== m.Ek.dF?void 0 === this.ez && (this.ez=this.Hd.Hx(function(){return n.Wcb();},"underflow")):this.ez.Sf());};h.prototype.t3=function(){this.ez && (this.ez.state !== m.Ek.dF && this.ez.Pa(),this.ez=void 0);};h.prototype.Wcb=function(){var n,p,q;return c.__generator(this,function(u){switch(u.label){case 0:return (n=this.config.P6,this.V.trace(("BufferingStateTracker: starting underflow timer: ").concat(n,"ms")),[4,m.Pg.SC(l.N.Ma(n))]);case 1:(u.Qa(),u.label=2);case 2:if(!this.zj)return [3,4];p=this.Ic.cOb || 0;q=f.default.time.Ga() - p;if(q >= n)return (this.V.trace(("Forcing streaming failure, ").concat(q,"ms since data received")),this.Qka.FTb(this.ly),[2]);this.V.trace(("BufferingStateTracker: network activity, wait ").concat(n - q,"ms"));return [4,m.Pg.SC(l.N.Ma(n - q))];case 3:return (u.Qa(),[3,2]);case 4:return [2];}});};c.__decorate([(0,g.Sb)({methodName:"onTemporaryNetworkError",dk:!0})],h.prototype,"sV",null);c.__decorate([(0,g.Sb)({methodName:"onUnderflow",dk:!0})],h.prototype,"uh",null);c.__decorate([(0,g.Sb)({methodName:"bufferingComplete",dk:!0})],h.prototype,"Dm",null);c.__decorate([(0,g.Sb)({methodName:"stop",dk:!0})],h.prototype,"stop",null);c.__decorate([(0,g.Sb)({methodName:"checkStreamingBufferingComplete",dk:!0})],h.prototype,"Fia",null);c.__decorate([(0,g.Sb)({methodName:"createUnderflowTask",dk:!0})],h.prototype,"Cja",null);c.__decorate([(0,g.Sb)({methodName:"destroyUnderflowTask",dk:!0})],h.prototype,"t3",null);c.__decorate([(0,g.Sb)({methodName:"onUnderflowTimeout",dk:!0})],h.prototype,"Wcb",null);return h;})();b.gAa=r;},12215:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mUa=void 0;c=a(70655);l=a(47571);b.mUa=function(f){var m,h;function k(n){(0,l.Vn)(n.newValue) && !(0,l.Vn)(n.oldValue)?(null === h || void 0 === h?void 0:h.Pa(),h=m.KA.apply(m,c.__spreadArray([],c.__read(d),!1))):null === h || void 0 === h?void 0:h.Pa();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=f.jf;m=f.Yp;g.state.addListener(k);k({oldValue:l.Yc.Tr,newValue:g.state.value});};},33154:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Vka=void 0;c=a(94160);b.Vka=function(l,f,k,d,g){var m;m=[];l=l.jm.values.filter(function(h){return h.Tn;}).map(function(h){var n,p;n=f(h.pa,k,d,g);p=(0,c.kx)(n,h.Wd).map(function(q){return q.mediaType;});m=(0,c.T1)(m,p);return {yb:h,Wd:n};});return {QSa:m,Ktb:l};};},55168:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Mua=b.Lia=b.Xk=b.O_a=b.$db=void 0;c=a(94160);l=a(44724);f=a(95994);b.$db=function(d,g){d=d.M[g.I];if(void 0 === d)return {QL:!1,reason:("Segment ").concat(g.I," was not found")};if(0 > g.offset.G)return {QL:!1,reason:("Offset ").concat(g.offset.G," was negative")};if(void 0 === d.ta || null === d.ta || Infinity === d.ta)return {QL:!0};d=d.ta - d.sa;return g.offset.G >= d?{QL:!1,reason:("Offset ").concat(g.offset.G," was greater than segment duration ").concat(d)}:{QL:!0};};k=c.N.Ma(100);b.O_a=function(d,g){if(d === g)return !0;if(d && g && d.I === g.I){if(d.offset === g.offset)return !0;d=c.N.abs(d.offset.wa(g.offset));if(k.greaterThan(d))return !0;}return !1;};b.Xk=function(d,g,m){var h,n,p,q;p=g.Aa;g=g.fMb;void 0 === m && (m={});q=p.ga;p=p.navigator;q=p.Od(null !== (h=null === g || void 0 === g?void 0:g.id) && void 0 !== h?h:q.we);h=null !== (n=null === g || void 0 === g?void 0:g.d_b) && void 0 !== n?n:q.Ud;if(h.greaterThan(d))return m.p1b?{offset:d.wa(h),I:q.id}:void 0;g=p.v2a(q);for(p=g.next();!p.done;){n=p.value;p=n.Mf.wa(n.Ud);q=h;h=q.add(p);if(h.greaterThan(d))return (d=d.wa(q),f.K && (0,l.assert)(d.gi(c.N.Ia) && d.lessThan(p)),{I:n.id,offset:d});p=g.next();if(p.done && m.q1b)return {I:n.id,offset:d.wa(q)};}};b.Lia=function(d,g){g=g.M[d.I];return d.offset.lessThan(c.N.Ia)?{E2:c.N.Ia,Jn:d.offset}:g.ta && (g=c.N.Ma(g.ta - g.sa),g.isFinite() && d.offset.greaterThan(g))?{E2:g,Jn:d.offset.wa(g)}:{E2:d.offset,Jn:c.N.Ia};};b.Mua=function(d,g){d=d.M[g.I];if(void 0 !== d)return null === d.ta || void 0 === d.ta?{I:g.I,offset:c.N.max(c.N.Ia,g.offset)}:{I:g.I,offset:c.N.max(c.N.Ia,c.N.min(g.offset,c.N.Ma(d.ta - d.sa)))};};},47052:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.jDa=void 0;r=a(70655);c=a(94160);l=a(47571);f=r.__importDefault(a(16955)).default.NL;k=r.__importDefault(a(73764));d=r.__importDefault(a(29736));g=a(83440);m=a(44724);h=a(2338);a=(function(){function n(p,q,u,t,w){this.config=p;this.k1b=q;this.navigator=u;this.events=t;this.console=w;p=(0,g.g_a)(this.config);this.K9=p.K9.bind(p);this.Jva=p.Jva.bind(p);this.ama=p.ama.bind(p);this.wna=p.wna.bind(p);this.M7a=[p.Vsa.bind(p),p.OV.bind(p)];}n.prototype.j_b=function(p,q,u,t,w,v,y,x){var z,A,B,D,C,F,G,E,J;A=[];if(!this.xsa(v.track,v.track.ia?v.track.EZa(t):void 0))return {stream:C,QW:A,reason:"locationSelectionFailure"};v.k2 && this.xsa(v.k2,v.k2.ia?v.k2.EZa(t):void 0);B=v.gl;t=B.ze;D=v.r4;C=t.Yn;F=this.EJb(v,q,p,u,y);G=F.first;if(0 === G.length && (null === y || void 0 === y?0:y.CSa))return {stream:void 0,QW:A,reason:"allStreamsFiltered"};C && !C.track.equals(v.track) && (C=this.QEb(C,G));E=v.mediaType;if((y=E === l.v.fa) && C && !this.P0b(t,C))return (this.config.P_a && this.K9(C.bitrate),{stream:C,QW:A});p=(0,l.Osa)(p);q=this.tzb(p,q,w,v,!!x);w=this.M7a[E];x=y?this.wna():this.ama();v=B.t$a(q,F,x,w,v.U1a(),v.track.pa.Qx,D);if(!v)return {stream:C,QW:A,reason:"streamSelectionFailure"};B={Bg:v.Bg,PV:v.PV};if(v.reason){J={reason:v.reason,g_b:v.Vs,H5:v.H5,rB:v.rB,sB:v.sB};this.vvb(E,G,u);}this.rCb(E,v,G);C=G[v.Rh];u=C.bitrate;y?this.config.P_a && this.K9(u):this.Jva(u);t.fab(C);if(null === (z=v.cF) || void 0 === z?0:z.length)A=v.cF.map(function(M){return (0,c.Hc)(G,function(L){return L.id === M;});}).filter(c.I7);return {stream:C,QW:A,FL:J,Et:B,Gv:v.Gv,EEb:G,k_b:v};};n.prototype.Eia=function(p,q,u,t,w,v,y){var x,z,A;if(!(0,l.Vn)(q))return {complete:!0,reason:"playing"};if(!v.S7a)return {complete:!1,reason:"unknown"};if(v.YTb)return ((0,m.assert)(v.A6a),v.A6a);x=v.gl;z=x.ze;u=this.CYa(v,u);A=z.Yn;z=u.Hm - u.Fd;if(z < this.config.Zq || void 0 === A)return {complete:!1,zA:z,reason:"preBuf"};if(v.mediaType === l.v.fa)return {complete:!0,zA:z,reason:"audio"};if(p=p.XSa(v.mediaType))return {complete:!0,zA:z,reason:p};this.xsa(v.track);p=new h.lea();p.Uga([A]);x.L7a(p,(0,l.Osa)(q),u,this.M7a[v.mediaType]);q=x.B2(u,q,w,A,{av:y});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",zA:z};q.zA=z;return q;};n.prototype.yj=function(p,q,u,t){return t?t.yj(p.track.Fg,q,u.wa(p.yb.te),p.Ug()):p.track.Fg;};n.prototype.EJb=function(p,q,u,t,w){var v;v=new h.lea();v.Uga(this.yj(p,u,t,w));q=p.yb.Lb.wa(q);for(q=this.config.qqa - q.G;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.Ug)break;v.Uga(this.yj(p,u,t,w));q-=p.yb.u.duration.G;}return v;};n.prototype.rCb=function(p,q,u){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:u});};n.prototype.qCb=function(p,q,u,t){p={type:"maxVideoBitrateChanged",time:d.default.time.Ga(),streaming:t,maxvb_old:p,maxvb:q,reason:u};this.events.emit(p.type,p);};n.prototype.QEb=function(p,q){var u;u=q[0];q.filter(function(t){return t.fG;}).every(function(t){return t.bitrate <= p.bitrate?u=t:!1;});return u;};n.prototype.P0b=function(p,q){return 0 < this.config.fX.length?!0:(p=p.TL) && p === q.location?!1:!0;};n.prototype.xsa=function(p,q){return p.pa.Tk.wdb(p.pa.J,p.Fg,q);};n.prototype.CYa=function(p,q){var C;for(var u,t=q.wa(this.k1b),w=[],v=p,y=q,x,z,A=0,B=0,D=!0;v;){C=v.nZa(t);if(!D && !v.$h)break;0 < C.Ka.length && (y=C.Ka[0].Bb,void 0 === x && (x=C.Ka[C.Ka.length - 1].Lb,z=C.k8 >= C.Ka.length?x:C.Ka[C.k8].Bb),w=C.Ka.concat(w),A+=0 < C.cr?C.cr:0,B+=C.eN);v=this.navigator.parent(v);D=!1;}return {ME:d.default.lT()[p.mediaType],bb:Math.floor(y.G),Fd:q.G,il:Math.floor(null !== (u=null === x || void 0 === x?void 0:x.G) && void 0 !== u?u:q.G),Hm:Math.floor(z?z.G:q.G),ro:w.reduce(function(F,G){return F + G.Ba;},0),cr:A,eN:B,ndc:w.length,Ka:w};};n.prototype.tzb=function(p,q,u,t,w){var v,y,x;v=this.CYa(t,q);y=t.mediaType === l.v.X?this.config.Ixa:this.config.Aha;x=k.default.instance();return {state:p,FB:p === l.Cb.me,bf:t.dC,playbackRate:u,buffer:v,B3:y,xS:w,bk:null === x || void 0 === x?void 0:x.bk,mediaType:t.mediaType,Fd:q.G,Kta:0};};n.prototype.vvb=function(p,q,u){var v,y;if(p === l.v.X){p="manifest";for(var t=0,w=q.length - 1;0 <= w;--w){v=q[w];y=v.bitrate;if(f(v)){t=Math.max(t,y);break;}else this.config.n$ && !v.hv?p="bc":v.Qq?v.qB && (p="hf"):p="av";}this.w4a !== t && (this.qCb(this.w4a,t,p,u),this.w4a=t);}};return n;})();b.jDa=a;},38534:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.XGa=void 0;c=a(70655);l=a(95994);f=a(12862);k=a(47571);d=a(74573);r=(function(){function g(m,h,n){this.uma=m;this.DHb=h;this.V=n;this.dh=new d.tu({cn:this,console:n,source:"MemoryDeadlockProtector",co:5});}g.prototype.LFb=function(m){var h,n,p,q;p=m.config;q=p.Zq + (null !== (n=null === (h=p.EN) || void 0 === h?void 0:h.G) && void 0 !== n?n:0);h=this.IKb(q,m);l.K && this.V.debug(("MDP: has prebuf: ").concat(h));return h?{u3:!0}:(n=this.Iub(p),h=n.XTb,n=n.L5b,h && n?(l.K && this.V.debug(("MDP: utilizing ").concat(Math.round(100 * n),"%")),n >= p.GQb?this.H9a(m,h):{u3:!0}):{u3:!1});};g.prototype.H9a=function(m,h){var n,p,q,u,t,v,z,A;this.dh.qs({o:h});u=m.Z;m=m.Va;t=u.Va;u=u.Sq;for(var w=0;w < t.length;w++){if(!t[w].$h){u=t[w];t=t.slice(0,w + 1);break;}}w=!1;v=[{mediaType:k.v.fa,sx:0},{mediaType:k.v.X,sx:0},{mediaType:k.v.Ya,sx:0}];if(null === u || void 0 === u || !u.$h){m=m.map(function(D){return D;}).filter(function(D){return -1 === t.indexOf(D);}).sort(function(D,C){return (0,f.oia)(D) - (0,f.oia)(C);});try{for(var y=c.__values(m),x=y.next();!x.done;x=y.next()){z=x.value;A=z.cL();v[k.v.fa].sx+=null !== (p=A.hR) && void 0 !== p?p:0;v[k.v.X].sx+=null !== (q=A.JX) && void 0 !== q?q:0;l.K && this.V.debug(("Resetting discontiguous branch ").concat(z.u.id),A);z.reset();if(w=v.every(function(D){return D.sx >= h[D.mediaType].sx;}))break;}}catch(D){var B;B={error:D};}finally{try{x && !x.done && (n=y.return) && n.call(y);}finally{if(B)throw B.error;}}}return {u3:w,pdc:v};};g.prototype.Iub=function(m){var h,n,p,q,u;h=[k.v.fa,k.v.X,k.v.Ya];if(!m.HQb)return {};n=this.DHb();p=this.uma().total;q=m.FQb;u=0;m=h.map(function(t){var w;w=n[t] - p[t] * q;u=Math.max(0 < p[t]?n[t] / p[t]:0,u);return {sx:Math.max(0,w),mediaType:t};});return {L5b:u,XTb:m};};g.prototype.IKb=function(m,h){var n,p;n=!1;h=h.Nq?h.Z:void 0;if(null === h || void 0 === h?0:h.eMb){n=h.Hy.Qs().map(function(q){return q.mediaType;});p=h.WGb();n=n.every(function(q){var u,t;if(q === k.v.fa)q=null !== (u=p.z1) && void 0 !== u?u:0;else if(q === k.v.X)q=null !== (t=p.S$) && void 0 !== t?t:0;else throw Error(("Unsupported media type:").concat(q));return q >= m;});}return n;};c.__decorate([(0,d.Sb)({methodName:"resetDiscontiguousBranches",return:!0,dk:!0})],g.prototype,"H9a",null);return g;})();b.XGa=r;},35340:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Tca=void 0;c=a(70655);l=a(28075);f=a(95994);k=a(44724);r=(function(){function d(){this.events=new l.EventEmitter();}d.prototype.va=function(g){var m;m=this;this.Aa=g;this.Aa.events.on("segmentNormalized",function(){m.Y8();});this.Y8();};Object.defineProperties(d.prototype,{hV:{get:function(){return this.Eob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mxa:{get:function(){(0,k.assert)(this.Aa,"Must be initialized");return this.Aa.ga;},enumerable:!1,configurable:!0}});d.prototype.Y8=function(){var g,m,h;g=this;if(this.Aa){m={};h=this.Aa.ga;this.Eob=c.__assign(c.__assign({},h),{M:new Proxy(h.M,{get:function(n,p){var q;if(m[p])return m[p];n=h.M[p];if(!n)return n;q=g.SIb(p);q?(q=q.isb(),m[p]=c.__assign(c.__assign(c.__assign({},q),n),{sa:q.sa,ta:q.ta})):m[p]=h.M[p];return m[p];}})});this.events.emit("updated");}};d.prototype.SIb=function(g){var m;f.K && (0,k.assert)(this.Aa,"Must be initialized");m=this.Aa.navigator;return m.e0a(g)?m.Od(g):void 0;};return d;})();b.Tca=r;},65533:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YJa=void 0;c=a(94160);l=a(74005);f=a(44724);k=a(85341);r=(function(){function d(){this.Va=new l.kHa();this.jm=new k.c0();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Va.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Va.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g;g=this.Va.values();this.Va.clear();this.jm.clear();g.forEach(function(m){return m.If();});};d.prototype.op=function(g){return this.Va.get(g);};d.prototype.has=function(g){return this.Va.has(g);};d.prototype.root=function(){return this.jm.root;};d.prototype.contains=function(g){var m;m=g.u.id;if(this.has(m))return -1 !== this.op(m).indexOf(g);};d.prototype.tF=function(g){this.jm.tF(g);};d.prototype.U4=function(g){return this.jm.parent(g);};d.prototype.RGb=function(g){return this.jm.children(g);};d.prototype.Fna=function(g){return this.jm.Fna(g);};d.prototype.qYb=function(g){var m;if(this.Va.delete(g.u.id,g)){m=this.jm.children(g);this.jm.root === g?0 === m.length?this.jm.clear():((0,f.assert)(1 === m.length,"cannot remove the root branch with multiple successors"),this.jm.CYb(m[0])):((0,f.assert)(0 === m.length,"cannot remove non-root branch with successors"),this.jm.remove(g));}};d.prototype.forEach=function(g){var m;m=this;this.Va.forEach(function(h,n){return g(h,n,m);});};d.prototype.reduce=function(g,m){var h;h=this;return this.Va.reduce(function(n,p,q){return g(n,p,q,h);},m);};d.prototype.map=function(g){var m;m=this;return this.Va.map(function(h,n){return g(h,n,m);});};d.prototype.filter=function(g){var m;m=this;return this.Va.filter(function(h,n){return g(h,n,m);});};d.prototype.WJb=function(){var g;g={};this.forEach(function(m,h){var n;(m=m.Br) && (null !== (n=g[h]) && void 0 !== n?n:g[h]=[]).push(m.G);});return g;};d.prototype.J4b=function(g,m){var h,n,p;h=this;g=this.rzb(g,m);n=g.sBb(this.jm);m=n.Wga;p=n.fN;n=n.q9a;this.jm.clear();this.jm=g;m.forEach(function(q){return h.Va.set(q.u.id,q);});m.forEach(function(q){return q.va();});p.forEach(function(q){return h.Va.delete(q.u.id,q);});return {fN:p,q9a:n};};d.prototype.rzb=function(g,m){var h,n,p;h=this;n=new Map();p=new k.c0();g.tF(function(q,u){var t,w;if(u){t=n.get(u);if(!t)return !0;}w=(0,c.Hc)(h.op(q.u.id),function(v){return h.jm.parent(v) === t || !u;});w=null !== w && void 0 !== w?w:m(q.u.id,t);w.Yg=q.Yg;n.set(q,w);p.add(w,t);(null === w || void 0 === w?0:w.Tn) && w.update(q.u);return !0;});return p;};return d;})();b.YJa=r;},5456:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Ja=void 0;r=(function(){function a(c){this.console=c;this.Mia();}a.prototype.get=function(c){return this.xK[c] || this.ug[c];};a.prototype.set=function(c,l){void 0 === this.ug[c] && (this.ug[c]=l);};a.prototype.M_b=function(c,l){void 0 === this.get(c) && (this.xK[c]=l);};a.prototype.clear=function(c){this.xK[c]=void 0;this.ug[c]=void 0;};a.prototype.Rvb=function(c){var l;this.ug=(l={},l[c]=this.ug[c],l);this.xK={};};a.prototype.Mia=function(){this.ug={};this.xK={};};a.prototype.toJSON=function(){return {ug:this.ug,xK:this.xK};};return a;})();b.$Ja=r;},99568:function(r,b,a){var f,k,d;function c(g,m){var h,n;h=Object.keys(g);if(h.some(function(p){var q,u,t,w;return (null === (q=g[p]) || void 0 === q?void 0:q.Xd) !== (null === (u=m[p]) || void 0 === u?void 0:u.Xd) || (null === (t=g[p]) || void 0 === t?void 0:t.weight) !== (null === (w=m[p]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(m);return 0 !== f.__spreadArray(f.__spreadArray([],f.__read((0,d.kx)(h,n)),!1),f.__read((0,d.kx)(n,h)),!1).length?!0:!1;}function l(g,m){return g.some(function(h,n){var p;return 0 !== (0,d.kx)(h,null !== (p=m[n]) && void 0 !== p?p:[]).length;}) || g.length !== m.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.wSa=b.ZTa=void 0;f=a(70655);k=a(94160);d=a(94160);b.ZTa=function(g){return new k.NBa(function(m){return Object.keys(m.u.next || ({})).map(function(h){var n,p,q;h=g.Od(h);q=null !== (p=null === (n=m.Mf) || void 0 === n?void 0:n.wa(m.Ud).G) && void 0 !== p?p:Infinity;return {X5b:h,weight:q};});});};b.wSa=function(g,m){var h,n,p,q,u,t;h=Object.keys(g.M);n=Object.keys(m.M);p=n.filter(function(w){return -1 === h.indexOf(w);});q=h.filter(function(w){return -1 === n.indexOf(w);});u=h.filter(function(w){var v,y,x,z,A;if(-1 === n.indexOf(w))v=!1;else {v=g.M[w];w=m.M[w];v=v.Db !== w.Db || v.ta !== w.ta || v.sa !== w.sa || v.Xd !== w.Xd || v.J !== w.J || l(null !== (y=v.Fq) && void 0 !== y?y:[],null !== (x=w.Fq) && void 0 !== x?x:[]) || c(null !== (z=v.next) && void 0 !== z?z:{},null !== (A=w.next) && void 0 !== A?A:{})?!0:!1;}return v;});t=(0,d.kx)(h,f.__spreadArray(f.__spreadArray(f.__spreadArray([],f.__read(u),!1),f.__read(p),!1),f.__read(q),!1));return {Wga:p,fN:q,mvb:u,v4b:t};};},42462:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bKa=b.nD=void 0;c=a(70655);l=a(44724);(function(k){k[k.$t=0]="CREATED";k[k.Zda=1]="STARTED";k[k.SP=2]="REQUEST_ISSUED";k[k.xw=3]="EVALUATED";k[k.lBa=4]="DESTRUCTED";})(f=b.nD || (b.nD={}));r=(function(){function k(d){this.rN=d;this.Sa=f.$t;this.FC={};this.VW={};}Object.defineProperties(k.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});k.prototype.start=function(){var d;d=this;this.Sa !== f.Zda && (this.UU(f.Zda),[f.xw,f.SP].forEach(function(g){var m;m=new Promise(function(h){(0,l.assert)(d.VW && d.FC,"state promises should be defined");d.VW[g]=h;d.FC[g]=m;});}),this.rN(),this.UU(f.xw));};k.prototype.UU=function(d){this.Sa=d;this.VW && (d=this.VW[d],null === d || void 0 === d?void 0:d());};k.prototype.Pa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Sa !== f.Zda)return [3,2];(0,l.assert)(this.FC,"state resolves should be defined");return [4,this.FC[f.xw]];case 1:(d.Qa(),d.label=2);case 2:return (this.VW=this.FC=void 0,this.Sa=f.lBa,[2]);}});});};k.prototype.baa=function(d,g){c.__awaiter(this,void 0,void 0,function(){var m;return c.__generator(this,function(h){switch(h.label){case 0:if(this.Sa === f.lBa)return [2];if(this.Sa === f.xw)return [3,6];(0,l.assert)(this.FC,"state promises should be defined");m=d;switch(m){case f.xw:return [3,1];case f.SP:return [3,3];}return [3,5];case 1:return [4,this.FC[f.xw]];case 2:return (h.Qa(),[3,6]);case 3:return [4,this.FC[f.SP]];case 4:return (h.Qa(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return k;})();b.bKa=r;},68397:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gKa=void 0;c=a(70655);l=a(54531);r=(function(){function f(k){this.nj=k;this.M={};}Object.defineProperties(f.prototype,{ga:{get:function(){return this.nj;},enumerable:!1,configurable:!0}});f.prototype.e0a=function(k){return !!this.ga.M[k];};f.prototype.Od=function(k){var d;d=this.M[k];if(void 0 === d){d=this.ga.M[k];if(void 0 === d)throw Error(("Segment not found (").concat(k,")"));d=new l.lKa(k,d,this.ga.Xd);this.M[k]=d;}return d;};f.prototype.GKb=function(k){return !(!k.u.next || !Object.keys(k.u.next).length);};f.prototype.iHb=function(k){var d;d=this;return k.u.next?Object.keys(k.u.next).map(function(g){return d.Od(g);}):[];};f.prototype.v2a=function(k){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,k];case 1:(g.Qa(),d=k,g.label=2);case 2:if(!d.u.Db)return [3,4];d=this.Od(d.u.Db);return [4,d];case 3:return (g.Qa(),[3,2]);case 4:return [2];}});};f.prototype.KKb=function(k,d){return (0,l.M1a)(k.c5(d));};f.prototype.cj=function(k){var d;d=this;Object.keys(k).forEach(function(g){var m;return null === (m=d.Od(g)) || void 0 === m?void 0:m.cj(k[g]);});};f.prototype.update=function(k){var d;d=this;this.nj=k;Object.keys(this.M).forEach(function(g){var m;m=d.nj.M[g];m && d.M[g].update(m) || delete d.M[g];});};return f;})();b.gKa=r;},54531:function(r,b,a){var l,f,k;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.lKa=b.J_=b.M1a=void 0;l=a(70655);f=a(94160);k=a(44724);b.M1a=c;r=(function(){function d(g,m,h){this.region=g;this.La=m;this.ab=h;}d.prototype.toJSON=function(){return {region:this.region,bb:this.La.Fy,lf:this.ab.Fy};};return d;})();b.J_=r;r=(function(){function d(g,m,h){var n;n=this;this.id=g;this.Hi=m;this.XOa=!1;this.c5=function(p){var q,u,t,w;return (null === (q=n.Rv) || void 0 === q?0:q.length)?"immediate":null !== (w=null === (t=null === (u=n.u.next) || void 0 === u?void 0:u[p]) || void 0 === t?void 0:t.Xd) && void 0 !== w?w:n.Xd;};this.mMb(m);this.j1a(m,h);this.h1a();(0,k.assert)(this.g1.lessThan(this.C0),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{J:{get:function(){return this.u.J;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ap:{get:function(){return this.XOa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ud:{get:function(){return this.g1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mf:{get:function(){return this.C0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.C0.wa(this.g1);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kX:{get:function(){return this.yy.length?!this.u.Db && 0 === this.qM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{P1a:{get:function(){return !this.u.type || "content" === this.u.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{TRb:{get:function(){return this.aA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yy:{get:function(){var g,m;return Object.keys(null !== (m=null === (g=this.u) || void 0 === g?void 0:g.next) && void 0 !== m?m:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qM:{get:function(){var g;g=this;return this.yy.filter(function(m){return !!g.aA[m];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wwa:{get:function(){var g;return null !== (g=this.PPa) && void 0 !== g?g:this.PPa=this.Pub();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{o$:{get:function(){var g;return null !== (g=this.QPa) && void 0 !== g?g:this.QPa=this.Qub();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sy:{get:function(){return this.u.weight?this.u.weight / (this.u.weight + this.o$):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xd:{get:function(){var g;return (null === (g=this.Rv) || void 0 === g?0:g.length)?"immediate":this.s1;},enumerable:!1,configurable:!0}});d.prototype.mMb=function(g){var m;this.g1=new f.N(g.sa,1E3);this.C0=void 0 !== g.ta && null !== g.ta?new f.N(g.ta,1E3):f.N.vp;this.s1=null !== (m=this.Hi.Xd) && void 0 !== m?m:this.s1;};d.prototype.j1a=function(g,m){var h,n,p;this.s1=null !== (p=null !== (n=null !== (h=g.Xd) && void 0 !== h?h:m) && void 0 !== n?n:this.s1) && void 0 !== p?p:"lazy";};d.prototype.normalize=function(g,m,h){this.g1=g;this.C0=m;this.Rv=h;this.XOa=!0;this.Aeb();};d.prototype.update=function(g){(0,k.assert)(g.J === this.Hi.J,"Cannot change the viewable id of a segment");(0,k.assert)(g.sa === this.Hi.sa,"Cannot change the start time of a segment");(0,k.assert)(g.type === this.Hi.type,"Cannot change the type of a segment");if(g.ta !== this.Hi.ta)return !1;g.Xd !== this.Hi.Xd && this.j1a(g);this.Hi=g;return !0;};d.prototype.WYa=function(){var g;return this.qM.length?null !== (g=this.qM.map(this.c5).reduce(function(m,h){return m === h?h:void 0;})) && void 0 !== g?g:this.Xd:this.Xd;};d.prototype.cj=function(g){this.h1a(g);};d.prototype.Fub=function(g){var m,h;if(this.wwa){m=(this.aA[g] || 0) / this.wwa;if(void 0 === this.u.weight || 0 === this.o$)return {tf:m};h=this.Sy;return 1 !== h && c(this.c5(g)) && this.aA[g]?{tf:h * m,tB:this.aA[g] / this.o$ * (1 - h)}:{tf:h * m};}return {tf:(null === (m=this.u.next) || void 0 === m?0:m[g])?1 / this.yy.length:0};};d.prototype.OKb=function(g){return -1 < this.yy.indexOf(g);};d.prototype.isb=function(){return this.Ap?l.__assign(l.__assign({},this.u),{sa:this.Ud.G,ta:this.Mf.G}):this.u;};d.prototype.h1a=function(g){var m;if(void 0 === this.u.next)this.aA={};else {m=this.u.next;this.aA=Object.keys(m).reduce(function(h,n){var p;p=g?g[n] || 0:m[n].weight;void 0 !== p && null !== p && 0 <= p && (h[n]=p);return h;},{});}this.Aeb();};d.prototype.Pub=function(){var g;g=this;return this.qM.reduce(function(m,h){return m + g.aA[h];},0);};d.prototype.Qub=function(){var g;g=this;return this.qM.filter(function(m){return c(g.c5(m));}).reduce(function(m,h){return m + g.aA[h];},0);};d.prototype.Aeb=function(){this.QPa=this.PPa=void 0;};return d;})();b.lKa=r;},75559:function(r,b,a){var l,f,k;function c(d,g,m,h,n){var p,q,u,t,w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H;y=d.console;x=d.C4b;z=d.ug;A=d.ZYb;B=d.GBb;D=d.Nqa;C=d.Uha;d=d.VTb;F=n || ({complete:!0,Br:0});G=F.root;E=F.complete;J=F.xqb;M=F.B9a;M=void 0 === M?0:M;F=F.Br;L=M < A.length && A[M].id === g.id;I=M < A.length?A[M].id:h && z.get(h.id);P=n && h && I !== g.id?void 0 !== I?{tf:0}:h.Fub(g.id):{tf:1};z=P.tf;P=P.tB;K=void 0 === P?0:P;P=(z + K) * (null !== (p=null === n || void 0 === n?void 0:n.uWb) && void 0 !== p?p:1);k && y.trace(("reevaluateBranches: visiting ").concat(g.id,", ") + ("distance: ").concat(m,", ") + ("probability: ").concat(P,", ") + ("predecessor: ").concat(null === h || void 0 === h?void 0:h.id,", ") + ("decision: ").concat(I,", ") + ("predecessorComplete: ").concat(E,", ") + ("isOnRequiredPath: ").concat(L,", ") + ("requiredPathIndex: ").concat(M,", ") + ("activeDistance: ").concat(J,", ") + ("seamless ").concat(z,", ") + ("immediate ").concat(K,", ") + ("predecessor sum of: successor weights=").concat(null === h || void 0 === h?void 0:h.wwa,", ") + ("immediate weights= ").concat(null === h || void 0 === h?void 0:h.o$));p=null !== (u=null === (q=x[g.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:g.duration.G;q=0 === p;if(!L){if(0 === P)return {$$:!1,L1:!0};if(!E && 0 === K && F > C)return (d.TA=Math.min(d.TA || Infinity,F - C),{$$:!1,L1:!0});if(!q && m >= B && 1 > P || !1 === G && P < D)return {$$:!1,L1:!0};}if(M < A.length){(0,l.assert)(A[M].id === g.id,"");H={duration:A[M].duration};}n=null !== (t=null === n || void 0 === n?void 0:n.Yg) && void 0 !== t?t:[];h && 1 > z && (0 === K?n=n.concat([{tf:z}]):(t=(null === (v=null === (w=h.u.Fq) || void 0 === w?void 0:w[0]) || void 0 === v?void 0:v[0]) || 0,w=Math.max(0,h.duration.G - t),k && y.trace(("reevaluateBranches: immediate: ").concat(h.duration.G,", ").concat(t,", ").concat(w)),n=n.concat([{tf:z,tB:K,duration:w}])));w=d.pua.EXa(function(N){return N.u === h;});d.pua.add({u:g,Yg:n,yb:H},w);m=E?m + g.duration.G:J;k && y.trace(("reevaluateBranches: added ").concat(g.id,", visiting successors, ") + ("active distance: ").concat(m," ") + ("probabilities: ").concat(JSON.stringify(n)));return {$$:!0,L1:L,state:{root:!h,complete:q,uWb:P,Yg:n,xqb:m,B9a:M + 1,Br:F + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.N3b=b.o6b=b.Z8=void 0;l=a(44724);r=a(95994);f=a(85341);k=r.K && !1;b.Z8=function(d,g,m,h,n,p,q,u,t){var w,v,y,x;v={pua:new f.c0()};y=(null === (w=m.Mf) || void 0 === w?void 0:w.wa(m.Ud).G) || 0;0 < p.length && (0,l.assert)(m.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");k && d.trace(("reevaluateBranches: starting at ").concat(m.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,C4b:h,ug:n,ZYb:p,GBb:q.G + y,Nqa:u,Uha:t.G,VTb:v};g.n6b(m,function(z,A,B,D){return c(x,z,A,B,D);});return v;};b.o6b=c;b.N3b=function(d,g,m){var h;h=(0,f.V7a)(g,function(n){return ("").concat(n.u.id);});m(("requiredBranches(").concat(d,")"),h.replace(/\n/g,"<>"));m(("requiredBranches(").concat(d,")"),g.values.map(function(n){var p;return ("").concat(n.u.id,"::").concat(null === (p=g.parent(n)) || void 0 === p?void 0:p.u.id);}).join(", "));};},19824:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bLa=void 0;c=a(51472);r=(function(){function l(f,k){this.fua=k;this.mW=[];this.mW.push(f);}l.prototype.no=function(f,k){return c.SO.P5({J:f,jW:k},this.mW);};l.prototype.Uv=function(f){return this.fua(f);};l.prototype.BYb=function(f){this.mW.pop();this.mW.push(f);};l.prototype.uQa=function(f){this.mW.unshift(f);};return l;})();b.bLa=r;},43450:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yLa=void 0;c=a(70655);l=a(94160);f=a(44724);b.yLa=(function(){function k(){}k.dKb=function(d){var g,m,h;if(d.Ug){h=c.__read(d.Wd,2);d=h[0];h=h[1];if(d.ia || (null === h || void 0 === h?0:h.ia))return {leb:l.N.vp,meb:l.N.vp};d=null === (g=d.so) || void 0 === g?void 0:g.Mf;g=null === (m=null === h || void 0 === h?void 0:h.so) || void 0 === m?void 0:m.Mf;(0,f.assert)(d);m=g?l.N.min(d,g):d;return {leb:d,meb:m};}};return k;})();},62437:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.x_a=void 0;b.x_a=function(a,c){return a.reduce(function(l,f){return l + f.D4(c).G;},0);};},81545:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zYa=void 0;c=a(46044);b.zYa=function(l,f){return l.reduce(function(k,d){var g;g=f(d);d.Qs().forEach(function(m){return k.Kga(m.mediaType,m.sA,!g);});return k;},new c.fKa());};},88414:function(r,b,a){var l,f;function c(k,d){return Object.keys(k.ZG).map(function(g){return k.ZG[g];}).filter(function(g){return void 0 === g.QF || 1 === g.QF;}).reduce(function(g,m){return g + m.Aq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.gMa=void 0;l=a(47571);f=a(95994);r=(function(){function k(d,g,m){this.ga=d;this.console=g;this.uma=m;}k.prototype.Vub=function(d,g,m){var h,n,p,q;h=m && this.ga.config.G5b;n=this.ga.config.L$ || h;p=this.uma();if(h){h=d.global;h=(q={},q[l.v.fa]=h[l.v.fa] - c(d,l.v.fa),q[l.v.X]=h[l.v.X] - c(d,l.v.X),q[l.v.Ya]=h[l.v.Ya] - c(d,l.v.Ya),q);}q=h;p=this.XSa(g) || this.Avb(d) || this.yvb(d,p,q) || this.zvb(d,p,q,g);q=(0,l.Ita)(p);if(p && (!q || n))return (f.K && this.console.log(("canIssueRequest ").concat(this.ga.id," [").concat(g,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});f.K && this.console.log(("canIssueRequest ").concat(this.ga.id," [").concat(g,"] static limit: ") + ("").concat(m,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};k.prototype.XSa=function(d){var g;g=this.ga.config.uG;if(this.ga.qHb(d) >= (g || Infinity))return "mediaDurationLimit";};k.prototype.Avb=function(d){return d.ZG[this.ga.id].total.total > (this.ga.Q4() || Infinity)?"playgraphMemoryLimit":void 0;};k.prototype.yvb=function(d,g,m){d=d.global;return m?m[l.v.fa] + m[l.v.X] > (g.jwa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};k.prototype.zvb=function(d,g,m,h){var n;n=d.global;return m?(f.K && this.console.log(("checkRequestByMediaTypeMemory [").concat(h,"]:") + (" using static limit ").concat(g.jwa[h],", usage: ").concat(m) + (" (global: ").concat(n[h]," ") + (" - certain contiguous: ").concat(c(d,h),")")),m[h] > (g.jwa[h] || Infinity)?h === l.v.X?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[h] > (g.total[h] || Infinity)?h === l.v.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return k;})();b.gMa=r;},38104:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rz=void 0;c=a(47571);l=a(312);f=a(35619);r=(function(){var L0p;L0p=2;for(;L0p !== 6;){switch(L0p){case 2:k.prototype.MVa=function(d,g){var J1u,m;J1u=2;for(;J1u !== 4;){switch(J1u){case 5:return d;break;case 2:m=null === this.d2?d * (100 - this.config.mX) / 100:(0,f.mha)(d,this.d2);this.config.xpa && g?(d=(0,f.mha)(d,g),d=Math.max(d,m)):d=m;J1u=5;break;}}};L0p=1;break;case 1:k.prototype.Nva=function(d){var P8Q;P8Q=2;for(;P8Q !== 1;){switch(P8Q){case 2:return this.config.zWa && (d === c.Cb.Dk || d === c.Cb.Qe);break;}}};k.prototype.Vm=function(d,g){var m84,m,h,n;m84=2;for(;m84 !== 5;){switch(m84){case 2:return this.Nva(g)?(null === (m=d.UT) || void 0 === m?void 0:m.Da) || (null === (h=d.qb) || void 0 === h?void 0:h.Da) || 0:(null === (n=d.qb) || void 0 === n?void 0:n.Da) || 0;break;}}};k.prototype.K9=function(d){var r1G;r1G=2;for(;r1G !== 1;){switch(r1G){case 2:this.d2=d;r1G=1;break;}}};k.prototype.ama=function(){var P_I;P_I=2;for(;P_I !== 1;){switch(P_I){case 2:return this.d2;break;case 4:return this.d2;break;}}};L0p=9;break;case 9:k.prototype.Jva=function(d){var e_P;e_P=2;for(;e_P !== 1;){switch(e_P){case 2:this.ieb=d;e_P=1;break;case 4:this.ieb=d;e_P=5;break;}}};k.prototype.wna=function(){var l$G;l$G=2;for(;l$G !== 1;){switch(l$G){case 2:return this.ieb;break;}}};return k;break;}}function k(d){var d_y,g;d_y=2;for(;d_y !== 9;){switch(d_y){case 2:var i14="1SI";i14+="Y";i14+="bZ";i14+="rNJCp9";g=this;this.config=d;this.ieb=this.d2=null;this.Vsa=function(m,h,n){var B6S;B6S=2;for(;B6S !== 5;){switch(B6S){case 2:m=g.Vm(m,n);return g.config.TRa?(h=(0,l.S3)(g.config.SRa,h.Hm - h.Fd,1),{lower:m * (1 - h),upper:void 0}):{lower:m * g.config.mX / 100,upper:void 0};break;}}};i14;d_y=9;break;}}}})();b.rz=r;},23174:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XAa=void 0;c=a(70655);l=a(47571);r=a(38104);f=a(78570);a=(function(k){var F87;F87=2;function d(g){var S8n,m;S8n=2;for(;S8n !== 9;){switch(S8n){case 4:var D7y="1";D7y+="SI";D7y+="Yb";D7y+="ZrNJCp9";D7y;return m;break;case 2:m=k.call(this,g) || this;m.OV=function(h,n,p,q){var V5z,A$S;V5z=2;for(;V5z !== 11;){switch(V5z){case 9:V5z=p === l.Cb.Dk?8:6;break;case 5:var a9m="deliver";a9m+="yti";a9m+="me";a9m+="-ci";A$S=m.config.Kia;V5z=A$S === a9m?4:13;break;case 6:V5z=p === l.Cb.Qe?8:14;break;case 1:return m.MPb.OV(h,n,p,q);break;case 4:var f$G="delive";f$G+="r";f$G+="yt";f$G+="im";f$G+="e-ci";n=h[f$G];V5z=3;break;case 14:V5z=7;break;case 2:V5z=m.Nva(p)?1:5;break;case 12:var W_K="t";W_K+="hr";W_K+="oug";W_K+="h";W_K+="put-ci";n=h[W_K];V5z=3;break;case 3:q=m.config.Axa * h.qb.Da;V5z=9;break;case 13:V5z=12;break;case 8:return {lower:(null === n || void 0 === n?void 0:n.initial) || h.qb.Da,upper:(null === n || void 0 === n?void 0:n.high) || q};break;case 7:return {lower:(null === n || void 0 === n?void 0:n.low) || h.qb.Da,upper:(null === n || void 0 === n?void 0:n.high) || q};break;}}};m.MPb=new f.Fca(g);S8n=4;break;case 13:"";return m;break;}}}for(;F87 !== 5;){switch(F87){case 2:c.__extends(d,k);return d;break;}}})(r.rz);b.XAa=a;},83440:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.g_a=b.rz=void 0;c=a(78570);l=a(16038);f=a(1689);k=a(23174);d=a(38104);Object.defineProperties(b,{rz:{enumerable:!0,get:function(){return d.rz;}}});b.g_a=function(g){switch(g.eqa){case "manifold":return new c.Fca(g);case "stddev":return new f.ZLa(g);case "ci":return new k.XAa(g);default:return new l.JLa(g);}};},78570:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Fca=void 0;c=a(70655);r=c.__importStar(a(312));l=c.__importDefault(a(29736));a=a(38104);f=r.jK;k=r.fTa;d=r.S3;g=r.XWa;m=r.e$a;new l.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var R3w;R3w=2;function n(p){var q3h,q;q3h=2;for(;q3h !== 13;){switch(q3h){case 6:var r8K="1";r8K+="SIYbZr";r8K+="NJC";r8K+="p9";r8K;return q;break;case 9:q.filter=p.ss.filter;q.f1b=!!p.ss.simpleScaling;p.ss.niqrfilter && p.ss.niqrcurve && (q.z5a=p.ss.niqrfilter,q.VRb=k(p.ss.niqrcurve,1,0,4));q3h=6;break;case 1:q.OV=function(u,t,w,v){var d2z,y,x,z;d2z=2;for(;d2z !== 14;){switch(d2z){case 8:void 0 !== u && (x=g(q.VRb,u),t=Math.min(t * x,1));R7xOY.m_t(11);v=q.MVa(R7xOY.N0G(t,1,z),v);return {lower:v,upper:v * q.config.Axa};break;case 2:z=q.Vm(u,w);w=q.Nva(w)?z:(null === (y=u[q.filter]) || void 0 === y?void 0:y.Da) || z;y=Math.pow(Math.max(1 - w / q.qtb,0),q.ntb);w=t.Hm - t.Fd;q.f1b?(t=d(q.XUa,w,1),w=d(q.WUa,w,1),t=t * y + w * (1 - y)):t=d(m(q.XUa,q.WUa,y),w,1);u=q.z5a && (null === (x=u[q.z5a]) || void 0 === x?void 0:x.dra);d2z=8;break;}}};Array.isArray(p.ss.curves) && (q.XUa=k(p.ss.curves[0],0,0,1),q.WUa=k(p.ss.curves[1],0,0,1));q.qtb=f(p.ss.threshold || 6E3,1,1E5);q.ntb=f(p.ss.gamma || 1,.1,10);q3h=9;break;case 2:q=h.call(this,p) || this;q3h=1;break;}}}for(;R3w !== 5;){switch(R3w){case 2:c.__extends(n,h);return n;break;}}})(a.rz);b.Fca=a;},16038:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JLa=void 0;c=a(70655);r=c.__importDefault(a(29736));l=a(38104);f=a(35619);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){function d(g){var u2n,m;u2n=2;for(;u2n !== 3;){switch(u2n){case 2:var c46="1SI";c46+="Yb";c46+="ZrNJCp";c46+="9";m=k.call(this,g) || this;m.OV=function(h,n,p,q){var F6u,u;F6u=2;for(;F6u !== 9;){switch(F6u){case 2:u=m.Vm(h,p);h=m.X0b(h,p);n=u?u * (100 - m.BGb(n,h)) / 100 | 0:0;F6u=4;break;case 4:q=m.MVa(n,q);return {lower:q,upper:q * m.config.Axa};break;}}};c46;return m;break;}}}var l4n;l4n=2;for(;l4n !== 3;){switch(l4n){case 2:c.__extends(d,k);d.prototype.BGb=function(g,m){var g3X,h,n;g3X=2;for(;g3X !== 3;){switch(g3X){case 2:(h=this.config,n=m?h.jja:h.Lha);m=m?h.kja:h.Nha;Array.isArray(m) && (n=(0,f.WWa)(m,g.Hm - g.Fd,h.Mha));g3X=4;break;case 4:return n;break;}}};d.prototype.X0b=function(g,m){var l3W;l3W=2;for(;l3W !== 5;){switch(l3W){case 2:g=this.Vm(g,m);return this.config.Bwa && g < this.config.lja;break;}}};return d;break;}}})(l.rz);b.JLa=a;},1689:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZLa=void 0;c=a(70655);r=a(38104);r=(function(l){var Q7K;function f(k){var W15,d;W15=2;for(;W15 !== 3;){switch(W15){case 14:return d;break;case 4:return d;break;case 2:var n4j="1";n4j+="S";n4j+="IYbZrN";n4j+="JCp9";d=l.call(this,k) || this;d.OV=function(g){var L29,d3N,m;L29=2;for(;L29 !== 10;){switch(L29){case 4:return m;break;case 5:L29=!g.Km || !g.Km.Da?4:3;break;case 3:m=Math.sqrt(g.Km.Zd || 0);L29=9;break;case 14:L29=g.Km && g.Km.rO?13:4;break;case 1:var t4Y="d";t4Y+="eliver";t4Y+="ytime";d3N=d.config.S1b;L29=d3N === t4Y?5:12;break;case 8:L29=!g.Km || !g.Km.YJ?4:7;break;case 7:m=Math.sqrt(g.Km.rO || 0);L29=6;break;case 11:var G29="e";G29+="w";G29+="m";G29+="a";L29=d3N === G29?14:4;break;case 12:var H8S="ave";H8S+="rage";H8S+="tp";L29=d3N === H8S?8:11;break;case 6:return {lower:g.Km.YJ + d.config.kwa * m,upper:g.Km.YJ + d.config.lwa * m};break;case 2:m={lower:g.qb.Da,upper:void 0};L29=1;break;case 9:return {lower:8 / (g.Km.Da + d.config.kwa * m),upper:8 / (g.Km.Da - d.config.lwa * m)};break;case 13:return (m=Math.sqrt(g.Km.rO || 0),{lower:g.qb.Da + d.config.kwa * m,upper:g.qb.Da + d.config.lwa * m});break;}}};n4j;W15=4;break;}}}Q7K=2;for(;Q7K !== 5;){switch(Q7K){case 2:c.__extends(f,l);return f;break;}}})(r.rz);b.ZLa=r;},35619:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mha=b.Vsa=b.WWa=void 0;c=a(312);b.WWa=function(l,f,k){var d,g,m;d=0;if(k){l.some(function(h){var n;n=h.b;h=h.m;if(f <= n)return (d=m && n !== g?m + (h - m) / (n - g) * (f - g):h,!0);g=n;d=m=h;return !1;});}else l.some(function(h){d=h.m;return f <= h.b;});return d;};b.Vsa=function(l,f,k){var d;f=(null === (d=f.qb) || void 0 === d?void 0:d.Da) || 0;return l.TRa?(l=(0,c.S3)(l.SRa,k.Hm - k.Fd,1),f * (1 - l)):f * l.mX / 100;};b.mha=function(l,f){return l < 2 * f?l / 2:l - f;};},76613:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gBa=b.jBa=void 0;c=a(71820);l=a(56714);b.jBa=625E3;r=(function(){function f(k){this.config=k;}f.prototype.mia=function(k){var d,g,m,h,n;d=this.config.Yja;g=this.config.Hec || this.config.Xja;m=0 < k.N_a.uB;h=m?g * b.jBa / 1E3:this.config.OU || Infinity;n=m?Math.floor(k.N_a.uB / h):d;return {Zk:k.F6b.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var u;u=p.key.config;return {p2a:{uB:q > n - 1?0:h},Cd:p,z8:1,ti:u,nbb:{audio:[(0,c.oK)(u),new l.iea()],video:[(0,c.pK)(u),new l.iea()]}};})};};return f;})();b.gBa=r;},66904:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.CBa=void 0;c=a(70655);l=a(41427);f=a(86021);r=(function(){function k(){}k.prototype.T3a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,m,h,n,p;return c.__generator(this,function(q){switch(q.label){case 0:g=d.Cd.key;if(!(0,f.iU)(g))return [3,2];m=g.J;h=d.Cd.Pe.Sm(m);return [4,Promise.resolve(h.Xp)];case 1:return (n=q.Qa(),p=n.W,p.hp?[2,(0,l.C2)(p.hp,{config:n.config})]:[2,(0,l.Y9)(m,"ps0")]);case 2:return [2,g.ga];}});});};return k;})();b.CBa=r;},23983:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sKa=void 0;c=a(95994);l=a(38761);b.sKa=(function(){function f(){}f.DYb=function(k,d,g,m){k.events.once("seeking",function(h){var n,p;n=h.position;p=g.length;h.duplicate || (g.c9(function(q){return "segmentNormalized" !== q.Eq;}),c.K && m.log(("Discarding ").concat(p - g.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.j5)(d)) + (" due to seek to ").concat((0,l.j5)(n))));c.K && m.log(("Replaying ").concat(g.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.j5)(n)));g.bua();g.Pa();});};return f;})();},12568:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B;Object.defineProperties(b,{__esModule:{value:!0}});b.uKa=void 0;c=a(70655);l=a(28075);f=a(94160);k=a(94160);d=a(47571);g=a(74005);m=a(51472);h=a(44724);n=a(57538);p=a(95994);q=a(71820);u=a(3346);t=c.__importDefault(a(29736));w=a(96649);v=a(66904);y=a(11974);x=a(76613);z=a(86021);A=a(23983);B=a(68332);r=(function(){function D(C,F,G,E,J){void 0 === E && (E=new y.DBa());void 0 === J && (J=new v.CBa());this.QWa=C;this.config=F;this.S8a=E;this.Zk=[];this.O7a=[];this.jw=[];this.Tf={t2a:0,u2a:0,q2a:0,eia:0,r2a:0,s2a:0,fia:0};this.events=new l.EventEmitter();this.V=(0,g.Nh)(t.default,G,"PREFETCH");this.Rga(new x.gBa(F));this.Rga(new B.FLa(F));this.J$a({uB:F.NVb});this.xva(J);this.bMb();}Object.defineProperties(D.prototype,{OVb:{get:function(){return this.Zk.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});D.prototype.dab=function(C){p.K && (0,h.assert)(C,"Reconciliation strategy is undefined");this.S8a=C;return this;};D.prototype.Rga=function(C){this.O7a.unshift(C);return this;};D.prototype.lab=function(C){p.K && this.V.debug("Wish list changed",{gfc:C.length});this.jw=C;this.nta();};D.prototype.reset=function(){var C,E,J,M,L,I;if(this.config.WVb)try{for(var F=c.__values(this.Zk),G=F.next();!G.done;G=F.next()){E=G.value;J=E.ga;M=E.l6;L=E.context;if(J){J.If();M.c9(function(K){return "segmentNormalized" !== K.Eq;});I=(0,z.dna)(L.Cd,J.ga);J.zC(I);}}}catch(K){var P;P={error:K};}finally{try{G && !G.done && (C=F.return) && C.call(F);}finally{if(P)throw P.error;}}else this.lab([]);};D.prototype.J$a=function(C){p.K && this.V.debug("Budget changed",{NSb:this.JR,KRb:C});this.JR=C;this.nta();};D.prototype.Mvb=function(C,F){var G,E,J,M;p.K && this.V.debug("Looking for playgraph to claim");if(C=this.S8a.DXa(this.Zk,{ga:C,ti:F}))if((F=this.jw.indexOf(C.context.Cd),p.K && this.V.debug(("Claiming item: ").concat((0,z.Wm)(C.context.Cd.key)),{El:t.default.time.Ga() - C.Jwa,buffer:null === (G=C.ga) || void 0 === G?void 0:G.Pn(f.N.Ia)}),this.CK(C.context,{gpa:!!C.ga}),C.ga)){G=C.ga;J=C.iN;M=G.yh;A.sKa.DYb(G,M,C.l6,this.V);J.NZb(null !== (E=G.RF(M)) && void 0 !== E?E:f.N.Ia,F);G.fdb({uB:this.config.OU || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.Cd,videoBytesBuffered:C.ga.AF().JX,audioBytesBuffered:C.ga.AF().hR});}this.config.Grb || this.reset();return null === C || void 0 === C?void 0:C.ga;};D.prototype.Lvb=function(){};D.prototype.getStats=function(){var C;C=t.default.time.Ga();return {wishListLength:this.jw.length,prefetchList:this.OVb.length,contents:this.Zk.map(function(F){var G,E,J,M,L;return {id:(0,z.Wm)(F.context.Cd.key),buffer:null === (G=F.ga) || void 0 === G?void 0:G.Pn(f.N.Ia),pId:null === (E=F.ga) || void 0 === E?void 0:E.id,budget:{inMemoryBytes:F.context.p2a.uB},weight:F.context.z8,age:C - F.Jwa,timeOpened:C - (null !== (J=F.v3b) && void 0 !== J?J:0),state:d.Yc[null !== (L=null === (M=F.ga) || void 0 === M?void 0:M.hf.value) && void 0 !== L?L:d.Yc.Tr]};}),aggregated:{itemsRequested:this.Tf.t2a,itemsStarted:this.Tf.u2a,itemsClaimed:this.Tf.q2a,bytesClaimed:this.Tf.eia,itemsCompleted:this.Tf.r2a,itemsDiscarded:this.Tf.s2a,bytesDiscarded:this.Tf.fia}};};D.prototype.CK=function(C,F){var G;void 0 === F && (F={});c.__awaiter(this,void 0,void 0,function(){var E,J,M,L,I,P;return c.__generator(this,function(K){switch(K.label){case 0:E=c.__assign({gpa:!1,z2a:!1},F);J=E.gpa;M=E.z2a;L=(0,k.Hc)(this.Zk,function(H){return H.context === C;});if(!L)return [3,3];this.Zk.splice(this.Zk.indexOf(L),1);M || (I=this.jw.length,this.jw=this.jw.filter(function(H){return H !== C.Cd;}),p.K && this.V.info("Dropping items from wishlist",I - this.jw.length),this.jw.length >= I && p.K && this.V.warn("Unable to filter out wishlist item",this.jw.map(function(H){return H.key;}),C.Cd.key));p.K && this.V.debug("Dropping playgraph",{El:t.default.time.Ga() - L.Jwa,buffer:null === (G=L.ga) || void 0 === G?void 0:G.Pn(f.N.Ia),J:(0,z.Wm)(C.Cd.key),Ifc:!J,adc:!M});L.bB.clear();if(J)return [3,2];P=this.Oy(L);return L.ga?[4,P]:[3,2];case 1:(K.Qa(),K.label=2);case 2:(this.nta(),K.label=3);case 3:return [2];}});});};D.prototype.xva=function(C){(0,h.assert)(C,"Playgraph resolver is undefined");this.Rsa=C;return this;};D.prototype.bMb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.Tf.r2a++;});this.events.on("prefetchStarted",function(){return C.Tf.u2a++;});this.events.on("itemQueued",function(){return C.Tf.t2a++;});this.events.on("itemClaimed",function(F){var G,E;C.Tf.q2a++;C.Tf.eia+=(null !== (G=F.b6b) && void 0 !== G?G:0) + (null !== (E=F.Lsb) && void 0 !== E?E:0);});this.events.on("itemDropped",function(F){var G,E;C.Tf.s2a++;C.Tf.fia+=(null !== (G=F.b6b) && void 0 !== G?G:0) + (null !== (E=F.Lsb) && void 0 !== E?E:0);});};D.prototype.nta=function(){var C,F,G,E,J,M;C=this;F=m.SO.P5({F6b:this.jw,N_a:this.JR},this.O7a.map(function(L){return L.mia.bind(L);})).Zk;G=(0,k.kx)(F,this.Zk,function(L,I){return (0,z.isEqual)(L.Cd.key,I.context.Cd.key);});E=(0,k.kx)(this.Zk,F,function(L,I){return (0,z.isEqual)(L.context.Cd.key,I.Cd.key);});J=(0,k.kx)(this.Zk,E);p.K && this.V.debug(("Re-evaluated prefetch items. new:").concat(G.length,", evict: ").concat(E.length,", update: ").concat(G.length));E=E.map(function(L){var I;I=L.context.Cd.key;p.K && C.V.debug("Releasing playgraph",(0,z.Wm)(I));return C.Oy(L).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.Cd});});});M=J.map(function(L){return c.__awaiter(C,void 0,void 0,function(){var I,P;return c.__generator(this,function(K){switch(K.label){case 0:(I=(0,k.Hc)(F,function(H){return (0,z.isEqual)(H.Cd.key,L.context.Cd.key);}),(0,h.assert)(I,"Couldn't find the requested item context"),L.context=I,K.label=1);case 1:return (K.Qj.push([1,3,,4]),[4,L.y8]);case 2:return (P=K.Qa(),[3,4]);case 3:return (K.Qa(),[2]);case 4:return ((0,k.Hc)(this.Zk,function(H){return H === L;}) && (this.pRa(L.context,P),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.Cd})),[2]);}});});});G=G.map(function(L){var I;I=C.vzb(L);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.Cd});return I;});this.Zk=c.__spreadArray(c.__spreadArray([],c.__read(J),!1),c.__read(G),!1);J=G.map(function(L){return L.y8.catch(function(){});});J=E.concat(M).concat(J);Promise.all(J);};D.prototype.Oy=function(C){var F;F=this;return C.y8.then(function(G){return c.__awaiter(F,void 0,void 0,function(){var E;return c.__generator(this,function(J){switch(J.label){case 0:return (p.K && this.V.debug("Removing prefetch playgraph",{size:G.Pn(f.N.Ia)}),C.bB.clear(),[4,this.QWa()]);case 1:return (E=J.Qa(),E.Oy(G),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.Cd,videoBytesBuffered:G.AF().JX,audioBytesBuffered:G.AF().hR}),[2]);}});});},function(){});};D.prototype.a3=function(C){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,J,M,L,I;I=this;return c.__generator(this,function(P){switch(P.label){case 0:return (F=C.context,G=(0,z.Wm)(F.Cd.key),p.K && this.V.debug("Creating playgraph",G),[4,this.Rsa.T3a(F)]);case 1:return (E=P.Qa(),[4,F.Cd.Pe.Sm(G).Xp]);case 2:return (J=P.Qa(),J.W.Im?(this.CK(F,{gpa:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(G) + " is not supported with prefetching")]):[4,this.QWa()]);case 3:return (M=P.Qa(),L=M.qR(E,F.z8,F.ti,F.Cd.Pe,!1),C.bB.addListener(L.events,"error",function(K){p.K && I.V.debug("Prefetch playgraph resulted in error",K.Zcc);I.CK(F);}),[2,L]);}});});};D.prototype.HTb=function(C,F){return c.__awaiter(this,void 0,void 0,function(){var G,E,J,M;return c.__generator(this,function(L){switch(L.label){case 0:return (G=C.context,E=(0,z.Wm)(G.Cd.key),J=G.Cd.Pe.Sm(E),[4,J.Xp]);case 1:return (M=L.Qa(),this.pRa(G,F),this.dsb(G,F,!!M.np),F.open(),F.Wy({yN:function(I,P){var K;K=I.recommendedMedia;return K?(0,k.Tu)(P,function(H){return H.new_track_id === K.ap;}):(0,k.Tu)(P,function(H){return H.track_id === I.defaultTrackOrderList[0].audioTrackId;});}},{yN:function(I,P){var K;K=I.recommendedMedia;return K?(0,k.Tu)(P,function(H){return H.new_track_id === K.sO;}):(0,k.Tu)(P,function(H){return H.track_id === I.defaultTrackOrderList[0].videoTrackId;});}}),F.zC((0,z.dna)(G.Cd,F.ga)),this.eYb(C,J),J.Gq && (p.K && this.V.warn("Viewable churn encountered during prefetcher (expired on initialization)",E),this.CK(C.context)),[2]);}});});};D.prototype.eYb=function(C,F){var E;function G(J){p.K && E.V.debug(("Viewable ").concat(J?"superseded":"expired"),(0,z.Wm)(C.context.Cd.key));C.uec=!0;E.CK(C.context,{z2a:!J});}E=this;F.events && (C.bB.addListener(F.events,"viewableEvicted",function(){G(!0);}),C.bB.addListener(F.events,"viewableExpired",function(){G(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.Cd});};D.prototype.pRa=function(C,F){F.Bdb(C.z8);F.fdb(C.p2a);};D.prototype.dsb=function(C,F,G){var E;E=C.nbb;C=E.audio;E=E.video;G && E.push(new w.AP(this.V,F.config));F.Cva(new q.su(C,!0),new q.su(E,!0));};D.prototype.vzb=function(C){var F,G,E;F=this;G=new n.tKa();E={context:C,Jwa:t.default.time.Ga(),bB:new l.Re(),iN:G};E.y8=this.a3(E).then(function(J){return c.__awaiter(F,void 0,void 0,function(){var M,L;L=this;return c.__generator(this,function(I){switch(I.label){case 0:for(M=J;M.Ta;){M=M.Ta;}J.Ye(G);G.Gsb(J);E.l6=new u.NCa(M.events,{S0b:function(P){var K;K=P.Eq;switch(K){case "buffering":return !1;case "bufferingStarted":E.l6.c9(function(H){return "bufferingComplete" === H.Eq || "updateStreamingPts" === H.Eq;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":E.l6.c9(function(H){return H.Eq === K;});default:return !0;}}});M.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.Cd});});return [4,this.HTb(E,J)];case 1:return (I.Qa(),E.v3b=t.default.time.Ga(),E.ga=J,[2,J]);}});});});E.y8.catch(function(J){p.K && F.V.error("Exception occurred creating playgraph",J);F.CK(E.context);});return E;};return D;})();b.uKa=r;},11974:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DBa=void 0;c=a(70655);l=a(44724);f=a(86021);r=(function(){function k(){}k.Wm=function(d){var g,m;g=d.M;d=d.we;m=g[d].J;Object.keys(g).forEach(function(h){return (0,l.assert)(g[h].J === m);});return g[d].J;};k.prototype.DXa=function(d,g){var m;m=Object.keys(g.ga.M).length;return c.__read(d.filter(function(h){var n,p;return k.Wm(g.ga) === (0,f.Wm)(h.context.Cd.key) && (1 === m || m === Object.keys(null !== (p=null === (n=h.ga) || void 0 === n?void 0:n.ga.M) && void 0 !== p?p:{}).length);}),1)[0];};return k;})();b.DBa=r;},68332:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FLa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.mia=function(c,l){var f,k;f=this;c=l(c);k=c.Zk.map(function(d){return d.Cd.priority;}).sort();c.Zk.forEach(function(d){d.z8=f.config.QVb / (2 << k.lastIndexOf(d.Cd.priority));});return c;};return a;})();b.FLa=r;},56714:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iea=void 0;c=a(47571);r=(function(){function l(){}l.prototype.yj=function(f,k){return k === c.Yc.qm?[]:f;};return l;})();b.iea=r;},86021:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dna=b.Wm=b.isEqual=b.iU=void 0;c=a(94160);l=a(18934);b.iU=function(f){return !!f.J;};b.isEqual=function(f,k){var d,g;d=(0,b.iU)(f);g=(0,b.iU)(k);return d === g?d?f.J === k.J:f.ga === k.ga:!1;};b.Wm=function(f){if((0,b.iU)(f))return f.J;f=f.ga;return f.M[f.we].J;};b.dna=function(f,k){var d;return f.n2?f.n2 instanceof c.N?(f=(0,l.Fx)(k,(0,b.Wm)(f.key),f.n2),(null === f || void 0 === f?0:f.offset.greaterThan(c.N.Ia))?f:{offset:c.N.Ia,I:null !== (d=null === f || void 0 === f?void 0:f.I) && void 0 !== d?d:k.we}):f.n2:{offset:c.N.Ia,I:k.we};};},89098:function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.lca=b.Tda=void 0;a=(function(){function l(){var f;f=this;this.SQ=[];this.yYb=function(k){k=f.SQ.indexOf(k);0 <= k && f.SQ.splice(k,1);};}Object.defineProperties(l.prototype,{hha:{get:function(){return 0 !== this.SQ.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Y5a:{get:function(){return this.SQ.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var f;f=new c(this.yYb);this.SQ.push(f);return f;};l.prototype.Deb=function(f){var k;k=this.add();try{Promise.resolve(f()).then(function(d){k.release();return d;},function(d){k.release();return Promise.reject(d);});}catch(d){k.release();Promise.reject(d);}};return l;})();b.Tda=a;c=(function(){function l(f){this.upb=f;}l.prototype.release=function(){this.upb(this);};return l;})();r=(function(){function l(f,k){this.uTb=f;this.console=k;this.counter=new a();}l.prototype.Ku=function(){var f,k;f=this;this.console.trace("Acquiring lease, total count",this.counter.Y5a + 1);k=this.counter.add();return {release:function(){k.release();f.console.trace("Releasing lease, total count",f.counter.Y5a);f.uTb(function(){return !f.counter.hha;});}};};return l;})();b.lca=r;},37656:function(r,b,a){var f;function c(k,d){this.apb=k.GM && k.GM.enabled;this.k1=void 0;this.oob=d;this.gga=[];this.sga=[];this.Vfa=[];k=k.wPa || [];d=k.map(function(g){return g.Gcc;});d.unshift(0);this.hpb=k;this.ipb=d;this.Xfa=[];this.kh=[];}function l(k,d){var u,t,w,v;for(var g=[],m=[],h=0;h < k.length;h++){for(var n=k[h],p=[],q=0;q < n.length;q++){u=n[q] - (m[q] || 0);t=d && d[q];w=p;v=w.push;1 <= t && (t=Math.pow(10,t || 0),u=Math.round(u * t) / t);v.call(w,u);}g.push(p);m=n;}return g;}f=a(16955).NL;c.prototype.reset=function(k){this.k1=void 0;this.gga=[];this.sga=[];this.Vfa=[];this.Xfa=[];k && (this.kh=[]);};c.prototype.add=function(k,d){var g,m,h,n;g=d.filter(function(p,q){return f(p) || q === k.Rh;});m=g.map(function(p){return p.bitrate;});d=d[k.Rh];g=g.indexOf(d);h=this.k1;if(h && (h.length !== m.length || h.some(function(p,q){return p !== m[q];}))){n=this.SYa();n && (this.kh.push(n),this.reset(!1));}void 0 === h && (this.k1=m);this.gga.push([g,k.Ar,k.il,k.mSa,k.aub,k.PV,k.ASb,k.Bg,k.bk,k.ys,k.JC - k.Ar,k.pVb]);void 0 !== k.Gv && this.Vfa.push([k.Ar,k.Gv.Yy,k.Gv.Dx,k.Gv.Ly]);g=d && d.Ka;this.apb && void 0 !== g && (h=g.Sx(k.ys),-1 != h && (g=g.get(h),h=g.duration,d=g.zb || d.zb,void 0 !== d && this.sga.push({bb:g.bb,duration:h,zb:d})));(d=k.KVb) && d.length && (d=d.slice(0),d.unshift(k.Ar),this.Xfa.push(d));};c.prototype.SYa=function(){var k,d;k=l(this.gga);if(0 !== k.length){k={dltype:this.oob,bitrates:this.k1,seltrace:k,vmaftrace:this.sga,paceratetrace:l(this.Vfa)};d=l(this.Xfa,this.ipb);d && d.length && (k.predtrace={config:this.hpb,data:d});return k;}};c.prototype.get=function(){var k,d;k=this.SYa();d=this.kh;k && d.push(k);if(0 !== d.length)return d;};r.exports=c;},15876:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Gya=void 0;c=a(41427);l=a(96349);f=a(19829);r=(function(){function k(d){this.context=d;this.qd="ad-playgraph";this.enabled=!0;}k.prototype.Qi=function(d){var g,m,h,n,p,q,u;g=d.Ti;d=d.RB;if(g === f.qc.Oj || g === f.qc.km || g === f.qc.Oi || d === f.Vh.Ct || void 0 === g && void 0 === d){d=this.context;g=d.Lc;m=d.Ta;d=m.Z;h=d.Pd?d.Jg:m.Oq?m.yh:void 0;n=g.ps;p=void 0;q="content";d=void 0;if(h){m=m.ga.M[h.I];u=m.Rb;u && (g=g.ga.M[u],g.J != m.J && (p=m.J,q=m.type,d=this.oGb(h.I,g.J)));}g={adPlaygraph:n?c.Fda.decode(n):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!n};void 0 !== d && (g.adBreakLocationMs=d);return g;}};k.prototype.oGb=function(d,g){var m,h,n,p;if(d=(0,l.zF)(d))p=null === (n=null === (h=null === (m=this.context.Lc.Sc) || void 0 === m?void 0:m.Xe.ce[g]) || void 0 === h?void 0:h[d.qj]) || void 0 === n?void 0:n.Ot;return p;};return k;})();b.Gya=r;},5015:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.kza=void 0;r=a(70655);c=a(28075);l=a(94160);f=a(94160);k=r.__importDefault(a(54186));d=r.__importDefault(a(37656));g=a(19829);m=a(18312);a=(function(){function h(n){var p,q;p=this;this.ga=n;this.Eq="aseReport";this.NR=l.N.vp;this.events=new c.EventEmitter();this.Yia=m.K_.fBa;this.Tfa=!1;this.NPa=0;if(0 === Math.floor(1E6 * Math.random()) % n.config.xR || n.config.ldc){this.NR=l.N.Ma(n.config.vha);this.nQb=n.config.msb;this.ga.V1=!0;q=[];q[k.default.Bo.X]=new d.default(n.config,k.default.Bo.X);q[k.default.Bo.fa]=new d.default(n.config,k.default.Bo.fa);this.kga=q;this.ga.events.on("openComplete",function(){return p.open();});}}h.prototype.open=function(){this.ga.V1 && !this.Tfa && (this.Tfa=!0,this.ga.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ga.events.on("requestIssued",this.Rra.bind(this)));};h.prototype.Rra=function(n){n.result && n.streamList && (this.kga[n.mediaType].add(n.result,n.streamList),++this.NPa >= this.nQb && this.events.emit("collectionRequested"));};h.prototype.DJb=function(){var n;n=(0,f.flatten)(this.kga.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.kga.forEach(function(p){return p.reset(!0);});this.NPa=0;return n;};h.prototype.Bf=function(n){var p,q;p=n.Ti;q=n.owb;n=n.F1a || q || p === g.qc.Oi;return this.ga.V1 && this.Tfa && n && (n=this.DJb()) && n.length?{R9:!0,event:{type:"asereport",strmsel:n}}:{R9:!1};};return h;})();b.kza=a;},52843:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.AAa=void 0;c=a(38264);l=a(95994);f=a(19829);r=(function(){function k(d,g){this.y1b=d;this.cn=g;}Object.defineProperties(k.prototype,{zp:{get:function(){return ("cache-").concat(this.y1b);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qd:{get:function(){return this.zp;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.Qi=function(d){var g,m,h;g=d.Ti;d=d.RB;if(g === f.qc.Oj || g === f.qc.km || g === f.qc.Oi || void 0 === g && void 0 === d){m=(0,c.FYa)(this.cn);g=Object.keys(m).filter(function(n){return m[n].isEnabled;});if(g.length){h={};g.forEach(function(n){h[n]={hit:m[n].gia,idx:m[n].sSa};});return {Ubc:h};}}};return k;})();b.AAa=r;},20571:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.IAa=void 0;c=a(94160);l=a(47571);f=a(19829);r=(function(){function k(d,g){this.sg=d;this.config=g;this.qd="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.gvb;},enumerable:!1,configurable:!0}});k.prototype.Qi=function(d){var g;g=this;if(d.Ti === f.qc.Oi)return {cdndldist:JSON.stringify((0,c.rRa)(Object.keys(this.sg).map(function(m){var h;h=g.sg[m];return Object.keys(h).map(function(n){var p;p=h[n];return {cdnid:p.Fm,pbcid:p.Fp,dls:Object.keys(p.iF).map(function(q){var u,t;q=p.iF[q];t=q.mediaType === l.v.fa?"adlid":"dlid";return (u={tm:q.totalTime,bitrate:q.bitrate},u[t]=q.Vb,u.vf=q.zb,u);})};});})))};};return k;})();b.IAa=r;},21185:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cBa=void 0;c=a(19829);r=(function(){function l(f){this.Im=f;this.qd="content-playgraph";this.enabled=!0;}l.prototype.Qi=function(f){var k,d;k=f.Ti;f=f.RB;if(k === c.qc.Oj || k === c.qc.km || k === c.qc.Oi || void 0 === k && void 0 === f){f=this.Im.Ta;d=f.Z;k=void 0;(d.Pd?d.Jg:f.Oq && f.yh) && this.Im.Im && (d=d.Jg,f=this.Im.Tg.Pt(d),d=this.Im.Ta.ga.M[d.I].J,this.Im.ga.M[f.I].J != d && (k=d));return {contentPlaygraph:this.Im.Im,auxMid:k};}};return l;})();b.cBa=r;},74573:function(r,b,a){var l,f,k,d;function c(g,m,h){var n,p,t;m=l.__assign({},null === (p=null === g || void 0 === g?void 0:g.context) || void 0 === p?void 0:p.call(g,{a6a:m,sq:h}));if((null === g || void 0 === g?0:g.sq) && h)if(!0 === g.sq)m.args=h;else {p={};m.args=p;try{for(var q=l.__values(g.sq),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=h[t];}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(w)throw w.error;}}}return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.tu=b.una=b.Sb=void 0;l=a(70655);f=a(94160);k=a(95994);d=l.__importDefault(a(29736));b.Sb=function(g){return function(m,h,n){var p;p=n.value;n.value=function(){var q,u,t,w,v,y;u=(0,b.una)(this);if(u)(t=c(g,this,arguments),w=null !== (q=null === g || void 0 === g?void 0:g.methodName) && void 0 !== q?q:String(h),v=u.IQa(w,t,null === g || void 0 === g?void 0:g.dk,null === g || void 0 === g?void 0:g.Pdc));q=null === u || void 0 === u?void 0:u.Hja;u && (u.Hja=v);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,f.Woa)(y) && (y=y.then(function(z){v && (null === g || void 0 === g?0:g.return) && (v.data.resolve=z);return z;},function(z){v && (v.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{u && (u.Hja=q);v && (v.data || (v.data={}),x?(v.data.error=("").concat(x),null === u || void 0 === u?void 0:u.Hwb(v)):(null === g || void 0 === g?0:g.return) && !(0,f.Woa)(y) && (v.data.lRet=y));}};};};b.una=function(g){if(null === g || void 0 === g?0:g.Dea)return g.Dea;};r=(function(){function g(m){this.xp=[];this.N0=!1;this.vfa={};this.Y=l.__assign({co:10},m);Object.defineProperties(m.cn,{Dea:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.Y.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.N0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{NNb:{get:function(){return l.__spreadArray([],l.__read(this.xp),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{dLb:{get:function(){return this.vfa;},enumerable:!1,configurable:!0}});g.prototype.qs=function(m){var h,n;if(!this.N0){n=null === (h=(0,b.una)(this.Y.cn)) || void 0 === h?void 0:h.Hja;n && (n.data=l.__assign(l.__assign({},n.data),m));}};g.prototype.IQa=function(m,h,n,p){var q,u,t,w;if(!this.N0){t=!1;w=null === (u=(q=this.Y).MQa) || void 0 === u?void 0:u.call(q,this.Y.cn);q=c({},this.Y.cn);h=l.__assign(l.__assign(l.__assign({},w),q),h);w=0 < Object.keys(h).length;h={methodName:m,data:w?h:void 0,time:d.default.time.Ga()};p && this.vfa[m]++;n && this.xp.length && (n=this.xp[this.xp.length - 1],n.methodName === m && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=h,t=!0));this.Iwb(h);t || this.xp.push(h);this.xp.length > this.Y.co && this.xp.shift();return h;}};g.prototype.Iwb=function(m){var h;k.K && (null === (h=this.Y.console) || void 0 === h?void 0:h.trace(("").concat(this.Y.source,"::").concat(m.methodName),m.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.Y,m);};g.prototype.Hwb=function(m){var h;k.K && (null === (h=this.Y.console) || void 0 === h?void 0:h.error(("").concat(this.Y.source,"::").concat(m.methodName),m.data));};g.prototype.Pa=function(){Object.defineProperties(this.Y.cn,{Dea:{enumerable:!1,value:null,configurable:!0}});this.N0=!0;this.clear();};g.prototype.clear=function(){this.xp=[];this.vfa={};};return g;})();b.tu=r;},92758:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CCa=void 0;c=a(19829);r=(function(){function l(f){this.Ic=f;}Object.defineProperties(l.prototype,{qd:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.Qi=function(f){var k;if(f.Ti === c.qc.Oi && this.Ic){f={};k=this.Ic.get();k && k.avtp && k.avtp.Da && (f.avtp=k.avtp.Da,f.dltm=k.avtp.OVa);k && k.initialThroughput && k.initialThroughput.Da && (f.initial_avtp=k.initialThroughput.Da);k && k.cdnavtp && (f.cdnavtp=k.cdnavtp,f.activecdnavtp=k.activecdnavtp);if(k=this.Ic.Qma())(k.bytesRequestedPacingVideo && (f.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,f.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,f.bytestotalVideo=k.bytestotalVideo,f.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (f.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,f.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,f.bytestotalAudio=k.bytestotalAudio,f.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (f.pacedAvtp=k.pacedAvtp));this.Ic.flush();if(k=this.Ic.uHb())for(var d in k){k.hasOwnProperty(d) && (f["ne" + d]=Number(k[d]).toFixed(6));}return f;}};return l;})();b.CCa=r;},96607:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FCa=void 0;c=a(19829);r=(function(){function l(f){this.O3=f;this.zp="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{qd:{get:function(){return this.zp;},enumerable:!1,configurable:!0}});l.prototype.Qi=function(f){var k;k=f.Ti;f=f.RB;if(k === c.qc.Oj || k === c.qc.km || k === c.qc.Oi || void 0 === k && void 0 === f)return (k=this.O3.sVb.map(function(d){var g;g=d.ga;return {id:g.id,weight:g.weight,relativeWeight:d.bW};}),{prefetcher:this.O3.Lv.getStats(),playgraphs:k,viewables:this.O3.l6b,players:this.O3.qVb.length});};return l;})();b.FCa=r;},65398:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.yFa=void 0;c=a(28075);l=a(94160);f=a(47571);k=a(18312);d=a(19829);r=(function(){function g(m){this.ga=m;this.Eq="liveReport";this.NR=l.N.vp;this.events=new c.EventEmitter();this.Yia=k.K_.WLa;this.uQ=!1;this.trace=[];this.ycb=1;0 < m.config.j3a && 0 < m.config.Apa && (this.NR=l.N.Ma(m.config.Apa),this.ycb=Math.max(Math.floor(m.config.j3a / m.config.Apa),1),this.uQ=!0);}g.prototype.mwb=function(){var m,h,n,p;h=this.ga.Z;if(h.Pd){n=h.Hy;p=n.pa;if(p.ia){if(n=null === (m=n.cf(f.v.X)) || void 0 === m?void 0:m.Yn)(m=n.Rn(),p=p.Gt,h=m.Iha + h.Md.G,m=this.ga.AF(),this.trace.push([p,h,m.totalabuflmsecs,m.totalvbuflmsecs]));}else this.uQ=!1;}};g.prototype.Bf=function(m){var h;h=m.F1a;m=m.Ti;this.uQ && (h || m === d.qc.Oj) && this.mwb();return this.trace.length === this.ycb || 0 < this.trace.length && m === d.qc.Oi?(h=this.trace,this.trace=[],{R9:!0,event:{type:"livereport",samplinginterval:this.NR.G,trace:h}}):{R9:!1};};return g;})();b.yFa=r;},80120:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zFa=void 0;c=a(18920);l=a(19829);r=(function(){function f(k){this.Aa=k;this.enabled=!0;}Object.defineProperties(f.prototype,{qd:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});f.prototype.Qi=function(k){var d,g,m,h;k=k.RB;if(k === l.Vh.vr || k === l.Vh.YT || k === l.Vh.Nx || k === l.Vh.Ct || k === l.Vh.WW || k === l.Vh.wx || k === l.Vh.fW){g=this.Aa.Z;if(g.Pd){m=g.Hy;h=m.pa;m=null === (d=m.cf(c.v.X)) || void 0 === d?void 0:d.Yn;if(h.ia && m){d=m.Rn();g={encodingpipelinetime:h.Gt,devicepts:d.Iha + g.Md.G};k === l.Vh.vr && (g.presentationtimeoffset=d.G8.G);if(k === l.Vh.vr || k === l.Vh.Ct)g.targetbufferduration=this.Aa.config.wU;return g;}}}};return f;})();b.zFa=r;},18312:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XFa=b.K_=void 0;c=a(28075);l=a(19829);(function(k){k[k.fBa=1]="Creation";k[k.WLa=2]="StartPlayback";})(f=b.K_ || (b.K_={}));r=(function(){function k(d,g,m){this.Hd=d;this.V=g;this.events=m;this.iH=[];this.Sk=new c.Re();}k.prototype.Ye=function(d){var g;g={iN:d,jia:void 0};this.iH.push(g);d.Yia === f.fBa && this.h$a(g);this.Sk.on(d.events,"collectionRequested",this.$Sb.bind(this,g));};k.prototype.Pa=function(){this.Sk.clear();};k.prototype.qOb=function(d){var g,m;g=this;m={Ti:d};this.iH.forEach(function(h){g.cxa(h.iN,m);d === l.qc.Oj && h.iN.Yia === f.WLa && g.h$a(h);});};k.prototype.$Sb=function(d){var g;this.cxa(d.iN,{owb:!0});null === (g=d.jia) || void 0 === g?void 0:g.Sf();};k.prototype.h$a=function(d){var g,m,h,n;g=this;h=d.iN;n=this.Hd.tUa(function(){g.cxa(h,{F1a:!0});},h.NR,h.Eq);null === (m=d.jia) || void 0 === m?void 0:m.Pa();d.jia=n;};k.prototype.cxa=function(d,g){var m;try{m=d.Bf(g);m.R9 && this.events.emit(d.Eq,m.event);}catch(h){this.V.error(("Error generating event for ").concat(d.Eq),h);}};return k;})();b.XFa=r;},48256:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lJa=void 0;c=a(47571);l=a(19829);r=(function(){function f(k){this.cf=k;}Object.defineProperties(f.prototype,{qd:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qi=function(k){var d,g;k=k.Ti;if(k === l.qc.km || k === l.qc.Oi){k={};d=this.cf(c.v.X);g=this.cf(c.v.fa);d && (k.videoPipelineSummary=this.Ebb(d));g && (k.audioPipelineSummary=this.Ebb(g));return k;}};f.prototype.Ebb=function(k){var d,g,m,h,n;n=k.df.Ka;return {actualStartPlayerTimestamp:null === (d=n.Bb) || void 0 === d?void 0:d.G,actualPartialPlayerTimestamp:n.W6a,completePlayerTimestamp:null === (g=k.Ll) || void 0 === g?void 0:g.G,segmentId:k.I,contentStartMs:null === (m=k.La) || void 0 === m?void 0:m.G,contentEndMs:null === (h=k.ab) || void 0 === h?void 0:h.G,streamingPlayerMs:k.HC.G,isStreamable:k.GB(),isNormalized:k.Ug(),isDoneStreaming:k.Ys(),trackNeedsHeaderRequest:k.track.bV,completedRequests:n.LTa,activeRequests:k.df.bk,unsentRequests:k.df.PC,bytes:{current:n.Ba,received:n.xXb,partial:n.cr,completed:n.N2,unsent:n.B4b}};};return f;})();b.lJa=r;},52302:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.XJa=void 0;c=a(70655);l=a(95994);f=a(74005);k=a(19829);d=a(89589);r=(function(){function g(m,h){var n;n=this;this.Qsa=m;this.Aa=h;this.y7a=new f.ru();h.events.on("branchesReevaluated",function(){n.y7a.push(m.size);});}Object.defineProperties(g.prototype,{qd:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zp:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});g.prototype.Qi=function(m){var h;m=m.Ti;if(m === k.qc.km || m === k.qc.Oi){h={branchCountStats:this.y7a.toJSON(),decisions:this.Aa.ug.toJSON(),player:this.Aa.Z.rp?this.Aa.Z.Va.map(function(n){return n.u.id;}):[]};this.Qsa.forEach(function(n,p){var q,u;u=(0,d.gma)(n);h[p]=c.__assign({probabilities:n.Yg.map(function(t){return {duration:t.duration,immediate:t.tB,seamless:t.tf};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.u.id,normalized:n.Ug,hasViewable:n.Tn,headerRequested:n.Tn && n.pa.o0a},u);});return h;}};return g;})();b.XJa=r;},57538:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tKa=void 0;c=a(70655).__importDefault(a(29736));l=a(19829);r=(function(){function f(){this.creationTime=c.default.time.Ga();this.Cc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}f.prototype.Gsb=function(k){this.ga=k;};f.prototype.NZb=function(k,d){var g;k=null === (g=this.ga) || void 0 === g?void 0:g.Pn(k);this.Cc={isPrefetchItem:!0,prefetchedVideoMs:k.fO,prefetchedAudioMs:k.eO,prefetchClaimDurationMs:c.default.time.Ga() - this.creationTime,prefetchRank:d};};Object.defineProperties(f.prototype,{qd:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qi=function(k){if(k.Ti === l.qc.Oj)return this.Cc;};return f;})();b.tKa=r;},19829:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Uda=b.Vh=b.qc=void 0;c=a(70655);l=a(94160);f=a(69570);(function(k){k[k.Oj=0]="startPlayback";k[k.Oi=1]="endPlayback";k[k.km=2]="underflow";})(b.qc || (b.qc={}));b.Vh={vr:"startplay",vy:"midplay",Nx:"endplay",YT:"intrplay",wx:"chgstrm",JM:"playbackaborted",fW:"renderstrmswitch",vC:"repos",Ct:"resumeplay",WW:"statechanged",AE:"aseReport"};r=(function(){function k(d){this.config=d;this.iH=[];}k.prototype.Ye=function(d){var g,m;m=c.__read(this.config.ksb.filter(function(h){return h.qd === d.qd;}),1)[0];this.config.xCb && (null !== (g=null === m || void 0 === m?void 0:m.enabled) && void 0 !== g?g:d.enabled)?this.iH.push(d):d.Pa && d.Pa();};k.prototype.gJb=function(d){return (0,l.Hc)(this.iH,function(g){return g.qd === d.qd;});};k.prototype.Qi=function(d,g){var m,h,n,u,t;h={};n=[];try{for(var p=c.__values(this.iH),q=p.next();!q.done;q=p.next()){u=q.value;try{t=u.Qi({Ti:d,RB:g});t && (u.zp?h[u.zp]=t:h=c.__assign(c.__assign({},h),t));}catch(v){n.push(Error(("").concat(u.qd,"::").concat(v)));}}}catch(v){var w;w={error:v};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(w)throw w.error;}}n.length && (h["rpt-error"]=f.xaa.stringify(new f.xaa("Reporting error",n)));return h;};return k;})();b.Uda=r;},89589:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.BYa=b.YZa=b.gma=b.YKa=void 0;c=a(70655);l=a(95994);f=a(19829);r=(function(){function k(d){this.xb=d;}Object.defineProperties(k.prototype,{qd:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zp:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.Qi=function(d){var g,m,p;d=d.Ti;if(d === f.qc.Oi || d === f.qc.km)if(d=this.xb.bma()){m={};try{for(var h=c.__values(d.gVb),n=h.next();!n.done;n=h.next()){p=n.value;m[p.mediaType]=this.PPb(p);}}catch(u){var q;q={error:u};}finally{try{n && !n.done && (g=h.return) && g.call(h);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.BYa)(d.jXb),playerIterator:m,driftStats:this.xb.Txa};}};k.prototype.PPb=function(d){return null === d || void 0 === d?void 0:d.wZa();};return k;})();b.YKa=r;b.gma=function(k){var d,g;if(k){d=k.u;g={};k.Qs().forEach(function(m){g[m.mediaType]=(0,b.YZa)(m);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:k.Kd,RM:g};}return k;};b.YZa=function(k){var d,g,m;if(k && k.df)return c.__assign(c.__assign({},k.df.j_a()),{unsentRequests:k.df.PC,lastFragmentContentEndPts:null === (d=k.nf) || void 0 === d?void 0:d.ab.G,trackAttributes:null === (g=k.track) || void 0 === g?void 0:g.Um(),bitrate:null === (m=k.nf) || void 0 === m?void 0:m.bitrate});};b.BYa=function(k){return k.map(function(d){return (0,b.gma)(d);});};},72393:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cLa=void 0;c=a(19829);r=(function(){function l(f,k){this.Ic=f;this.z9a=k;}Object.defineProperties(l.prototype,{qd:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.Qi=function(f){var k;k=f.Ti;f=f.RB;if(k === c.qc.Oi || k === c.qc.km || void 0 === k && void 0 === f)return (k={numOutstandingRequests:this.z9a.tSb,requestOpportunityDelayStats:this.z9a.y9a},(f=this.Ic.yqb) && f.length && (k.activeRequests=JSON.stringify(f)),k);};return l;})();b.cLa=r;},32922:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bea=void 0;c=a(19829);r=(function(){function l(){this.zp=this.qd=l.qd;this.enabled=!0;this.tW=[];this.O9a=0;}l.prototype.grb=function(f){this.tW.push(f);5 < this.tW.length && this.tW.shift();};l.prototype.hrb=function(){this.O9a++;};l.prototype.Qi=function(f){var k;k=f.Ti;f=f.RB;if((k === c.qc.Oj || k === c.qc.km || k === c.qc.Oi || void 0 === k && void 0 === f) && this.tW.length)return {restarts:this.tW.map(function(d){return {s:d.z1b,d:d.nBb,r:d.reason,atMs:d.oVb.G};}),restartsCompleted:this.O9a};};l.qd="seamlessManager";return l;})();b.bea=r;},33969:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XLa=void 0;c=a(28075);l=a(47571);f=a(19829);r=(function(){function k(d){this.VNa=!1;this.bB=new c.Re();this.bB.addListener(d.events,"streamSelection",this.Rra.bind(this));}k.prototype.Rra=function(d){this.VNa || (d.mediaType === l.v.fa && void 0 === this.toa?this.toa=d:d.mediaType === l.v.X && void 0 === this.voa && (this.voa=d));};k.prototype.Pa=function(){this.voa=this.toa=void 0;this.bB.clear();this.VNa=!0;};Object.defineProperties(k.prototype,{qd:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Qi=function(d){var g;if(d.Ti === f.qc.Oj)return (d=null !== (g=this.voa) && void 0 !== g?g:this.toa,g={histdiscbw:null === d || void 0 === d?void 0:d.result.Vs,histage:null === d || void 0 === d?void 0:d.result.rB},d=null === d || void 0 === d?void 0:d.streamList.map(function(m){return void 0 !== m.R3?{vmaf:m.R3,streamIndex:m.It,streamId:m.Tb}:void 0;}).filter(function(m){return void 0 !== m;}),0 < (null === d || void 0 === d?void 0:d.length) && (g.vmafEstimates=d),this.Pa(),g);this.Pa();};return k;})();b.XLa=r;},89909:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qMa=void 0;r=a(70655);c=a(28075);l=a(95994);f=r.__importDefault(a(29736));k=a(19829);a=(function(){function d(g){this.Hd=g;this.k0=[];this.reset();}Object.defineProperties(d.prototype,{qd:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zp:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g,m;g=this;null === (m=this.sJ) || void 0 === m?void 0:m.clear();this.sJ=new c.Re();this.sJ.on(this.Hd,"clockChanged",function(){g.reset();g.XS("initial");});this.sJ.on(this.Hd,"stopping",function(){g.XS("stopping");});this.sJ.on(this.Hd.qa,"clockAdjusted",function(){g.XS("clockAdjusted");});this.sJ.on(this.Hd.qa,"stopStart",function(){g.XS("stopStart");});this.sJ.on(this.Hd.qa,"speedChanged",function(){g.XS("speedChanged");});};d.prototype.XS=function(g){this.k0.push({reason:g,audit:this.Hd.jv(),time:f.default.time.Ga()});5 < this.k0.length && this.k0.shift();};d.prototype.Qi=function(g){var m;m=g.Ti;g=g.RB;if(m === k.qc.Oj || m === k.qc.km || m === k.qc.Oi || void 0 === m && void 0 === g)return this.k0;};return d;})();b.qMa=a;},22258:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Qw=void 0;c=a(70655);l=a(95994);f=a(74005);k=a(19829);r=(function(){function d(g,m){this.dh=g;this.options=c.__assign({Uvb:!0},m);}Object.defineProperties(d.prototype,{zp:{get:function(){return ("trace-").concat(this.dh.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qd:{get:function(){return this.zp;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.Qi=function(g){var m,h;m=g.Ti;if(m === k.qc.Oi || m === k.qc.km){g=(0,f.mVa)(this.dh.NNb);h=this.dh.dLb;m === k.qc.Oi && this.options.Uvb && this.dh.clear();m=g;Object.keys(h).length && (m=c.__spreadArray(c.__spreadArray([],c.__read(g),!1),[h],!1));return m;}};d.prototype.Pa=function(){var g;null === (g=this.dh) || void 0 === g?void 0:g.Pa();};return d;})();b.Qw=r;},80849:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.ZKa=void 0;c=a(70655);l=c.__importStar(a(67841));f=a(94160);k=a(50219);d=a(32695);r=a(23563);g=a(47571);m=a(44724);h=a(24705);n=a(50971);p=a(28035);q=a(96049);a=(function(u){function t(w,v,y,x,z,A,B,D){var C;C=u.call(this,w) || this;C.Y=v;C.V=y;C.Oo=x;C.Ur=z;C.Ce=A;C.Oma=D;C.oe=new h.UC(C.V);C.Uz=C.V.error.bind(C.V);C.ns=C.V.warn.bind(C.V);C.ix=C.V.trace.bind(C.V);C.yPa();C.Qo=null === B || void 0 === B?void 0:B.Hx(function(){return C.QYb();},"pruner");return C;}c.__extends(t,u);Object.defineProperties(t.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{yb:{get:function(){return this.Ur;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Zv:{get:function(){return 0 < this.gua;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{fwa:{get:function(){return !this.yQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{gua:{get:function(){return this.xc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{PC:{get:function(){return this.xc.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{UJ:{get:function(){return this.oe.gy;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ll:{get:function(){return this.xc.complete.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{XR:{get:function(){return this.xc.JTa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cja:{get:function(){return this.xc.vwb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{HC:{get:function(){return this.xc.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{i9:{get:function(){return void 0 === this.xc.Bb?0:this.xc.Lb.G - this.xc.Bb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{M2:{get:function(){return {Ba:this.xc.N2,G:this.xc.empty?0:Math.max(this.xc.JTa - this.xc.Bb.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{N2:{get:function(){return this.xc.N2;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{sA:{get:function(){return this.xc.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{AUb:{get:function(){return this.Gnb();},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ina:{get:function(){return this.xc.length > this.xc.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{bk:{get:function(){return this.xc.bk;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G2a:{get:function(){return this.yOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ka:{get:function(){return this.xc;},enumerable:!1,configurable:!0}});t.prototype.If=function(w){var y,x;function v(){return x.forEach(function(z){z.abort();z.de();});}x=this.xc;w?setTimeout(v,1):v();this.yPa();this.oe.pF();null === (y=this.Qo) || void 0 === y?void 0:y.Pa();};t.prototype.reset=function(){this.If();this.oe.I9a();};t.prototype.close=function(){this.oe.pF();};t.prototype.H$a=function(){this.KNa=!0;};t.prototype.j_a=function(){return {endMarked:void 0 !== this.oe.count,queueCount:this.oe.count,isComplete:this.oe.gy,itemCount:this.oe.KTa,continuousEndPts:this.oe.yr().reduce(function(w,v){return v && !v.done && (v=v.value,100 > Math.abs(v.aL.G - w) || -1 === w)?v.Tla.G:w;},-1),sentinelItemCount:this.oe.yr().filter(function(w){return w && w.done;}).length,processedCount:this.oe.dBb,rc:this.gua};};t.prototype.DUa=function(w,v,y){var x,z,A,B;x=this.Y;(0,m.assert)(!w.header);if(y.ia){A=this.Ur;B=A.E_a();A=A.$y;y.mediaType === g.v.X && void 0 !== B && (z=new q.Baa(y,x,v.track,w,this.xc,this.yb.u,this.V,B,A));}z || (z=k.lY.create(y,x,v.track,w,this.xc,this.yb.u,this.V,this.Oma));this.Ru(z);return z;};t.prototype.Ru=function(w){var v,y;this.xc.Ws(w);(null === (v=this.Qo) || void 0 === v?void 0:v.state) === n.Ek.complete && (null === (y=this.Qo) || void 0 === y?void 0:y.Sf());this.Rmb();w.Ok && (this.yQ=!1);};t.prototype.kB=function(){return this.oe.cma();};t.prototype.SSa=function(){this.Du === this.xc.length && this.KNa && this.oe.pF();};t.prototype.Pcb=function(){var w,v,y;w=this;Promise.resolve();if(this.Ur.Q5(this.Ce) && this.Du !== this.xc.length){for(var x=this.Y.jQb,z=0,A=[];this.Du < this.xc.length;){if(y=this.xc.get(this.Du)){if(this.xc.QXa && this.xc.QXa.ob < y.ob)break;if(!y.z1a())break;A.push(y);++z;l.tb(this.Nsa) || (this.Nsa=null === (v=y.Bb) || void 0 === v?void 0:v.G);}++this.Du;if(!l.ii(x) && z >= x)break;}A.length && (void 0 !== this.oe.count && (this.Uz("tryToAtach() but requestQueue has sentinel:",this.oe.count),this.oe.I9a()),Promise.all(A.map(function(B){return w.oe.enqueue(B).then(function(){return w.jKb(B);});})),this.SSa());}};t.prototype.jKb=function(w){this.yOa=w;this.XXa(w);};t.prototype.fR=function(w){var v,y,x;v=this;y=[];if(0 !== this.xc.PC){x=this.xc.W6a;this.xc.A4b.$va(function(z){var A;if(z.Ok || x > (null === (A=z.Bb) || void 0 === A?void 0:A.G))return !0;z.Tx && (v.yQ=!1);if(!v.Eea(z))return (v.ns("request abort failed:",z.toString()),!0);y.unshift(z);});this.mPa();y.length && "function" === typeof w && w(y);}};t.prototype.QYb=function(){var w,v,y,x,z,A;return c.__generator(this,function(B){switch(B.label){case 0:B.label=1;case 1:if(!this.xc.length)return [3,3];w=this.xc.get(0);v=f.N.Ma(null !== (A=null === (z=this.Y.EN) || void 0 === z?void 0:z.G) && void 0 !== A?A:0);y=v.add(w.Lb);return [4,n.Pg.Tt(y)];case 2:B.Qa();if(1 >= this.xc.complete.length && !w.Ok)return [3,3];(0,m.assert)(w === this.xc.get(0));w.vR || this.Eea(w);x=this.xc.splice(0,1);0 < this.Du && this.Du--;this.Oo.ora(x);x=void 0;return [3,1];case 3:return [2];}});};t.prototype.SEb=function(w){if(this.xc.length && (w=this.xc.yXa(w)))return w;};t.prototype.oqb=function(w){var v,y,x,z,A,B,D;B=w.ab;w=this.xc.rla(w.La.G);D=this.xc.get(w);(0,m.assert)(D && void 0 !== (null === (v=D.La) || void 0 === v?void 0:v.G) && void 0 !== (null === (y=D.ab) || void 0 === y?void 0:y.G) && void 0 !== D.index,"expected existing request to be defined with properties");if(null === (x=D.ab) || void 0 === x?0:x.equal(B))return (this.cQa(w),[null === (z=D.ab) || void 0 === z?void 0:z.G,D.index + 1]);this.cQa(w - 1);return [null === (A=D.La) || void 0 === A?void 0:A.G,D.index];};t.prototype.vo=function(w){var v,y;v=this;y=[];this.xc.forEach(function(x){var z;z=x.K$(w);1 === z?y.push(x):2 === z && v.yb.pa.sf("swapUrl failure");});return y;};t.prototype.JG=function(w){w.Zs && w.z1a() && this.Pcb();this.$K(w);};t.prototype.Bp=function(w,v){var y,x;w.Zs && !w.vR && this.Pcb();(null === (y=this.Qo) || void 0 === y?void 0:y.state) === n.Ek.complete && (null === (x=this.Qo) || void 0 === x?void 0:x.Sf());this.dB(w,v);};t.prototype.Gnb=function(){return this.xc.bk + this.xc.PC;};t.prototype.yPa=function(){var w,v,y;v=void 0 !== this.xc && 0 < this.xc.length;y=this.xc;this.xc=new d.aza(this.V,this);this.Du=0;this.oe.clear();this.yOa=void 0;this.Nsa=null;null === (w=this.Qo) || void 0 === w?void 0:w.Sf();this.KNa=this.yQ=!1;v && (w=y.map(function(x){return x;}),this.Oo.ora(w));};t.prototype.Rmb=function(){this.yQ || (this.yQ=!0);};t.prototype.cQa=function(w){var v;for(w+=1;w < this.gua;w++){v=this.xc.get(w);(0,m.assert)(v,"expected request to exist");this.oe.remove(v);v.aborted || (this.Eea(v),v.de());}this.mPa();};t.prototype.Eea=function(w){return w.abort()?!0:!1;};t.prototype.mPa=function(){var w,v,y,x;w=this;if(0 !== this.xc.length){y=[];x=0;this.xc.YWb(function(z,A){A < w.Du && ++x;y.push(z);});this.Du-=x;null === (v=this.Qo) || void 0 === v?void 0:v.Sf();this.Oo.ora(y);}};return t=c.__decorate([p.xF],t);})(r.pz);b.ZKa=a;},59708:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ka=void 0;c=a(70655);l=a(44724);f=c.__importDefault(a(29736));k=a(74573);d=a(74005);r=(function(){var F$s;F$s=2;function g(m,h){var J1M,n;J1M=2;for(;J1M !== 14;){switch(J1M){case 8:var d$2="Req";d$2+="ues";d$2+="tPacer";var E3x="1SIY";E3x+="bZ";E3x+="rNJC";E3x+="p9";E3x;this.xp=new k.tu({cn:this,source:d$2,MQa:function(){var t_p;t_p=2;for(;t_p !== 1;){switch(t_p){case 2:return {numOutstanding:n.bE};break;}}},co:10});this.y9a=new d.ru();J1M=14;break;case 2:var M_y="m";M_y+="edia";M_y+="|as";M_y+="ejs";var u$g="ASEJ";u$g+="S_REQUEST_P";u$g+="ACER";n=this;this.g6=m;this.config=h;this.bE=0;this.console=new f.default.Console(u$g,M_y);this.Tua=!1;J1M=8;break;}}}for(;F$s !== 13;){switch(F$s){case 8:var G61="Y";G61+="S";G61+="a";var E93="checkReques";E93+="t";E93+="Oppor";E93+="tunityRunn";E93+="er";var B5t="A";B5t+="t";var m$y="remove";m$y+="Req";m$y+="ue";m$y+="s";m$y+="t";var Q_T="R";Q_T+="u";var k_p="addR";k_p+="e";k_p+="ques";k_p+="t";c.__decorate([(0,k.Sb)({methodName:k_p,dk:!0})],g.prototype,Q_T,null);c.__decorate([(0,k.Sb)({methodName:m$y,dk:!0})],g.prototype,B5t,null);c.__decorate([(0,k.Sb)({methodName:E93,dk:!0})],g.prototype,G61,null);return g;break;case 2:Object.defineProperties(g.prototype,{tSb:{get:function(){var D2P;D2P=2;for(;D2P !== 1;){switch(D2P){case 4:return this.bE;break;case 2:return this.bE;break;}}},enumerable:!1,configurable:!0}});g.prototype.uj=function(){var j8M,h,m;j8M=2;for(;j8M !== 9;){switch(j8M){case 1:j8M=!this.Tua?5:9;break;case 5:this.Tua=!0;h=f.default.time.Ga();return Promise.resolve().then(function(){var I6B;I6B=2;for(;I6B !== 5;){switch(I6B){case 2:m.Tua=!1;m.YSa(h);I6B=5;break;}}});break;case 7:m=this;j8M=4;break;case 2:m=this;j8M=1;break;}}};g.prototype.Ru=function(m){var a_Z,h,n;a_Z=2;for(;a_Z !== 3;){switch(a_Z){case 2:var E0S="More than";E0S+=" maxAllowedOutst";E0S+="andi";E0S+="ngReques";E0S+="ts are outstanding";this.xp.qs({mediaType:m.mediaType,contentStartPts:null === (h=m.La) || void 0 === h?void 0:h.G,contentEndPts:null === (n=m.ab) || void 0 === n?void 0:n.G});this.bE++;(0,l.assert)(this.bE <= this.config.O6,E0S);a_Z=3;break;}}};F$s=4;break;case 4:var i6q="u";i6q+="j";var h9r="checkRequ";h9r+="est";h9r+="Opp";h9r+="ortun";h9r+="ity";g.prototype.At=function(m){var J$h,h,n;J$h=2;for(;J$h !== 9;){switch(J$h){case 3:var u$8="remov";u$8+="e";u$8+="R";u$8+="equest";this.uj(u$8);J$h=9;break;case 2:var e4S="Received remove req";e4S+="uest";e4S+=" when";e4S+=" there are no requests outstandin";e4S+="g";this.xp.qs({mediaType:m.mediaType,contentStartPts:null === (h=m.La) || void 0 === h?void 0:h.G,contentEndPts:null === (n=m.ab) || void 0 === n?void 0:n.G});this.bE--;(0,l.assert)(0 <= this.bE,e4S);J$h=3;break;}}};g.prototype.YSa=function(m){var P85,h,n,p;P85=2;for(;P85 !== 9;){switch(P85){case 3:var K7c="req";K7c+="ues";K7c+="tOpportunityRunnerComplete";this.xp.IQa(K7c,{requestsIssued:p,scheduledMs:m,timeSinceScheduled:n},!0);P85=9;break;case 4:p++;P85=5;break;case 5:P85=this.bE < h && this.g6()?4:3;break;case 1:this.y9a.push(n);P85=5;break;case 2:(h=this.config.O6,n=f.default.time.Ga() - m,p=0);P85=1;break;case 13:p--;P85=6;break;}}};c.__decorate([(0,k.Sb)({methodName:h9r,dk:!0,sq:!0})],g.prototype,i6q,null);F$s=8;break;}}})();b.$Ka=r;},22782:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.TLa=void 0;c=a(94160);l=a(71502);f=a(47571);r=(function(){function k(d,g){this.el=d;this.console=g;this.V0=Infinity;this.RNa=0;this.Vpb=!1;}k.prototype.JEb=function(d,g,m,h,n){var p;if(this.el){p=d.Ka;if(p){if(m === f.v.X)(m=p.Sx(Math.ceil(this.el * d.ca.Fy),void 0,!0),p=d.Qn(m),d=p.ue.Ni(d.ca),p.wi({start:0,end:this.el - m * d}),this.V0=this.el);else {void 0 !== h.Rab?(g=h.Rab,m=g * d.ca.G):(m=(0,l.Kma)(h,n) + Math.ceil(h.Wsb * d.ca.Fy),c.N.Ma(m).Ni(d.ca),m=g + m,g=Math.ceil(m / d.ca.Fy));m=p.Sx(m,void 0,!0);for(n=h=0;n < m;++n){p=d.Qn(n);h+=p.ue.Ni(d.ca);}h=g - h;p=d.Qn(m);p.wi({end:h});this.V0=g;}p.W3a();return p;}}};k.prototype.JKb=function(){return this.RNa >= this.V0;};k.prototype.QLb=function(d,g){this.mv(d,g);};k.prototype.rDb=function(d,g,m){d.Kfc=this.mv(g,m);};k.prototype.mv=function(d,g){return d.ue.Ni(g.ca);};k.prototype.B2=function(){if(!this.JKb())return !1;if(this.Vpb)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.RNa," >= ").concat(this.V0));return !0;};return k;})();b.TLa=r;},74145:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kRa=void 0;b.kRa=function(a,c,l){var f,k;f=!0;l.forEach(function(d){var g;if(f && a === d.profile){g=d.ranges;f=void 0 === g?c >= d.min && c <= d.max:g.some(function(m){return c >= m.min && c <= m.max;});!f && d.disallowed && d.disallowed.some(function(m){if(m.stream.bitrate === c)return (k=m.disallowedBy,!0);});}});return {inRange:f,w3:k};};},73729:function(r,b,a){var l;function c(f,k){k=Math.max(f,k);return isNaN(k)?f || -Infinity:k;}Object.defineProperties(b,{__esModule:{value:!0}});b.Zya=void 0;l=a(47571);r=(function(){function f(k){this.config=k;this.Kta=0;this.state=l.Yc.Tr;this.b5a=c(k.Hqa,k.j7);this.Oqa=c(k.zG,k.VU);}f.prototype.yj=function(k,d){var g;g=this;if(d !== this.state){this.state=d;if(d === l.Yc.Qe || d === l.Yc.Y_)return k;d === l.Yc.ul && this.wXb();}return k.filter(function(m){return !(void 0 !== m.zb && m.zb < g.Oqa || (void 0 === m.zb || 0 > g.Oqa) && m.bitrate < g.b5a);});};f.prototype.wXb=function(){++this.Kta;this.Oqa=c(this.config.zG,this.config.VU - this.config.VQb * this.Kta);this.b5a=this.config.Hqa || -Infinity;};return f;})();b.Zya=r;},62999:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mza=void 0;c=a(94160);r=(function(){function l(f){this.config=f;}l.prototype.I0b=function(f){return f % 100 + 1 <= this.config.usa;};l.prototype.yj=function(f){var k,d,g,m,h,n,p,q,u,t,w;p=Number(null === (k=f[0]) || void 0 === k?void 0:k.O);if(!(this.config.M3 && this.I0b(p) && 0 < this.config.m9.length))return f;k=f.length;q=null !== (d=f[k - 1].qW) && void 0 !== d?d:0;if(d=(0,c.Hc)(this.config.m9,function(v){return v.Mfc >= q && v.L9a <= q;})){for(p=0;p < k;p++){u=f[Math.max(p - 1,0)];t=f[p];if(!((null !== (g=t.qW) && void 0 !== g?g:0) < d.L9a || (null !== (m=u.qW) && void 0 !== m?m:0) < d.L9a)){w=null !== (h=t.zb) && void 0 !== h?h:Infinity;u=null !== (n=u.zb) && void 0 !== n?n:Infinity;if(!(u < d.Zec || u < d.Yec && t.bitrate < d.maxBitrate || !w && t.bitrate < d.xec))break;}}return f.slice(0,p);}return f;};return l;})();b.mza=r;},46967:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nza=void 0;r=(function(){function a(c){this.config=c;}a.prototype.yj=function(c){var l;l=this.config;return c.filter(function(f){return !(void 0 !== f.zb && (f.zb < l.zG || f.zb > l.a4a) || (void 0 === f.zb || 0 >= l.zG) && f.bitrate < l.Hqa || (void 0 === f.zb || Infinity === l.a4a) && f.bitrate > l.WPb);});};return a;})();b.nza=r;},45866:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pK=b.oK=void 0;c=a(39481);l=a(71820);b.oK=function(f,k){k && (null === f || void 0 === f?0:f.H0a) && (k=new l.su(k).or(l.vD));return new l.su(l.Laa).and(null !== k && void 0 !== k?k:l.vD).or(l.tca,c.ZI.rF).or(l.uca,c.ZI.rF);};b.pK=function(f,k){k && f.H0a && (k=new l.su(k).or(l.vD));return new l.su(l.Laa).and(new l.oza(f)).and(new l.nza(f)).and(new l.Zya(f)).and(new l.qza(f)).and(f.M3?new l.mza(f):l.vD).and(null !== k && void 0 !== k?k:l.vD).or(l.tca,c.ZI.rF).or(l.uca,c.ZI.rF);};},79985:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oza=void 0;c=a(47571);r=(function(){function l(f){this.config=f;}l.prototype.yj=function(f,k){return this.config.n$ || k !== c.Yc.qm?f.filter(function(d){return d.hv;}):f;};return l;})();b.oza=r;},62256:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cQ=void 0;r=a(70655);c=a(95994);l=r.__importDefault(a(29736));f=a(74145);a=(function(){function k(d){this.console=d;this.oVa=[];this.ZRa={};this.JVa=!1;}k.prototype.Q9=function(d,g){this.oVa=d;void 0 !== g?this.ZRa[g]=d:this.JVa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.JVa=!0);};k.prototype.yj=function(d){var g,m,h,n,p;g=this;if(0 === d.length)return d;n=d[0].J;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (m=l.default.zs) || void 0 === m?void 0:m.call(l.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (h=this.ZRa[n]) && void 0 !== h?h:this.oVa;c.K && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(p)));d=d.filter(function(q){return (0,f.kRa)(q.profile,q.bitrate,p,g.console).inRange;});c.K && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return k;})();b.cQ=a;},84326:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qza=void 0;r=(function(){function a(c){var l;l=this;c.QN && c.QN.enabled && c.QN.profiles && c.QN.profiles.length && "keepLowest" === c.QN.action && (this.A2a={},c.QN.profiles.forEach(function(f){return l.A2a[f]=!0;}));}a.prototype.yj=function(c){var l,f;l={};f=this.A2a;return void 0 === f?c:c.filter(function(k){return !f[k.profile] || (l[k.profile]?!1:l[k.profile]=!0);});};return a;})();b.qza=r;},95459:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tca=b.Laa=void 0;c=a(94160);b.Laa={yj:function(l){return l.filter(function(f){return f.Qq && !f.qB;});}};b.tca={yj:function(l){return (l=(0,c.Hc)(l,function(f){return !!f.Qq && !f.qB;}))?[l]:[];}};},71820:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(20136),b);r.__exportStar(a(79985),b);r.__exportStar(a(62256),b);r.__exportStar(a(84326),b);r.__exportStar(a(46967),b);r.__exportStar(a(73729),b);r.__exportStar(a(62999),b);r.__exportStar(a(95459),b);r.__exportStar(a(17262),b);r.__exportStar(a(39481),b);r.__exportStar(a(61915),b);r.__exportStar(a(45866),b);r.__exportStar(a(96649),b);},61915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uca=void 0;b.uca={yj:function(a){return a.length?[a[0]]:[];}};},96649:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.AP=void 0;c=a(94160);l=a(95994);r=(function(){function f(k,d){this.console=k;this.config=d;this.Bxa=!1;}f.prototype.yj=function(k,d,g,m){void 0 === g && (g=c.N.Ia);void 0 === m && (m=!1);l.K && this.console.trace("Filtering streams for fastplay",{Bxa:this.Bxa,zq:g.G,gec:m});if(this.Bxa || g.G >= this.config.aQb || !1 === m){d=k.filter(this.ZBb);if(d.length)return d;l.K && this.console.trace("No drm streams to return");}d=k.filter(this.Xvb);if(d.length)return d;l.K && this.console.trace("No clear streams to return");return k;};f.prototype.ZBb=function(k){return k.Kh;};f.prototype.Xvb=function(k){return !k.Kh;};return f;})();b.AP=r;},17262:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vD=void 0;b.vD={yj:function(a){return a;}};},39481:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.su=b.ZI=void 0;c=a(17262);(function(f){f[f.QM=0]="primary";f[f.rF=1]="fallback";})(l=b.ZI || (b.ZI={}));r=(function(){function f(k,d){var g,m;void 0 === d && (d=!1);m=this;this.CSa=d;this.filters=(g={},g[l.QM]=[],g[l.rF]=[],g);Array.isArray(k)?k.forEach(function(h){return m.and(h,l.QM);}):this.and(k);}f.prototype.and=function(k,d){void 0 === d && (d=l.QM);k !== c.vD && this.filters[d].push({filter:k,WTa:!0});return this;};f.prototype.or=function(k,d){void 0 === d && (d=l.QM);this.filters[d].push({filter:k,WTa:!1});return this;};f.prototype.filter=function(k){var d;d=this;[l.QM,l.rF].forEach(function(g){d.filters[g]=d.filters[g].filter(function(m){return k(g,m.filter);});});};f.prototype.yj=function(k,d,g,m){var h;h=this;return [l.QM,l.rF].reduce(function(n,p){return h.filters[p].reduce(function(q,u){u.WTa?q=u.filter.yj(q,d,g,m):0 === q.length && (q=u.filter.yj(k,d,g,m));return q;},n);},k);};return f;})();b.su=r;},20136:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30067:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.dMa=b.emb=void 0;c=a(70655);l=a(44724);r=c.__importDefault(a(29736));f=a(52190);a=a(94475);k=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(m){d=!1;}g=(function(m){function h(n,p){p=m.call(this,n.so,p) || this;p.oE=n;return p;}c.__extends(h,m);Object.defineProperties(h.prototype,{Ba:{get:function(){return this.oE.Gab(this.ae);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{offset:{get:function(){return this.oE.oi(this.ae);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rqa:{get:function(){return this.oE.nM && this.oE.nM[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rj:{get:function(){return this.oE.rGb(this.ae);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zb:{get:function(){return this.oE.iw && this.oE.iw[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rha:{get:function(){return 8 * this.Ba / (1E3 * this.SA / this.S);},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.ob,contentEndTicks:this.rb,durationTicks:this.SA,timescale:this.S,startPts:this.La.G,endPts:this.ab.G,duration:this.ue.G,additionalSAPs:this.rj};};return h;})(a.GMa);b.emb=g;r=(function(){function m(h,n,p,q,u,t,w){this.DJ=128;this.Gc=n;this.Jb=p.offset;this.wm=p.sizes;this.j1=h;this.kJ=this.mQ=this.Eh=this.Vo=this.iga=void 0;this.wob=q;this.Gea=u && u.oi;this.rga=t;this.Zz=Math.min(this.Gc.length,this.wm.length);h=this.Cub();this.lob=h.maxBitrate;this.mob=h.co;this.so.mq.length !== this.wm.length && k.trace("Mis-matched stream duration (" + this.so.mq.length + "," + this.wm.length + ") for movie id " + w);this.so.I1 && !this.Gea && k.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.Gc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{length:{get:function(){return this.Zz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ur:{get:function(){return this.Gc.ur;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lka:{get:function(){return this.Gc.Lka;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bb:{get:function(){return this.Gc.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{lf:{get:function(){return this.Gc.lf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{lqa:{get:function(){return this.Gc.lqa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yv:{get:function(){return this.lob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{co:{get:function(){return this.mob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ca:{get:function(){return this.Gc.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{S:{get:function(){return this.Gc.S;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ro:{get:function(){return this.Vo || this.Mea();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nM:{get:function(){return this.wob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zga:{get:function(){return this.Gea;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{iw:{get:function(){return this.rga;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{so:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qr:{get:function(){return this.iga || this.anb();},enumerable:!1,configurable:!0}});m.prototype.Gab=function(h){if(this.wm)return this.wm[h];k.error("sizesByIndex _sizes is undefined");return -1;};m.prototype.em=function(h){return this.Gc.em(h);};m.prototype.CS=function(h){return this.Gc.em(h) + this.Gc.kf(h);};m.prototype.oi=function(h){var n,p,q;if(this.mQ !== h || void 0 === this.kJ){if(0 === h)return this.Jb;if(this.mQ === h - 1 && void 0 !== this.kJ)(this.kJ+=this.wm[this.mQ],++this.mQ);else {n=this.Eh || this.Omb();p=Math.floor(h / this.DJ);q=p * this.DJ;for(n=n[p];q < h;++q){n+=this.wm[q];}this.mQ=h;this.kJ=n;}}return this.kJ;};m.prototype.kf=function(h){return this.Gc.kf(h);};m.prototype.get=function(h){return new g(this,h);};m.prototype.rGb=function(h){var n,p,q,u,t;(0,l.assert)(0 <= h);n=this.so.I1;p=this.so.NQa;q=this.Gea;if(!q || !n || !p || h >= n.length)return [];u=[];t=h === n.length - 1?p.length:n[h + 1];for(n=n[h];n < t;++n){u.push({Jj:p[n],xe:this.em(h) + this.ca.Bv(p[n]).G,offset:q[n]});}return u;};m.prototype.Sx=function(h,n,p){return this.Gc.Sx(h,n,p);};m.prototype.qla=function(h,n,p){return this.Gc.qla(h,n,p);};m.prototype.vja=function(h,n){return this.Gc.vja(h,n);};m.prototype.Aub=function(h,n,p,q,u){var t,w,v,y,x,z,A,B,D;t=!0;w=0;v=this.Gc.mq;y=this.wm;h=Math.floor(h * this.S / 1E3);x=Math.floor(p * this.S / 1E3);z=0;A=0;B=0;if(this.Gc.jxa && this.Gc.ixa)for(w=this.Gc.jxa;w <= this.Gc.ixa;++w){z+=v[w];A+=y[w];}if(A > n)t=!1;else for(;w < this.length && (!u || w < u);){D=y[w];p=v[w];if(A + D > n){for(;1 < w - B && A + D > n && (z - v[B] >= x || A - y[B] > q);){z-=v[B];A-=y[B];++B;}if(z < h || A + D > n){t=!1;this.Gc.jxa=B;this.Gc.ixa=w;break;}}z+=p;A+=D;++w;}return t;};m.prototype.subarray=function(h,n){(0,l.assert)(void 0 === h || 0 <= h && h < this.length);(0,l.assert)(void 0 === n || n > h && n <= this.length);return new m(this.j1,this.Gc.subarray(h,n),{offset:this.oi(h),sizes:this.wm.subarray(h,n)},this.nM && this.nM.subarray(h,n),this.Zga && ({oi:this.Zga}),this.rga && this.rga.subarray(h,n));};m.prototype.forEach=function(h){for(var n=0;n < this.length;++n){h(this.get(n),n,this);}};m.prototype.map=function(h){for(var n=[],p=0;p < this.length;++p){n.push(h(this.get(p),p,this));}return n;};m.prototype.reduce=function(h,n){for(var p=0;p < this.length;++p){n=h(n,this.get(p),p,this);}return n;};m.prototype.toJSON=function(){return {length:this.length};};m.prototype.dump=function(){var n;k.trace("StreamFragments: " + this.length);for(var h=0;h < this.length;++h){n=this.get(h);k.trace(("StreamFragments: ").concat(h,": [").concat(n.La.G,"-").concat(n.ab.G,"]") + (" @ ").concat(n.offset,", ").concat(n.Ba," bytes"));}};m.prototype.Cub=function(){var h,n,p,q,u,t,y;h=0;n=0;p=this.Gc.h4a;q=this.Gc.i4a;u=this.Gc.mq;t=this.wm;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,v=this.length;w < v;++w){y=t[w];y > n && (n=y,q=w);y/=u[w];y > h && (h=y,p=w);}void 0 === this.Gc.h4a && (this.Gc.h4a=p);void 0 === this.Gc.i4a && (this.Gc.i4a=q);}else (h=t[p] / u[p],n=t[q]);return {maxBitrate:Math.floor(h * this.S / 125),co:n};};m.prototype.Mea=function(){for(var h=0,n=0;n < this.length;++n){h+=this.wm[n];}return this.Vo=h;};m.prototype.anb=function(){return this.iga=new f.dea(this.Gc.mq,this.wm,this.Gc.S);};m.prototype.Omb=function(){if(!this.Eh){for(var h=d?new Float64Array(Math.ceil(this.length / this.DJ)):Array(Math.ceil(this.length / this.DJ)),n=this.Jb,p=0;p < h.length;++p){h[p]=n;for(var q=0;q < this.DJ;++q){n+=this.wm[p * this.DJ + q];}}this.Eh=h;}return this.Eh;};return m;})();b.dMa=r;(0,a.vv)(r.prototype.em);(0,a.vv)(r.prototype.CS);(0,a.vv)(r.prototype.kf);(0,a.vv)(r.prototype.oi);(0,a.vv)(r.prototype.Gab);(0,a.vv)(r.prototype.get);},40572:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kea=void 0;c=a(94160);r=(function(){function l(f){this.ax=f;this.PXa=new c.yz();}Object.defineProperties(l.prototype,{J2a:{get:function(){var f,k;return null !== (f=this.ZKb) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.J2a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{u6:{get:function(){var f,k;return null !== (f=this.aSb) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.u6;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Yn:{get:function(){var f,k;return null !== (f=this.dg) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.Yn;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Q2a:{get:function(){var f,k,d,g;return null !== (f=this.Rh) && void 0 !== f?f:(null === (k=this.track) || void 0 === k?0:k.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (g=this.parent) || void 0 === g?void 0:g.Rh:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{S2a:{get:function(){var f,k;return null !== (f=this.Y1b) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.S2a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ppa:{get:function(){var f,k;return null !== (f=this.Z1b) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.ppa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.l_b;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{teb:{get:function(){return this.PXa.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var f;return null === (f=this.ax) || void 0 === f?void 0:f.call(this);},enumerable:!1,configurable:!0}});l.prototype.Pa=function(){this.ax=void 0;};l.prototype.T$a=function(f){this.ZKb=f;};l.prototype.$_b=function(f){this.aSb=f;};l.prototype.fab=function(f){this.dg=f;this.PXa.resolve();};l.prototype.JW=function(f){this.Rh=f;};l.prototype.k0b=function(f){this.Y1b=f;};l.prototype.gab=function(f){this.Z1b=f;};l.prototype.r0b=function(f){this.l_b=f;};return l;})();b.kea=r;},36886:function(r,b,a){(function(){var W0F,c;W0F=2;for(;W0F !== 8;){switch(W0F){case 2:var X$e="1";X$e+="SIYb";X$e+="ZrNJCp";X$e+="9";a(67841);a(54186);a(16955);c=a(47571).Yc;r.exports={checkBuffering:function(l,f,k,d,g,m){var j26=R7xOY;var F1z,n,p,q,u,w,t,v;function h(y){var G6S;G6S=2;for(;G6S !== 5;){switch(G6S){case 2:y=d.Ka.qla(l.Fd + y,void 0,!0);return (t - l.cr) / (t + (y.offset + y.Ba) - w);break;}}}F1z=2;for(;F1z !== 54;){switch(F1z){case 23:var f3w="o";f3w+="utofr";f3w+="ange";return {complete:!0,reason:f3w};break;case 9:var p5m="m";p5m+="a";p5m+="xs";p5m+="ize";return {complete:!0,reason:p5m};break;case 6:j26.m_t(12);var G7X=j26.N0G(1104,17,13,5);q=m.Zq * (p?m.Jta:G7X);!d.ia && m.UCb && d.Wb && d.Wb.cl && d.Wb.cl.Da > m.Ppa && (q+=m.Xga + d.Wb.cl.Da * m.rsa);g && !d.ia && (q+=g.av * m.Yga);q=u?Math.min(u,q):q;F1z=11;break;case 21:F1z=n >= q?35:37;break;case 2:(n=l.Hm - l.Fd,p=f === c.ul);f=d.qb || 0;(q=0,u=m.Dxa && !p?m.UB:m.pqa);F1z=4;break;case 4:u=Math.min(m.uG,u);F1z=3;break;case 37:0 < f && f < p && (q=Math.min(u,Math.max(m.ZV * (p / f - 1),q)));return {complete:!1,mN:q,progress:h(q)};break;case 42:F1z=0 < v?41:40;break;case 11:F1z=!f?10:20;break;case 10:var C_u="n";C_u+="o";C_u+="t";C_u+="hroughput";return {complete:!1,mN:q,reason:C_u};break;case 41:return (q=Math.min(u,n + v),{complete:!1,mN:q,progress:h(q)});break;case 35:F1z=f > p * m.a4?34:33;break;case 24:F1z=-1 === g?23:22;break;case 38:var e1d="noreb";e1d+="uf";e1d+="f";return {complete:!0,reason:e1d};break;case 22:w=d.Ka.oi(g);F1z=21;break;case 40:v=p.offset;F1z=39;break;case 26:return (f < p && (q=Math.min(u,Math.max(m.ZV * (p / f - 1),q))),{complete:!1,mN:q,progress:0});break;case 39:--m;F1z=28;break;case 15:var K4P="lowLiveB";K4P+="u";K4P+="f";K4P+="fer";var W1Q="liveB";W1Q+="uffe";W1Q+="rLevel";return f > p && n > q?{complete:!0,reason:W1Q}:{complete:!1,mN:q,qb:f,bitrate:p,reason:K4P};break;case 44:p=d.Ka.get(m);j26.C8s(13);var i5E=j26.A_X(33,9,16);v=i5E * v * k / f - p.bb - q;F1z=42;break;case 20:t=0;l.Ka.forEach(function(y){var E2B;E2B=2;for(;E2B !== 1;){switch(E2B){case 2:t+=y.bb + y.duration > l.Fd?y.Ba:0;E2B=1;break;}}});k=Math.max(k,1);p=k * d.bitrate;F1z=16;break;case 34:var F$p="h";F$p+="i";F$p+="gh";F$p+="t";F$p+="p";return {complete:!0,reason:F$p};break;case 8:F1z=f <= m.Vpa && (0 < f || !m.cla)?7:6;break;case 7:var W3e="low";W3e+="T";W3e+="hrough";W3e+="put";return {complete:!1,Upa:!0,reason:W3e};break;case 16:F1z=d.ia?15:27;break;case 25:g=d.Ka.Sx(l.il);F1z=24;break;case 3:F1z=n >= u?9:8;break;case 27:F1z=!d.Ka || !d.Ka.length?26:25;break;case 29:--m;F1z=28;break;case 28:F1z=m > g?44:38;break;case 33:q=d.Ka.kf(g);m=Math.min(g + Math.floor(m.ZV / q),d.Ka.length - 1);v=d.Ka.oi(m);j26.m_t(14);var k4G=j26.N0G(20,1,13);q=k4G * w * k / f - l.Fd;F1z=29;break;}}}};X$e;W0F=8;break;}}})();},16955:function(r,b,a){var k,d;function c(g,m){return g && g.fG && (m || !1 !== g.hv);}function l(g,m,h){return !k.tb(g) || g < m?m:g > h?h:g;}function f(g){if(!(this instanceof f))return new f(g);this.Rh=k.tb(g)?g:void 0;}k=a(67841);d=new (a(29736)["default"].Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,m){if(!g)throw (g=m?" : " + m:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},NL:c,zla:function(g,m,h){var p,q,u,t;function n(w){var v;v=g[w];if(!v.fG || h && !h(v,w))return !1;t=w;return !0;}p=g.length;q=0;u=p;k.isArray(m) && (q=l(m[0],0,p),u=l(m[1],0,p),m=m[2]);m=l(m,q - 1,u);for(p=m - 1;p >= q;--p){if(n(p))return t;}for(p=m + 1;p < u;++p){if(n(p))return t;}return -1;},wRb:function(g,m){return Math.floor(g / (125 * m) * 1E3);},iub:function(g,m){return Math.ceil(g / 1E3 * m * 125);},bec:function(g,m){return !g.slice(m + 1).some(c);},vn:f,jK:l};},1119:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(78069),b);},62405:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hda=void 0;c=a(70655);r=(function(){function l(f,k,d){var g,m,h;this.Ep=f;"HYBRID" === f?this.yL=d:"CCSP" === f && (this.Yy=null !== (g=k.Yy) && void 0 !== g?g:0,this.Dx=null !== (m=k.Dx) && void 0 !== m?m:0,this.Ly=null !== (h=k.Ly) && void 0 !== h?h:0);}Object.defineProperties(l.prototype,{x8a:{get:function(){var f;return "HYBRID" === this.Ep?[null !== (f=this.yL.Gv) && void 0 !== f?f:0]:"CCSP" === this.Ep?[this.Yy,this.Dx,this.Ly]:[];},enumerable:!1,configurable:!0}});l.prototype.V4a=function(){return Math.min(this.Yy,this.Dx,this.Ly);};l.prototype.c6=function(){return this.x8a.some(function(f){return 0 < f;});};l.prototype.Pua=function(f){return new l(this.Ep,{Yy:f * this.Yy,Dx:f * this.Dx,Ly:f * this.Ly});};l.prototype.hqa=function(f,k,d,g){var m;m=8 * f / Math.max(d - k,1);if(!this.c6())return !1;f=this.x8a.map(function(h){return Math.abs(m - h) / h;});return Math.min.apply(Math,c.__spreadArray([],c.__read(f),!1)) < g;};return l;})();b.hda=r;},94713:function(r,b,a){var u,t,w;function c(v){return f(v.dg);}function l(v,y){var x,B,D;x=k(y.gYb,v.Bg,v.dg.Wb.confidence);if(0 === x.length)return 0;a:switch(y.gUb){case "implicit":y=q(y,v.dg);y=v.HE / y;break a;case "capacityPercentage":y=Math.max(v.Stb / v.Rtb || 0,v.HE / y.uG);break a;default:y=0;}for(var z=-1,A=0;A < x.length;A++){if(x[A].q2 >= y){z=A;break;}}if(-1 === z)return d(v,x[x.length - 1].Xia);if(0 === z)return d(v,x[0].Xia);B=x[z - 1].q2;A=d(v,x[z - 1].Xia);D=x[z].q2;v=d(v,x[z].Xia);x=Math.min((y - B) / (D - B),1);return (1 - x) * A + x * v;}function f(v){var y,x;x=null === (y=null === v || void 0 === v?void 0:v.pa) || void 0 === y?void 0:y.bM;return x?x[v.mediaType] || 0:0;}function k(v,y,x){var A;function z(B,D){return void 0 !== B && 0 < B.filter(function(C){return C === D;}).length;}A=v.filter(function(B){return z(B.w8,y);});0 === A.length && (A=v.filter(function(B){return !B.w8 || 0 === B.w8.length;}));v=A.filter(function(B){return z(B.r5a,x);});0 === v.length && (v=A.filter(function(B){return !B.r5a || 0 === B.r5a.length;}));return v.sort(function(B,D){return B.q2 - D.q2;});}function d(v,y){var x,z,A,B;if(!y || "object" !== typeof y)return 0;x=v.dg;z=v.u5b;A=v.K3b;B={selectedFragmentBitrate:g(v.r4,x,v.bf) * v.playbackRate,selectedPeakBitrate:(x.yv || m(x) || 0) * v.playbackRate,upswitchPeakBitrate:(z.yv || m(z) || 0) * v.playbackRate,maxPeakBitrate:(A.yv || m(A) || 0) * v.playbackRate,selectedAverageBitrate:m(x) * v.playbackRate,upswitchAverageBitrate:m(z) * v.playbackRate,maxAverageBitrate:f(x) * v.playbackRate,bufferLevelMs:v.HE,observedThroughput:h(v.dg) || 0,averagetp:n(v.dg) || 0,stddevtp:p(v.dg) || 0};v=y.offset || 0;return Object.keys(B).reduce(function(D,C){return D + (y[C] || 0) * B[C];},v);}function g(v,y,x){var z;return void 0 !== x && y.Ka?(void 0 === v?null === (z=y.Ka) || void 0 === z?void 0:z.get(x).Rha:v.mZa(y,x).Rha) || y.yv || 0:y.yv || 0;}function m(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function h(v){var y;v=v.Wb;return (null === (y=null === v || void 0 === v?void 0:v.qb) || void 0 === y?void 0:y.Da) || 0;}function n(v){var y;v=v.Wb;return (null === (y=null === v || void 0 === v?void 0:v.Km) || void 0 === y?void 0:y.YJ) || 0;}function p(v){var y;v=v.Wb;return Math.sqrt(null === (y=null === v || void 0 === v?void 0:v.Km) || void 0 === y?void 0:y.rO) || 0;}function q(v,y){var x,z;x=v.V2b;x=n(y) + x * p(y);y=y.qb || 0;z=0;0 < y && (z=x / y - 1);return v.dRb + v.U2b * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.NHb=b.DIb=b.SGb=b.lIa=void 0;r=a(70655).__importDefault(a(29736));u=a(47571);t=a(62405);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(v,y){return y.cbb;},none:function(){return 0;},regression:l,epsGreedy:function(v,y){return Math.min(l(v,y) || 0,h(v.dg));},"default":c};a=(function(){var w4_;w4_=2;function v(y,x){var n__;n__=2;for(;n__ !== 7;){switch(n__){case 9:n__=y.I3 || y.H3?8:7;break;case 8:var A1J="C";A1J+="C";A1J+="S";A1J+="P";this.Ep=A1J;n__=7;break;case 3:var M24="HYB";M24+="R";M24+="ID";this.Ep=M24;n__=7;break;case 4:n__=y.K3?3:9;break;case 2:var M4g="def";M4g+="a";M4g+="ult";var V7e="1SI";V7e+="Yb";V7e+="ZrNJCp9";this.Y=y;V7e;this.algorithm=(w[x === u.v.fa?this.Y.dUb:this.Y.cUb] || w[M4g]).bind(this);n__=4;break;}}}for(;w4_ !== 9;){switch(w4_){case 2:v.prototype.jYa=function(y,x){var h1y,z,A,B;h1y=2;for(;h1y !== 6;){switch(h1y){case 4:z=y;this.Y.H2 && (z=this.G4(y,A.Cta[0],x));h1y=9;break;case 2:A=this.Y.H2;x=null === (z=x.wPb) || void 0 === z?void 0:z.yv;h1y=5;break;case 9:B=new t.hda(this.Ep,void 0,{pLb:1,Gv:z,tia:Number(this.Y.tia),xQb:this.Y.mQb,iua:Number(this.Y.iua)});h1y=8;break;case 5:var D$9="H";D$9+="YBR";D$9+="ID";h1y=D$9 === this.Ep?4:7;break;case 7:var v7B="C";v7B+="C";v7B+="S";v7B+="P";v7B === this.Ep && (B=new t.hda(this.Ep,A?{Yy:this.G4(y,A.Cta[0],x),Dx:this.G4(y,A.Cta[1],x),Ly:this.G4(y,A.Cta[2],x)}:{Yy:0,Dx:0,Ly:0},void 0));h1y=8;break;case 8:return B;break;}}};v.prototype.IIb=function(y){var g$o,x,z;g$o=2;for(;g$o !== 5;){switch(g$o){case 2:var w0K="s";w0K+="ta";w0K+="t";w0K+="ic";var d6j="C";d6j+="C";d6j+="S";d6j+="P";var Z4C="H";Z4C+="YB";Z4C+="RID";z=null === (x=y.dg) || void 0 === x?void 0:x.mediaType;return Z4C !== this.Ep || this.Y.CCb?d6j === this.Ep && (z === u.v.fa && !this.Y.ACb || z === u.v.X && !this.Y.BCb)?0:w0K === this.Y.eUb?this.Y.cbb:f(y.dg):0;break;}}};v.prototype.G4=function(y,x,z){var p8c;p8c=2;for(;p8c !== 3;){switch(p8c){case 2:p8c=!x?1:5;break;case 1:return 0;break;case 5:R7xOY.m_t(15);y=Math.ceil(R7xOY.A_X(x,y));return y < (this.Y.H2.rec || 0) * (z || 0)?0:y;break;}}};v.prototype.JIb=function(y){var I58,x,z,A;I58=2;for(;I58 !== 7;){switch(I58){case 9:x=y.ko?this.algorithm(y,this.Y):this.IIb(y);return this.jYa(x,y);break;case 4:I58=!this.Ep || !A || !z || (A=this.Y.y4b) && y.bf && 0 === y.bf % A || y.HE < z.XB?3:9;break;case 2:(z=null === (x=y.dg) || void 0 === x?void 0:x.mediaType,A=this.Y.K3 || z === u.v.fa && this.Y.H3 || z === u.v.X && this.Y.I3);x=this.jYa(0,y);z=this.Y.H2;I58=4;break;case 3:return x;break;}}};return v;break;}}})();b.lIa=a;b.SGb=k;b.DIb=h;b.NHb=q;},30331:function(r,b,a){(function(){function c(t,w){var u7o,v;u7o=2;for(;u7o !== 4;){switch(u7o){case 1:w.some(function(y){var F8q,x;F8q=2;for(;F8q !== 4;){switch(F8q){case 2:x=y.profiles;(x=x && 0 <= x.indexOf(t)) && (v=y.override);return x;break;}}});return v;break;case 2:v=void 0;u7o=1;break;}}}var h8o,f,k,d,g,m,h,n,p,q,u;h8o=2;function l(t,w,v,y){var S8h,B,D,C,F,G,J,M,E,A,x,z;S8h=2;for(;S8h !== 30;){switch(S8h){case 35:var L27="m";L27+="s";var l2x=",";l2x+=" ";l2x+="buffer l";l2x+="evel = ";var T8n=", lastUpswit";T8n+="chPts =";T8n+=" ";var E6R="  Upswitch not a";E6R+="llowed. lastDownswitc";E6R+="hPts = ";g && d.log(E6R + M + T8n + J + l2x + E + L27);S8h=34;break;case 15:C--;S8h=20;break;case 6:S8h=A && 1 < A.length?14:34;break;case 22:S8h=(D=A[C],E=x[D],n(E) && F > G.cdb * E.bitrate * w.playbackRate)?21:23;break;case 13:S8h=0 > C?12:11;break;case 7:t.Qbb.some(function(L){var K7z,I,P,K,H,N,R;K7z=2;for(;K7z !== 9;){switch(K7z){case 2:(I=L.profiles,P=I && 0 <= I.indexOf(z));K7z=1;break;case 1:K7z=P?5:3;break;case 3:return P;break;case 6:K7z=P?3:5;break;case 5:(K=(L=L.xV) && L.p7 || t.p7,H=L && L.Oec || -Infinity,N=L && L.wec || Infinity,R=w.buffer.ME);K7z=4;break;case 4:A=x.filter(function(Y){var g92,ma;g92=2;for(;g92 !== 5;){switch(g92){case 1:return ma >= H && ma <= N && 0 <= I.indexOf(Y.Ld) && ma * K / 8 < R;break;case 2:ma=Y.bitrate;g92=1;break;}}}).map(function(Y){var e6O;e6O=2;for(;e6O !== 1;){switch(e6O){case 4:return Y.It;break;case 2:return Y.It;break;}}});K7z=3;break;}}});S8h=6;break;case 34:var N_7="kbps, ";N_7+="streami";N_7+="ngP";N_7+="ts :";var Y2J=", ";Y2J+="aud";Y2J+="io throughput";Y2J+=":";var n4l=" kbp";n4l+="s, ";n4l+="profile";n4l+=" :";var I$y="sel";I$y+="ec";I$y+="tAudioStream: sele";I$y+="cted stream ";I$y+=":";var a9u=" ";a9u+="kb";a9u+="p";a9u+="s";var u48=" ";u48+="kbps, ";u48+="t";u48+="o ";var D8s="s";D8s+="witchin";D8s+="g audio from ";var F_C="d";F_C+="o";F_C+="w";F_C+="n";var T_y="u";T_y+="p";F=x[v];v !== y && g && d.log((v > y?T_y:F_C) + D8s + B.bitrate + u48 + F.bitrate + a9u);g && d.log(I$y + F.bitrate + n4l + z + Y2J + F.qb + N_7 + w.buffer.il);return new p(v);break;case 14:(B=x[y],D=B.bitrate,C=A.indexOf(y),F=B.qb,G=t.atb);S8h=13;break;case 26:(J=this.spa,M=this.SL);S8h=25;break;case 19:D=A[C];E=x[D];S8h=17;break;case 10:var J7Q=" kbps,";J7Q+=" try to downs";J7Q+="wit";J7Q+="ch";var v6z=" kb";v6z+="ps";v6z+=" < ";var L5Y="throughpu";L5Y+="t f";L5Y+="or a";L5Y+="udi";L5Y+="o ";(g && d.log(L5Y + F + v6z + G.TVa + "*" + D + J7Q),--C);S8h=20;break;case 24:var K_m=", ";K_m+="s";K_m+="trea";K_m+="min";K_m+="gPts = ";var V6R=", ";V6R+="lastUpswitchPts ";V6R+="= ";var m9o="  Upswit";m9o+="ch al";m9o+="lowed. lastDownswitchPts = ";g && d.log(m9o + M + V6R + J + K_m + D.il);S8h=23;break;case 9:v=y;S8h=7;break;case 27:var V_M=" k";V_M+="b";V_M+="p";V_M+="s";var p8I=" k";p8I+="bp";p8I+="s > ";var d0l="throug";d0l+="hpu";d0l+="t for audio ";S8h=C < A.length - 1 && F > G.cdb * D * w.playbackRate && (g && d.log(d0l + F + p8I + G.cdb + "*" + D + V_M),D=w.buffer,E=D.Hm - D.Fd,B.Ka && B.Ka.length)?26:34;break;case 16:v=D;S8h=34;break;case 3:return new p(y);break;case 21:v=D;S8h=34;break;case 4:S8h=!(t && t.fX && 0 <= t.fX.indexOf(z))?3:9;break;case 11:S8h=C && F < G.TVa * D * w.playbackRate?10:27;break;case 25:S8h=w.FB && E > G.oy && (void 0 === M || Number(J) > M || D.il - M > G.AU)?24:35;break;case 12:v=0;S8h=34;break;case 2:var W26="M";W26+="ust have at least one se";W26+="lected stream";x=v.first;m(!f.ii(y),W26);z=x[y].Ld;S8h=4;break;case 20:S8h=0 <= C?19:34;break;case 17:S8h=n(E) && (0 == C || E.bitrate * w.playbackRate * G.TVa < F)?16:15;break;case 23:S8h=++C < A.length?22:34;break;}}}for(;h8o !== 4;){switch(h8o){case 2:var q1X="1S";q1X+="IYbZ";q1X+="rNJCp9";(f=a(67841),k=a(16955),d=k.console,g=k.debug,m=k.assert,h=a(6328),n=k.NL,p=k.vn,q=a(13687),u=a(47571).Cb);r.exports={STARTING:function(t,w,v,y){var L54,x,z,A;L54=2;for(;L54 !== 7;){switch(L54){case 2:(x=t,z=v.first,A=z[y || 0].Ld);L54=1;break;case 4:var u5u=" kbp";u5u+="s, profile";u5u+=" :";var O33="sele";O33+="ctAudioStreamStarting: selected st";O33+="rea";O33+="m :";t=q[u[u.Dk]](x,w,v,y);z=z[t.Rh];g && d.log(O33 + z.bitrate + u5u + z.Ld);return t;break;case 1:L54=(A=t && t.fX && 0 <= t.fX.indexOf(A)?c(A,t.Qbb):c(A,t.Ysb))?5:4;break;case 5:var o$s="selectA";o$s+="udioStreamS";o$s+="ta";o$s+="rting: over";o$s+="riding config with ";(x={minInitAudioBitrate:t.XU,minHCInitAudioBitrate:t.n7,maxInitAudioBitrate:t.LU,minRequiredAudioBuffer:t.p7},g && d.log(o$s + JSON.stringify(A)),h(A,x));L54=4;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};q1X;h8o=4;break;}}})();},13687:function(r,b,a){var f,k,d,g,m,h;function c(n,p,q,u){g(!f.ii(u),"Must have at least one selected stream");return new h(u);}function l(n,p,q,u){g(!f.ii(u),"Must have at least one selected stream");return new h(u);}f=a(67841);b=a(16955);k=b.console;d=b.debug;g=b.assert;m=b.NL;h=b.vn;r.exports={STARTING:function(n,p,q){var t,w,v,y;function u(x,z){var A,B,D,C;A=x.id;B=x.bitrate;D=x.qb || 0;C=!!D;d && k.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!x.fG)return (d && !x.Qq && k.log("  Not available"),d && x.qB && k.log("  Failed"),!1);if(B > n.LU)return (d && k.log("  Above maxInitAudioBitrate (" + n.LU + " Kbps)"),!1);if(!(B * n.p7 / 8 < p.buffer.ME))return (d && k.log("  audio buffer too small to handle this stream"),!1);if(C){d && k.log("  Have throughput history = " + C + " : available throughput = " + D + " Kbps");if(B * p.playbackRate < D / w)return (d && k.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && k.log(" bitrate requires more than available throughput");return !1;}x=n.XU;p.$Mb && (x=Math.max(x,n.n7));if(B <= x)return (d && k.log("  Bitrate is less than max of minInitAudioBitrate (" + n.XU + " Kbps) " + (p.$Mb?" and also minHCInitAudioBitrate (" + n.n7 + " Kbps)":"")),d && k.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && k.log("  No throughput history");return !1;}t=new h();w=n.Bbc || 1;y=q.first;for(v=y.length - 1;0 <= v;--v){q=y[v];if(u(q,v)){t.Rh=v;break;}m(q) && (t.Rh=v);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},12657:function(r,b,a){var l,f,k,d;function c(g,m,h,n){g=h.first;if(l.ii(n))n=f(g);else if(!k(g[n]) && (n=f(g,n),0 > n))return null;return new d(n);}l=a(67841);b=a(16955);f=b.zla;k=b.NL;d=b.vn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},2134:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(3216);b["default"]={PLAYING:r.bm,PAUSED:r.bm};},3216:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperties(b,{__esModule:{value:!0}});b.bm=void 0;r=a(70655);c=r.__importStar(a(67841));l=r.__importDefault(a(16955));f=r.__importDefault(a(69311));k=a(60595);d=r.__importDefault(a(29736));g=l.default.assert;m=l.default.vn;b.bm=h;(function(){var e6H;e6H=2;for(;e6H !== 5;){switch(e6H){case 2:var C9o="1SI";C9o+="Y";C9o+="b";C9o+="ZrNJC";C9o+="p9";b.bm=h=function(n,p,q,u,t,w,v){var G92,F,G,E,J,K,C,M,y,x,z,A,B,D,H,L,I,P;G92=2;for(;G92 !== 90;){switch(G92){case 6:R7xOY.C8s(5);D=R7xOY.N0G(B,y);0 > D && (D=0);D >= x.length && (D=x.length - 1);G92=12;break;case 16:q=[];t=p.buffer;t=t.Hm - t.Fd;w=k.aq.GUa(p.buffer.Ka);w=p.buffer.ME - w.Ba;G92=23;break;case 10:B=D;G92=20;break;case 67:G92=x[D].f < B?72:66;break;case 8:G92=B < y || B > D?7:6;break;case 69:G92=x[D].f === B?68:67;break;case 38:J.push(M.max);G92=37;break;case 53:G92=void 0 !== I?52:64;break;case 21:y=0;G92=35;break;case 73:D++;G92=77;break;case 23:v=z[u];x=z[u];G92=21;break;case 65:K++;G92=46;break;case 70:G92=0 <= D?69:72;break;case 55:D+=1;G92=77;break;case 57:y=void 0;G92=56;break;case 76:G92=x[D].f === B?75:74;break;case 19:A.Rh=x[B].Vfc;G92=18;break;case 20:G92=void 0 !== B?19:58;break;case 59:return A;break;case 60:A.Gbc=q;G92=59;break;case 47:K=p.bf;G92=46;break;case 30:D.Wb && D.Wb.throughput && (C=D.Wb.throughput.Da);G92=29;break;case 58:return f.default.PLAYING.call(this,n,p,q,u,t,w,v);break;case 75:y=D;G92=72;break;case 34:D=z[y];B=y <= u?!0:!1;C=void 0;J=[];G92=30;break;case 18:A.dg=z[A.Rh];G92=17;break;case 68:y=D;G92=72;break;case 7:return f.default.PLAYING.call(this,n,p,q,u,t,w,v);break;case 45:P+=I.get(K).ue.G;G92=65;break;case 52:K=p.bf;G92=51;break;case 11:G92=C === B?10:57;break;case 12:C=x[D].f;G92=11;break;case 61:y++;G92=35;break;case 28:M=D.Wb.tdigest;J.push(M.min);J.push(M.$ra);J.push(M.Cp);J.push(M.dn);J.push(M.Dp);J.push(M.bsa);G92=38;break;case 48:K++;G92=51;break;case 77:G92=D < x.length?76:72;break;case 2:var x0d="player missing ";x0d+="fra";x0d+="gmentIndex";var Y7D="Must have at l";Y7D+="east one selected str";Y7D+="eam";g(!c.ii(u),Y7D);g(c.tb(p.bf),x0d);(x=n.c2b,z=q.first,A=new m(u),B=null !== (y=p.bf) && void 0 !== y?y:-1);y=x[0].f;D=x[x.length - 1].f;G92=8;break;case 17:G92=n.ZCb?16:59;break;case 35:G92=y < z.length?34:60;break;case 51:G92=K < Math.min(K + n.dtb,I.length)?50:47;break;case 74:G92=x[D].f > B?72:73;break;case 50:H=I.get(K);L.push({d:H.ue.G,b:H.Ba});G92=48;break;case 72:B=y;G92=20;break;case 66:D--;G92=70;break;case 46:G92=K < I.length?45:64;break;case 64:I=void 0;p.Ytb && (I=d.default.time.Ga() - p.Ytb);q.push({bf:p.bf,Sgc:I,Dec:P,Jbc:C,Pgc:J,Rgc:M,mSa:t,fYa:w,fcc:L,jec:v.bitrate,kec:null !== (F=v.zb) && void 0 !== F?F:0,qcc:D.bitrate,rcc:null !== (G=D.zb) && void 0 !== G?G:0,igc:x.bitrate,jgc:null !== (E=x.zb) && void 0 !== E?E:0,W5:B});G92=61;break;case 37:M=void 0;D.Wb && D.Wb.tputTrace && (M=D.Wb.tputTrace);(L=[],I=D.Ka,P=0);G92=53;break;case 71:--D;G92=70;break;case 56:G92=C < B?55:71;break;case 29:G92=D.Wb && D.Wb.tdigest?28:37;break;}}};C9o;e6H=5;break;}}})();},79243:function(r,b,a){var l;function c(f,k,d){return new l(d.first.length - 1);}a(67841);l=a(16955).vn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},22465:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(78655);b["default"]={PLAYING:r.bm,PAUSED:r.bm};},78655:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bm=void 0;r=a(70655).__importDefault(a(16955));c=r.default.console;l=r.default.vn;b.bm=f;(function(){var b8D;b8D=2;for(;b8D !== 5;){switch(b8D){case 2:var M3I="1";M3I+="SI";M3I+="Y";M3I+="bZrNJCp";M3I+="9";b.bm=f=function(k,d,g,m){var d9p,h,n,p,q,u;d9p=2;for(;d9p !== 10;){switch(d9p){case 2:(n=new l(m),p=d.buffer.il);g=g.first;d9p=5;break;case 5:R7xOY.C8s(16);var e7i=R7xOY.N0G(9,4,6);q=k.j3b * Math.pow(Math.min(e7i,(d.buffer.Hm - d.buffer.Fd) / k.wU),k.i3b);k=void 0 === this.SL || p - this.SL > k.AU?g.length - 1:m;d9p=3;break;case 9:d9p=-1 < k?8:11;break;case 3:n.Rh=0;d9p=9;break;case 13:--k;d9p=9;break;case 11:return n;break;case 8:u=g[k];d9p=7;break;case 14:n.Rh=k;d9p=11;break;case 12:var J$n="S";J$n+="tream has no throughput s";J$n+="tatistics";c.warn(J$n);d9p=13;break;case 6:d9p=(m=u.Wb.qb.Da,p=u.bitrate,u=u.qta(null !== (h=d.bf) && void 0 !== h?h:-1),p * d.playbackRate < m * q && u)?14:13;break;case 7:d9p=u.Wb && u.Wb.qb?6:12;break;}}};M3I;b8D=5;break;}}})();},24592:function(r,b,a){var l;function c(){return new l(0);}a(67841);l=a(16955).vn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},69311:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(43487);c=a(36910);a=a(20775);b["default"]={STARTING:a.r$a,BUFFERING:r.F9,REBUFFERING:r.F9,PLAYING:c.bm,PAUSED:c.bm};},43487:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.F9=void 0;r=a(70655);c=r.__importStar(a(67841));l=a(94160);r=r.__importDefault(a(16955));f=a(36910);k=r.default.assert;d=r.default.vn;b.F9=g;(function(){var y4g;y4g=2;for(;y4g !== 5;){switch(y4g){case 2:var m$g="1SI";m$g+="YbZr";m$g+="NJ";m$g+="Cp9";b.F9=g=function(h,n,p,q,u,t,w){var u2S;u2S=2;for(;u2S !== 1;){switch(u2S){case 2:var k7W="pl";k7W+="a";k7W+="y";k7W+="ing";return k7W === h.Zha?f.bm.call(this,h,n,p,q,u,t,w):m.call(this,h,n,p,q);break;}}};m$g;y4g=5;break;}}function m(h,n,p,q){function u(z){var Z2F,A;Z2F=2;for(;Z2F !== 8;){switch(Z2F){case 2:A=z.qb;Z2F=1;break;case 1:Z2F=!A || (z.bitrate > v?h.t5b:1) * z.bitrate * n.playbackRate > A?5:4;break;case 4:var B4r="buff_";B4r+="lt_his";B4r+="t";y=B4r;x=A;return !0;break;case 5:return !1;break;}}}var T_E,x,y,t,w,v;T_E=2;for(;T_E !== 19;){switch(T_E){case 14:x=null === w || void 0 === w?void 0:w.qb;T_E=12;break;case 4:T_E=w.qb?3:12;break;case 12:q=new d();q.dg=w;p !== w && (q.reason=y,q.Vs=x);return q;break;case 3:q=Math.min(q + (h.Lrb?2:1),t.length);w=(0,l.Hc)(t.slice(0,q).reverse(),u);T_E=8;break;case 6:var O9y="fallback_lowe";O9y+="st_acceptable_s";O9y+="tream";y=O9y;T_E=14;break;case 7:w=t[0];T_E=6;break;case 8:T_E=void 0 === w?7:13;break;case 2:var j86="Must ha";j86+="ve at le";j86+="ast one selecte";j86+="d stream";k(!c.ii(q),j86);(t=p.first,w=t[q],v=w.bitrate);p=w;T_E=4;break;case 13:var A5p="s";A5p+="elec";A5p+="t_feas";A5p+="i";A5p+="ble_buffering";y=A5p;T_E=14;break;}}}})();},36910:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.wka=b.W5=b.bm=void 0;r=a(70655);l=r.__importStar(a(67841));f=a(94160);k=a(60595);d=r.__importDefault(a(54186));g=r.__importDefault(a(16955));m=r.__importDefault(a(72292));h=a(47571);n=a(95032);p=g.default.assert;q=g.default.vn;b.bm=(c=(function(){var r6g;function u(v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P,K,H){var d_7,ja,N,R,Y,ma,ia;d_7=2;for(;d_7 !== 17;){switch(d_7){case 6:d_7=!N || N < y.bitrate * H * v.Pna || !ma?14:13;break;case 8:p(A.length === E);v.Xpa && (P=Math.min(P,Y));d_7=6;break;case 13:ia || (R=y);ja=new n.LLa(A);L=Math.max(0,Math.min(L,y.Ka.length - G));I=Math.max(0,Math.min(I,R.Ka.length - G - L));d_7=20;break;case 2:var T1e="Fi";T1e+="rst str";T1e+="eam u";T1e+="ndefine";T1e+="d";y=x[0].stream;R=null === (N=z[0]) || void 0 === N?void 0:N.stream;p(y,T1e);N=y.qb;(Y=C - B,ma=y.Ka && y.Ka.length,ia=(null === R || void 0 === R?void 0:R.Ka) && (null === R || void 0 === R?void 0:R.Ka.length));d_7=8;break;case 20:x.forEach(function(Ca){var l0C,Ba,Ka;l0C=2;for(;l0C !== 4;){switch(l0C){case 2:(Ba=Ca.stream,Ka=Ca.blocks);Ca=Ca.bf;l.tb(Ca) && Ba.Ka && ja.add(Ba.Ka.qr.subarray(Ca,Ca + Ka));l0C=4;break;}}});z.forEach(function(Ca){var n3Q,Ba,Ka;n3Q=2;for(;n3Q !== 4;){switch(n3Q){case 2:(Ba=Ca.stream,Ka=Ca.blocks);Ca=Ca.bf;0 < I && l.tb(Ca) && Ba.Ka && ja.add(Ba.Ka.qr.subarray(Ca,Ca + Ka));n3Q=4;break;}}});return 0 < L || 0 < I?(0,m.default)({EFb:ja,blocks:E + L + I,Fd:B,Hm:C,l1b:D,cr:J,il:F,bf:E,dFb:E + L,B3:K,fYa:M,qb:N / H,YQb:P,XB:v.XB,ENb:v.n$,yCb:!1}):N > y.yv?{result:!0,CU:0,hv:!0}:{result:!1,CU:0,hv:!0};break;case 14:return !1;break;}}}r6g=2;function w(v,y,x){var l7A,z;l7A=2;for(;l7A !== 3;){switch(l7A){case 2:l7A=!x.qb?1:5;break;case 1:return v.X4a;break;case 5:z=(x.q3b || x.qb) / x.qb;return 1 >= z?v.qqa:Math.min(Math.max((v.g1b * Math.min(8 * y / x.bitrate,v.uG) - v.py) / (z - 1),v.X4a),v.qqa);break;}}}function t(v,y,x){var e$t;e$t=2;for(;e$t !== 4;){switch(e$t){case 2:v=new q();v.dg=x[0];return v;break;}}}for(;r6g !== 5;){switch(r6g){case 2:var t$W="1S";t$W+="IYbZrNJ";t$W+="C";t$W+="p";t$W+="9";t$W;return {W5:u,bm:function(v,y,x,z,A,B,D){var G14,F,G,E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba,C;G14=2;for(;G14 !== 17;){switch(G14){case 7:G14=H === d.default.DZ.omb || !A.qb?6:14;break;case 3:var P29="n";P29+="umb";P29+="er";var R6t="nu";R6t+="mb";R6t+="er";p(R6t === typeof y.buffer.ME);p(P29 === typeof y.B3);(F=x.first,G=new q(),E=A=F[z],J=y.buffer.bb,M=y.buffer.Fd,L=y.buffer.il,I=y.buffer.Hm,P=y.bf,K=I - M,H=this.ze.J2a || d.default.DZ.Dk,N=y.state === h.Cb.me || y.state === h.Cb.Wh?y.buffer.cr:0,R=v.U6,Y=null !== (C=v.py) && void 0 !== C?C:1E3);G14=7;break;case 14:x.Jla(function(Ka,Va,db){var D2y,W;D2y=2;for(;D2y !== 5;){switch(D2y){case 2:void 0 !== db && (Ka=Ka[db],null !== (W=Ka.Ka) && void 0 !== W && W.length || (Ka.owa=!0));D2y=5;break;}}});(ia=k.aq.GUa(y.buffer.Ka),ja=y.buffer.ME - ia.Ba);C=(v.Yva || D) && K >= v.Uxa?F.length:z + 2;(Ca=(function(Ka){var I2n,P1g;I2n=2;for(;I2n !== 4;){switch(I2n){case 2:var j57="var";j57+="i";j57+="a";j57+="b";j57+="le";P1g=v.Wva;I2n=P1g === j57?1:3;break;case 1:return F.slice(0,Ka).map(function(Va){var K6s;K6s=2;for(;K6s !== 1;){switch(K6s){case 2:return [w(v,y.buffer.ME,Va),0];break;case 4:return [w(v,y.buffer.ME,Va),5];break;}}});break;case 5:return F.slice(0,Ka).map(function(Va,db){var l8D;l8D=2;for(;l8D !== 1;){switch(l8D){case 2:return db < z?[v.Rna,v.Spa]:db === z?[v.Qna,v.Rpa]:[v.Sna,v.Tpa];break;}}});break;case 3:I2n=5;break;case 13:I2n=9;break;}}})(C),Ba=F.slice(0,C).map(function(Ka,Va){var F32=R7xOY;var M2D,db;M2D=2;for(;M2D !== 5;){switch(M2D){case 2:F32.m_t(17);db=F32.N0G(z,Va);return function(){var g7F,W,ha,ta,Q,O,Z,oa,qa,Ha;g7F=2;for(;g7F !== 5;){switch(g7F){case 2:a:{F32.m_t(5);W=Math.max(F32.N0G(Va,1),0);ha=Ca[Va][1];ta=y.playbackRate;Q=x.w_a(Va,P,Ca[Va][0]);O=Q.wcb;Q=Q.lbb;F32.m_t(0);ha=x.w_a(W,F32.A_X(O,P),ha);W=ha.wcb;Z=ha.lbb;ha=Q[0].stream;oa=ha.qb || 0;qa=ha.Ka && ha.Ka.length;Ha=D?v.iEb:qa?v.a4:v.jEb;Ha=db?v.mla:Ha;if(ma && !ma.b4 && ma.qb >= oa && ma.bitrate <= ha.bitrate){O=!1;}else {db || qa || (ha.owa=!0);if(!db || !qa)if(qa && !v.n$){if(oa >= Math.max(ha.yv * ta,ha.bitrate * ta * Ha) && ha.hv){O=!0;break a;}}else if(oa >= ha.bitrate * ta * Ha){O=!0;break a;}ta=!v.mja || ha === E || ha.$b === E.$b && B?0:(ta=ha.Wb) && ta.cl && ta.cl.Da?ta.cl.Da + v.ija * (ta.cl.Zd?Math.sqrt(ta.cl.Zd):0):0;(O=u(v,F,Q,Z,ia,M + ta - J,R,I - J,L - J,P,ia.length,N,ja,O,W,Y,y.B3,y.playbackRate)) && O.result && (G.sec=O.CU);ma={b4:O && O.result,qb:oa,bitrate:ha.bitrate};O=O && O.result;}}return O;break;}}};break;}}}));G14=10;break;case 10:p(Ba.length === Ca.length);Ba[z]()?z + 1 < F.length && K > v.oy && (void 0 === this.SL || this.spa && this.spa > this.SL || L - this.SL > v.AU && K > v.Wpa) && (A=(0,f.rha)(F.slice(z + 1,C),function(Ka,Va){var W3S;W3S=2;for(;W3S !== 1;){switch(W3S){case 2:return Ba[z + 1 + Va]();break;case 4:return Ba[(z - 9) % Va]();break;}}})):A.Ka && A.Ka.length && (A=(0,f.rha)(F.slice(0,z),function(Ka,Va){var W3q;W3q=2;for(;W3q !== 1;){switch(W3q){case 2:return Ba[Va]();break;}}}),C=F[0],A && A.It < C.It || !A) && (A=C);G.dg=A || E;return G;break;case 4:var H6t="invalid ";H6t+="player fragmen";H6t+="t";H6t+="Inde";H6t+="x";p(l.tb(y.bf),H6t);G14=3;break;case 6:return t.call(this,y,v,F,A);break;case 2:var z2U="Must have ";z2U+="at";z2U+=" least one sel";z2U+="ected stream";p(!l.ii(z),z2U);void 0 === y.bf && (y.bf=0);G14=4;break;}}},wka:w};break;}}})(),c.bm);b.W5=c.W5;b.wka=c.wka;},20775:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.UMb=b.r$a=void 0;c=a(70655);l=c.__importDefault(a(6328));f=c.__importStar(a(67841));k=a(94160);d=a(45041);g=c.__importDefault(a(29736));r=c.__importStar(a(312));a=c.__importDefault(a(16955));m=a.default.wRb;h=a.default.iub;n=a.default.jK;p=a.default.vn;q=r.Cab;a=(function(){function t(B,D,C){var p7p;p7p=2;for(;p7p !== 5;){switch(p7p){case 2:B=h(C.Zq,B * C.c7);return m(B,D);break;}}}var L8d;function v(B,D){var H_h=R7xOY;var U4Y,C;U4Y=2;for(;U4Y !== 9;){switch(U4Y){case 5:C=D.xN;U4Y=4;break;case 1:var R0P="l";R0P+="o";R0P+="g";U4Y=0 === D.xN.lastIndexOf(R0P,0)?5:3;break;case 4:return (C=D.s$a[C]) && 2 === C.length?1E3 * (C[0] + C[1] * Math.log(1 + B)):D.Xq;break;case 7:H_h.C8s(14);var Z5U=H_h.A_X(14,0,10);H_h.C8s(18);var I_G=H_h.N0G(8,715,10,815,15);H_h.C8s(19);var G2e=H_h.N0G(15,14,213,39);B=n(B,Z5U,I_G) + G2e;U4Y=0;break;case 2:H_h.C8s(20);var Y73=H_h.N0G(9,100028,4,49993,99986);H_h.C8s(21);var y7M=H_h.N0G(20,7,5,992);B=n(B,0,Y73) / y7M;U4Y=1;break;case 3:var q_U="sigm";q_U+="o";q_U+="id";return 0 === D.xN.lastIndexOf(q_U,0)?(C=D.xN,(C=D.s$a[C]) && 2 === C.length?1E3 * (C[0] + C[1] * q(B)):D.Xq):D.Xq;break;}}}function z(B,D,C){var z$e,F,G;z$e=2;for(;z$e !== 4;){switch(z$e){case 2:(F=new p(),G=Math.max(B.jt,B.j7));F.dg=(0,k.Hc)(C.filter(function(E){var v2q;v2q=2;for(;v2q !== 1;){switch(v2q){case 2:return E.bitrate <= B.ty;break;}}}).reverse(),function(E){var V$Z,L,J,M;V$Z=2;for(;V$Z !== 13;){switch(V$Z){case 14:var y_R="no_histor";y_R+="i";y_R+="cal_lte_mi";y_R+="nbitrate";var x$8="h";x$8+="i";x$8+="st_tput_";x$8+="lt_mi";x$8+="nbitrate";var g1$="lt_hist_lt";g1$+="e_minb";g1$+="itrate";(M=J.qb,E.bitrate * D.playbackRate <= M?(F.Vs=M,J && (F.rB=J.El?J.El:0,F.sB=J.El?J.ah:void 0),F.reason=g1$,J=!0):M?(F.Vs=M,J && (F.rB=J.El?J.El:0,F.sB=J.El?J.ah:void 0),F.reason=x$8,J=!1):(F.reason=y_R,J=!0));V$Z=7;break;case 9:L=w(B,E);V$Z=8;break;case 8:var G$k="hist_b";G$k+="uf";G$k+="ftim";G$k+="e";t(E,M,B) <= L?(F.Vs=M,J && (F.rB=J.El?J.El:0,F.sB=J.El && J.ah),F.reason=G$k,J=!0):J=!1;V$Z=7;break;case 7:return J;break;case 2:J={qb:E.qb,El:E.Wb && E.Wb.El,ah:E.Wb && E.Wb.ah};V$Z=1;break;case 1:V$Z=E.bitrate > G?5:14;break;case 3:V$Z=M?9:6;break;case 6:J=!1;V$Z=7;break;case 5:E=E.bitrate * D.playbackRate;M=J.qb;V$Z=3;break;}}}) || C[0];return F;break;}}}L8d=2;function u(B,D){var u5D,F,C;u5D=2;for(;u5D !== 12;){switch(u5D){case 6:(F=d.rMa.LIb(B),f.wp(F)?(B.ri=F,F=!0):F=!1);u5D=14;break;case 4:C.sB=B.El && B.ah;C.rB=B.El?B.El:0;B=(0,l.default)(C.sB,{});u5D=7;break;case 7:u5D=(F=f.tb(D.G9) && 0 <= D.G9 && 100 >= D.G9 && !f.ii(B) && !f.Zb(B))?6:14;break;case 14:var q3Q="hist_throu";q3Q+="ghp";q3Q+="ut";var E8C="hi";E8C+="st_tdi";E8C+="gest";F?(D=B.ri(D.G9 / 100) || C.dg.qb,C.Vs=D,C.reason=E8C):C.dg.qb && (D=C.dg.qb,C.Vs=D,C.reason=q3Q);return C;break;case 2:C=new p();C.dg=B;B=C.dg.Wb || ({});u5D=4;break;}}}function x(B,D,C,F,G,E){var J5Q;J5Q=2;for(;J5Q !== 5;){switch(J5Q){case 2:var D9M="no_va";D9M+="l";D9M+="id_Bitrate";var Q1l="no";Q1l+="_val";Q1l+="id_V";Q1l+="MAF";var l7z="no_valid_DelayTa";l7z+="rg";l7z+="e";l7z+="t";B=C?B.zb >= E.kt && B.zb <= E.v4a:B.bitrate >= E.jt && B.bitrate <= E.ty;return (F=F < G && B)?{b4:F}:{b4:F,reason:B?l7z:C?Q1l:D9M};break;}}}function y(B,D,C){var e9p,F,G,E,J,M,L;e9p=2;for(;e9p !== 19;){switch(e9p){case 11:var M6H="fallba";M6H+="ck_no_";M6H+="acceptable_stream";var g2C="below_minInit";g2C+="VideoBit";g2C+="rate";f.Zb(G) && C[E].bitrate < B.jt && (G=u(C[E],B),G.reason=g2C);f.Zb(G) && (G=u(C[0],B),G.reason=M6H);return G;break;case 2:(F=!!B.kt && !!B.v4a && C.every(function(I){var a1f;a1f=2;for(;a1f !== 1;){switch(a1f){case 2:return I.zb && 110 >= I.zb;break;}}}),G=null,E=C.length - 1);e9p=1;break;case 1:e9p=0 <= E && (F?C[E].zb >= B.kt:C[E].bitrate >= B.jt)?5:11;break;case 9:L=x(J,G.Vs,F,M,L,B);J=L.b4;L=L.reason;G.H5=M;e9p=14;break;case 12:E--;e9p=1;break;case 5:J=C[E];G=u(J,B);(M=t(J.bitrate * D.playbackRate,G.Vs,B),L=v(G.Vs,B));e9p=9;break;case 14:e9p=J?11:13;break;case 13:G.reason=L;e9p=12;break;}}}function w(B,D){var Y4A,C,F;Y4A=2;for(;Y4A !== 13;){switch(Y4A){case 8:R7xOY.m_t(5);B=C[R7xOY.N0G(F,1)];C=C[F];Y4A=6;break;case 4:return C[0].d;break;case 5:Y4A=0 === F?4:3;break;case 1:(C=B.J5,F=(0,k.Tu)(C,function(G){var W0T;W0T=2;for(;W0T !== 1;){switch(W0T){case 2:return D <= G.r;break;}}}));Y4A=5;break;case 3:Y4A=-1 === F?9:8;break;case 6:return Math.floor(B.d + (C.d - B.d) * (D - B.r) / (C.r - B.r));break;case 14:return B.Xq;break;case 2:Y4A=B.J5?1:14;break;case 9:return C[C.length - 1].d;break;}}}for(;L8d !== 5;){switch(L8d){case 2:var c4w="1";c4w+="SIYb";c4w+="Z";c4w+="rNJCp9";c4w;return {Epb:function(B,D,C,F){var s7o;s7o=2;for(;s7o !== 5;){switch(s7o){case 2:var W6o="hi";W6o+="s";W6o+="toric";W6o+="al";C=C.first;return C.some(function(G){var q6r;q6r=2;for(;q6r !== 1;){switch(q6r){case 2:return G.ia;break;}}})?z(B,D,C,F):W6o === B.qoa?A(B,D,C,F):B.iR?y(B,D,C,F):z(B,D,C,F);break;}}},Xnb:x};break;}}function A(B,D,C,F){var R_8,G;R_8=2;for(;R_8 !== 7;){switch(R_8){case 2:var V6D="v";V6D+="b";G=g.default.storage.get(V6D);R_8=1;break;case 1:var x8B="n";x8B+="u";x8B+="m";x8B+="be";x8B+="r";R_8=x8B !== typeof G?5:4;break;case 5:return B.iR?y(B,D,C,F):z(B,D,C,F);break;case 4:var n6E="hi";n6E+="s";n6E+="t";n6E+="_bit";n6E+="rate";B=new p();B.dg=(0,k.Hc)(C.slice().reverse(),function(E){var P6r;P6r=2;for(;P6r !== 1;){switch(P6r){case 2:return E.bitrate <= G;break;}}}) || C[0];B.reason=n6E;R_8=8;break;case 8:return B;break;}}}})();r=a.Xnb;b.r$a=a.Epb;b.UMb=r;},72292:function(r,b,a){var z90="de";z90+="f";z90+="au";z90+="l";z90+="t";var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);c.__importStar(a(67841));l=a(16955);b[z90]=function(f){var x0x=R7xOY;var a4v,F,G,E,J,M,L,I,P,K,H,k,d,g,m,h,n,p,q,u,t,w,v,y,x,z,A,B,D,C;a4v=2;for(;a4v !== 50;){switch(a4v){case 29:x0x.C8s(5);G=x0x.A_X(p,g);a4v=28;break;case 41:(w+=P[d],++d,d >= P.length && ++I < k.length && (P=k.xT(I),K=k.jL(I),d=0));a4v=42;break;case 53:a4v=(G=Math.max(p - g,0),G < y && G < F)?52:28;break;case 32:(g=h,w+=P[d],++d,d >= P.length && ++I < k.length && (P=k.xT(I),K=k.jL(I),d=0),G=K[d],h+=G);a4v=33;break;case 11:var C0f=" ";C0f+=">=";C0f+=" fr";C0f+="agmentsLe";C0f+="ngth: ";var p_r="Stre";p_r+="a";p_r+="mingI";p_r+="nde";p_r+="x: ";q >= B && l.console.error(p_r + q + C0f + B);g+=C;0 === p && (g=0);a4v=19;break;case 35:a4v=w < q?34:53;break;case 8:F=0;d=0;G=k.jL(0)[0];x0x.C8s(22);h=x0x.A_X(h,1E3,A,G);x0x.m_t(23);v=x0x.N0G(0,v,8);x0x.C8s(3);E=x0x.A_X(A,1E3);a4v=11;break;case 33:a4v=w < F?32:31;break;case 52:return (f && n.push(G / (A / 1E3)),c.__assign({result:!1,CU:Math.min(G,m) / (A / 1E3),hv:!0},f && ({r2:n})));break;case 23:H--;q=M[J];B=L[J];a4v=35;break;case 25:(J=G[1],M=k.xT(C),L=k.jL(C),I=0,P=k.xT(I),K=k.jL(I),H=B - q);a4v=24;break;case 34:F=Math.max(q,t);a4v=33;break;case 30:return (f && n.push(G / (A / 1E3)),c.__assign({result:!1,CU:G / (A / 1E3),hv:!1},f && ({r2:n})));break;case 28:x0x.m_t(24);g+=x0x.N0G(v,q,0,E);p+=B;a4v=43;break;case 38:J >= M.length && ++C < k.length && (u-=M.length,M=k.xT(C),L=k.jL(C),J=0);f && n.push(G / (A / 1E3));F=G;a4v=54;break;case 27:G=c.__read(k.EIb(q),2);C=G[0];a4v=25;break;case 24:a4v=H?23:51;break;case 9:m=Infinity;a4v=8;break;case 31:a4v=!z && (G=p - g,G < x)?30:29;break;case 2:var A8C="1S";A8C+="I";A8C+="Yb";A8C+="Z";A8C+="rNJCp9";(k=f.EFb,d=f.blocks,g=f.Fd,m=f.Hm,h=f.l1b,n=f.cr,p=f.il,q=f.bf,u=f.dFb,t=f.B3,w=f.fYa,v=f.qb,y=f.YQb,x=f.XB,z=f.ENb);f=f.yCb;A8C;(A=k.S,B=Math.min(k.FFb,d),D=m - g,C=8 * n / v | 0);n=[];a4v=9;break;case 42:a4v=h < g && d < J?41:40;break;case 19:x0x.m_t(3);g*=x0x.N0G(A,1E3);x0x.C8s(3);p*=x0x.A_X(A,1E3);x0x.C8s(3);x*=x0x.N0G(A,1E3);x0x.m_t(3);y*=x0x.N0G(A,1E3);x0x.m_t(3);D*=x0x.N0G(A,1E3);a4v=27;break;case 54:m=Math.min(G,m);a4v=24;break;case 43:w-=q;a4v=42;break;case 39:a4v=J >= u && G > D?51:38;break;case 51:return c.__assign({result:!0,CU:m / (A / 1E3),hv:!0},f && ({r2:n}));break;case 40:++J;a4v=39;break;}}};},90429:function(r,b,a){var l;function c(f,k,d){f=d.first.map(function(g,m){return g.fG?m:null;}).filter(function(g){return null !== g;});return f.length?new l(f[Math.floor(Math.random() * f.length)]):null;}l=a(16955).vn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},27032:function(r,b,a){var l,f,k,d;function c(g,m,h){var n,p;n=h.first;h=this.Hfa;m=m.buffer.il;p="forward" === g.xZb;if(l.ii(h))return (h=p?f(n):f(n,n.length),this.Ifa=m,this.Hfa=h,new d(h));k(n[h]) || (h=f(n,h),this.Ifa=m,this.Hfa=h);if(0 > h)return null;if(m > this.Ifa + g.t3b){g=n.map(function(q,u){return q.fG?u:null;}).filter(function(q){return null !== q;});if(!g.length)return null;p?h=(g.indexOf(h) + 1) % g.length:(h=g.indexOf(h) - 1,0 > h && (h=g.length - 1));this.Hfa=g[h];this.Ifa=m;return new d(g[h]);}return new d(h);}l=a(67841);b=a(16955);f=b.zla;k=b.NL;d=b.vn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},11377:function(r,b,a){var l,f,k,d,g,m;function c(h,n,p){var q;q=p.first;g=q;m=q.map(function(u,t){return t;});if(null === d)return (h=f(q),d=q[h].bitrate,new k(h));if(!q.length)return null;h=m.filter(function(u){return q[u].bitrate == d;})[0];return void 0 === h?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new k(m[0])):new k(h);}b=a(16955);a=a(29736)["default"];l=b.console;f=b.zla;k=b.vn;d=null;g=null;m=null;a.ivb && (a.ivb.gl={va:function(){m=g=d=null;},t$a:function(h){d=h;},Bdc:function(){return {all:g,Gdb:m};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},54327:function(r,b,a){(function(){var q0Z,l,f,k,d;q0Z=2;for(;q0Z !== 6;){switch(q0Z){case 2:l=a(67841);a(54186);f=a(16955);a(29736);q0Z=3;break;case 3:var t10="1SIYbZr";t10+="N";t10+="JC";t10+="p9";var n45="de";n45+="fa";n45+="ult";(k=f.assert,d=f.vn);f=a(69311)[n45];r.exports={STARTING:f.STARTING,BUFFERING:f.BUFFERING,REBUFFERING:f.REBUFFERING,PLAYING:c,PAUSED:c};t10;q0Z=6;break;}}function c(g,m,h,n){var H5r,p;H5r=2;for(;H5r !== 11;){switch(H5r){case 3:R7xOY.m_t(25);var g04=R7xOY.A_X(15,4,14,0,2);n=h.length - g04;H5r=9;break;case 6:return (m.Rh=n,m);break;case 8:p=h[n];H5r=7;break;case 9:H5r=-1 < n?8:13;break;case 14:--n;H5r=9;break;case 13:m.Rh=0;return m;break;case 7:H5r=p.Wb && p.Wb.qb && p.bitrate < p.Wb.qb.Da - g.o3b?6:14;break;case 2:var N4A="play";N4A+="er ";N4A+="missin";N4A+="g fragmentI";N4A+="ndex";var W_I="Must ";W_I+="ha";W_I+="ve at least one selected stre";W_I+="am";k(!l.ii(n),W_I);k(l.tb(m.bf),N4A);m=d(n);h=h.first;H5r=3;break;}}}})();},95032:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LLa=void 0;r=(function(){function a(c){this.qr=[];this.qr.push(c);}Object.defineProperties(a.prototype,{S:{get:function(){return this.qr[0].S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.qr.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{FFb:{get:function(){var c;return null !== (c=this.Anb) && void 0 !== c?c:this.Anb=this.qr.reduce(function(l,f){return l + f.length;},0);},enumerable:!1,configurable:!0}});a.prototype.jL=function(c){return this.qr[c].kf;};a.prototype.xT=function(c){return this.qr[c].sizes;};a.prototype.add=function(c){this.qr.push(c);};a.prototype.EIb=function(c){var f;for(var l=0;0 <= c;){f=this.qr[l];if(c < f.length)break;l++;c-=f.length;}return [l,c];};return a;})();b.LLa=r;},52190:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dea=void 0;c=a(70655);l=a(86393);a(44724);c.__importDefault(a(16955));r=(function(){function f(k,d,g,m){this.kf=k;this.S=g;this.length=Math.min(k.length,d.length);this.wm=d;this.mc=m;}Object.defineProperties(f.prototype,{Ba:{get:function(){return void 0 !== this.mc?this.mc:this.mc=this.Mea();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sizes:{get:function(){return this.wm;},enumerable:!1,configurable:!0}});f.prototype.subarray=function(k,d){return new f(this.kf.subarray(k,d),this.sizes.subarray(k,d),this.S);};f.prototype.concat=function(){var g,m;for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}d=[this];k=d.concat.apply(d,c.__spreadArray([],c.__read(k),!1));d=k.reduce(function(h,n){return h + n.length;},0);g=new Uint32Array(d);m=new Uint32Array(d);d=k[0].S;k.reduce(function(h,n){l.uea.set(g,n.kf,h);l.uea.set(m,n.sizes,h);return h + n.length;},0);return new f(g,m,d);};f.prototype.Mea=function(){for(var k=this.sizes,d=this.length,g=0,m=0;m < d;++m){g+=k[m];}return g;};f.prototype.L1a=function(k){return void 0 === this.bqb?!1:0 < this.bqb[k];};return f;})();b.dea=r;},78069:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.eMa=void 0;r=a(70655);c=r.__importStar(a(67841));l=a(94160);f=r.__importDefault(a(54186));k=r.__importDefault(a(29736));d=a(47571);g=a(34004);m=a(94713);h=new k.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.Cb[d.Cb.Dk],d.Cb[d.Cb.Qe],d.Cb[d.Cb.ul],d.Cb[d.Cb.me],d.Cb[d.Cb.Wh],"checkBuffering"];p=a(11377);q={first:function(){return a(12657);},random:function(){return a(90429);},optimized:function(){return a(69311)["default"];},roundrobin:function(){return a(27032);},selectaudio:function(){return a(13687);},selectaudioadaptive:function(){return a(30331);},"default":function(){return a(69311)["default"];},lowest:function(){return a(24592);},highest:function(){return a(79243);},throughputthreshold:function(){return a(54327);},replay:function(){return a(2134)["default"];},checkdefault:function(){return a(36886);},livesimple:function(){return a(22465)["default"];},testscript:function(){return p;}};u={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};r=(function(){var G59;G59=2;for(;G59 !== 6;){switch(G59){case 3:t.prototype.m4=function(w,v){var U$J,y;U$J=2;for(;U$J !== 3;){switch(U$J){case 2:R7xOY.m_t(26);var e6w=R7xOY.N0G(16,4,2,7);y=w.length - e6w;U$J=1;break;case 1:U$J=0 <= y?5:3;break;case 4:--y;U$J=1;break;case 14:++y;U$J=7;break;case 5:v(w[y],y,w);U$J=4;break;}}};Object.defineProperties(t.prototype,{SL:{get:function(){var D$p;D$p=2;for(;D$p !== 1;){switch(D$p){case 4:return this.Ffa;break;case 2:return this.Ffa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{spa:{get:function(){var e7O;e7O=2;for(;e7O !== 1;){switch(e7O){case 4:return this.Jfa;break;case 2:return this.Jfa;break;}}},enumerable:!1,configurable:!0}});return t;break;case 2:t.prototype.t$a=function(w,v,y,x,z,A,B){var k2s,R,N,T4i,Y,H,D,C,F,G,E,J,M,L,I,K,P;k2s=2;for(;k2s !== 61;){switch(k2s){case 29:R=v.Wb;A=J.wPa;k2s=44;break;case 46:this.ze.T$a(f.default.DZ.Dk);k2s=15;break;case 37:N.ys=z && void 0 !== A && !isNaN(A) && 0 <= A && A < z.length?z.em(A):G.il;N.ASb=R && R.qb && R.qb.Da || 0;N.mSa=G.Hm - G.Fd;k2s=53;break;case 11:0 <= L || (L=P[K - 1].bitrate,P=P[K - 1].zb,L=v.kna(v.first,L,P));k2s=10;break;case 31:var J4m="pl";J4m+="a";J4m+="yi";J4m+="n";J4m+="g";w.state !== d.Cb.me && w.state !== d.Cb.Wh?(z=(0,g.w7a)(w.state),A=this.B2(w.buffer,z,w.playbackRate,v,A),(N.Dm=A.complete)?N.Ptb=A.reason:(N.Dm=!1,N.mN=A.mN,N.Upa=A.Upa,N.progress=A.progress)):(N.Dm=!0,N.Ptb=J4m);k2s=30;break;case 15:void 0 !== x && this.L7a(v,w.state,w.buffer,x);N=this.JNa[d.Cb[w.state]].call(this,J,w,v,L,x,!!z,I,y);N.Bg=w.state;k2s=25;break;case 18:T4i=w.state;k2s=T4i === d.Cb.Dk?17:47;break;case 43:Y=[];A.forEach(function(ma){var N2B,ia;N2B=2;for(;N2B !== 4;){switch(N2B){case 2:ia=ma.stat;ia=(ma=R[ma.filter]) && ma[ia];Y.push(isNaN(ia)?-1:ia);N2B=4;break;}}});k2s=41;break;case 13:H=P[K - 1].Tb;L=(0,l.Tu)(M,function(ma){var H7S;H7S=2;for(;H7S !== 1;){switch(H7S){case 2:return ma.Tb === H;break;}}});k2s=11;break;case 16:this.ze.T$a(f.default.DZ.Dk);k2s=15;break;case 19:w.state !== d.Cb.Dk && void 0 === L && (w.state=d.Cb.Dk);k2s=18;break;case 53:N.aub=G.ro;N.pVb=null !== (F=null === (C=null === (D=k.default.zdc) || void 0 === D?void 0:D.call(k.default)) || void 0 === C?void 0:C[w.mediaType === d.v.X?1:0]) && void 0 !== F?F:-1;N.bk=w && w.bk;k2s=50;break;case 10:c.ii(L) && (L=this.ze.Q2a);w.state === d.Cb.Dk && c.tb(L) && (w.state=d.Cb.Qe);k2s=19;break;case 22:void 0 === N.$Qb?this.ze.JW(N.Rh):this.ze.JW(N.$Qb);v=M[N.Rh];N.PV=v.qb || 0;k2s=34;break;case 30:k2s=w.xS?29:48;break;case 17:this.Jfa=this.Ffa=void 0;k2s=16;break;case 49:N.JC=k.default.time.Ga();k2s=48;break;case 23:return null;break;case 50:N.Ar=E;k2s=49;break;case 2:(G=null === w || void 0 === w?void 0:w.buffer,E=k.default.time.Ga(),J=this.Y,M=v.first,L=this.ze.Q2a,I=!1);c.tb(L) && w.state === d.Cb.Dk && (this.ze.JW(void 0),L=void 0);c.tb(L) && L >= M.length && (this.ze.JW(void 0),L=void 0);k2s=4;break;case 7:P=G.Ka;K=P.length;k2s=14;break;case 4:k2s=c.ii(L) && w.state === d.Cb.me && (I=!0,void 0 !== this.ze.Yn)?3:7;break;case 24:k2s=!N || null === N.Rh?23:22;break;case 65:k2s=T4i === d.Cb.me?15:64;break;case 62:var w_G="Stream selecto";w_G+="r called ";w_G+="with invalid player sta";w_G+="te ";return (h.error(w_G + d.Cb[w.state]),null);break;case 41:N.KVb=Y;k2s=40;break;case 3:P=this.ze.Yn.zb;L=v.kna(v.first,this.ze.Yn.bitrate,P);k2s=8;break;case 14:k2s=0 < K?13:10;break;case 40:N.il=G.il;A=w && w.bf;z=v.Ka;k2s=37;break;case 47:k2s=T4i === d.Cb.Qe?46:45;break;case 44:k2s=R && A && 0 < A.length?43:40;break;case 25:N.dg && (N.cF=[],v.mFb(function(ma,ia){var G5Z;G5Z=2;for(;G5Z !== 5;){switch(G5Z){case 2:ma === N.dg?N.Rh=ia:(ma.owa || J.wCb && (!ma.Ka || !ma.Ka.length)) && N.cF.push(ma.Tb);ma.owa=!1;G5Z=5;break;}}}),!N.cF.length && J.o1b && G.Hm - G.Fd > J.l7 && !N.dg.ia && (v=void 0,y=N.Rh + 1,y=y < M.length?M[y]:void 0,x=N.Rh - 1,x=0 <= x?M[x]:void 0,!y || y.Ka && y.Ka.length?!x || x.Ka && x.Ka.length || (v=x):v=y,v && N.cF.push(v.Tb)),N.cF.length || (N.cF=void 0));k2s=24;break;case 64:k2s=T4i === d.Cb.Wh?15:63;break;case 34:var s9x="min_";s9x+="f";s9x+="ragment_vm";s9x+="af";N.reason && (v.Ft=N.reason,s9x !== N.reason && (v.g_b=N.Vs,v.H5=N.H5,v.rB=N.rB,v.sB=N.sB));this.K6a && (N.Gv=this.K6a.JIb({HE:G.Hm - G.Fd,Stb:G.ro || 0,Rtb:G.ME || 0,Fd:G.Fd,wPb:M[0],dg:v,u5b:M[N.Rh + 1] || v,K3b:M[M.length - 1],Bg:w.state,playbackRate:w.playbackRate,bf:w.bf,r4:B,ko:z}));c.tb(L) && v.bitrate < M[L].bitrate && (this.Ffa=G.il);k2s=31;break;case 8:this.ze.JW(L);k2s=7;break;case 45:k2s=T4i === d.Cb.ul?46:65;break;case 63:k2s=62;break;case 48:return N;break;}}};t.prototype.B2=function(w,v,y,x,z){var V_O;V_O=2;for(;V_O !== 1;){switch(V_O){case 2:return this.JNa.checkBuffering.call(this,w,v,y,x,z,this.Y);break;}}};t.prototype.b2b=function(w,v,y){var R02;R02=2;for(;R02 !== 1;){switch(R02){case 2:c.ii(v)?this.Ffa=this.Jfa=void 0:v.bitrate < y.bitrate && (this.Jfa=w);R02=1;break;}}};t.prototype.L7a=function(w,v,y,x){var y01,z,A,B;y01=2;for(;y01 !== 5;){switch(y01){case 2:z=this;w.Jla(function(D){var U9Z;U9Z=2;for(;U9Z !== 1;){switch(U9Z){case 2:z.m4(D,function(C){var v9t;v9t=2;for(;v9t !== 1;){switch(v9t){case 2:C.fG && C.Wb && C.Wb.confidence?(A !== C.Wb && (A=C.Wb,B=x(C.Wb,y,v,C.track.pa.bM[d.v.fa])),C.qb=Math.floor(B.lower) || 1,C.q3b=Math.floor(B.upper || 1) || 1):C.qb=void 0;v9t=1;break;}}});U9Z=1;break;}}});y01=5;break;}}};G59=3;break;}}function t(w,v,y,x){var b$M,z,A;b$M=2;for(;b$M !== 6;){switch(b$M){case 8:this.JNa=n.reduce(function(B,D){var e5X,C;e5X=2;for(;e5X !== 4;){switch(e5X){case 2:C=(q[w] || q[u[D]])()[D] || q[u[D]]()[D];B[D]=C.bind(z);return B;break;}}},{});x && (this.K6a=new m.lIa(v,null === (A=y.track) || void 0 === A?void 0:A.mediaType));b$M=6;break;case 1:var D0E="1";D0E+="S";D0E+="IYb";D0E+="ZrNJC";D0E+="p9";this.m_b=w;this.Y=v;this.ze=y;D0E;w=w || this.Y.obb;b$M=8;break;case 2:z=this;b$M=1;break;}}}})();b.eMa=r;},2338:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lea=void 0;c=a(94160);l=a(16955);r=(function(){function f(){this.i1=[];}Object.defineProperties(f.prototype,{first:{get:function(){var k;return null === (k=this.i1[0]) || void 0 === k?void 0:k.Fg;},enumerable:!1,configurable:!0}});f.prototype.Uga=function(k){this.i1.push({Fg:k});};f.prototype.Jla=function(k){this.i1.forEach(function(d,g){return k(d.Fg,g);});};f.prototype.mFb=function(k){this.Jla(function(d){d.forEach(function(g,m){return k(g,m);});});};f.prototype.w_a=function(k,d,g){var m,h,n,p,q,u,t;m=this;h=g;n=d;p=0;q=[];d=this.first[k];u=d.zb;t=d.bitrate;this.i1.forEach(function(w,v){var y,x;w=w.Fg;0 >= h || (v=(0,l.jK)(0 === v?k:m.kna(w,t,u),0,w.length - 1),v=w[v],w=null === (y=v.Ka) || void 0 === y?void 0:y.vja(n,h),y=null !== (x=null === w || void 0 === w?void 0:w.blocks) && void 0 !== x?x:0,p+=y,q.push({stream:v,blocks:y,bf:n}),null === w || void 0 === w?!0:!w.Uta) || (n=0,h-=w.Uta);});return {lbb:q,wcb:p};};f.prototype.kna=function(k,d,g){var m;m=(0,c.Tu)(k,function(h){return g && h.zb?h.zb > g:h.bitrate > d;});return 0 < m?m - 1:0 === m?0:k.length - 1;};return f;})();b.lea=r;},54059:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hMa=void 0;c=a(70655);r=(function(){function l(f,k){this.V=f;this.gb=k;this.swa=!1;}l.prototype.HYb=function(f){this.sf(f.message,void 0,c.__assign(c.__assign({},f.Rka),{err:f.toString()}));};l.prototype.sf=function(f,k,d){void 0 === k && (k=void 0);void 0 === d && (d={});this.swa || (d.temporaryFailure || (this.swa=!0),f=c.__assign({type:"error",error:null !== k && void 0 !== k?k:"NFErr_MC_StreamingFailure",errormsg:f,temporaryFailure:!1},d),this.V.error("notifyStreamingError:",f),this.gb.emit("error",f));};l.prototype.Rq=function(){return this.swa;};return l;})();b.hMa=r;},94475:function(r,b,a){var l,f,k,d;function c(g){return function(){for(var m=Array(this.length),h=0;h < this.length;++h){m[h]=g.call(this,h);}return m;};}Object.defineProperties(b,{__esModule:{value:!0}});b.hsb=b.vv=b.sea=b.GMa=void 0;r=a(70655);l=a(94160);f=a(44724);k=new (r.__importDefault(a(29736)).default.Console)("FRAGMENTS","media|asejs");d=(function(){function g(m,h){this.Gc=m;this.ae=h;}Object.defineProperties(g.prototype,{index:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{La:{get:function(){return new l.N(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ab:{get:function(){return new l.N(this.rb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ue:{get:function(){return new l.N(this.SA,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ob:{get:function(){return this.Gc.f1 + this.Gc.iA[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rb:{get:function(){return this.ob + this.Gc.mq[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{SA:{get:function(){return this.Gc.mq[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.Gc.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.Gc.S;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.ob / this.ca.S,endPts:1E3 * this.rb / this.ca.S,duration:1E3 * this.SA / this.ca.S,index:this.index};};return g;})();b.GMa=d;a=(function(){function g(m,h,n,p){this.mediaType=m;this.length=n.kf.length;this.fb=n.S;this.mq=n.kf;this.I1=p && p.LM;this.NQa=p && p.sN;this.vJ=h;this.ixa=this.jxa=this.LOa=void 0;this.f1=n.ur;this.iA=new Uint32Array(this.length + 1);if(this.length){for(h=m=0;h < this.length;++h){this.iA[h]=m;m+=this.mq[h];}this.iA[h]=m;this.Hea=Math.floor((this.lf - this.bb) / this.length);}}Object.defineProperties(g.prototype,{ur:{get:function(){return this.$ab(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Lka:{get:function(){return this.$ab(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bb:{get:function(){return this.em(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lf:{get:function(){return this.em(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mf:{get:function(){return new l.N(this.Lka,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lqa:{get:function(){return this.LOa || this.Nmb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.vJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});g.prototype.$ab=function(m){return this.f1 + this.iA[m];};g.prototype.em=function(m){return Math.floor(1E3 * (this.f1 + this.iA[m]) / this.S);};g.prototype.CS=function(m){return this.em(m + 1);};g.prototype.kf=function(m){return this.CS(m) - this.em(m);};g.prototype.get=function(m){return new d(this,m);};g.prototype.Sx=function(m,h,n){if(0 === this.length || m < this.em(0))return -1;m=Math.max(m,h || 0);for(var p=0,q=this.length - 1,u,t;q >= p;){if((u=p + (q - p >> 1),t=this.em(u),m < t))q=u - 1;else if(m >= t + this.kf(u))p=u + 1;else {for(;h && u < this.length && this.em(u) < h;){++u;}return u < this.length?u:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.qla=function(m,h,n){m=this.Sx(m,h,n);return 0 <= m?this.get(m):void 0;};g.prototype.vja=function(m,h){var n,p,q;n=Math.floor(h * this.S / 1E3);p=Math.min(m + Math.ceil(h / this.Hea),this.length);q=this.iA[p] - this.iA[m];if(q >= n){for(;q >= n;){--p;q-=this.mq[p];}return {blocks:Math.max(p - m + 1,0),Uta:0};}for(;q < n && p <= this.length;){h-=q || 0;q+=this.mq[p];++p;}return {blocks:Math.max(p - m - 1,0),Uta:h};};g.prototype.subarray=function(m,h){(0,f.assert)(void 0 === m || 0 <= m && m < this.length);(0,f.assert)(void 0 === h || h > m && h <= this.length);return new g(this.mediaType,this.ca,{S:this.S,ur:this.f1 + this.iA[m],kf:this.mq.subarray(m,h)},this.I1 && ({LM:this.I1.subarray(m,h + 1),sN:this.NQa}));};g.prototype.forEach=function(m){for(var h=0;h < this.length;++h){m(this.get(h),h,this);}};g.prototype.map=function(m){for(var h=[],n=0;n < this.length;++n){h.push(m(this.get(n),n,this));}return h;};g.prototype.reduce=function(m,h){for(var n=0;n < this.length;++n){h=m(h,this.get(n),n,this);}return h;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Hea};};g.prototype.dump=function(){var h;k.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Hea + "ms");for(var m=0;m < this.length;++m){h=this.get(m);k.trace(("TrackFragments: ").concat(m,": [").concat(h.La.G,"-").concat(h.ab.G,"]"));}};g.prototype.Nmb=function(){for(var m=0,h=0;h < this.length;h++){m=Math.max(this.mq[h],m);}return this.LOa=m;};return g;})();b.sea=a;b.vv=c;c(a.prototype.em);c(a.prototype.CS);c(a.prototype.kf);b.hsb=function(g){return ("[").concat(Array(g.length).map(function(m,h){return g[h].toString();}).join(","),"]");};},63050:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YP=void 0;r=(function(){function a(c){this.CPa=c;}Object.defineProperties(a.prototype,{IL:{get:function(){return this.Vnb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.CPa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pZb:{get:function(){var c;c=this;return this.CPa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Vnb=!0;};a.prototype.GG=function(c,l){var f;f=this;this.result.then(function(k){f.IL?l && l(k):c(k);});return this;};return a;})();b.YP=r;},47130:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52745:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},44724:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(70655);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){var d;if(!f){d=new l(k || "Assertion failed");a(69565).$p.V.error("Assertion failed",{value:f,message:k,stack:d.stack});throw d;}};},73856:function(r){function b(a,c,l){this.NJ=a;this.pj=Math.floor((a + c - 1) / c);this.Ad=c;this.rpb=l;this.reset();}b.prototype.shift=function(){this.Bd.shift();this.Eh.shift();};b.prototype.update=function(a,c){this.Bd[a]+=c;};b.prototype.push=function(a){this.Bd.push(0);this.Eh.push(a?a:0);this.jb+=this.Ad;};b.prototype.add=function(a,c,l,f){var k,d;if(null === this.jb){k=Math.max(Math.floor((l - c + this.Ad - 1) / this.Ad),1);for(this.jb=c;this.Bd.length < k;){this.push(f);}}for(;this.jb < l;){if((this.push(f),this.rpb))for(;1 < this.Bd.length && l + f - (this.jb - this.Ad * this.Bd.length + this.Eh[0]) > this.NJ;){this.shift();}else this.Bd.length > this.pj && this.shift();}if(c > this.jb - this.Ad)this.update(this.Bd.length - 1,a);else if(c == l)(f=this.Bd.length - Math.max(Math.ceil((this.jb - l) / this.Ad),1),0 <= f && this.update(f,a));else for(f=1;f <= this.Bd.length;++f){k=this.jb - f * this.Ad;d=k + this.Ad;if(!(k > l)){if(d < c)break;this.update(this.Bd.length - f,Math.round(a * (Math.min(d,l) - Math.max(k,c)) / (l - c)));}}for(;this.Bd.length > this.pj;){this.shift();}};b.prototype.reset=function(){this.Bd=[];this.Eh=[];this.jb=null;};b.prototype.setInterval=function(a){this.pj=Math.floor((a + this.Ad - 1) / this.Ad);};r.exports=b;},34004:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.w7a=void 0;c=a(47571);b.w7a=function(l){switch(l){case c.Cb.Qe:l=c.Yc.Qe;break;case c.Cb.ul:l=c.Yc.ul;break;case c.Cb.Dk:case c.Cb.Tr:case c.Cb.N_:l=c.Yc.Tr;break;default:l=c.Yc.qm;}return l;};},51472:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.SO=void 0;b.SO=(function(){function a(){}a.P5=function(c,l){var d;function f(g){return k(d++)(g,f);}function k(g){return g >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(g));}:l[g];}d=0;return f(c);};return a;})();},79906:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.U_=void 0;r=a(28075);c=a(94160);a=a(40885);l=(function(){function f(k){void 0 === k && (k={hi:!1,currentTime:c.N.Ia,speed:1});this.Sa={hi:function(){return "function" === typeof k.hi?k.hi():k.hi;},currentTime:function(){return "function" === typeof k.currentTime?k.currentTime():k.currentTime;},speed:function(){return "function" === typeof k.speed?k.speed():k.speed;}};}Object.defineProperties(f.prototype,{hi:{get:function(){return this.Sa.hi();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.Sa.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){return this.Sa.speed();},enumerable:!1,configurable:!0}});return f;})();b.U_=l;(0,a.wk)(r.EventEmitter,l);},91932:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mVa=void 0;b.mVa=function(a){return JSON.parse(JSON.stringify(a));};},22084:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.VAa=void 0;c=a(70655);a(44724);r=(function(){function l(f,k){this.$c=f;this.lJ=k;this.$w();}Object.defineProperties(l.prototype,{length:{get:function(){return this.Zz;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.Zz;},enumerable:!1,configurable:!0}});l.prototype.XFb=function(){return this.wJ && this.wJ.get(0);};l.prototype.ltb=function(){return this.jJ && this.jJ.get(this.jJ.length - 1);};l.prototype.get=function(f){0 > f && (f+=this.length);for(var k=0;k < this.$c.length;++k){if(this.Eh[k + 1] > f)return this.$c[k].get(f - this.Eh[k]);}};l.prototype.push=function(f){this.$c[this.lJ(f)].push(f);this.$w();return this.Zz;};l.prototype.shift=function(){var f;if(this.wJ){f=this.wJ.shift();this.$w();return f;}};l.prototype.pop=function(){var f;if(this.jJ){f=this.jJ.pop();this.$w();return f;}};l.prototype.unshift=function(f){this.$c[this.lJ(f)].unshift(f);this.$w();return this.Zz;};l.prototype.Ws=function(f){var k;k=this.lJ(f);this.$c[k].Ws(f);this.$w();};l.prototype.remove=function(f){var k;k=this.$c.some(function(d){return d.remove(f);});k && this.$w();return k;};l.prototype.splice=function(f,k){var q,u,t,w;for(var d,g=[],m=2;m < arguments.length;m++){g[m - 2]=arguments[m];}m=[];for(var h,n=f + Math.max(0,k),p=0;p < this.$c.length;++p){q=this.$c[p];u=this.Eh[p];t=this.Eh[p + 1];if(f < t){w=f - u;u=Math.min(n - u,q.length);void 0 === h && 0 < w && u < q.length?Array.prototype.push.apply(m,q.splice.apply(q,c.__spreadArray([w,u - w],c.__read(g),!1))):(Array.prototype.push.apply(m,q.splice(w,u - w)),void 0 === h && (h=0 < p && 0 === w?p - 1:p));f=t;if(f >= n)break;}}if(g.length && void 0 !== h){for(n=this.lJ(g[0]);0 < h && n < h && this.$c[h].empty;){--h;}for(;g.length && n === h;){this.$c[h].push(g.shift());if(!g.length)break;n=this.lJ(g[0]);}for(;g.length && ++h < this.$c.length && this.$c[h].empty;){for(;g.length && n === h;){this.$c[h].push(g.shift());if(!g.length)break;n=this.lJ(g[0]);}}g.length && (d=this.$c[h]).splice.apply(d,c.__spreadArray([0,0],c.__read(g),!1));}this.$w();return m;};l.prototype.find=function(f){var k,d;k=this;return this.$c.some(function(g,m){d=g.find(k.lA(f,m));return void 0 !== d;})?d:void 0;};l.prototype.findIndex=function(f){var d;for(var k=0;k < this.$c.length;++k){d=this.$c[k].findIndex(this.lA(f,k));if(-1 !== d)return d + this.Eh[k];}return -1;};l.prototype.indexOf=function(f){var d;for(var k=0;k < this.$c.length;++k){d=this.$c[k].indexOf(f);if(-1 !== d)return d + this.Eh[k];}return -1;};l.prototype.map=function(f){var k,d;k=this;d=this.$c.map(function(g,m){return g.map(k.lA(f,m));});return Array.prototype.concat.apply([],d);};l.prototype.reduce=function(f,k){var d;d=this;return this.$c.reduce(function(g,m,h){return m.reduce(d.jqb(f,h),g);},k);};l.prototype.forEach=function(f){var k;k=this;this.$c.forEach(function(d,g){d.forEach(k.lA(f,g));});};l.prototype.m4=function(f){for(var k=this.$c.length - 1;0 <= k;--k){this.$c[k].m4(this.lA(f,k));}};l.prototype.some=function(f){var k;k=this;return this.$c.some(function(d,g){return d.some(k.lA(f,g));});};l.prototype.$va=function(f){for(var k=this.$c.length - 1;0 <= k;--k){if(this.$c[k].$va(this.lA(f,k)))return !0;}return !1;};l.prototype.every=function(f){var k;k=this;return this.$c.every(function(d,g){return d.every(k.lA(f,g));});};l.prototype.lFb=function(f,k){var n,p;function d(q){return q.reduce(function(u,t,w,v){return void 0 === t?u:void 0 === u?w:0 > f(t,v[u])?w:u;},void 0);}for(var g=this,m=this.$c.map(function(){return 0;}),h=this.$c.filter(function(q){return q.empty;}).length;h < this.$c.length;){n=m.map(function(q,u){return q < g.$c[u].length?g.$c[u].get(q):void 0;});p=d(n);k(n[p],this.Eh[p] + m[p],this);++m[p];m[p] === this.$c[p].length && ++h;}};l.prototype.move=function(f){return this.remove(f)?(this.Ws(f),!0):!1;};l.prototype.F0b=function(){var f;if(this.$c[1].length){f=this.$c[1].shift();this.$c[0].push(f);this.$w();}};l.prototype.zXa=function(f){for(var k=-1,d=0;d < this.$c.length;++d){if((k=f(this.$c[d]),-1 !== k)){k+=this.Eh[d];break;}}return k;};l.prototype.toJSON=function(){return this.map(function(f){return f.toJSON();});};l.prototype.$w=function(){var k;this.Zz=0;this.Eh=[0];this.jJ=this.wJ=void 0;for(var f=0;f < this.$c.length;++f){k=this.$c[f];this.Zz+=k.length;this.Eh.push(this.Eh[this.Eh.length - 1] + k.length);!this.wJ && k.length && (this.wJ=k);k.length && (this.jJ=k);}};l.prototype.lA=function(f,k){var d,g;d=this;g=this.Eh[k];return function(m,h){return f(m,g + h,d);};};l.prototype.jqb=function(f,k){var d,g;d=this;g=this.Eh[k];return function(m,h,n){return f(m,h,g + n,d);};};return l;})();b.VAa=r;},81989:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.NTa=void 0;c=a(70655);l=a(95994);f=a(44724);b.NTa=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}l.K && (0,f.assert)(k.length);return function(g,m){var h,q,u;try{for(var n=c.__values(k),p=n.next();!p.done;p=n.next()){q=p.value;u=q(g,m);if(0 !== u)return u;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (h=n.return) && h.call(n);}finally{if(t)throw t.error;}}return 0;};};},29374:function(r){function b(a){this.qQ=a;this.Jb=0;this.IJ=null;}b.prototype.add=function(a,c,l){null !== this.IJ && c > this.IJ && (this.Jb+=c - this.IJ,this.IJ=null);this.qQ.add(a,c - this.Jb,l - this.Jb,this.Jb);};b.prototype.stop=function(a){null === this.IJ && (this.IJ=a);};b.prototype.get=function(){return this.qQ.get();};b.prototype.reset=function(){this.qQ.reset();};b.prototype.toString=function(){return this.qQ.toString();};r.exports=b;},24068:function(r,b,a){function c(l,f){this.NJ=l;this.pj=Math.floor((l + f - 1) / f);this.Ad=f;this.reset();}a(44724);c.prototype.shift=function(){this.Bd.shift();this.Hu.shift();};c.prototype.pt=function(l){return this.vSa(this.Bd[l],l);};c.prototype.update=function(l,f){this.Bd[l]=(this.Bd[l] || 0) + f;};c.prototype.push=function(){this.Bd.push(0);this.Hu.push(0);this.jb+=this.Ad;};c.prototype.add=function(l,f,k){var d,g,m;if(null === this.jb){d=Math.max(Math.floor((k - f + this.Ad - 1) / this.Ad),1);for(this.jb=f;this.Bd.length < d;){this.push();}}for(;this.jb <= k;){this.push();this.Bd.length > this.pj && this.shift();}if(null === this.wn || f < this.wn)this.wn=f;if(f > this.jb - this.Ad)this.update(this.Bd.length - 1,l);else if(f == k)(d=this.Bd.length - Math.max(Math.ceil((this.jb - k) / this.Ad),1),0 <= d && this.update(d,l));else for(d=1;d <= this.Bd.length;++d){g=this.jb - d * this.Ad;m=g + this.Ad;if(!(g > k)){if(m < f)break;this.update(this.Bd.length - d,Math.round(l * (Math.min(m,k) - Math.max(g,f)) / (k - f)));}}for(;this.Bd.length > this.pj;){this.shift();}};c.prototype.start=function(l){null === this.wn && (this.wn=l);null === this.jb && (this.jb=l);};c.prototype.stop=function(l){var f,k;if(null !== this.jb)if(l - this.jb > 10 * this.NJ)this.reset();else {for(;this.jb <= l;){this.push();this.Bd.length > this.pj && this.shift();}f=this.Bd.length - Math.ceil((this.jb - this.wn) / this.Ad);k=this.Bd.length - Math.ceil((this.jb - l) / this.Ad);if(0 <= k)if((0 > f && (this.wn=this.jb - this.Ad * this.Bd.length,f=0),f === k))this.Hu[f]+=l - this.wn;else if(k > f)for((this.Hu[f]+=(this.jb - this.wn) % this.Ad,this.Hu[k]+=this.Ad - (this.jb - l) % this.Ad,l=f + 1);l < k;++l){this.Hu[l]=this.Ad;}this.wn=null;}};c.prototype.vSa=function(l,f){f=this.Xla(f);return 0 === f?null:8 * l / f;};c.prototype.Xla=function(l){var f;f=this.Hu[l];null !== this.wn && (l=this.jb - (this.Bd.length - l - 1) * this.Ad,l > this.wn && (f=l - this.wn <= this.Ad?f + (l - this.wn):this.Ad));return f;};c.prototype.get=function(l,f){var k,d;k=this.Bd.map(this.vSa,this);if("last" === l)for(l=0;l < k.length;++l){null === k[l] && (k[l]=0 < l?k[l - 1]:0);}else if("average" === l){f=1 - Math.pow(.5,1 / ((f || 2E3) / this.Ad));for(l=0;l < k.length;++l){null === k[l]?k[l]=Math.floor(d || 0):d=void 0 !== d?f * k[l] + (1 - f) * d:k[l];}}return k;};c.prototype.reset=function(){this.fbc || (this.Bd=[],this.Hu=[],this.wn=this.jb=null);};c.prototype.setInterval=function(l){this.pj=Math.floor((l + this.Ad - 1) / this.Ad);};r.exports=c;},54907:function(r,b,a){var l;function c(f,k,d){var g,h,n;if(f === k || !d.fm && f == k)return !0;if(typeof f !== typeof k)return !1;if(f && "object" === typeof f){for(var m in f){if(!c(f[m],k[m],d))return !1;}if(!d.uvb){h=Object.keys(f);n=Object.keys(k).filter(function(t){return 0 > h.indexOf(t);});try{for(var p=l.__values(n),q=p.next();!q.done;q=p.next()){if((m=q.value,!c(f[m],k[m],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.l3=void 0;l=a(70655);b.l3=function(f,k,d){void 0 === d && (d={});d=l.__assign({fm:!1,uvb:!1},d);return c(f,k,d);};},7670:function(r,b){function a(c){var l,f;l=Math.abs(c);f=1 / (1 + l / 2);l=f * Math.exp(-l * l - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));return 0 <= c?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.CDb=b.G0a=b.RK=void 0;b.RK=a;b.G0a=function(c){var l,f,d;if(2 <= c)return -100;if(0 >= c)return 100;l=1 > c?c:2 - c;f=Math.sqrt(-2 * Math.log(l / 2));f=-.70711 * ((2.30753 + .27061 * f) / (1 + f * (.99229 + .04481 * f)) - f);for(var k=0;2 > k;k++){d=a(f) - l;f+=d / (1.1283791670955126 * Math.exp(-(f * f)) - f * d);}return 1 > c?f:-f;};b.CDb=function(c){return 1 - a(c);};},3346:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.NCa=void 0;c=a(70655);r=(function(){function f(k,d){void 0 === d && (d={});this.Ln=k;this.options=d;this.qF=[];this.$F=new l(k,this.Vqb.bind(this));}f.prototype.Vqb=function(k){for(var d,g,m,h,n,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={Eq:k,sq:q};(null !== (m=null === (g=(d=this.options).S0b) || void 0 === g?void 0:g.call(d,q,this.qF)) && void 0 !== m?m:1) && this.qF.push(q);return null !== (p=null === (n=(h=this.options).qgc) || void 0 === n?void 0:n.call(h,q)) && void 0 !== p?p:!0;};f.prototype.c9=function(k){this.qF=this.qF.filter(function(d,g){return !k(d,g);});};f.prototype.bua=function(){var k;k=this;this.$F.lxa();this.qF.forEach(function(d){var g;(g=k.Ln).emit.apply(g,c.__spreadArray([d.Eq],c.__read(d.sq),!1));});this.$F.r1a();};Object.defineProperties(f.prototype,{length:{get:function(){return this.qF.length;},enumerable:!1,configurable:!0}});f.prototype.clear=function(){this.qF=[];};f.prototype.Pa=function(){this.clear();this.$F.lxa();this.options=void 0;};return f;})();b.NCa=r;l=(function(){function f(k,d){this.Ln=k;this.ws=d;this.u6a=this.Ln.emit;this.dzb();this.r1a();}f.prototype.dzb=function(){var k;k=this;this.$F=function(d){for(var g,m,h=[],n=1;n < arguments.length;n++){h[n - 1]=arguments[n];}return (null === (m=k.ws) || void 0 === m?0:m.call.apply(m,c.__spreadArray([k,d],c.__read(h),!1)))?(g=k.u6a).call.apply(g,c.__spreadArray([k.Ln,d],c.__read(h),!1)):!1;};};f.prototype.r1a=function(){this.$F && (this.Ln.emit=this.$F);};f.prototype.lxa=function(){this.Ln.emit=this.u6a;};f.prototype.Pa=function(){this.lxa();this.ws=this.$F=void 0;};return f;})();},68710:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(7670);r=(function(){function l(f,k){this.Da=f;this.Zd=k;}l.prototype.JSa=function(f){return .5 * (0,c.RK)(-(f - this.Da) / Math.sqrt(2 * this.Zd));};l.prototype.Kv=function(f){return this.Da - Math.sqrt(2 * this.Zd) * (0,c.G0a)(2 * f);};return l;})();b["default"]=r;},38761:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.j5=void 0;b.j5=function(a){return ("( ").concat(a.I,", ").concat(a.offset.mb()," )");};},18934:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Fx=void 0;c=a(70655);l=a(94160);b.Fx=function(f,k,d,g){var m,h,n,u,t,w;void 0 === g && (g={});n=l.N.max(d,l.N.Ia);try{for(var p=c.__values(Object.keys(f.M)),q=p.next();!q.done;q=p.next()){u=q.value;t=f.M[u];if(t.J === k){w=l.N.Ma(t.sa);if(n.gi(w) && (!isFinite(null !== (h=t.ta) && void 0 !== h?h:NaN) || n.lessThan(l.N.Ma(t.ta))))return {I:u,offset:d.wa(w)};}}}catch(y){var v;v={error:y};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(v)throw v.error;}}if(g.k$a && (t=Object.keys(f.M).map(function(y){return {key:y,u:f.M[y]};}).filter(function(y){return y.u.J === k;}).map(function(y){var x,z;x=l.N.abs(d.wa(l.N.Ma(y.u.sa)));if(y.u.ta && isFinite(y.u.ta)){z=l.N.abs(d.wa(l.N.Ma(y.u.ta)));x=l.N.min(x,z);}return c.__assign(c.__assign({},y),{Jn:x});}),t.sort(function(y,x){return y.Jn.G - x.Jn.G;}),w=c.__read(t,1)[0]))return (t=w.u,g=w.key,w=l.N.Ma(t.sa),{I:g,offset:d.wa(w)});};},74005:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hlb=b.gDa=void 0;r=a(70655);r.__exportStar(a(312),b);r.__exportStar(a(28330),b);r.__exportStar(a(17039),b);r.__exportStar(a(84144),b);r.__exportStar(a(91932),b);r.__exportStar(a(54907),b);r.__exportStar(a(80657),b);r.__exportStar(a(37481),b);r.__exportStar(a(35269),b);c=r.__importDefault(a(68710));b.gDa=c.default;a=r.__importDefault(a(41176));b.hlb=a.default;},9133:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.b_=void 0;c=a(7670);r=(function(){function l(f,k){this.Tqa=f;this.Zd=k;0 < k?(this.F2a=k=Math.pow(f,3) / k,f=2 * k / f,500 >= f && (this.ela=Math.exp(f))):this.ela=0;}l.prototype.JSa=function(f){var k,d,g;k=this.Tqa;d=this.ela;if(d && 0 < f){g=Math.sqrt(this.F2a / (2 * f));k=f / k;f=(0,c.RK)(g * (k - 1));g=(0,c.RK)(g * (k + 1));return Math.max((2 - f + d * g) / 2,0);}return f < k?0:f > k?1:.5;};l.prototype.Kv=function(f,k,d){for(var g=0,m=this.Tqa + 5 * Math.sqrt(this.Zd),h=1,n=0;Math.abs(h) > k && d--;){n=(g + m) / 2;h=this.JSa(n);h=f - h;0 > h?m=n:g=n;}return n;};l.prototype.avb=function(f){var k,d,g,m;k=this.Tqa;d=this.ela;if(d && 0 < f){g=Math.sqrt(this.F2a / (2 * f));m=f / k;f=2 - (0,c.RK)(g * (m - 1));d*=(0,c.RK)(g * (m + 1));return [Math.max((f + d) / 2,0),Math.max(k * (f - d) / 2,0)];}return f < k?[0,0]:f > k?[1,k]:[.5,k / 2];};return l;})();b.b_=r;},29083:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K2a=void 0;b.K2a=function(a){var c,l;c=a.next();do {if(!c.done)l=c.value;c=a.next();}while(!c.done);return l;};},35269:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$pa=void 0;b.$pa=function(a){var c,l,f,k,d,g;g=null === (c=a.u) || void 0 === c?void 0:c.id;return {bb:null === (l=a.Bb) || void 0 === l?void 0:l.G,duration:(null === (f=a.Lb) || void 0 === f?NaN:f.G) - (null === (k=a.Bb) || void 0 === k?NaN:k.G),offset:a.offset,Ba:a.Ba,bitrate:a.bitrate,profile:a.profile,Me:!!a.Me,I:g,Tb:a.Tb,Pc:a.Pc,location:a.location,Si:a.Si,ys:null === (d=a.La) || void 0 === d?void 0:d.G,qt:{yb:{u:{id:g || "unknown"}}}};};},82922:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pSa=void 0;c=a(94522);l=a(59151);b.pSa=function(){return function(f){var g,m,h,n;function k(p){n[p]=function(q){return m({rules:[{Ij:p,config:q}]},!0);};}function d(p){g[p]=function(q){return m({rules:[{Ij:p,config:q}]});};}g={};m=(0,c.map)(f.V3a);for(h in f.qN){d(h);}g.O7=m({rules:[],dha:!0});g.fm=m({rules:[],fm:!0});n={};for(h in f.qN){k(h);}n.O7=m({rules:[],dha:!0},!0);n.fm=m({rules:[],fm:!0},!0);g.return=n;return {Wja:g,Dua:f,rta:function(p,q,u,t){return (0,l.BUa)(p,q,u,f.qN,f.V3a,t);}};};};},94522:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.X9a=b.HZa=b.map=void 0;c=a(70655);a(62772);b.map=function(l){return function(f,k){void 0 === k && (k=!1);return function(d,g,m){var h,n,p,q,u,t,w,v;u=Reflect.WZa(l,d,g) || ({});w="number" === typeof m;v=k;(t=w?null !== (n=(null !== (h=u.nb) && void 0 !== h?h:{})[m]) && void 0 !== n?n:{}:v?u.return:u.Dqa) || (t={rules:[]});h=c.__assign(c.__assign(c.__assign({},t),f),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=f.rules) && void 0 !== q?q:[]),!1)});w?(u.nb || (u.nb={}),u.nb[m]=h):v?u.return=h:u.Dqa=h;Reflect.p3(l,u,d,g);};};};b.HZa=function(l){return function(f,k){var d,g,m,h;f=null !== (h=null !== (g=null === (d=f.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== g?g:null === (m=null === f || void 0 === f?void 0:f.constructor) || void 0 === m?void 0:m.prototype) && void 0 !== h?h:f;for(var n;f && void 0 === n;){n=Reflect.WZa(l,f,k);f=f.__proto__;}return n;};};b.X9a=function(){return function(){return function(l){return l;};};};},59151:function(r,b,a){var d,g,m,h,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function l(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function f(p,q){var w;for(var u=Object.getPrototypeOf(p),t=[];u !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(u));u=Object.getPrototypeOf(u);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(v){Object.getOwnPropertyDescriptor(q,v) || Object.getOwnPropertyDescriptor(w,v) || q[v] || Object.defineProperty(q,v,{get:function(){},configurable:!0,enumerable:!0});});}function k(p,q,u,t){var y;for(var w=[],v=4;v < arguments.length;v++){w[v - 4]=arguments[v];}y=t();if((null === y || void 0 === y?0:y.Dqa) || (null === y || void 0 === y?0:y.nb))w=w.map(function(x,z){var A;z=(0,n.F4a)(y.Dqa,null === (A=y.nb) || void 0 === A?void 0:A[z]);return (0,h.q9)(q,x,u,z);});w=p.call.apply(p,d.__spreadArray([void 0],d.__read(w),!1));return (null === y || void 0 === y?0:y.return)?(0,h.q9)(q,w,u,y.return,m.gu.nxa):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.$Fb=b.TAb=b.BUa=void 0;d=a(70655);g=a(94522);m=a(41937);h=a(28005);n=a(66706);b.BUa=function(p,q,u,t,w,v){var y,x;void 0 === v && (v=[]);y={};x=(0,g.HZa)(w);f(q,p);v.forEach(function(z){return f(z,p);});return new Proxy(p,{get:function(z,A){var B,D,C,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){F=q[A];return "function" === typeof F?F.bind(q):F;}B=y[A];if(!B && !l(y,A)){B=null !== (C=null === (D=null === z || void 0 === z?void 0:z.constructor) || void 0 === D?void 0:D.prototype) && void 0 !== C?C:z;D=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=l(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,D=x.bind(null,D,A),z=k.bind(z,F.bind(z),u,t,D),Object.defineProperty(y,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(D=x.bind(null,z,A),z=k.bind(z,F.bind(z),u,t,D),y[A]=z):F;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete y[A];return !0;}});};b.TAb=f;b.$Fb=k;},41937:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gu=void 0;r=b.gu || (b.gu={});r[r.nxa=0]="up";r[r.pS=1]="down";},28005:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.q9=void 0;c=a(70655);l=a(44724);f=a(41937);b.q9=function(k,d,g,m,h,n){var p,q;void 0 === h && (h=f.gu.pS);p=k();if(m && p){q=m.dha;k=m.fm;m=m.rules.map(function(u){return ["function" === typeof u.Ij?u.Ij(g):g[u.Ij],u.config];});q || (0,l.assert)(d,"Param is null");n && m.push([{map:n,tx:function(){return !0;}},void 0]);n=m.filter(function(u){u=c.__read(u,2);return u[0].tx(d,p,u[1]);});k && (0,l.assert)(n.length,("No rules matched for ").concat(d));if(n.length)return n.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,h,p,t[1]);},d);}return d;};},66706:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.F4a=void 0;c=a(70655);l=a(94160);b.F4a=function(f,k){var d;if(f || k){d=(null === f || void 0 === f?0:f.rules) && (null === k || void 0 === k?0:k.rules)?(0,l.T1)(f.rules,k.rules):(null === f || void 0 === f?void 0:f.rules) || (null === k || void 0 === k?void 0:k.rules);return c.__assign(c.__assign(c.__assign({},f),k),{rules:d});}};},28330:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kHa=void 0;c=a(94160);l=a(44724);r=(function(){function f(){this.data={};}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){var k;k=this;return Object.keys(this.data).reduce(function(d,g){return d + k.data[g].length;},0);},enumerable:!1,configurable:!0}});f.prototype.get=function(k){var d;return null !== (d=this.data[k]) && void 0 !== d?d:[];};f.prototype.has=function(k,d){return (k=this.data[k])?void 0 === d?!0:-1 !== k.indexOf(d):!1;};f.prototype.count=function(k){return (k=this.data[k])?k.length:0;};f.prototype.keys=function(){return Object.keys(this.data);};f.prototype.values=function(){var k;k=this;return (0,c.flatten)(this.keys().map(function(d){return k.data[d];}));};f.prototype.set=function(k,d){(this.data[k] || (this.data[k]=[])).push(d);return this;};f.prototype.clear=function(){this.data={};};f.prototype.delete=function(k,d){var g,m;g=this.data[k];if(void 0 === g)return !1;if(void 0 === d)return ((0,l.assert)(1 === arguments.length),delete this.data[k],!0);m=g.indexOf(d);if(-1 === m)return !1;1 === g.length?delete this.data[k]:g.splice(m,1);return !0;};f.prototype.forEach=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;this.keys().forEach(function(m){return g.data[m].forEach(function(h){return k(h,m,g);});});};f.prototype.reduce=function(k,d,g){var m,h;m=this;k=void 0 !== g?k.bind(g):k;h=d;this.forEach(function(n,p){h=k(h,n,p,m);});return h;};f.prototype.map=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(m){return g.data[m].map(function(h){return k(h,m,g);});}));};f.prototype.filter=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(m){return g.data[m].filter(function(h){return k(h,m,g);});}));};return f;})();b.kHa=r;},42229:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.m1a=void 0;c=a(70655);b.m1a=function(l,f){var m,h,n,p,q,u,t,y,x,z,A,B,D,C;for(var k,d,g=0;g < l.length;g++){m=c.__read(f,3);h=m[0];n=m[1];p=m[2];q=c.__read(l[g],3);u=q[0];m=q[1];t=q[2];if(!(h >= m)){h=[h,Math.min(m,n),u,m].filter(function(F,G,E){return E.indexOf(F) === G;}).sort(function(F,G){return F - G;});u=h.length - 1;q=Array(u);p+=t;try{for(var w=(k=void 0,c.__values([f,l[g]])),v=w.next();!v.done;v=w.next()){y=c.__read(v.value,3);x=y[0];z=y[1];A=y[2];t=z - x;for(f=0;f < u;f++){B=h[f + 1];D=Math.min(B,z) - Math.max(h[f],x);if(0 < D){C=D * A / t;p-=C;q[f]=q[f]?q[f] + C:C;}if(z <= B)break;}}}catch(F){k={error:F};}finally{try{v && !v.done && (d=w.return) && d.call(w);}finally{if(k)throw k.error;}}t=[];for(f=0;f < u;f++){A=q[f];0 < A && t.push([h[f],h[f + 1],A]);}l.splice.apply(l,c.__spreadArray([g,1],c.__read(t),!1));if(m < n)f=[m,n,p];else return;}}f && 0 < f[2] && l.splice(l.length,0,f);};},41176:function(r){function b(a){this.kob=a;this.kE=[];this.kA=!1;this.jga=void 0;this.um={};}b.prototype.FQa=function(a){this.kE.length === this.kob && this.kE.shift();Array.isArray(a)?this.kE=this.kE.concat(a):this.kE.push(a);this.kA=!0;};b.prototype.wT=function(){return this.kE.length;};b.prototype.eK=function(a){var c,l,f;if(this.kA || void 0 === this.jga)(this.jga=this.kE.slice(0).sort(function(k,d){return k - d;}),this.um={},this.kA=!1);if(void 0 === this.um[a]){c=this.jga;l=Math.floor(a / 100 * (c.length - 1) + 1) - 1;f=(a / 100 * (c.length - 1) + 1) % 1;this.um[a]=l === c.length - 1?c[l]:c[l] + f * (c[l + 1] - c[l]);}return this.um[a];};r.exports=b;},36024:function(r,b){var l,f,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.ENa);}function c(d){return (a(d)?d:Object.defineProperties(d,{ENa:{value:{},configurable:!1,enumerable:!1}})).ENa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Pda=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % f;r=(function(){function d(){this.id=k=(k + 1) % f;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,m){c(g)[this.id]=m;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.Pda=r;},15163:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Blb=void 0;c=a(70655).__importDefault(a(29736));l=a(69565);f=["","",""];r=(function(){function k(d){this.request=d;this.complete=this.append=this.j4=this.Cpa=this.open=0;}Object.defineProperties(k.prototype,{console:{get:function(){return l.$p.nv(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hua:{get:function(){var d;return null === (d=this.request.ue) || void 0 === d?void 0:d.G;},enumerable:!1,configurable:!0}});k.prototype.mTb=function(){this.open=c.default.time.Ga();};k.prototype.gTb=function(){this.Cpa=c.default.time.Ga();this.ix();};k.prototype.cTb=function(){this.j4=c.default.time.Ga();this.ix();};k.prototype.GG=function(){this.complete=c.default.time.Ga();this.ix();};k.prototype.ix=function(){var d;d=("RequestLedger ID: ").concat(this.request.Si());d+=(" load-open: ").concat(this.Cpa - this.open);0 < this.j4 && (" firstbyte-load: ").concat(this.j4 - this.Cpa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.j4);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.request.mediaType,this.hua && this.complete - this.open > this.hua?((" duration: ").concat(this.hua),f[d]+="X"):f[d]+=".",10 < f[d].length && (f[d]=f[d].slice(1)));};return k;})();b.Blb=r;},40001:function(r,b,a){var l,f,k,d,g;function c(m,h){return m.time - h.time || m.priority - h.priority || m.id - h.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.zpb=b.G2=b.P9=void 0;r=a(70655);l=a(94160);f=a(95994);k=r.__importDefault(a(29736));d=a(44724);g=(function(){function m(){var h;h=this;this.qo=new l.h_([],c);this.Pwa=0;this.console=new k.default.Console("SETTIMEOUT");this.ODb=function(){var n,p;n=k.default.time.Ga();h.hX=void 0;f.K && h.console.trace(("[").concat(n,"] Wake"));try{for(;!h.qo.empty && h.qo.pt().time <= n;){p=h.qo.pop();f.K && h.console.trace(("[").concat(k.default.time.Ga(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.ws();}}finally{h.Rua();}};}Object.defineProperties(m,{instance:{get:function(){return m.fs || (m.fs=new m());},enumerable:!1,configurable:!0}});m.dga=function(){(0,d.assert)(void 0 === m.fs || m.fs.qo.empty,"Singleton SetTimeoutWithPriority reset with pending timers");m.fs=void 0;};m.prototype.P9=function(h,n,p){var q,u,t;(0,d.assert)(isFinite(n) && 0 <= n);q=this.qo;u=k.default.time.Ga();t=u + n;q.push({id:++this.Pwa,time:t,priority:p,ws:h});f.K && this.console.trace(("[").concat(u,"] New p").concat(p," timer ").concat(this.Pwa," scheduled for ").concat(t," in ").concat(n,"ms"));this.Rua();return this.Pwa;};m.prototype.G2=function(h){var n,p,q;n=this.qo;p=n.find(function(u){return u.id === h;});if(p){q=n.pt().time;n.remove(p);f.K && this.console.trace(("[").concat(k.default.time.Ga(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(n.empty || n.pt().time > q) && this.Rua();}};m.prototype.oTa=function(){this.hX && (clearTimeout(this.hX.id),f.K && this.console.trace(("[").concat(k.default.time.Ga(),"] Clearing wake timer")),this.hX=void 0);};m.prototype.Rua=function(){var h,n;n=this.qo;n.empty?this.oTa():(n=n.pt().time,n !== (null === (h=this.hX) || void 0 === h?void 0:h.time) && (this.oTa(),h=Math.max(0,n - k.default.time.Ga()),f.K && this.console.trace(("[").concat(k.default.time.Ga(),"] Setting wake timer for ").concat(n," in ").concat(h,"ms")),this.hX={id:setTimeout(this.ODb,h),time:n}));};return m;})();b.P9=function(m,h,n){return g.instance.P9(m,h,n);};b.G2=function(m){g.instance.G2(m);};b.zpb=function(){g.dga();};},84144:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ILa=b.HLa=void 0;c=a(94160);r=(function(){function l(f){this.Oa=f;this.listeners=[];this.uV=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Oa;},enumerable:!1,configurable:!0}});l.prototype.set=function(f){var k;this.Oa=f;k=this.uV;this.uV=[];this.listeners.forEach(function(d){return d(f);});k.forEach(function(d){return d(f);});};l.prototype.K9a=function(){this.Oa=void 0;};l.prototype.on=function(f){this.listeners=this.listeners.concat([f]);void 0 !== this.Oa && f(this.Oa);};l.prototype.once=function(f){void 0 !== this.Oa?f(this.Oa):this.uV.push(f);};l.prototype.ar=function(f){this.listeners=this.listeners.filter(function(k){return k !== f;});this.uV=this.uV.filter(function(k){return k !== f;});};return l;})();b.HLa=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(f,k){this.listeners.push({signal:f,listener:k});f.on(k);};l.prototype.once=function(f,k){var d,g;d=this;if(void 0 === f.value){g=function(m){d.remove(f,k);k(m);};this.listeners.push({signal:f,listener:k,Feb:g});f.once(g);}else f.once(k);};l.prototype.ar=function(f,k){var d,g;g=(0,c.Hc)(this.listeners,function(m){return m.signal === f && m.listener === k;});void 0 !== g && f.ar(null !== (d=g.Feb) && void 0 !== d?d:g.listener);this.remove(f,k);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(f){var k,d;k=f.listener;d=f.Feb;return f.signal.ar(null !== d && void 0 !== d?d:k);});this.listeners=[];};l.prototype.remove=function(f,k){this.listeners=this.listeners.filter(function(d){return d.signal !== f || d.listener !== k;});};return l;})();b.ILa=r;},80657:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ru=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Da=NaN;}Object.defineProperties(a.prototype,{Nv:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Da=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Da+=(c - this.Da) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Da,count:this.count};};return a;})();b.ru=r;},50971:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(68330),b);r.__exportStar(a(17695),b);r.__exportStar(a(49580),b);r.__exportStar(a(73388),b);r.__exportStar(a(56824),b);},68330:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bFa=void 0;c=a(70655);l=a(94160);f=a(44724);a(89383);k=c.__importDefault(a(29736));d=a(49580);g=a(56824);r=(function(m){function h(n,p,q){p=m.call(this,p,q) || this;p.PZb=n;p.Bfa=!1;p.Y0=!1;p.reset();return p;}c.__extends(h,m);h.prototype.reset=function(){var n,p;if(this.Sa === d.Ek.r9 || this.Sa === d.Ek.pending)null === (p=null === (n=this.qJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n);m.prototype.reset.call(this);this.qJ=this.PZb();this.Y0=!1;this.IQ=g.Pg.SC(l.N.Ia);};h.prototype.Sf=function(){this.reset();(0,f.assert)(this.An);this.An.Aua(this);};h.prototype.F7=function(){return this.IQ;};h.prototype.Bf=function(){var n,p,q,u,t;try{this.Bfa=!0;t=null !== (p=null === (n=this.qJ) || void 0 === n?void 0:n.next()) && void 0 !== p?p:{done:!0};}finally{this.Bfa=!1;this.cob=k.default.time.Ga();this.wvb();}t.done?(this.IQ=g.Pg.Rxa,null === (u=null === (q=this.qJ) || void 0 === q?void 0:q.return) || void 0 === u?void 0:u.call(q),this.qJ=void 0):this.IQ=t.value;};h.prototype.wvb=function(){this.Y0 && this.FVa();};h.prototype.FVa=function(){var n,p;this.Bfa?this.Y0=!0:(this.Y0=!1,null === (p=null === (n=this.qJ) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n),this.qJ=void 0);};h.prototype.Pa=function(){this.FVa();m.prototype.Pa.call(this);};h.prototype.jv=function(){return {state:d.Ek[this.state],nextWakeup:{ms:this.IQ.timestamp.G,type:g.S_[this.IQ.type]},lastRunMono:this.cob};};return h;})(d.qea);b.bFa=r;},17695:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.KLa=void 0;c=a(70655);l=a(49580);f=a(56824);r=(function(k){function d(g,m,h,n){void 0 === n && (n={});h=k.call(this,h) || this;h.Vua=g;h.ws=m;h.options=n;return h;}c.__extends(d,k);d.prototype.F7=function(){return this.Sa === l.Ek.pending?this.Vua:f.Pg.Rxa;};d.prototype.Bf=function(){this.ws();};d.prototype.Sf=function(){this.options.rgc?(k.prototype.reset.call(this),this.An.Aua(this)):this.Pa();};return d;})(l.qea);b.KLa=r;},49580:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qea=b.Ek=void 0;c=a(56824);(function(f){f[f.pending=0]="pending";f[f.r9=1]="running";f[f.complete=2]="complete";f[f.dF=3]="destroyed";})(l=b.Ek || (b.Ek={}));r=(function(){function f(k,d){void 0 === d && (d=0);this.name=k;this.priority=d;this.Sa=l.pending;}Object.defineProperties(f.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{y1a:{get:function(){return this.Sa === l.pending || this.Sa === l.r9;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hd:{get:function(){return this.An;},enumerable:!1,configurable:!0}});f.prototype.Bsb=function(k){var d;null === (d=this.An) || void 0 === d?void 0:d.d9(this);this.An=k;};f.prototype.rN=function(){this.Sa=l.r9;this.Bf();this.F7() === c.Pg.Rxa && (this.Sa=l.complete);};f.prototype.Pa=function(){var k;this.Sa=l.dF;null === (k=this.An) || void 0 === k?void 0:k.d9(this);};f.prototype.PSa=function(k){this.An.d9(this);this.An=k;this.An.Aua(this);};f.prototype.jv=function(){};f.prototype.reset=function(){this.Sa=l.pending;};return f;})();b.qea=r;},73388:function(r,b,a){var l,f,k,d,g,m,h,n,p,q,u,t,w,v,y;function c(x){var z,A,B,D,C,F;z=x.qa;A=x.ws;B=x.web;D=x.hm;x=x.priority;C=void 0 === x?0:x;(0,g.assert)(z.hi,("Current time: ").concat(n.default.time.Ga()," cr: ").concat(z.currentTime));(0,g.assert)(z.currentTime.isFinite());x=B.wa(z.currentTime);x=Math.max(Math.ceil(x.Fy / z.speed),0);F=null !== D && void 0 !== D?D:{id:void 0,yVa:x,R5a:0,MTb:x};F.id=(0,p.P9)(function(){B.wa(z.currentTime).MB(k.N.Ia)?A():(F.R5a++,c({qa:z,ws:A,web:B,hm:F,priority:C}));},x,C);F.yVa=x;return F;}Object.defineProperties(b,{__esModule:{value:!0}});b.caa=b.WP=void 0;l=a(70655);f=a(28075);k=a(94160);d=a(94160);g=a(44724);m=a(95994);h=a(81989);n=l.__importDefault(a(29736));p=a(40001);q=a(49580);u=a(68330);t=a(17695);w=a(56824);v=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{SH:{get:function(){return this.lga;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{x5a:{get:function(){return this.Cob;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Qzb:{get:function(){return this.dnb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Sua:{get:function(){return this.Cpb;},enumerable:!1,configurable:!0}});x.prototype.set=function(z,A,B){this.dnb=A === y.H7?0:n.default.time.Ga();this.Cob=z;this.Cpb=A;m.K && (0,g.assert)(!this.lga,"Invalid replacement of timeout value");this.lga=B;};x.prototype.complete=function(){this.lga=void 0;this.set(k.N.vp,y.H7);};return x;})();(function(x){x[x.H7=0]="none";x[x.H4a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y || (y={}));r=(function(x){function z(A,B,D,C){var F;void 0 === D && (D="unknown");void 0 === C && (C=0);F=x.call(this) || this;F.qa=A;F.console=B;F.name=D;F.priority=C;F.Aob=0;F.M0=!1;F.afa=!1;F.$j=new v();F.V3=new f.Re();F.Fi=new d.h_([],(0,h.NTa)(function(G,E){return G.lH.Ik(E.lH);},function(G,E){return E.uk.priority - G.uk.priority;},function(G,E){return G.uk.id > E.uk.id?1:G.uk.id < E.uk.id?-1:0;}));F.zRa(A);return F;}l.__extends(z,x);Object.defineProperties(z.prototype,{L0b:{get:function(){return this.qa.hi;},enumerable:!1,configurable:!0}});z.prototype.LUa=function(A,B){A=new (A.bind.apply(A,l.__spreadArray([void 0],l.__read(B),!1)))();A.id=this.Aob++;A.Bsb(this);this.Vga(A);return A;};z.prototype.Hx=function(){for(var A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}return this.LUa(u.bFa,A);};z.prototype.jv=function(){var A;A={hasSchedule:!!this.$j.SH,schedule:this.$j.SH && ({sleepTime:this.$j.SH.yVa,originalSleepTime:this.$j.SH.MTb,clockSkewAdjustments:this.$j.SH.R5a}),nextWakeup:this.$j.x5a.G,timeScheduled:this.$j.Qzb,scheduleType:y[this.$j.Sua],numTasks:this.Fi.length,clock:{ir:this.qa.hi,ct:this.qa.currentTime.G,sp:this.qa.speed}};m.K && this.trace("audit",A);return A;};z.prototype.KA=function(){for(var A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}return this.LUa(t.KLa,A);};z.prototype.tUa=function(A,B,D){return this.Hx(function(){return l.__generator(this,function(C){switch(C.label){case 0:return [4,w.Pg.SC(B)];case 1:return (C.Qa(),A(),[3,0]);case 2:return [2];}});},D);};z.prototype.zRa=function(A){var B;B=this;this.xx();this.V3.clear();this.qa=A;this.V3.on(A,"stopStart",function(){return B.cN();});this.V3.on(A,"clockAdjusted",function(){return B.nV();});this.V3.on(A,"speedChanged",function(){return B.ATb();});this.nV();this.emit("clockChanged");};z.prototype.ATb=function(){this.xx();this.cN();};z.prototype.Pa=function(){this.reset();this.M0 && (this.afa=!0);};z.prototype.reset=function(){var A;this.xx();A=this.Fi.yr();this.Fi.clear();A.forEach(function(B){return B.uk.Pa();});};z.prototype.Sf=function(){var A;this.xx();A=this.Fi.yr();this.Fi.clear();A.forEach(function(B){return B.uk.Sf();});};z.prototype.nV=function(){var A,B;A=this;B=this.Fi.map(function(D){return D.uk;});this.xx();this.Fi.clear();B.forEach(function(D){return A.Vga(D,!1);});this.cN();};z.prototype.Vga=function(A,B){var D,C;void 0 === B && (B=!0);D=A.F7();C=this.qcb(D);D={uk:A,lH:C,j9:D};m.K && this.trace(("Adding task ").concat(A.name," for ").concat(C.G));(0,g.assert)(!this.Fi.contains(D));this.Fi.push(D);B && this.cN();};z.prototype.cN=function(){var A,B,D,C,F;A=this;m.K && this.trace("recheck schedule task count:" + this.Fi.length);if(this.L0b){if(this.M0)m.K && this.trace("already executing, bailing");else {D=this.$j.x5a;C=this.Fi.pt();F=null !== (B=null === C || void 0 === C?void 0:C.lH) && void 0 !== B?B:k.N.vp;F.isFinite() && F.ira(D)?(this.xx(!1),this.qa.currentTime.gi(F)?(this.$j.set(F,y.H4a),Promise.resolve().then(function(){A.$j.Sua === y.H4a && (A.$j.complete(),A.Z9a());})):(m.K && this.trace("scheduling next wake up for",{qhc:F.G,uk:null === C || void 0 === C?void 0:C.uk.name}),B=c({qa:this.qa,ws:function(){A.$j.complete();A.Z9a();},web:F,priority:this.priority}),this.$j.set(F,y.setTimeout,B))):F.isFinite() || this.$j.Sua !== y.setTimeout || this.xx(!1);}}else (m.K && this.trace("should check schedule is false, stopping"),this.xx());};z.prototype.Z9a=function(){var A,B,D;B=0;D=null === (A=this.Fi.pt()) || void 0 === A?void 0:A.j9;try{for(this.M0=!0;1E4 > B++ && this.j4b();){;}}finally{this.M0=!1;this.xx();1E4 < B && !this.SKb(D)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(m.K && this.trace("Next tasks",this.Fi.map(function(C){return {name:C.uk.name,rhc:C.lH.G};})),this.cN());}};z.prototype.SKb=function(A){var B,D;D=null === (B=this.Fi.pt()) || void 0 === B?void 0:B.j9;return A && D && A.timestamp.equal(D.timestamp) && A.type === D.type?!1:!0;};z.prototype.j4b=function(){var A,B,D;D=null !== (B=null === (A=this.Fi.pt()) || void 0 === A?void 0:A.lH) && void 0 !== B?B:k.N.vp;m.K && this.trace(("tryExecuteNextTask @").concat(this.qa.currentTime.G,", next wakeup at ").concat(D));if(this.qa.currentTime.gi(D) && (A=this.Fi.pop())){B=A.uk;m.K && this.trace("Running a task @" + this.qa.currentTime.G + ", scheduled for time:" + D.G + ("Name:").concat(B.name));try{B.rN();A.j9=B.F7();A.lH=this.qcb(A.j9);}catch(C){throw (this.error(("Unhandled error from a task ").concat(B.name," occurred.") + " Removing the task from future executions:" + C,{stack:C.stack}),B.Pa(),C);}finally{this.afa?(B.Pa(),this.afa=!1):A.lH !== k.N.vp && B.state === q.Ek.r9 && ((0,g.assert)(!this.Fi.contains(A)),this.Fi.push(A));}return !0;}};z.prototype.Aua=function(A){(0,g.assert)(A.Hd === this);this.d9(A,!1);this.Vga(A);};z.prototype.d9=function(A,B){var D;void 0 === B && (B=!0);D=this.Fi.find(function(C){return C.uk === A;});D && this.zYb(D,B);};z.prototype.zYb=function(A,B){this.Fi.remove(A);B && this.cN();};z.prototype.xx=function(A){void 0 === A && (A=!0);this.$j.SH && (A && this.emit("stopping"),A=this.$j.SH,(0,p.G2)(A.id),this.$j.complete());};z.prototype.qcb=function(A){return A.type === w.S_.absolute?A.timestamp:A.timestamp.add(this.qa.currentTime);};z.prototype.trace=function(){for(var A,B=[],D=0;D < arguments.length;D++){B[D]=arguments[D];}null === (A=this.console) || void 0 === A?void 0:A.trace.apply(A,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(B),!1));};z.prototype.error=function(){for(var A,B=[],D=0;D < arguments.length;D++){B[D]=arguments[D];}null === (A=this.console) || void 0 === A?void 0:A.error.apply(A,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(B),!1));};return z;})(f.EventEmitter);b.WP=r;b.caa=function(x,z,A){var B;B=void 0;return (A || x.qa.hi) && x.qa.currentTime.gi(z)?{promise:Promise.resolve()}:{promise:new Promise(function(D){B=x.KA(w.Pg.Tt(z),D);}),uk:B};};},56824:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Pg=b.S_=void 0;c=a(94160);(function(d){d[d.absolute=0]="absolute";d[d.X8a=1]="relative";})(l=b.S_ || (b.S_={}));k=(function(){function d(g,m){this.type=g;this.timestamp=m;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(d,{Ia:{get:function(){f || (f=new d(l.X8a,c.N.Ia));return f;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.Tt=function(g){return new k(l.absolute,g);};Object.defineProperties(d,{v6b:{get:function(){return k.Ia;},enumerable:!1,configurable:!0}});d.SC=function(g){return new k(l.X8a,g);};d.Rxa=new k(l.absolute,c.N.vp);return d;})();b.Pg=r;},17039:function(r,b,a){var l,f;function c(k,d,g){var m;void 0 === g && (g={});m=l.__assign(l.__assign({},f),g);return k.filter(function(h){var n;n=h.Lb;h=h.Bb;return !!h && h.MB(d) && (!m.HTa || n.gi(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.pla=b.FEb=b.wla=void 0;l=a(70655);f={HTa:!1};b.wla=function(k,d,g){void 0 === g && (g={});return c(k,d,g).pop();};b.FEb=c;b.pla=function(k,d,g){return k.filter(function(m){var h;h=m.Lb;m=m.Bb;return !!m && !!h && (m.gi(d) && m.MB(g) || h.gi(d) && h.MB(g) || m.MB(d) && h.gi(g));});};},85341:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.V7a=b.c0=void 0;a(70655);a(94160);c=a(95994);l=a(36024);f=a(44724);r=(function(){function k(){this.P=new l.Pda();}Object.defineProperties(k.prototype,{empty:{get:function(){return !this.Wv;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{root:{get:function(){var d;return null === (d=this.Wv) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{values:{get:function(){var d;d=[];this.tF(function(g){return !!d.push(g);});return d;},enumerable:!1,configurable:!0}});k.prototype.has=function(d){return !!this.P.get(d);};k.prototype.parent=function(d){var g;d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (g=null === d || void 0 === d?void 0:d.parent) || void 0 === g?void 0:g.value;};k.prototype.children=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(g){return g.value;}):[];};k.prototype.Fna=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};k.prototype.add=function(d,g){var m;c.K && (0,f.assert)(!this.P.get(d),"Attempted to add a value to tree that is already present");m={value:d};void 0 === this.Wv?(c.K && (0,f.assert)(void 0 === g,"a parent cannot be specified when the tree is empty"),this.Wv=m):(c.K && (0,f.assert)(void 0 !== g,"a parent must be specified when the tree is non-empty"),g=this.P.get(g),c.K && (0,f.assert)(g,"Parent value does not exist in tree"),this.ERa(m,g));this.P.set(d,m);return this;};k.prototype.remove=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};k.prototype.removeNode=function(d){var g;g=this;this.Ila(function(m){return g.P.delete(m);},d.value);void 0 === d.parent?this.Wv=void 0:this.detach(d);};k.prototype.move=function(d,g){d=this.P.get(d);g=this.P.get(g);c.K && (0,f.assert)(d,"cannot move a value that is not in the tree");c.K && (0,f.assert)(g,"cannot move a value to a parent value not in the tree");c.K && (0,f.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.K && (0,f.assert)(!this.DMb(d,g),"cannot move a node below itself or one of its decendants");d.parent !== g && (this.detach(d),this.ERa(d,g));return this;};k.prototype.CYb=function(d){var g,m;g=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot replant at a value that is not in the tree");m=[];this.detach(d);this.Ila(function(h){g.P.delete(h);m.unshift(h);return !0;});this.Wv=d;};k.prototype.clear=function(){this.Wv && this.remove(this.Wv.value);return this;};k.prototype.TXa=function(d,g){var m,h;m=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");null === (h=d.children) || void 0 === h?void 0:h.forEach(function(n){return g(n.value,m);});};k.prototype.t1b=function(d,g){var m,h;m=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (h=d.children) || void 0 === h || !h.some(function(n){return g(n.value,m);}));};k.prototype.tF=function(d){this.UXa(d,void 0);};k.prototype.UXa=function(d,g,m,h){var n;n=this;void 0 === h && (h=0);c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.Wv.value,d(g,m,this,h) && this.TXa(g,function(p){return n.UXa(d,p,g,h + 1);}));};k.prototype.Ila=function(d,g){var m;m=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (null !== g && void 0 !== g?g:g=this.Wv.value,this.TXa(g,function(h){return m.Ila(d,h);}),d(g,this));};k.prototype.EXa=function(d,g){var m,h;m=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");if(!this.empty){null !== g && void 0 !== g?g:g=this.Wv.value;return this.t1b(g,function(n){return !!(h=m.EXa(d,n));})?h:d(g,this)?g:void 0;}};k.prototype.sBb=function(d){var g,m,h,n;g=this;m=this.values;h=m.filter(function(p){return !d.has(p);});n=d.values.filter(function(p){return !g.has(p);});m=m.filter(function(p){return d.has(p) && g.parent(p) !== d.parent(p);});return {Wga:h,fN:n,q9a:m};};k.prototype.ERa=function(d,g){var m;d.parent=g;(null !== (m=g.children) && void 0 !== m?m:g.children=[]).push(d);};k.prototype.detach=function(d){var g;c.K && (0,f.assert)(d.parent,"cannot detach the root");c.K && (0,f.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");g=d.parent.children.indexOf(d);(0,f.assert)(0 <= g,"logic error: node does not appear in the children of its parent");d.parent.children.splice(g,1);d.parent=void 0;};k.prototype.DMb=function(d,g){for(;void 0 !== g;){if(g === d)return !0;g=g.parent;}return !1;};return k;})();b.c0=r;b.V7a=function(k,d){var g;g="";k.tF(function(m,h,n,p){g+=("").concat(Array(p + 1).join("-")).concat(d(m),"\n");return !0;});return g;};},40885:function(r,b,a){var k,d,g;function c(m){var h,n,p,t;p=Object.getOwnPropertyNames(m);for(m=Object.getPrototypeOf(m);m !== Object.prototype;){try{for(var q=(h=void 0,k.__values(Object.getOwnPropertyNames(m))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){h={error:w};}finally{try{u && !u.done && (n=q.return) && n.call(q);}finally{if(h)throw h.error;}}m=Object.getPrototypeOf(m);}return p;}function l(m,h,n,p,q){var u;Object.getOwnPropertyNames(m).filter(function(t){return q(t) && (n || !Object.prototype.hasOwnProperty.call(h,t)) && (p || !((t in h)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(m,t);void 0 !== u && Object.defineProperty(h,t,u);});}function f(m,h,n,p){var q,u;q=[];n || (q=Object.getOwnPropertyNames(h));p || (q=c(h));u=Object.getPrototypeOf(m);null !== u && u !== Object.prototype && f(u,h,n,p);l(m,h,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.wk=b.Ywb=void 0;k=a(70655);d=a(44724);b.Ywb=f;g=Object.getOwnPropertyNames(Function);b.wk=function(m,h,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || (0,d.assert)(!n);m.prototype?(f(m.prototype,h.prototype,n,p),l(m,h,n,p,function(q){return -1 === g.indexOf(q);})):l(m,h.prototype,n,p,function(q){return -1 === g.indexOf(q);});return h;};},312:function(r,b,a){var p;function c(q){return Array.isArray(q)?q.reduce(function(u,t){return u + t;},0):!1;}function l(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function f(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=l(q);return c(q.map(function(t){return (t - u) * (t - u);})) / (q.length - 1);}function k(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=f(q);return Math.sqrt(q);}function d(q,u){if(q.length == u.length && 1 < q.length){for(var t=q.length,w=0,v=c(q),y=c(u),x=0;x < t;x++){w+=q[x] * u[x];}return (w - v * y / t) / t;}return !1;}function g(q,u,t){return Math.max(Math.min(q,t),u);}function m(q,u){return "number" === typeof q?q:u;}function h(q){return 1 / (1 + Math.exp(-q));}function n(q,u,t){return q * t + (1 - t) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.e$a=b.scale=b.XWa=b.S3=b.Cab=b.fTa=b.jK=b.tanh=b.c_b=b.Nh=b.YGb=b.$Gb=b.xJb=b.J_a=b.vYa=b.JJb=b.mK=b.Zf=b.xq=void 0;p=a(70655).__importStar(a(67841));b.xq=function(q,u,t){try{q.emit(u,t);}catch(w){if(q.Uz)q.Uz("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",t);else throw w;}};b.Zf=function(q,u){void 0 !== q && p.jUb(q).forEach(function(t){u(t[0],t[1]);});};b.mK=function(){var t;for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}q=Array.prototype.concat.apply([],q);u=q.reduce(function(w,v){return w + v.byteLength;},0);t=new Uint8Array(u);q.reduce(function(w,v){t.set(new Uint8Array(v),w);return w + v.byteLength;},0);return t.buffer;};b.JJb=c;b.vYa=l;b.J_a=f;b.xJb=k;b.$Gb=d;b.YGb=function(q,u){var t;if(q.length == u.length){t=d(q,u);q=k(q);u=k(u);if(0 < q && 0 < u)return t / (q * u);}return !1;};b.Nh=function(q,u,t){return u.IUa?u.IUa(t):new q.Console("ASEJS","media|asejs",u.prefix?u.prefix + " " + t:t);};b.c_b=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});b.jK=g;b.fTa=function(q,u,t,w){return {min:g(m(q.min,u),t,w),max:g(m(q.max,u),t,w),vx:g(q.vx || 6E4,0,6E5),MSa:g(q.MSa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),f$a:g(q.f$a || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};};b.Cab=h;b.S3=function(q,u,t){return q.min + (q.max - q.min) * (1 - Math.pow(h(6 * (u - (q.vx + (q.MSa || 0) * (1 - t))) / (q.scale + (q.f$a || 0) * (1 - t))),q.gamma));};b.XWa=function(q,u){return q.min + (q.max - q.min) * Math.pow(h(6 * (u - q.vx) / q.scale),q.gamma);};b.scale=n;b.e$a=function(q,u,t){return {min:n(q.min,u.min,t),max:n(q.max,u.max,t),vx:n(q.vx,u.vx,t),scale:n(q.scale,u.scale,t),gamma:n(q.gamma,u.gamma,t)};};},60482:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FD=void 0;c=a(94160);r=(function(){function l(f,k){this.cE=f;this.TD=k;this.JZb();}l.from=function(f){return "number" === typeof f?new l(f,1):new l(f.nt,f.Ds);};l.PFb=function(f){return new l(f.S,f.ya);};Object.defineProperties(l.prototype,{nt:{get:function(){return this.cE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ds:{get:function(){return this.TD;},enumerable:!1,configurable:!0}});l.prototype.ca=function(){return new c.N(this.TD,this.cE);};l.prototype.equal=function(f){return this.cE === f.cE && this.TD === f.TD;};l.prototype.normalize=function(f){var k;k=1E3 * this.Ds;return Math.floor(Math.floor((Math.floor(f + 1) * this.nt - 1) / k) * k / this.nt);};l.prototype.JZb=function(){var f,k,d;f=Math.floor(1E3 * this.cE / this.TD);k=Math.floor(1001 * this.cE / this.TD);d=1E3 * Math.round(f / 1E3);this.cE=d;this.TD=Math.abs(k - d) > Math.abs(f - d)?1E3:1001;};return l;})();b.FD=r;},61276:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cJ=void 0;c=a(94160);b.cJ=(function(){return function(l,f){var k;void 0 === f && (f={w:1,Lq:1});this.al=l;this.N6a=f;k=l.w * f.w;l=l.Lq * f.Lq;f=(0,c.eB)(k,l);this.ox={w:k / f,Lq:l / f};};})();},37481:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Cea=void 0;c=a(70655).__importDefault(a(29736));r=(function(){function l(f){this.wN=new Uint16Array(f.length);for(var k=0;k < f.length;++k){this.wN[k]=f.charCodeAt(k);}}l.prototype.encrypt=function(f){for(var k=this.wN.length,d="",g=0;g < f.length;++g){d+=String.fromCharCode(this.wN[g % k] ^ f.charCodeAt(g));}return encodeURIComponent(d);};l.prototype.decrypt=function(f,k){var d,g;void 0 === k && (k=!1);d=this.wN.length;g="";if(k)for((k=new Uint8Array(c.default.g3(f)),f=0);f < k.length;f++){g+=String.fromCharCode(this.wN[f % d] ^ k[f]);}else for((k=decodeURIComponent(f),f=0);f < k.length;f++){g+=String.fromCharCode(this.wN[f % d] ^ k.charCodeAt(f));}return g;};return l;})();b.Cea=r;},62772:function(r,b,a){var c;(function(l){(function(f){var d,g;function k(m,h){return function(n,p){"function" !== typeof m[n] && Object.defineProperty(m,n,{configurable:!0,writable:!0,value:p});h && h(n,p);};}d="object" === typeof a.s4?a.s4:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();g=k(l);"undefined" === typeof d.Reflect?d.Reflect=l:g=k(d.Reflect,g);f(g);})(function(f){var G,E,J,M,L,I,P,K,H,N,R;function k(Y,ma,ia){var ja;ja=R.get(Y);if(u(ja)){if(!ia)return;ja=new H();R.set(Y,ja);}Y=ja.get(ma);if(u(Y)){if(!ia)return;Y=new H();ja.set(ma,Y);}return Y;}function d(Y,ma,ia){if(g(Y,ma,ia))return !0;ma=A(ma);return null === ma?!1:d(Y,ma,ia);}function g(Y,ma,ia){ma=k(ma,ia,!1);return u(ma)?!1:!!ma.has(Y);}function m(Y,ma,ia){if(g(Y,ma,ia))return h(Y,ma,ia);ma=A(ma);if(null !== ma)return m(Y,ma,ia);}function h(Y,ma,ia){ma=k(ma,ia,!1);if(!u(ma))return ma.get(Y);}function n(Y,ma){var ia,Ba,Ka;ia=p(Y,ma);Y=A(Y);if(null === Y)return ia;ma=n(Y,ma);if(0 >= ma.length)return ia;if(0 >= ia.length)return ma;Y=new N();for(var ja=[],Ca=0;Ca < ia.length;Ca++){Ba=ia[Ca];Ka=Y.has(Ba);Ka || (Y.add(Ba),ja.push(Ba));}for(ia=0;ia < ma.length;ia++){Ba=ma[ia];(Ka=Y.has(Ba)) || (Y.add(Ba),ja.push(Ba));}return ja;}function p(Y,ma){var ia,ja;ia=[];Y=k(Y,ma,!1);if(u(Y))return ia;Y=Y.keys();ma=z(Y,M);if(!x(ma))throw new TypeError();Y=ma.call(Y);if(!t(Y))throw new TypeError();for(ma=0;;){ja=Y.next();ja=ja.done?!1:ja;if(!ja)return (ia.length=ma,ia);ja=ja.value;try{ia[ma]=ja;}catch(Ba){var Ca;try{Ca=Y["return"];Ca && Ca.call(Y);}finally{throw Ba;}}ma++;}}function q(Y){if(null === Y)return 1;switch(typeof Y){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === Y?1:6;default:return 6;}}function u(Y){return void 0 === Y;}function t(Y){return "object" === typeof Y?null !== Y:"function" === typeof Y;}function w(Y,ma){var ia;switch(q(Y)){case 0:return Y;case 1:return Y;case 2:return Y;case 3:return Y;case 4:return Y;case 5:return Y;}ma=3 === ma?"string":5 === ma?"number":"default";ia=z(Y,J);if(void 0 !== ia){Y=ia.call(Y,ma);if(t(Y))throw new TypeError();return Y;}a:{if("string" === ("default" === ma?"number":ma)){ma=Y.toString;if(x(ma) && (ma=ma.call(Y),!t(ma)))break a;ma=Y.valueOf;}else {ma=Y.valueOf;if(x(ma) && (ma=ma.call(Y),!t(ma)))break a;ma=Y.toString;}if(!x(ma) || (ma=ma.call(Y),t(ma)))throw new TypeError();}return ma;}function v(Y){Y=w(Y,3);return "symbol" === typeof Y?Y:"" + Y;}function y(Y){return Array.isArray?Array.isArray(Y):Y instanceof Object?Y instanceof Array:"[object Array]" === Object.prototype.toString.call(Y);}function x(Y){return "function" === typeof Y;}function z(Y,ma){Y=Y[ma];if(void 0 !== Y && null !== Y){if(!x(Y))throw new TypeError();return Y;}}function A(Y){var ma,ia;ma=Object.getPrototypeOf(Y);if("function" !== typeof Y || Y === K || ma !== K)return ma;ia=Y.prototype;ia=ia && Object.getPrototypeOf(ia);if(null == ia || ia === Object.prototype)return ma;ia=ia.constructor;return "function" !== typeof ia || ia === Y?ma:ia;}function B(){var ja,Ca,Ba;function Y(Ka){return Ka;}function ma(Ka,Va){return Va;}function ia(Ka,Va){return [Ka,Va];}ja={};Ca=[];Ba=(function(){function Ka(Va,db,W){this.ae=0;this.Ue=Va;this.yf=db;this.Fpb=W;}Ka.prototype["@@iterator"]=function(){return this;};Ka.prototype[M]=function(){return this;};Ka.prototype.next=function(){var Va,db;Va=this.ae;if(0 <= Va && Va < this.Ue.length){db=this.Fpb(this.Ue[Va],this.yf[Va]);Va + 1 >= this.Ue.length?(this.ae=-1,this.yf=this.Ue=Ca):this.ae++;return {value:db,done:!1};}return {value:void 0,done:!0};};Ka.prototype.throw=function(Va){0 <= this.ae && (this.ae=-1,this.yf=this.Ue=Ca);throw Va;};Ka.prototype.return=function(Va){0 <= this.ae && (this.ae=-1,this.yf=this.Ue=Ca);return {value:Va,done:!0};};return Ka;})();return (function(){function Ka(){this.Ue=[];this.yf=[];this.xu=ja;this.Wr=-2;}Object.defineProperty(Ka.prototype,"size",{get:function(){return this.Ue.length;},enumerable:!0,configurable:!0});Ka.prototype.has=function(Va){return 0 <= this.Vw(Va,!1);};Ka.prototype.get=function(Va){Va=this.Vw(Va,!1);return 0 <= Va?this.yf[Va]:void 0;};Ka.prototype.set=function(Va,db){Va=this.Vw(Va,!0);this.yf[Va]=db;return this;};Ka.prototype.delete=function(Va){var db,W;db=this.Vw(Va,!1);if(0 <= db){W=this.Ue.length;for(db+=1;db < W;db++){this.Ue[db - 1]=this.Ue[db];this.yf[db - 1]=this.yf[db];}this.Ue.length--;this.yf.length--;Va === this.xu && (this.xu=ja,this.Wr=-2);return !0;}return !1;};Ka.prototype.clear=function(){this.Ue.length=0;this.yf.length=0;this.xu=ja;this.Wr=-2;};Ka.prototype.keys=function(){return new Ba(this.Ue,this.yf,Y);};Ka.prototype.values=function(){return new Ba(this.Ue,this.yf,ma);};Ka.prototype.entries=function(){return new Ba(this.Ue,this.yf,ia);};Ka.prototype["@@iterator"]=function(){return this.entries();};Ka.prototype[M]=function(){return this.entries();};Ka.prototype.Vw=function(Va,db){this.xu !== Va && (this.Wr=this.Ue.indexOf(this.xu=Va));0 > this.Wr && db && (this.Wr=this.Ue.length,this.Ue.push(Va),this.yf.push(void 0));return this.Wr;};return Ka;})();}function D(){return (function(){function Y(){this.Ff=new H();}Object.defineProperty(Y.prototype,"size",{get:function(){return this.Ff.size;},enumerable:!0,configurable:!0});Y.prototype.has=function(ma){return this.Ff.has(ma);};Y.prototype.add=function(ma){return (this.Ff.set(ma,ma),this);};Y.prototype.delete=function(ma){return this.Ff.delete(ma);};Y.prototype.clear=function(){this.Ff.clear();};Y.prototype.keys=function(){return this.Ff.keys();};Y.prototype.values=function(){return this.Ff.values();};Y.prototype.entries=function(){return this.Ff.entries();};Y.prototype["@@iterator"]=function(){return this.keys();};Y.prototype[M]=function(){return this.keys();};return Y;})();}function C(){var ja,Ca;function Y(){var Ba,db;do {Ba="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ia(new Uint8Array(16),16):ia(Array(16),16);Ba[6]=Ba[6] & 79 | 64;Ba[8]=Ba[8] & 191 | 128;for(var Ka="",Va=0;16 > Va;++Va){db=Ba[Va];if(4 === Va || 6 === Va || 8 === Va)Ka+="-";16 > db && (Ka+="0");Ka+=db.toString(16).toLowerCase();}Ba="@@WeakMap@@" + Ka;}while(P.has(ja,Ba));ja[Ba]=!0;return Ba;}function ma(Ba,Ka){if(!G.call(Ba,Ca)){if(!Ka)return;Object.defineProperty(Ba,Ca,{value:P.create()});}return Ba[Ca];}function ia(Ba,Ka){for(var Va=0;Va < Ka;++Va){Ba[Va]=255 * Math.random() | 0;}return Ba;}ja=P.create();Ca=Y();return (function(){function Ba(){this.gs=Y();}Ba.prototype.has=function(Ka){Ka=ma(Ka,!1);return void 0 !== Ka?P.has(Ka,this.gs):!1;};Ba.prototype.get=function(Ka){Ka=ma(Ka,!1);return void 0 !== Ka?P.get(Ka,this.gs):void 0;};Ba.prototype.set=function(Ka,Va){ma(Ka,!0)[this.gs]=Va;return this;};Ba.prototype.delete=function(Ka){Ka=ma(Ka,!1);return void 0 !== Ka?delete Ka[this.gs]:!1;};Ba.prototype.clear=function(){this.gs=Y();};return Ba;})();}function F(Y){Y.zmb=void 0;delete Y.zmb;return Y;}G=Object.prototype.hasOwnProperty;E="function" === typeof Symbol;J=E && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";M=E && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";E="function" === typeof Object.create;L=({__proto__:[]}) instanceof Array;I=!E && !L;P={create:E?function(){return F(Object.create(null));}:L?function(){return F({__proto__:null});}:function(){return F({});},has:I?function(Y,ma){return G.call(Y,ma);}:function(Y,ma){return (ma in Y);},get:I?function(Y,ma){return G.call(Y,ma)?Y[ma]:void 0;}:function(Y,ma){return Y[ma];}};K=Object.getPrototypeOf(Function);H=(E="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;N=E || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?D():Set;R=new (E || "function" !== typeof WeakMap?C():WeakMap)();f("decorate",function(Y,ma,ia,ja){var Ba;if(u(ia)){if(!y(Y))throw new TypeError();if("function" !== typeof ma)throw new TypeError();for(ia=Y.length - 1;0 <= ia;--ia){if((ja=(0,Y[ia])(ma),!u(ja) && null !== ja)){if("function" !== typeof ja)throw new TypeError();ma=ja;}}return ma;}if(!y(Y))throw new TypeError();if(!t(ma))throw new TypeError();if(!t(ja) && !u(ja) && null !== ja)throw new TypeError();null === ja && (ja=void 0);ia=v(ia);for(var Ca=Y.length - 1;0 <= Ca;--Ca){Ba=(0,Y[Ca])(ma,ia,ja);if(!u(Ba) && null !== Ba){if(!t(Ba))throw new TypeError();ja=Ba;}}return ja;});f("metadata",function(Y,ma){return function(ia,ja){var Ca;if(!t(ia))throw new TypeError();if(Ca=!u(ja)){a:switch(q(ja)){case 3:Ca=!0;break a;case 4:Ca=!0;break a;default:Ca=!1;}Ca=!Ca;}if(Ca)throw new TypeError();k(ia,ja,!0).set(Y,ma);};});f("defineMetadata",function(Y,ma,ia,ja){if(!t(ia))throw new TypeError();u(ja) || (ja=v(ja));k(ia,ja,!0).set(Y,ma);});f("hasMetadata",function(Y,ma,ia){if(!t(ma))throw new TypeError();u(ia) || (ia=v(ia));return d(Y,ma,ia);});f("hasOwnMetadata",function(Y,ma,ia){if(!t(ma))throw new TypeError();u(ia) || (ia=v(ia));return g(Y,ma,ia);});f("getMetadata",function(Y,ma,ia){if(!t(ma))throw new TypeError();u(ia) || (ia=v(ia));return m(Y,ma,ia);});f("getOwnMetadata",function(Y,ma,ia){if(!t(ma))throw new TypeError();u(ia) || (ia=v(ia));return h(Y,ma,ia);});f("getMetadataKeys",function(Y,ma){if(!t(Y))throw new TypeError();u(ma) || (ma=v(ma));return n(Y,ma);});f("getOwnMetadataKeys",function(Y,ma){if(!t(Y))throw new TypeError();u(ma) || (ma=v(ma));return p(Y,ma);});f("deleteMetadata",function(Y,ma,ia){var ja;if(!t(ma))throw new TypeError();u(ia) || (ia=v(ia));ja=k(ma,ia,!1);if(u(ja) || !ja.delete(Y))return !1;if(0 < ja.size)return !0;Y=R.get(ma);Y.delete(ia);if(0 < Y.size)return !0;R.delete(ma);return !0;});});})(c || (c={}));},22153:function(r,b,a){var d;function c(){return Object.create(null);}function l(g){this.log=g.log;this.qa=g.qa;this.$B=c();this.Promise=g.Promise;this.Cx=g.Cx;this.hxa=g.hxa;this.mf=g.mf || !1;this.ev=c();this.BA=c();this.IE=c();this.Jpb(g);g.Ln && (this.Ln=g.Ln);}function f(g){return "undefined" !== typeof g;}function k(g){var n;for(var m=0,h=arguments.length;m < h;){n=arguments[m++];if(f(n))return n;}}a(4070);d=a(42478);l.prototype.Jpb=function(g){this.ev.manifest=k(g.UDb,d.ev.W);this.ev.ldl=k(g.TDb,d.ev.pU);this.ev.metadata=k(g.cdc,d.ev.Rd);this.BA.manifest=k(g.pub,d.BA.W);this.BA.ldl=k(g.oub,d.BA.pU);this.BA.metadata=k(g.Ybc,d.BA.Rd);this.IE.manifest=k(g.Wbc,d.IE.W);this.IE.ldl=k(g.Vbc,d.IE.pU);this.IE.metadata=k(g.Xbc,d.IE.Rd);};l.prototype.GT=function(g,m){this.Cs("undefined" !== typeof g);this.Cs("undefined" !== typeof m);return !!this.bOa(g,m,void 0).value;};l.prototype.bOa=function(g,m,h){var n,p;n={value:null,reason:"",log:""};p=this.$B[m];h=h?h:"DEFAULTCAPS";if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + m,n.reason="unavailable",n);"undefined" === typeof p[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(p=p[g][h]) && p.value?this.V5(m,p.creationTime)?(n.log="cache miss: " + m + " data expired for movieId:" + g,n.reason="expired",this.clearData(g,m,h,!1,"expired")):(n.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + m + " request in flight for movieId:" + g:"cache hit: " + m + " available for movieId:" + g,n.value=p.value):(n.log="cache miss: " + m + " data not available for movieId:" + g,n.reason="unavailable");return n;};l.prototype.getData=function(g,m,h){this.Cs("undefined" !== typeof g);this.Cs("undefined" !== typeof m);g=this.bOa(g,m,h);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.hxa?JSON.parse(this.hxa(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};l.prototype.setData=function(g,m,h,n,p){var q,u,t;this.Cs("undefined" !== typeof g);this.Cs("undefined" !== typeof m);q=this.$B;u=p?p:"DEFAULTCAPS";q[m] || (q[m]=c(),Object.defineProperty(q[m],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[m],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));h=this.Cx?this.Cx(JSON.stringify(h),"gzip",!0):h;q=q[m];this.gob(g,m,u,q);t=this;n={creationTime:this.qa.getTime(),value:h,size:0,type:m,dka:n,SDb:setTimeout(function(){t.clearData(g,m,u,!1,"expired");},this.ev[m] + 1)};q[g]=q[g] || c();q[g][u]=q[g][u] || c();q[g][u]=n;q.size+=0;q.numEntries++;this.Ln && this.Ln.emit("addedCacheItem",n);return n;};l.prototype.gob=function(g,m,h,n){var p,q,u,t,w,v,y,x,z;p=this;q=n.numEntries;u=this.BA[m];t=n[g] && n[g][h];if(t && t.value)(w=g,v="promise_or_expired");else if(q >= u){x=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][h];B && B.value && p.V5(m,B.creationTime) && (z=A);B && B.value && B.creationTime < x && (x=B.creationTime,y=A);return !0;});w=z || y;v="cache_full";}this.mf && this.log.debug("makespace ",{maxCount:u,currentCount:n.numEntries,field:m,movieId:g,movieToBeRemoved:w});w && (p.clearData(w,m,h,void 0,v),this.log.debug("removed from cache: ",w,m));};l.prototype.Nia=function(g,m){var h,n;h=this;h.Cs("undefined" !== typeof g);n=g + "";m.forEach(function(p){var q;q=h.$B[p];q && Object.keys(q).forEach(function(u){u != n && h.clearData(u,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(g,m,h,n,p){var q;this.Cs("undefined" !== typeof g);this.Cs("undefined" !== typeof m);q=this.$B[m];m=q?q[g]:void 0;h=h?h:"DEFAULTCAPS";if(m && m[h]){q.size-=m[h].size;q.numEntries--;if(q=m && m[h])(clearTimeout(q.SDb),m[h]=void 0,!n && q.dka && q.dka());this.Ln && (g={creationTime:q.creationTime,destroyFn:q.dka,size:q.size,type:q.type,value:q.value,reason:p,movieId:g},this.Ln.emit("deletedCacheItem",g));}};l.prototype.flush=function(g){var m;this.Cs("undefined" !== typeof g);m=this.$B;m[g]=c();m[g].numEntries=0;m[g].size=0;};l.prototype.hTa=function(){var g,m;this.Cs(!1);g=this;m=this.$B;m[void 0] instanceof Object && Object.keys(m[void 0]).forEach(function(h){var n;n=m[void 0][h].DEFAULTCAPS;g.qa.getTime() - n.creationTime > g.ev[void 0] && g.clearData(h,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.V5=function(g,m){return this.qa.getTime() - m > this.ev[g];};l.prototype.getStats=function(g,m,h){var n,p,q,u,t;n={};p=this;q=p.$B;u=f(g) && f(m);t=h || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var v,y;v=Object.keys(q[w]);y=q[w];v.forEach(function(x){!(x=y && y[x] && y[x][t]) || !f(x.value) || x.value instanceof p.Promise || (n[w]=(n[w] | 0) + 1,p.V5(x.type,x.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),u && x.creationTime >= g && x.creationTime < m && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};l.prototype.getState=function(g){var m,h,n,p;m=[];h=this;n=h.$B;p=g || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var u,t;u=Object.keys(n[q]);t=n[q];u.forEach(function(w){var v,y;v=t && t[w] && t[w][p];if(v && f(v.value)){y=h.V5(v.type,v.creationTime)?"expired":v.value instanceof h.Promise?"loading":"cached";m.push({movieId:w,state:y,type:q,size:v.size});}});});return m;};l.prototype.Cs=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.mf))throw Error("Debug Assert Failed ");};r.exports=l;},42478:function(r){r.exports={ev:{W:12E5,pU:9E5,Rd:12E5},BA:{W:10,pU:10,Rd:10},IE:{W:10240,pU:10240,Rd:10240}};},4070:function(r){function b(a){var c;c=[];return (function k(f){if(f && "object" === typeof f){if(-1 !== c.indexOf(f))return !0;c.push(f);for(var d in f){if(f.hasOwnProperty(d) && k(f[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var f;if(c && b(a))return -1;c=[];a=[a];for(var l=0;a.length;){f=a.pop();if("boolean" === typeof f)l+=4;else if("string" === typeof f)l+=2 * f.length;else if("number" === typeof f)l+=8;else if("object" === typeof f && -1 === c.indexOf(f)){c.push(f);for(var k in f){a.push(f[k]);}}}return l;};},70834:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.$ma=function(){return this.buffer.length - this.position;};a.prototype.Ky=function(){return this.buffer[this.position++];};a.prototype.Dj=function(c){var l;l=this.position;this.position+=c;return this.BNb(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.BNb=function(c){return void 0 !== c.subarray;};a.prototype.Mp=function(c){for(var l=0;c--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.Fta=function(c){for(var l="";c--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.Zg=function(){return this.Mp(2);};a.prototype.Np=function(){return this.Mp(4);};a.prototype.aN=function(){return this.Mp(8);};a.prototype.Pv=function(c){for(var l,f="";c--;){l=this.Ky();f+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return f;};a.prototype.Gta=function(c){for(var l=0,f=0;f < c;f++){l+=this.Ky() << (f << 3);}return l;};a.prototype.$M=function(){return this.Gta(4);};a.prototype.WX=function(c){this.wO(c,2);};a.prototype.lz=function(c){this.wO(c,4);};a.prototype.faa=function(c){this.buffer[this.position++]=c;};a.prototype.wO=function(c,l){this.position+=l;for(var f=1;f <= l;f++){this.buffer[this.position - f]=c & 255;c=Math.floor(c / 256);}};a.prototype.kz=function(c){for(var l=0;l < c.length;l++){this.buffer[this.position++]=c.charCodeAt(l);}};a.prototype.VX=function(c){for(var l=c.length,f=0;f < l;f++){this.buffer[this.position++]=c[f];}};a.prototype.vO=function(c,l){this.VX(c.Dj(l));};a.prototype.Heb=function(c){c=new a(c);for(var l,f;;){if((l=c.$ma(),f=l >>> 14))(f=Math.min(4,f),this.faa(192 | f),this.vO(c,16384 * f));else {128 > l?this.faa(l):this.wO(l | 32768,2);this.vO(c,l);break;}}};a.prototype.y8a=function(){var f;for(var c=[],l=new a(c);;){f=this.Ky();if(f & 128){if(128 == (f & 192))(f&=63,f=(f << 8) + this.Ky(),l.vO(this,f));else if((f&=63,0 < f && 4 >= f)){l.vO(this,16384 * f);continue;}else throw Error("bad asn1");}else l.vO(this,f);break;}return new Uint8Array(c);};return a;})();b.WO=r;},17555:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,l,f,k){f=k?f.bind(k):f;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addListener)c.addListener(l,f);else if("function" === typeof c.addEventListener)c.addEventListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},28075:function(r,b,a){b=a(84586);b.Zja=0;r.exports={EventEmitter:b,Re:a(17555)};},84586:function(r){var m,h,n,p;function b(){b.va.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,w){var v,y;a(t);v=q.gb;if(void 0 === v)(v=q.gb=Object.create(null),q.UD=0);else {void 0 !== v.MRb && (q.emit("newListener",u,t.listener?t.listener:t),v=q.gb);y=v[u];}void 0 === y?(v[u]=t,++q.UD):("function" === typeof y?y=v[u]=w?[t,y]:[y,t]:w?y.unshift(t):y.push(t),t=void 0 === q.hs?b.Zja:q.hs,0 < t && y.length > t && !y.Sxa && (y.Sxa=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.dv=q,t.type=u,t.count=y.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.JXa)return (this.target.removeListener(this.type,this.Eeb),this.JXa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function f(q,u,t){q={JXa:!1,Eeb:void 0,target:q,type:u,listener:t};u=l.bind(q);u.listener=t;return q.Eeb=u;}function k(q){var u;u=this.gb;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && g(q,"error",u,t);}function g(q,u,t,w){if("function" === typeof q.on){if(w.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function x(y){w.once && q.removeEventListener(u,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}m="object" === typeof Reflect?Reflect:null;h=m && "function" === typeof m.apply?m.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,w){function v(x){q.removeListener(u,y);w(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",v);t([].slice.call(arguments));}g(q,u,y,{once:!0});"error" !== u && d(q,v,{once:!0});});};b.EventEmitter=b;b.prototype.gb=void 0;b.prototype.UD=0;b.prototype.hs=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.va=function(){if(void 0 === this.gb || this.gb === Object.getPrototypeOf(this).gb)(this.gb=Object.create(null),this.UD=0);this.hs=this.hs || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.hs=q;return this;};b.prototype.emit=function(q){var w,v;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}w="error" === q;t=this.gb;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < u.length && (v=u[0]);if(v instanceof Error)throw v;u=Error("Unhandled error." + (v?" (" + v.message + ")":""));u.context=v;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)h(t,this,u);else {v=t.length;w=Array(v);for(var y=0;y < v;++y){w[y]=t[y];}for(t=0;t < v;++t){h(w[t],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.E8=function(q,u){c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,f(this,q,u));return this;};b.prototype.R7a=function(q,u){a(u);this.E8(q,f(this,q,u));};b.prototype.removeListener=function(q,u){var t,w,v,y,x;a(u);w=this.gb;if(void 0 === w)return this;v=w[q];if(void 0 === v)return this;if(v === u || v.listener === u)0 === --this.UD?this.gb=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,v.listener || u));else if("function" !== typeof v){y=-1;for(t=v.length - 1;0 <= t;t--){if(v[t] === u || v[t].listener === u){x=v[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)v.shift();else {for(;y + 1 < v.length;y++){v[y]=v[y + 1];}v.pop();}1 === v.length && (w[q]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",q,x || u);}return this;};b.prototype.ar=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,w;u=this.gb;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.gb=Object.create(null),this.UD=0):void 0 !== u[q] && (0 === --this.UD?this.gb=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){w=t[u];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.gb=Object.create(null);this.UD=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(q,t[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.gb;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t){u[t]=q[t].listener || q[t];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):k.call(q,u);};b.prototype.listenerCount=k;},6328:function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},24865:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(8430);l=a(22544);f=a(24907);b["default"]=function(k){var d;k=new c.yaa(k);d=new f.Yjb(k);return new l.Xjb(k,d);};},8430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.s3a=c;}a.prototype.tva=function(c){try{this.s3a.setItem("gtp",JSON.stringify(c));}catch(l){return !1;}return !0;};a.prototype.pZa=function(){var c;try{c=this.s3a.getItem("gtp");if(c)return JSON.parse(c);}catch(l){}};a.prototype.Vm=function(){var c;c=this.pZa();if(c && c.tp)return c.tp.a;};a.prototype.RHb=function(){var c;c=this.Dma();if(c)return c.p25;};a.prototype.SHb=function(){var c;c=this.Dma();if(c)return c.p50;};a.prototype.THb=function(){var c;c=this.Dma();if(c)return c.p75;};a.prototype.Dma=function(){var c;c=this.pZa();if(c && (c=c.iqr))return c;};return a;})();b.yaa=r;},22544:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,l){this.Su=c;this.dra=l;}a.prototype.tva=function(c){return this.Su.tva(c);};a.prototype.Vm=function(){return this.Su.Vm();};return a;})();b.Xjb=r;},24907:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Su=c;}a.prototype.dra=function(){var c,l,f;c=this.Su.RHb();l=this.Su.SHb();f=this.Su.THb();if("number" === typeof c && "number" === typeof l && "number" === typeof f)return (f - c) / l;};return a;})();b.Yjb=r;},54138:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.Ga:Date.now;},78378:function(r,b,a){var k;function c(d,g,m,h,n,p,q){this.IX=h;this.Teb=d;this.A5a=g;this.Pqa=m;this.INb=p;this.yC=q;this.split=n;}function l(){this.P={};this.P["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.P["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.P["3"]=new c("7","8","7","10","1.5",0,0);this.P["7"]=new c("15","16","15","9","4.5",0,0);this.P["15"]=new c("31","32","31","2","5.5",0,0);this.P["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.P["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.P["123"]=new c("123","124","123","0","0",1,.207298);this.P["124"]=new c("123","124","123","0","0",1,.49076);this.P["64"]=new c("125","126","125","4","40.5",0,0);this.P["125"]=new c("125","126","125","0","0",1,-.00157835);this.P["126"]=new c("125","126","125","0","0",1,.934205);this.P["32"]=new c("65","66","65","135","5.5",0,0);this.P["65"]=new c("127","128","128","4","1272.5",0,0);this.P["127"]=new c("127","128","128","0","0",1,-.510333);this.P["128"]=new c("127","128","128","0","0",1,.18363);this.P["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.P["129"]=new c("129","130","129","0","0",1,-.0464542);this.P["130"]=new c("129","130","129","0","0",1,.458833);this.P["16"]=new c("33","34","34","10","2.00001",0,0);this.P["33"]=new c("67","68","67","0","29.5",0,0);this.P["67"]=new c("131","132","131","2","39.5",0,0);this.P["131"]=new c("131","132","131","0","0",1,-.37577);this.P["132"]=new c("131","132","131","0","0",1,.512087);this.P["68"]=new c("133","134","134","140","1.5",0,0);this.P["133"]=new c("133","134","134","0","0",1,.321272);this.P["134"]=new c("133","134","134","0","0",1,-.675396);this.P["34"]=new c("69","70","70","2","24.5",0,0);this.P["69"]=new c("135","136","136","9","28.5",0,0);this.P["135"]=new c("135","136","136","0","0",1,-.0573845);this.P["136"]=new c("135","136","136","0","0",1,-.507455);this.P["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.P["137"]=new c("137","138","137","0","0",1,-.503909);this.P["138"]=new c("137","138","137","0","0",1,.450886);this.P["8"]=new c("17","18","17","4","44189.5",0,0);this.P["17"]=new c("35","36","35","2","21.5",0,0);this.P["35"]=new c("71","72","72","0","19.5",0,0);this.P["71"]=new c("139","140","140","9","2.5",0,0);this.P["139"]=new c("139","140","140","0","0",1,.00403497);this.P["140"]=new c("139","140","140","0","0",1,-.312656);this.P["72"]=new c("141","142","141","135","96",0,0);this.P["141"]=new c("141","142","141","0","0",1,-.465786);this.P["142"]=new c("141","142","141","0","0",1,.159633);this.P["36"]=new c("73","74","73","130","89.5",0,0);this.P["73"]=new c("143","144","144","10","4.5",0,0);this.P["143"]=new c("143","144","144","0","0",1,-.76265);this.P["144"]=new c("143","144","144","0","0",1,-.580804);this.P["74"]=new c("145","146","146","10","16.5",0,0);this.P["145"]=new c("145","146","146","0","0",1,.296357);this.P["146"]=new c("145","146","146","0","0",1,-.691659);this.P["18"]=new c("37","38","38","9","1.5",0,0);this.P["37"]=new c("37","38","38","0","0",1,.993951);this.P["38"]=new c("75","76","75","0","19",0,0);this.P["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.P["147"]=new c("147","148","147","0","0",1,-.346535);this.P["148"]=new c("147","148","147","0","0",1,-.995745);this.P["76"]=new c("147","148","147","0","0",1,-.99978);this.P["4"]=new c("9","10","9","5","4.5",0,0);this.P["9"]=new c("19","20","19","2","4.5",0,0);this.P["19"]=new c("39","40","39","140","7.5",0,0);this.P["39"]=new c("77","78","78","134","6.5",0,0);this.P["77"]=new c("149","150","150","7","11.5",0,0);this.P["149"]=new c("149","150","150","0","0",1,.729843);this.P["150"]=new c("149","150","150","0","0",1,.383857);this.P["78"]=new c("151","152","151","133","4.5",0,0);this.P["151"]=new c("151","152","151","0","0",1,.39017);this.P["152"]=new c("151","152","151","0","0",1,.0434342);this.P["40"]=new c("79","80","79","133","3.5",0,0);this.P["79"]=new c("153","154","154","8","4.5",0,0);this.P["153"]=new c("153","154","154","0","0",1,-.99536);this.P["154"]=new c("153","154","154","0","0",1,-.00943396);this.P["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.P["155"]=new c("155","156","155","0","0",1,.266272);this.P["156"]=new c("155","156","155","0","0",1,.959904);this.P["20"]=new c("41","42","42","10","65.5",0,0);this.P["41"]=new c("81","82","82","7","10.5",0,0);this.P["81"]=new c("157","158","158","2","37.5",0,0);this.P["157"]=new c("157","158","158","0","0",1,-.701873);this.P["158"]=new c("157","158","158","0","0",1,.224649);this.P["82"]=new c("159","160","159","133","9.5",0,0);this.P["159"]=new c("159","160","159","0","0",1,.0955181);this.P["160"]=new c("159","160","159","0","0",1,-.58962);this.P["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.P["83"]=new c("161","162","161","135","31",0,0);this.P["161"]=new c("161","162","161","0","0",1,-.229692);this.P["162"]=new c("161","162","161","0","0",1,.88595);this.P["84"]=new c("163","164","164","1","13.5",0,0);this.P["163"]=new c("163","164","164","0","0",1,-.992157);this.P["164"]=new c("163","164","164","0","0",1,.922159);this.P["10"]=new c("21","22","22","4","486",0,0);this.P["21"]=new c("43","44","44","133","4.5",0,0);this.P["43"]=new c("85","86","86","10","4.5",0,0);this.P["85"]=new c("165","166","166","4","158.5",0,0);this.P["165"]=new c("165","166","166","0","0",1,-.127778);this.P["166"]=new c("165","166","166","0","0",1,.955189);this.P["86"]=new c("165","166","166","0","0",1,-.994012);this.P["44"]=new c("87","88","88","1","3.5",0,0);this.P["87"]=new c("167","168","168","135","7",0,0);this.P["167"]=new c("167","168","168","0","0",1,-.997015);this.P["168"]=new c("167","168","168","0","0",1,.400821);this.P["88"]=new c("169","170","169","130","36",0,0);this.P["169"]=new c("169","170","169","0","0",1,-.898638);this.P["170"]=new c("169","170","169","0","0",1,.56129);this.P["22"]=new c("45","46","45","9","2.5",0,0);this.P["45"]=new c("89","90","90","9","1.5",0,0);this.P["89"]=new c("171","172","171","10","10.5",0,0);this.P["171"]=new c("171","172","171","0","0",1,.573986);this.P["172"]=new c("171","172","171","0","0",1,-.627266);this.P["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.P["173"]=new c("173","174","173","0","0",1,.925273);this.P["174"]=new c("173","174","173","0","0",1,-.994805);this.P["46"]=new c("91","92","91","136","5.5",0,0);this.P["91"]=new c("175","176","175","10","10.5",0,0);this.P["175"]=new c("175","176","175","0","0",1,.548352);this.P["176"]=new c("175","176","175","0","0",1,-.879195);this.P["92"]=new c("177","178","178","8","14.5",0,0);this.P["177"]=new c("177","178","178","0","0",1,.457305);this.P["178"]=new c("177","178","178","0","0",1,-.998992);this.P["2"]=new c("5","6","5","10","2.5",0,0);this.P["5"]=new c("11","12","11","9","4.5",0,0);this.P["11"]=new c("23","24","24","10","4.00001",0,0);this.P["23"]=new c("47","48","48","133","5.5",0,0);this.P["47"]=new c("93","94","93","3","13.5",0,0);this.P["93"]=new c("179","180","179","138","15.5",0,0);this.P["179"]=new c("179","180","179","0","0",1,.658398);this.P["180"]=new c("179","180","179","0","0",1,-.927007);this.P["94"]=new c("181","182","182","3","15.5",0,0);this.P["181"]=new c("181","182","182","0","0",1,-.111351);this.P["182"]=new c("181","182","182","0","0",1,-.99827);this.P["48"]=new c("95","96","95","7","167",0,0);this.P["95"]=new c("183","184","183","132","36.5",0,0);this.P["183"]=new c("183","184","183","0","0",1,.895161);this.P["184"]=new c("183","184","183","0","0",1,-.765217);this.P["96"]=new c("185","186","186","137","6.00001",0,0);this.P["185"]=new c("185","186","186","0","0",1,-.851095);this.P["186"]=new c("185","186","186","0","0",1,.674286);this.P["24"]=new c("49","50","49","137","5.5",0,0);this.P["49"]=new c("97","98","97","5","23.5",0,0);this.P["97"]=new c("187","188","187","3","28.5",0,0);this.P["187"]=new c("187","188","187","0","0",1,.951654);this.P["188"]=new c("187","188","187","0","0",1,-.993808);this.P["98"]=new c("187","188","187","0","0",1,-.99705);this.P["50"]=new c("187","188","187","0","0",1,-.997525);this.P["12"]=new c("25","26","25","8","8.5",0,0);this.P["25"]=new c("51","52","52","10","4.00001",0,0);this.P["51"]=new c("99","100","100","133","5.5",0,0);this.P["99"]=new c("189","190","190","7","40.5",0,0);this.P["189"]=new c("189","190","190","0","0",1,.151839);this.P["190"]=new c("189","190","190","0","0",1,-.855517);this.P["100"]=new c("191","192","192","133","14.5",0,0);this.P["191"]=new c("191","192","192","0","0",1,.86223);this.P["192"]=new c("191","192","192","0","0",1,.544394);this.P["52"]=new c("101","102","101","135","47.5",0,0);this.P["101"]=new c("193","194","194","4","24.5",0,0);this.P["193"]=new c("193","194","194","0","0",1,.946185);this.P["194"]=new c("193","194","194","0","0",1,.811859);this.P["102"]=new c("193","194","194","0","0",1,-.991561);this.P["26"]=new c("53","54","54","132","6.5",0,0);this.P["53"]=new c("103","104","103","131","85",0,0);this.P["103"]=new c("195","196","196","134","16.5",0,0);this.P["195"]=new c("195","196","196","0","0",1,.0473538);this.P["196"]=new c("195","196","196","0","0",1,-.999401);this.P["104"]=new c("197","198","198","8","15.5",0,0);this.P["197"]=new c("197","198","198","0","0",1,.816129);this.P["198"]=new c("197","198","198","0","0",1,-.99322);this.P["54"]=new c("105","106","105","133","3.5",0,0);this.P["105"]=new c("105","106","105","0","0",1,-.998783);this.P["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.P["199"]=new c("199","200","199","0","0",1,.528588);this.P["200"]=new c("199","200","199","0","0",1,-.998599);this.P["6"]=new c("13","14","14","10","7.5",0,0);this.P["13"]=new c("27","28","28","133","7.5",0,0);this.P["27"]=new c("55","56","56","10","4.5",0,0);this.P["55"]=new c("107","108","107","3","3.5",0,0);this.P["107"]=new c("201","202","201","4","17.5",0,0);this.P["201"]=new c("201","202","201","0","0",1,-.379512);this.P["202"]=new c("201","202","201","0","0",1,.15165);this.P["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.P["203"]=new c("203","204","203","0","0",1,-.884606);this.P["204"]=new c("203","204","203","0","0",1,.265406);this.P["56"]=new c("109","110","109","136","6.5",0,0);this.P["109"]=new c("205","206","205","4","157.5",0,0);this.P["205"]=new c("205","206","205","0","0",1,-.0142737);this.P["206"]=new c("205","206","205","0","0",1,.691279);this.P["110"]=new c("205","206","205","0","0",1,-.998086);this.P["28"]=new c("57","58","58","138","11.5",0,0);this.P["57"]=new c("111","112","112","2","6.5",0,0);this.P["111"]=new c("207","208","208","7","67.5",0,0);this.P["207"]=new c("207","208","208","0","0",1,.763925);this.P["208"]=new c("207","208","208","0","0",1,-.309645);this.P["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.P["209"]=new c("209","210","209","0","0",1,-.306635);this.P["210"]=new c("209","210","209","0","0",1,.556696);this.P["58"]=new c("113","114","113","138","50.5",0,0);this.P["113"]=new c("211","212","212","8","25.5",0,0);this.P["211"]=new c("211","212","212","0","0",1,.508234);this.P["212"]=new c("211","212","212","0","0",1,.793551);this.P["114"]=new c("211","212","212","0","0",1,-.998438);this.P["14"]=new c("29","30","29","134","27.5",0,0);this.P["29"]=new c("59","60","60","7","17.5",0,0);this.P["59"]=new c("115","116","115","135","5.5",0,0);this.P["115"]=new c("213","214","214","137","5.5",0,0);this.P["213"]=new c("213","214","214","0","0",1,.401747);this.P["214"]=new c("213","214","214","0","0",1,.0367503);this.P["116"]=new c("215","216","216","8","5.5",0,0);this.P["215"]=new c("215","216","216","0","0",1,-.0241984);this.P["216"]=new c("215","216","216","0","0",1,-.999046);this.P["60"]=new c("117","118","117","0","12.5",0,0);this.P["117"]=new c("217","218","218","132","5.5",0,0);this.P["217"]=new c("217","218","218","0","0",1,-.997294);this.P["218"]=new c("217","218","218","0","0",1,.210398);this.P["118"]=new c("219","220","219","137","1.5",0,0);this.P["219"]=new c("219","220","219","0","0",1,-.55763);this.P["220"]=new c("219","220","219","0","0",1,.074493);this.P["30"]=new c("61","62","62","133","42.5",0,0);this.P["61"]=new c("119","120","119","135","5.5",0,0);this.P["119"]=new c("221","222","222","4","473.5",0,0);this.P["221"]=new c("221","222","222","0","0",1,-.920213);this.P["222"]=new c("221","222","222","0","0",1,-.17615);this.P["120"]=new c("223","224","224","5","144",0,0);this.P["223"]=new c("223","224","224","0","0",1,-.954295);this.P["224"]=new c("223","224","224","0","0",1,-.382538);this.P["62"]=new c("121","122","121","133","50",0,0);this.P["121"]=new c("225","226","226","10","18.5",0,0);this.P["225"]=new c("225","226","226","0","0",1,-.0731343);this.P["226"]=new c("225","226","226","0","0",1,.755454);this.P["122"]=new c("227","228","228","0","30",0,0);this.P["227"]=new c("227","228","228","0","0",1,.25);this.P["228"]=new c("227","228","228","0","0",1,-.997101);}function f(d,g,m,h,n,p){this.p9=n;this.K2=p;}b=a(69208);k=a(54138);a={};a.Jsb=new (function(){this.znb=k();this.Oa=0;this.update=function(){this.Oa=k() - this.znb;};this.type="num";})();a.sOb=new (function(){this.type="cat";})();a.tOb=new (function(){this.type="cat";})();a.vOb=new (function(){this.type="cat";})();a.wOb=new (function(){this.type="cat";})();a.uOb=new (function(){this.type="cat";})();a.xOb=new (function(){this.type="cat";})();a.yOb=new (function(){this.type="cat";})();a.zOb=new (function(){this.type="cat";})();a.AOb=new (function(){this.type="cat";})();a.BOb=new (function(){this.type="cat";})();a.COb=new (function(){this.type="cat";})();a.DOb=new (function(){this.type="cat";})();a.FOb=new (function(){this.type="cat";})();a.GOb=new (function(){this.type="cat";})();a.HOb=new (function(){this.type="cat";})();a.EOb=new (function(){this.type="cat";})();a.vtb=new (function(){this.update=function(d){for(var g in d.Gb){if("becauseYouAdded" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.wtb=new (function(){this.update=function(d){for(var g in d.Gb){if("becauseYouLiked" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.ytb=new (function(){this.update=function(d){for(var g in d.Gb){if("billboard" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.Twb=new (function(){this.update=function(d){for(var g in d.Gb){if("continueWatching" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.xtb=new (function(){this.update=function(d){for(var g in d.Gb){if("bigRow" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.iGb=new (function(){this.update=function(d){for(var g in d.Gb){if("genre" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.IRb=new (function(){this.update=function(d){for(var g in d.Gb){if("netflixOriginals" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.NRb=new (function(){this.update=function(d){for(var g in d.Gb){if("newRelease" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.BVb=new (function(){this.update=function(d){for(var g in d.Gb){if("popularTitles" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.YM=new (function(){this.update=function(d){for(var g in d.Gb){if("queue" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.BXb=new (function(){this.update=function(d){for(var g in d.Gb){if("recentlyAdded" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.e1b=new (function(){this.update=function(d){for(var g in d.Gb){if("similars" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.X3b=new (function(){this.update=function(d){for(var g in d.Gb){if("trendingNow" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.u4b=new (function(){this.update=function(d){for(var g in d.Gb){if("ultraHD" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.w6b=new (function(){this.update=function(d){for(var g in d.Gb){if("watchAgain" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.L3b=new (function(){this.update=function(d){for(var g in d.Gb){if("topTen" === d.Gb[g].context){this.Oa=Math.max(d.Gb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.cxb=new (function(){this.type="cat";})();a.dxb=new (function(){this.type="cat";})();a.exb=new (function(){this.type="cat";})();a.fxb=new (function(){this.type="cat";})();a.gxb=new (function(){this.type="cat";})();a.hxb=new (function(){this.type="cat";})();a.ixb=new (function(){this.type="cat";})();a.jxb=new (function(){this.type="cat";})();a.kxb=new (function(){this.type="cat";})();a.lxb=new (function(){this.type="cat";})();a.mxb=new (function(){this.type="cat";})();a.nxb=new (function(){this.type="cat";})();a.oxb=new (function(){this.type="cat";})();a.pxb=new (function(){this.type="cat";})();a.qxb=new (function(){this.type="cat";})();a.rxb=new (function(){this.type="cat";})();a.sxb=new (function(){this.type="cat";})();a.txb=new (function(){this.type="cat";})();a.uxb=new (function(){this.type="cat";})();a.vxb=new (function(){this.type="cat";})();a.wxb=new (function(){this.type="cat";})();a.xxb=new (function(){this.type="cat";})();a.yxb=new (function(){this.type="cat";})();a.zxb=new (function(){this.type="cat";})();a.Axb=new (function(){this.type="cat";})();a.Bxb=new (function(){this.type="cat";})();a.Cxb=new (function(){this.type="cat";})();a.Dxb=new (function(){this.type="cat";})();a.Exb=new (function(){this.type="cat";})();a.Fxb=new (function(){this.type="cat";})();a.Gxb=new (function(){this.type="cat";})();a.Hxb=new (function(){this.type="cat";})();a.Ixb=new (function(){this.type="cat";})();a.Jxb=new (function(){this.type="cat";})();a.Kxb=new (function(){this.type="cat";})();a.Lxb=new (function(){this.type="cat";})();a.Mxb=new (function(){this.type="cat";})();a.Nxb=new (function(){this.type="cat";})();a.Oxb=new (function(){this.type="cat";})();a.Pxb=new (function(){this.type="cat";})();a.Qxb=new (function(){this.type="cat";})();a.Rxb=new (function(){this.type="cat";})();a.Sxb=new (function(){this.type="cat";})();a.Txb=new (function(){this.type="cat";})();a.Uxb=new (function(){this.type="cat";})();a.Vxb=new (function(){this.type="cat";})();a.Wxb=new (function(){this.type="cat";})();a.Xxb=new (function(){this.type="cat";})();a.Yxb=new (function(){this.type="cat";})();a.Zxb=new (function(){this.type="cat";})();a.$xb=new (function(){this.type="cat";})();a.ayb=new (function(){this.type="cat";})();a.byb=new (function(){this.type="cat";})();a.cyb=new (function(){this.type="cat";})();a.dyb=new (function(){this.type="cat";})();a.eyb=new (function(){this.type="cat";})();a.fyb=new (function(){this.type="cat";})();a.gyb=new (function(){this.type="cat";})();a.hyb=new (function(){this.type="cat";})();a.iyb=new (function(){this.type="cat";})();a.jyb=new (function(){this.type="cat";})();a.kyb=new (function(){this.type="cat";})();a.lyb=new (function(){this.type="cat";})();a.myb=new (function(){this.type="cat";})();a.nyb=new (function(){this.type="cat";})();a.oyb=new (function(){this.type="cat";})();a.pyb=new (function(){this.type="cat";})();a.qyb=new (function(){this.type="cat";})();a.ryb=new (function(){this.type="cat";})();a.syb=new (function(){this.type="cat";})();a.tyb=new (function(){this.type="cat";})();a.uyb=new (function(){this.type="cat";})();a.vyb=new (function(){this.type="cat";})();a.wyb=new (function(){this.type="cat";})();a.xyb=new (function(){this.type="cat";})();a.yyb=new (function(){this.type="cat";})();a.zyb=new (function(){this.type="cat";})();a.Ayb=new (function(){this.type="cat";})();a.Byb=new (function(){this.type="cat";})();a.EXb=new (function(){this.type="cat";})();a.FXb=new (function(){this.type="cat";})();a.GXb=new (function(){this.type="cat";})();a.HXb=new (function(){this.type="cat";})();a.IXb=new (function(){this.type="cat";})();a.JXb=new (function(){this.type="cat";})();a.KXb=new (function(){this.type="cat";})();a.LXb=new (function(){this.type="cat";})();a.MXb=new (function(){this.type="cat";})();a.NXb=new (function(){this.type="cat";})();a.OXb=new (function(){this.type="cat";})();a.PXb=new (function(){this.type="cat";})();a.QXb=new (function(){this.type="cat";})();a.RXb=new (function(){this.type="cat";})();a.SXb=new (function(){this.type="cat";})();a.TXb=new (function(){this.type="cat";})();a.UXb=new (function(){this.type="cat";})();a.VXb=new (function(){this.type="cat";})();a.WXb=new (function(){this.type="cat";})();a.XXb=new (function(){this.type="cat";})();a.YXb=new (function(){this.type="cat";})();a.ZXb=new (function(){this.type="cat";})();a.$Xb=new (function(){this.type="cat";})();a.y2b=new (function(){this.update=function(d){"down" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.A2b=new (function(){this.update=function(d){"right" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.z2b=new (function(){this.update=function(d){"left" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.B2b=new (function(){this.update=function(d){"up" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.uQb=new (function(){this.Oa=0;this.update=function(d){this.Oa=Math.max(this.Oa,d.rowIndex);};this.type="num";})();a.vQb=new (function(){this.Oa=0;this.update=function(d){this.Oa=Math.max(this.Oa,d.yTa);};this.type="num";})();a.AQb=new (function(){this.PD=this.Oa=0;this.update=function(d){this.PD++;this.Oa=1 * (this.Oa + d.rowIndex) / this.PD;};this.type="num";})();a.BQb=new (function(){this.PD=this.Oa=0;this.update=function(d){this.PD++;return this.Oa=1 * (this.Oa + d.yTa) / this.PD;};this.type="num";})();a.iWb=new (function(){this.type="num";})();a.jWb=new (function(){this.type="num";})();l.prototype.yC=function(d){return this.DPa(this.P["0"].i$a(d),d);};l.prototype.DPa=function(d,g){return "string" == typeof d?this.DPa(this.P[d].i$a(g),g):d;};c.prototype.i$a=function(d){switch(this.INb){case 0:switch(d.features[this.IX].type){case "cat":return null === d.features[this.IX].value?this.A5a:"missing" == d.features[this.IX].value?this.Pqa:this.Teb;case "num":return null === d.features[this.IX].value?this.Pqa:d.features[this.IX].value < this.split?this.Teb:this.A5a;default:return this.Pqa;}case 1:return this.yC;default:return this.yC;}};b.declare({ZU:["modelSelector","modelone"],lwb:["colEpisodeList",5],eLb:["holdDuration",15E3],V9a:["rowFirst",2],xTa:["colFirst",5],W9a:["rowScroll",2],zTa:["colScroll",6],yZb:["rowScrollHorizontal",6],VZb:["searchTop",3],$Ua:["cwFirst",2],LT:["horizontalItemsFocusedMode",3],JNb:["itemsPerRank",1],gQb:["maxNumberPayloadsStored",10],n4a:["maxNumberTitlesScheduled",5],Ucc:["enableDetailedLogging",!0],Qfc:["rowStep",20],icc:["colStep",15],rfc:["pageRows",100],qfc:["pageColumns",75],fqa:["maskParamsList",new (function(){var d,g;this.fqa=[];this.Yk={};this.p9=20;this.K2=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.p9) + "_" + Math.floor(g / this.K2) in this.Yk) || (this.Yk[Math.floor(d / this.p9) + "_" + Math.floor(g / this.K2)]=1,this.fqa.push(new f("grid",10,5,5,Math.floor(d / this.p9),Math.floor(g / this.K2))));}}})().fqa],P:["nodes",new l().P],mapping:["mapping",{vQb:"0",BQb:"1",uQb:"2",AQb:"3",Jsb:"4",B2b:"5",z2b:"6",A2b:"7",y2b:"8",jWb:"9",iWb:"10",sOb:"11",tOb:"12",vOb:"13",wOb:"14",uOb:"15",xOb:"16",yOb:"17",zOb:"18",AOb:"19",BOb:"20",COb:"21",DOb:"22",EOb:"23",FOb:"24",GOb:"25",HOb:"26",EXb:"27",FXb:"28",GXb:"29",HXb:"30",IXb:"31",JXb:"32",KXb:"33",LXb:"34",MXb:"35",NXb:"36",OXb:"37",PXb:"38",QXb:"39",RXb:"40",SXb:"41",TXb:"42",UXb:"43",VXb:"44",WXb:"45",XXb:"46",YXb:"47",ZXb:"48",$Xb:"49",cxb:"50",dxb:"51",exb:"52",fxb:"53",gxb:"54",hxb:"55",ixb:"56",jxb:"57",kxb:"58",lxb:"59",mxb:"60",nxb:"61",oxb:"62",pxb:"63",qxb:"64",rxb:"65",sxb:"66",txb:"67",uxb:"68",vxb:"69",wxb:"70",xxb:"71",yxb:"72",zxb:"73",Axb:"74",Bxb:"75",Cxb:"76",Dxb:"77",Exb:"78",Fxb:"79",Gxb:"80",Hxb:"81",Ixb:"82",Jxb:"83",Kxb:"84",Lxb:"85",Mxb:"86",Nxb:"87",Oxb:"88",Pxb:"89",Qxb:"90",Rxb:"91",Sxb:"92",Txb:"93",Uxb:"94",Vxb:"95",Wxb:"96",Xxb:"97",Yxb:"98",Zxb:"99",$xb:"100",ayb:"101",byb:"102",cyb:"103",dyb:"104",eyb:"105",fyb:"106",gyb:"107",hyb:"108",iyb:"109",jyb:"110",kyb:"111",lyb:"112",myb:"113",nyb:"114",oyb:"115",pyb:"116",qyb:"117",ryb:"118",syb:"119",tyb:"120",uyb:"121",vyb:"122",wyb:"123",xyb:"124",yyb:"125",zyb:"126",Ayb:"127",Byb:"128",w6b:"129",BXb:"130",e1b:"131",YM:"132",Twb:"133",iGb:"134",X3b:"135",L3b:"136",ytb:"137",NRb:"138",u4b:"139",BVb:"140",vtb:"141",xtb:"142",wtb:"143",IRb:"144"}],features:["features",a],kbc:["_modelName","tree"],dbc:["_format","xgboost"],ibc:["_itemsToKeep",5],hbc:["_itemsThreshold",null],Tbc:["cacheLimit",20]});r.exports={config:b,vec:f,scc:c};},47151:function(r){r.exports={qw:{pea:0,gLa:1,Ck:2,name:["transient","semiTransient","permanent"]},lw:{TCa:0,fLa:1,L_:2,LP:3,Kw:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},Sac:{Gac:0,H9b:1,a8b:2,Kw:100,name:["trailer","montage","content"]},fu:{jFa:0,LKa:1,pmb:2,qhb:3,Kw:100,name:["left","right","up","down"]},oP:{Dgb:0,L_:1,r9b:2,N8b:3,x7b:4,q9b:5,Bfb:6,Kw:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},FI:{LP:0,mBa:1,Kw:100,name:["playFocused","detailsOpened"]}};},81079:function(r,b,a){var f,k,d,g,m,h,n,p,q,u;function c(t,w){this.Hj=t;this.Jl=w;}function l(t){this.V=t;this.reset();}f=a(54138);k=a(47151);b=a(33887);d=a(78378).config;g=b.XGb;m=b.GGb;h=b.oBb;n=b.FSb;p=b.ESb;q=b.DSb;u=b.CXa;l.prototype.constructor=l;l.prototype.reset=function(){this.gPa=void 0;this.Zj=[];this.ZOa=this.$Oa=!1;};l.prototype.update=function(t,w){var v;this.Zj && (this.Zj=this.Zj.filter(this.Q0b,this));if(!1 === this.$Oa){v=g(t.Gb).slice(0,d.$Ua);0 < v.length && (this.AG(v,k.qw.Ck),this.$Oa=!0,this.Zj=this.bI(v.concat(this.Zj)));}!1 === this.ZOa && (v=m(t.Gb).slice(0,d.$Ua),0 < v.length && (this.AG(v,k.qw.Ck),this.ZOa=!0,this.Zj=this.bI(v.concat(this.Zj))));switch(w){case k.lw.TCa:w=this.oKb(t);break;case k.lw.fLa:w=this.yKb(t);break;case k.lw.L_:w=this.zKb(t);break;case k.lw.LP:w=this.tKb(t);break;default:w=this.lKb(t);}this.gPa=t;return w;};l.prototype.oKb=function(t){t=n(t.Gb,d.V9a,d.xTa);this.AG(t,k.qw.Ck);return this.Zj=this.bI(this.Zj.concat(t));};l.prototype.yKb=function(t){var w,v;this.V.log("handleScrollHorizontal");w=t.Gb;t=n(w,d.W9a,d.zTa);v=h(w,this.gPa.Gb);w=w[v].list.slice(0,d.yZb);w.concat(t);this.AG(w,k.qw.pea);return this.bI(w.concat(this.Zj));};l.prototype.AG=function(t,w){t.forEach(function(v){if(void 0 === v.CA || v.CA < w)v.CA=w;void 0 === v.XN && (v.XN=f());void 0 === v.Lk && (v.Lk=f());});};l.prototype.zKb=function(t){this.V.log("handleSearch");t=p(t.Gb,d.VZb);this.AG(t,k.qw.gLa);this.Zj=t.concat(this.Zj);return this.Zj=this.bI(this.Zj);};l.prototype.tKb=function(t){var w,v,y,x,z;this.V.log("handlePlayFocus: ",d.LT);w=t.direction;v=t.Gb;t=[];y=u(v);if(void 0 !== y.Hj)switch((t.push(y),w)){case k.fu.LKa:for(w=1;w < d.LT;w++){t.push(new c(y.Hj,y.Jl + w));}t.push(new c(y.Hj - 1,y.Jl));t.push(new c(y.Hj + 1,y.Jl));break;case k.fu.jFa:for(w=1;w < d.LT;w++){t.push(new c(y.Hj,y.Jl - w));}t.push(new c(y.Hj - 1,y.Jl));t.push(new c(y.Hj + 1,y.Jl));break;case k.fu.pmb:t.push(new c(y.Hj - 1,y.Jl));for(w=1;w <= d.LT / 2;w++){t.push(new c(y.Hj,y.Jl + w));t.push(new c(y.Hj,y.Jl - w));}break;case k.fu.qhb:for((t.push(new c(y.Hj + 1,y.Jl)),w=1);w <= d.LT / 2;w++){t.push(new c(y.Hj,y.Jl + w));t.push(new c(y.Hj,y.Jl - w));}}x=[];t.forEach(function(A){z=q(v,A.Hj,A.Jl);void 0 !== z && x.push(z);});this.AG(x,k.qw.pea);return this.bI(x.concat(this.Zj));};l.prototype.lKb=function(t){this.V.log("ModelOne: handleDefaultCase");t=n(t.Gb,d.W9a,d.zTa);this.AG(t,k.qw.pea);return this.bI(t.concat(this.Zj));};l.prototype.Q0b=function(t){return t.CA == k.qw.Ck | t.CA == k.qw.gLa & f() - t.XN < d.eLb;};l.prototype.bI=function(t){var w,v,y,x,z,A,B;w=[];v={};x=0;z=t.length;for(y=0;y < z;y++){A=t[y].J;B=t[y];!1 === (A in v)?(w.push(B),v[A]=x,x++):(A=w[v[A]],B.Lk < A.Lk && (A.Lk=B.Lk),B.CA > A.CA && (A.CA=B.CA),B.XN > A.XN && (A.XN=B.XN));}return w;};r.exports=l;},14845:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.og)return (this.og={},this.og[c]=[l],!0);f=this.og[c];return void 0 === f?(this.og[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.og?this.og[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.og)return !1;f=this.og[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.og[c],!0);f.splice(l,1);return !0;},xq:a,emit:a,removeAllListeners:function(c){this.og && (void 0 === c?delete this.og:delete this.og[c]);return this;}};},14828:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,k){f=k?f.bind(k):f;k=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,f);else if("function" === typeof c.addListener)k=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},25660:function(r,b,a){r.exports={EventEmitter:a(14845),Re:a(14828)};},92997:function(r,b,a){var k,d,g,m,h,n,p;function c(q,u,t,w,v,y){this.O=this.J=q;this.priority=u;this.xe=t;y && y.xd && (this.xd=y.xd);void 0 !== w && (this.HM=w);this.Lk=v;this.nb=y;}function l(q,u,t,w,v){g(void 0 !== w,"video preparer is null");g(void 0 !== v,"ui preparer is null");this.V=u || console;this.V=u;this.ja=t;this.dqb=w;this.Upb=v;this.fPa=n.Usa;this.JJ=[];this.pga=!1;this.tQ=0;new p().on(n,"changed",f,this);this.reset();}function f(){this.V.log("config changed");n.Usa && (this.fPa=n.Usa);n.ZU !== this.AJ && (this.reset(),this.bua());}k=a(54138);d=a(47151);b=a(33887);g=b.assert;m=b.CXa;h=a(81079);n=a(78378).config;p=a(25660).Re;n.declare({Usa:["ppmConfig",{S7b:{V5a:0,U5a:2,S5a:0,T5a:5,nab:0},xac:{V5a:0,U5a:1,S5a:0,T5a:3,nab:1E3},c8b:{V5a:0,U5a:1,S5a:0,T5a:3,nab:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.kfa=!0;this.AJ=n.ZU;this.V.log("create model: " + n.ZU,n.V9a,n.xTa);switch(n.ZU){case "modelone":this.AJ=new h(this.V);break;default:this.AJ=new h(this.V);}};l.prototype.bua=function(){var u,t;if(!1 === this.pga){this.pga=!0;for(var q=0;q < this.JJ.length;q++){this.V.log("PlayPredictionModel replay: ",JSON.stringify(this.JJ[q]));u=this.iUa(this.JJ[q]);t=this.oYa(u);this.AJ.update(u,t);this.kfa=!1;}this.JJ=[];}};l.prototype.update=function(q){var u,t,w;this.V.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Gb && q.Gb[0]){!1 === this.pga && this.JJ.length < n.gQb && this.JJ.push(q);u=this.iUa(q);t=this.oYa(u);this.V.log("actionType",t);u="mlmodel" == n.ZU?this.AJ.update(q,t):this.AJ.update(u,t);u=this.hGb(u,n.JNb || 1);this.V.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.tQ && (this.tQ=k(),this.ja && this.ja.hW && this.ja.hW({mBb:this.tQ}));if(this.ja && this.ja.FYb){this.fHb();w=[];u.forEach(function(v){w.push({Tgc:v.J});});JSON.stringify(q);JSON.stringify(u);}this.dqb.$G(u);this.Upb.$G(u);this.kfa=!1;}};l.prototype.fHb=function(){k();};l.prototype.hW=function(){this.tQ=k();this.ja && this.ja.hW && this.ja.hW({mBb:this.tQ});};l.prototype.iUa=function(q){var u,t,w,v,y;u={};w=q.Gb || [];v=(function(x){var z,A;z={};y=d.oP.name.indexOf(x.context);z.context=0 <= y?y:d.oP.Kw;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(B){A={J:B.J,xe:B.xe,index:B.index,HM:B.HM,F8:B.F8,list:B.list,nb:B.nb};void 0 !== B.property && (y=d.FI.name.indexOf(B.property),A.property=0 <= y?y:d.FI.Kw);z.list.push(A);}).bind(this));u.Gb.push(z);}).bind(this);if(void 0 !== q.direction){y=d.fu.name.indexOf(q.direction);u.direction=0 <= y?y:d.fu.Kw;}void 0 !== q.RS && (u.kdc=q.RS.rowIndex,u.jdc=q.RS.pwb);u.RS=q.RS;u.Gb=[];w.forEach(v);return u;};l.prototype.oYa=function(q){var u,t,w;u=q.direction || d.fu.Kw;t=q.RS;w=q.Gb || [];!0 === this.kfa?q=d.lw.TCa:!0 === w.some(this.RKb)?(q=d.lw.LP,this.h9(w,u,t)):q=w[0].context === d.oP.L_?d.lw.L_:u === d.fu.LKa || u === d.fu.jFa?d.lw.fLa:d.lw.Kw;return q;};l.prototype.RKb=function(q){return (q.list || []).some(function(u){return u.property === d.FI.LP || u.property === d.FI.mBa;});};l.prototype.h9=function(q,u,t){var w,v;this.V.log("reportPlayFocusEvent: ",u,t);w={};v=m(q);this.ja && this.ja.h9 && (w.$cc=k(),w.direction=d.fu.name[u],t && (w.rowIndex=t.rowIndex,w.yTa=t.pwb),void 0 !== v.Hj && (w.requestId=q[v.Hj].requestId),this.ja.h9 && this.ja.h9(w));};l.prototype.hGb=function(q,u){for(var t=q.length,w=[],v,y,x,z,A=0;A < t;A++){y=q[A];v=Math.floor(A / u) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var B=0;B < Math.min(n.lwb,z) && !(x[B].Lk=y.Lk,this.AQa(x[B],v,w),w.length >= n.n4a);B++){;}}else this.AQa(y,v,w);if(w.length >= n.n4a)break;}return w;};l.prototype.AQa=function(q,u,t){var v,y;function w(x){x.xd && (x.nb || (x.nb={}),x.nb.xd=x.xd);return x.nb;}v=q.F8;if(void 0 !== v && v instanceof Array)v.forEach(function(x){void 0 !== x.J && (y=w(x),t.push(new c(x.J,u,x.xe,x.HM,q.Lk,y)));});else if(void 0 !== v && void 0 !== v.J){v=q.F8;y=w(v);t.push(new c(v.J,u,v.xe,v.HM,q.Lk,y));}void 0 !== q.J && (y=w(q),t.push(new c(q.J,u,q.xe,q.HM,q.Lk,y)));};l.prototype.BF=function(q){var u;u=this.fPa;return q?u[q]:u;};r.exports=l;},33887:function(r,b,a){var l;function c(f){for(var k="",d=0;d < f.length;d++){k+=f[d].J + "|";}return k;}l=a(47151);r.exports={assert:function(f,k){if(!f)throw Error("PlayPredictionModel assertion failed" + (k?" : " + k:""));},Ydc:function(f,k,d){Array.prototype.splice.apply(f,[k,0].concat(d));},XGb:function(f){for(var k=[],d=0;d < f.length;d++){if(f[d].context === l.oP.Dgb){k=f[d].list;break;}}return k;},GGb:function(f){for(var k=[],d=0;d < f.length;d++){if(f[d].context === l.oP.Bfb){k=f[d].list;break;}}return k;},oBb:function(f,k){for(var d=0,g,m,h,n=0,p=f.length - 1;n < p;n++){g=c(f[n].list || []);h=!1;for(var q=0,u=k.length;q < u;q++){if((m=c(k[q].list || []),m == g)){h=!0;break;}}if(!1 === h){d=n;break;}}return d;},FSb:function(f,k,d){for(var g=[],m,h=0;h < Math.min(k,f.length);h++){m=f[h].list || [];g=g.concat(m.slice(0,d));}return g;},ESb:function(f,k){for(var d=[],g,m=0;m < f.length && (g=f[m].list || [],g=g.slice(0,Math.min(g.length,k)),k-=g.length,d=d.concat(g),0 !== k);m++){;}return d;},DSb:function(f,k,d){var g;k < f.length && 0 <= k && (f=f[k].list || [],d < f.length && (g=f[d]));return g;},CXa:function(f){for(var k={},d=f.length,g,m=0;m < d;m++){g=f[m].list || [];for(var h=0;h < g.length;h++){if(g[h].property === l.FI.LP || g[h].property === l.FI.mBa){k.Hj=m;k.Jl=h;break;}}}void 0 === k.Hj && void 0 === k.Jl && (k.Hj=0,k.Jl=0);return k;}};},69208:function(r,b,a){var m,h,n,p,q,u,t,w;function c(v){return v.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function l(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function f(v,y,x){var z;if("string" === typeof v)return f.call(this,c(v),y,x);z=0;Object.keys(v).forEach(function(A){var B,D,C;B=q[A];D=v[A];if(B){if(C=u[A] || w[typeof m[B]])try{D=C(D);}catch(F){x && x.error("Failed to convert value '" + D + "' for config '" + A + "' : " + F.toString());return;}C=p[B];this[B]=D;p[B] !== C && (x && x.debug("Config changed for '" + A + "' from " + l(C) + " (" + typeof C + ") to " + l(D) + " (" + typeof D + ")"),++z);}else y?(B=(B=t[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,D]),t[A]=B):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function k(){return Object.keys(q).reduce(function(v,y){var x,z;x=q[y];z=v[x];z?(z.push(y),v[x]=z.sort(function(A,B){return B.length - A.length;})):v[x]=[y];return v;},{});}function d(v,y){return v.hasOwnProperty(y)?l(v[y]):void 0;}function g(v,y){return "undefined" === typeof v?y:v;}b=a(6328);a=a(30810).EventEmitter;m={};h=Object.create(m);n=Object.create(h);p=Object.create(n);q={};u={};t={};p.declare=function(v){Object.keys(v).forEach(function(y){var x,z,A,B;x=v[y];z=x[0];A=x[1];B=x[2];if(m.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(D){var C;if(q.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");m.hasOwnProperty(y) || ("function" === typeof A && (A=A()),m[y]=A);q[D]=y;"function" === typeof B && (u[D]=B);if(C=t[D])(C.forEach(function(F){var G,E;G=F[0];E={};E[D]=F[1];f.call(G,E,!1);}),delete t[D]);});});return p;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};p.set=f.bind(h);p.xV=f.bind(n);p.dump=function(v,y){var z,A,B,D;function x(){D && v && v.log("===========================================");}z=Object.keys(t).sort();A={};B=k();y=g(y,!0);Object.keys(q).sort().forEach(function(C){var F,G,E;C=q[C];if(!A[C]){A[C]=!0;F=d(h,C);G=d(n,C);if(y || "undefined" !== typeof F || "undefined" !== typeof G){E=B[C].join(",");E+=" = " + l(p[C]) + " (" + typeof p[C] + ") [";E+=g(G,"<unset>") + ",";E+=g(F,"<unset>") + ",";E+=d(m,C) + "]";D || (D=!0,v && v.log("Current config values"),x());v && v.log(E);}}});(y || z.length) && v && v.log("<undeclared> :",z);x();};p.Gn=function(v){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});v && f.call(y,v);return y;};p.c7a=function(){var v;v=k();return Object.getOwnPropertyNames(h).reduce(function(y,x){y[v[x][0]]=h[x];return y;},{});};p.reset=function(){Object.keys(h).forEach(function(v){delete h[v];});};p.og={};b(a,p);r.exports=Object.freeze(p);},46152:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.og)return (this.og={},this.og[c]=[l],!0);f=this.og[c];return void 0 === f?(this.og[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.og?this.og[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.og)return !1;f=this.og[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.og[c],!0);f.splice(l,1);return !0;},xq:a,emit:a,removeAllListeners:function(c){this.og && (void 0 === c?delete this.og:delete this.og[c]);return this;}};},1471:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,k){f=k?f.bind(k):f;k=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,f);else if("function" === typeof c.addListener)k=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},30810:function(r,b,a){r.exports={EventEmitter:a(46152),Re:a(1471)};},5130:function(r,b,a){var f,k,d,g;function c(m,h,n){void 0 === n && (n=0);return m.displayTime - n <= h && h < m.displayTime + m.duration;}function l(m,h){for(var n=0;n < m.length;n++){if(h(m[n],n,m))return m[n];}}Object.defineProperty(b,"__esModule",{value:!0});b.Hc=b.igb=b.pza=void 0;f=a(70655);k=a(91854);d=a(28075);r=(function(m){function h(n,p,q,u,t,w,v,y){var x,z,A;x=this;x=m.call(this) || this;x.Dnb=n;x.zQ=p;x.Jnb=q;x.la=u;x.dt=t;x.Tma=w;x.p8=v;x.options=y;x.oj=[];x.Ii=[];x.Gi=[];x.Fsa=new d.Re();x.Wua=new d.Re();x.I2=new d.Re();x.Rz=new g(function(){return p(n());},x.la,(null === (z=x.options) || void 0 === z?void 0:z.ia) || !1);x.Rz.events.on("bufferingcomplete",function(){var B;x.la.trace("AseTimer:Received buffering complete from watcher");null === (B=x.xm) || void 0 === B?void 0:B.Sf();x.yra();});x.Rz.Tsa();x.rab();x.Fsa.on(x.p8,"segmentPresenting",function(){x.n6a();});x.Fsa.on(x.p8,"taskSchedulerChanged",function(){x.rab();});null === (A=x.xm) || void 0 === A?void 0:A.Pa();return x;}f.__extends(h,m);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.Rz.KR;},enumerable:!1,configurable:!0});h.prototype.t2b=function(){var n,p,q,u,t,w,v,y,x,z,A,B,D,C;C=this;return f.__generator(this,function(F){switch(F.label){case 0:this.la.trace("AseTimer:Starting subtitle worker");if(this.dt())return (this.la.trace("Paused: exiting"),[2]);n=function(){return C.Gd.qa.currentTime.G;};p=this.Dnb;this.Gi=this.Ii.concat(this.oj);this.e8a(p(),!0);F.label=1;case 1:if(!this.Gi.length)return [3,3];u=q=p();this.WSa(q);try{for((t=(B=void 0,f.__values(this.Gi)),w=t.next());!w.done;w=t.next()){v=w.value;this.la.trace(("AseTimer:Checking subtitle ").concat(v.id));q >= v.displayTime + v.duration || (c(v,q,this.options.ygc)?(this.la.trace(("AseTimer:Showing subtitle ").concat(v.id)),this.fWb(v),u=Math.max(q,v.displayTime)):(this.la.trace(("AseTimer:Staging subtitle ").concat(v.id)),this.awa(v)));}}catch(G){B={error:G};}finally{try{w && !w.done && (D=t.return) && D.call(t);}finally{if(B)throw B.error;}}y=this.wub(u);if(!isFinite(y))return (this.Rz.Tsa(),[3,3]);x=n();z=this.Jnb(y,q);if(void 0 === z)return [3,3];A=Math.max(z,10) + x;this.la.trace(("AseTimer:Sleeping till PlayerTime ").concat(A));return [4,k.Pg.Tt(k.N.Ma(A))];case 2:return (F.Qa(),this.e8a(p()),[3,1]);case 3:return (this.la.trace(("AseTimer:Checking removed subtitles one more time ").concat(p())),this.WSa(p()),this.la.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.e8a=function(n,p){var q,u,t,w,v;u=this;void 0 === p && (p=!1);t=p || !this.oj.length;t || (t=this.Gi[this.Gi.length - 1].displayTime > n);if(t){this.la.trace(("AseTimer:Getting subtitles for ").concat(n),{pcc:this.Gd.qa.currentTime});w=this.zQ(n);if(w){this.la.trace(("AseTimer:Received ").concat(w.length," subtitles"));t=function(A){l(v.Gi,function(B){return B.id === A.id;}) || n >= A.displayTime + A.duration || (v.la.trace(("AseTimer:adding ").concat(A.id),{start:A.startTime,Icc:A.displayTime,end:A.endTime,Qcc:A.duration}),v.Gi.push(A));};v=this;try{for(var y=f.__values(w),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Gi.filter(function(A){return !l(w,function(B){return B.id === A.id;});}).forEach(function(A){return u.qV(A);});this.Gi.length || this.Rz.Tsa();}else this.uh();}};h.prototype.stop=function(){var n;this.la.trace("AseTimer:Stop");null === (n=this.xm) || void 0 === n?void 0:n.Pa();this.Rz.reset();this.b9();this.Fsa.clear();this.Wua.clear();this.I2.clear();};h.prototype.b9=function(){var n,p,q,u;this.la.trace("AseTimer:Removing all",this.Ii.length);u=this.Ii;try{for(var t=f.__values(u),w=t.next();!w.done;w=t.next()){this.qV(w.value);}}catch(y){var v;v={error:y};}finally{try{w && !w.done && (n=t.return) && n.call(t);}finally{if(v)throw v.error;}}this.Ii=[];if(null === (p=this.xm) || void 0 === p?0:p.y1a)null === (q=this.xm) || void 0 === q?void 0:q.Pa();};h.prototype.pause=function(){var n;null === (n=this.xm) || void 0 === n?void 0:n.Pa();};h.prototype.hz=function(){var n,p,q,u;(null === (n=this.xm) || void 0 === n?void 0:n.state) !== k.Ek.complete && (null === (p=this.xm) || void 0 === p?void 0:p.state) !== k.Ek.dF || this.dt() || (null === (q=this.xm) || void 0 === q?void 0:q.Sf());this.xn && this.Rz.check();this.dt() && (null === (u=this.xm) || void 0 === u?void 0:u.Pa());};h.prototype.rab=function(){var n;n=this;this.la.trace("Setting up new task scheduler");(this.Gd=this.Tma())?(this.Wua.clear(),this.Wua.on(this.Gd,"clockChanged",function(){return n.c6a();}),this.xm=this.Gd.Hx(function(){return n.t2b();},"subtitleWorker"),this.c6a()):this.la.warn("AseTimer: no player task scheduler");};h.prototype.wub=function(n){var p;return null !== (p=this.Gi.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,u){return q.concat(u);},[]).filter(function(q){return q > n;}).sort(function(q,u){return q - u;})[0]) && void 0 !== p?p:Infinity;};h.prototype.c6a=function(){var n,p,q;n=this;this.I2.clear();(null === (p=this.Gd) || void 0 === p?0:p.qa)?(this.la.trace("onClockChanged: clock listeners registered"),this.I2.on(this.Gd.qa,"clockAdjusted",function(u){u.reason === k.wz.BH && n.n6a();}),this.I2.on(this.Gd.qa,"stopStart",function(){var u;null === (u=n.xm) || void 0 === u?void 0:u.Sf();})):this.la.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.xm) || void 0 === q?void 0:q.Sf();};h.prototype.n6a=function(){var n,p;this.la.trace("Timeline changed");this.b9();this.dt()?null === (p=this.xm) || void 0 === p?void 0:p.Pa():null === (n=this.xm) || void 0 === n?void 0:n.Sf();};h.prototype.awa=function(n){-1 === this.oj.indexOf(n) && this.BTb(n);};h.prototype.WSa=function(n){var p,q,w;q=this.Ii.concat(this.oj);try{for(var u=f.__values(q),t=u.next();!t.done;t=u.next()){w=t.value;n >= w.displayTime + w.duration && this.qV(w);}}catch(y){var v;v={error:y};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(v)throw v.error;}}};h.prototype.fWb=function(n){-1 === this.Ii.indexOf(n) && (this.Ii.push(n),-1 !== this.oj.indexOf(n) && (this.oj=this.oj.filter(function(p){return p !== n;})),this.Ora(n));};h.prototype.Ora=function(n){this.la.trace("AseTimer:Showing",n.id);this.emit("showsubtitle",n);};h.prototype.BTb=function(n){this.la.trace("AseTimer:Staging",n.id);this.oj.push(n);this.emit("stagesubtitle",n);};h.prototype.uh=function(){this.la.trace("AseTimer:onUnderflow",this.xn);this.xn || (this.emit("underflow"),this.Rz.uh());};h.prototype.qV=function(n){this.la.trace("AseTimer:Removing",n.id);-1 !== this.oj.indexOf(n) && (this.oj=this.oj.filter(function(p){return p !== n;}));-1 !== this.Ii.indexOf(n) && (this.emit("removesubtitle",n),this.Ii=this.Ii.filter(function(p){return p !== n;}));this.Gi=this.Gi.filter(function(p){return p !== n;});};h.prototype.yra=function(){var n;this.Gi.length && (this.emit("bufferingComplete"),this.dt() || (null === (n=this.xm) || void 0 === n?void 0:n.Sf()));};return h;})(d.EventEmitter);b.pza=r;g=(function(){function m(h,n,p){void 0 === p && (p=!1);this.zQ=h;this.la=n;this.Cfa=p;this.events=new d.EventEmitter();this.xn=!1;}Object.defineProperty(m.prototype,"buffering",{get:function(){return this.xn;},enumerable:!1,configurable:!0});m.prototype.Tsa=function(){var h;h=this;this.la.trace("AseTimer:Buffering watcher restart");this.xn=!0;this.fpb=this.Cfa?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};m.prototype.uh=function(){this.la.trace("AseTimer:Buffering watcher underflow");this.xn=!0;this.$Sa(1);};m.prototype.reset=function(){this.la.trace("AseTimer:Buffering watcher reset");clearInterval(this.fpb);clearTimeout(this.Wpb);this.xn=!1;};m.prototype.$Sa=function(h){var n;n=250 * (1 << h);2E3 < n && (n=2E3);this.check();this.xn && (this.Wpb=setTimeout(this.$Sa.bind(this,h + 1),n));};m.prototype.check=function(){var h;h=this.zQ();this.la.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",IC:h}));};return m;})();b.igb=g;b.Hc=l;},14505:function(r,b,a){var v,y,x,z,A,B,D,C,F;function c(G,E){var J,M;J=this;M=G.styles || ({});return {startTime:E.startTime,id:E.id,endTime:E.endTime,displayTime:E.displayTime,duration:E.duration,blocks:E.blocks.map(function(L){var I;I=z.yzb(G,L);return {textNodes:L.textNodes.map(w.bind(J,M)),region:I,id:L.id};})};}function l(G){if(!Array.isArray(G))throw Error("last called on non-array: " + G);return G[G.length - 1];}function f(G,E){var J,M,L,I,P,K;J=y.qf(!0);M={};L=[];I=null;P=[];K={};J.onerror=function(H){E(H,null);};J.onend=function(){E(null,M);};J.onclosetag=function(){L.pop();};J.onopentag=function(H){var N,R,Y,ma;N=H.attributes;R=H.name;Y=M.regions;ma=M.styles;L.push(H);if("tt" === R)M=q(N);else if("body" === R)"undefined" !== typeof N.style && (M.defaultStyle=N.style,P.push(N.style));else if("initial" === R && t(L,"styling"))(K=u(N,B),M.initialStyle=K);else if("style" === R && t(L,"styling")){Y=N["xml:id"];H=K;N=u(N,B);if(Object.keys(H).length)for(var ia in H){"undefined" === typeof N[ia] && (N[ia]=H[ia]);}ma[Y]=N;}else "style" === R && t(L,"region")?(ma=Object.keys(N)[0],"string" === typeof ma && (Y[I][ma.slice(4)]=N[ma])):"region" === R && t(L,"layout") && (I=N["xml:id"],Y[I]=u(N,C));};setTimeout(function(){var H;for(J.write(G);0 < L.length && !J.error;){H=l(L).name;J.write("</" + H + ">");}J.close();},10);}function k(G,E){var J;J=G.filter(function(M){return M.startTime <= E && E <= M.endTime;});G=G.filter(function(M){return M.startTime > E;});return 0 < G.length?J.concat([G[0]]):J;}function d(){}function g(G){var E,J,M,L;E=G.preferences;J=G.Kf;M=G.xe;L=G.la;if(!G.xml && !G.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");v.call(this);this.ae=this.tfa=null;this.dx="object" === typeof E?G.preferences:{};this.Uw="object" === typeof J?G.Kf:{};this.Hk="number" === typeof M?G.xe:0;this.qE=G.xml || "";this.ja="object" === typeof L?G.la:F;this.iE=G.request;this.Xf=G.url;this.wf=[];this.Xj=this.Hk;this.nd=null;this.sm=this.zn=!1;this.LD=G.XV || 0;}function m(G,E){return G && "object" === typeof G[E] && null !== G[E]?G[E]:{};}function h(G,E){return G !== E && !(G && 0 === Object.keys(G).length && E && 0 === Object.keys(E).length);}function n(){var G,E,J;G=this;E=G.qE.indexOf("<p");if(-1 < E){J=G.qE.slice(0,E);f(J,function(M,L){null !== M?(M.n0a=J,G.emit("error",M)):(G.tfa=L,G.ae=new x(G.qE,L.tickRate),p.call(G,G.Hk));});}else G.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(G){var E,J,M,L,I,P,K,H;E=this;J=E.tfa;M=0;L=[];I=J.defaultStyle?[J.defaultStyle]:[];P=J.lang?[J.lang]:[];E.ja.info("parsing the next 5 entries...");K=E.ae.yIb(G);E.ja.debug(K);H=y.qf(!0);H.onerror=function(N){N.xml=K;E.emit("error",N);};H.onend=function(){var N;N=E.wf.reduce(function(R,Y){Y=Y.blocks.reduce(function(ma,ia){return ma.concat([ia.id]);},[]);return R.concat(Y);},[]);L.forEach(function(R){var Y;if(-1 === N.indexOf(R.id)){Y=R && R.blocks && R.blocks.filter(function(ma){return 0 < ma.textNodes.length;});Y && 0 < Y.length && (R.blocks=Y,E.wf.push(R));}});E.sm=!1;E.zn || (E.zn=!0,E.emit("ready"));};H.ontext=function(N){("" !== N.trim() || N.match(/ +/)) && l(l(L).blocks).textNodes.push({text:N.match(/ +/) || "ja" === l(P)?N:N.trim(),style:l(I),lang:l(P),lineBreaks:M});M=0;};H.onclosetag=function(){var N;N=H.tag;"undefined" !== typeof N.attributes.style && I.pop();"undefined" !== typeof N.attributes["xml:lang"] && P.pop();};H.onopentag=function(N){var R,Y,ma,ia,ja;R=N.attributes;Y=N.name;N=J.tickRate;if("p" === Y){M=0;Y=R["xml:id"];R.style && I.push(R.style);R["xml:lang"] && P.push(R["xml:lang"]);ma=Math.floor(parseInt(R.begin) / N * 1E3);if(0 === L.length || l(L).displayTime !== ma){ma=L.push;ia={};ja=parseInt(R.begin) / N;N=parseInt(R.end) / N;ia.id=Y;ia.startTime=Math.floor(1E3 * ja);ia.endTime=Math.floor(1E3 * N);ia.style=R.style;ia.region=R.region;ia.displayTime=ia.startTime;ia.duration=ia.endTime - ia.startTime;ia.extent=R["tts:extent"] || null;ia.origin=R["tts:origin"] || null;ia.latestEndSoFar=0 > ia.endTime?0:ia.endTime;ia.blocks=[{textNodes:[],region:ia.region,id:Y,extent:ia.extent,origin:ia.origin}];ma.call(L,ia);}else l(L).blocks.push({textNodes:[],region:R.region,id:Y,extent:R["tts:extent"] || null,origin:R["tts:origin"] || null});}else "span" === Y?(I.push(R.style),R["xml:lang"] && P.push(R["xml:lang"]),N=J.styles[R.style],R.style && N && N.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(N.ruby) && l(l(L).blocks).textNodes.push({text:"",style:l(I),lang:l(P),lineBreaks:0})):"br" === Y && M++;};H.write("<entries>").write(K).write("</entries>").close();}function q(G){var E;G=u(G,D);if("string" === typeof G.extent){E=G.extent.split(" ").map(function(J){return parseInt(J,10);});G.width=E[0];G.height=E[1];}else (G.width=1280,G.height=720);G.aspectRatio=G.width / G.height;"string" === typeof G.cellResolution?(E=G.cellResolution.split(" ").map(function(J){return parseInt(J,10);}),G.cellResolution={},G.cellResolution.x=E[0],G.cellResolution.y=E[1]):G.cellResolution={x:52,y:19};return G;}function u(G,E){var J;J={};E.forEach(function(M){"undefined" !== typeof G["tts:" + M]?J[M]=G["tts:" + M]:"undefined" !== typeof G["ttp:" + M]?J[M]=G["ttp:" + M]:"undefined" !== typeof G["ebutts:" + M]?J[M]=G["ebutts:" + M]:"undefined" !== typeof G["xml:" + M] && (J[M]=G["xml:" + M]);});J.styles={};J.regions={};return J;}function t(G,E){var J;for(J=G.length - 1;0 <= J;J--){if(G[J].name === E)return !0;}return !1;}function w(G,E){return {lineBreaks:E.lineBreaks,text:E.text,lang:E.lang,style:A.Czb(G[E.style] || ({}),this.Uw,this.dx),id:E.id};}v=a(17187).EventEmitter;y=a(93419);x=a(98310);z=a(62594);A=a(83032);B=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");D=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");C=("backgroundColor displayAlign extent origin position writingMode multiRowAlign").split(" ");F={info:d,debug:d};b=Object.create(v.prototype);g.prototype=b;b.start=function(){var G;G=this;G.ja.info("incremental text stream created, starting at pts " + G.Hk);G.qE?n.call(G):G.iE({url:G.Xf},function(E,J){G.qE=J;n.call(G);});};b.fB=function(G){var E,J,M;E=this;G < E.Xj - E.LD && (E.wf=[]);J=E.wf;M=0 < J.length?J[J.length - 1].startTime:G;E.Xj=G;for(!E.nd && 5 > E.wf.length && !E.sm && (E.ja.info("buffer size: " + E.wf.length + "; minimum: 5"),E.sm=!0,E.nd=setTimeout(function(){E.nd=null;p.call(E,M + 1);},10));0 < J.length && J[0].endTime < G;){J.shift();}J=k(J,G).map(c.bind(E,E.tfa));G < E.ae.uXa() && 0 === J.length && (J=null);return J;};b.Rl=function(G,E){return this.ae?this.ae.Rl(G,E):0;};b.close=function(){};b.QC=function(G){var E;E=m(G,"preferences");G=m(G,"defaults");return h(E,this.dx) || h(G,this.Uw)?(this.dx=E,this.Uw=G,!0):!1;};r.exports={bca:g,S6a:f,Qd:l,I4:k,q3:c,QC:b.QC};},93419:function(r){var w,v,y,x,z,A,B,D,C,F,G,E,J,M,L,I,P;function b(){}function a(K,H){if(!(this instanceof a))return new a(K,H);for(var N=0,R=v.length;N < R;N++){this[v[N]]="";}this.q=this.c=this.Pm=this.textNode="";this.gSa=w.zca;this.bn=H || ({});this.bn.F3a=this.bn.F3a || this.bn.qec;this.Qpa=this.bn.F3a?"toLowerCase":"toUpperCase";this.zi=[];this.closed=this.SR=this.tN=!1;this.tag=this.error=null;this.fm=!!K;this.K5a=!(!K && !this.bn.K5a);this.state=P.Naa;this.ww=(this.tbb=this.bn.tbb)?Object.create(w.xmb):Object.create(w.ww);this.vA=[];this.bn.ZX && (this.Cj=Object.create(M));if(this.B$=!1 !== this.bn.position)this.position=this.line=this.TR=0;this.onready && this.onready(void 0);}function c(K,H){var N;if(!(this instanceof c))return new c(K,H);b.apply(this);this.bx=new a(K,H);this.readable=this.writable=!0;N=this;this.bx.onend=function(){N.emit("end");};this.bx.onerror=function(R){N.emit("error",R);N.bx.error=null;};y.forEach(function(R){Object.defineProperty(N,"on" + R,{get:function(){return N.bx["on" + R];},set:function(Y){if(!Y)return (N.removeAllListeners(R),N.bx["on" + R]=Y);N.on(R,Y);},enumerable:!0,configurable:!1});});}function l(K){return K.split("").reduce(function(H,N){H[N]=!0;return H;},{});}function f(K,H){return "[object RegExp]" === Object.prototype.toString.call(K)?!!H.match(K):K[H];}function k(K,H,N){K.textNode && d(K);K[H] && K[H](N);}function d(K){K.textNode=g(K.bn,K.textNode);K.textNode && K.ontext && K.ontext(K.textNode);K.textNode="";}function g(K,H){K.trim && (H=H.trim());K.normalize && (H=H.replace(/\s+/g," "));return H;}function m(K,H){d(K);K.B$ && (H+="\nLine: " + K.line + "\nColumn: " + K.TR + "\nChar: " + K.c);H=Error(H);K.error=H;K.onerror && K.onerror(H);return K;}function h(K){K.tN && !K.SR && n(K,"Unclosed root tag");K.state !== P.Naa && K.state !== P.Oaa && K.state !== P.Ya && m(K,"Unexpected end");d(K);K.c="";K.closed=!0;K.onend && K.onend(void 0);a.call(K,K.fm,K.bn);return K;}function n(K,H){if("object" !== typeof K || !(K instanceof a))throw Error("bad call to strictFail");K.fm && m(K,H);}function p(K,H){var N,R;N=0 > K.indexOf(":")?["",K]:K.split(":");R=N[0];N=N[1];H && "xmlns" === K && (R="xmlns",N="");return {prefix:R,local:N};}function q(K){var H,N,R;K.fm || (K.Ji=K.Ji[K.Qpa]());if(-1 !== K.vA.indexOf(K.Ji) || K.tag.attributes.hasOwnProperty(K.Ji))return K.Ji=K.Ki="";if(K.bn.ZX){H=p(K.Ji,!0);N=H.local;if("xmlns" === H.prefix)if("xml" === N && K.Ki !== E)n(K,"xml: prefix must be bound to " + E + "\nActual: " + K.Ki);else if("xmlns" === N && K.Ki !== J)n(K,"xmlns: prefix must be bound to " + J + "\nActual: " + K.Ki);else {H=K.tag;R=K.zi[K.zi.length - 1] || K;H.Cj === R.Cj && (H.Cj=Object.create(R.Cj));H.Cj[N]=K.Ki;}K.vA.push([K.Ji,K.Ki]);}else (K.tag.attributes[K.Ji]=K.Ki,k(K,"onattribute",{name:K.Ji,value:K.Ki}));K.Ji=K.Ki="";}function u(K,H){var N,R,ma,ia,ja,Ca,Ba;if(K.bn.ZX){N=K.tag;R=p(K.tagName);N.prefix=R.prefix;N.local=R.local;N.uri=N.Cj[R.prefix] || "";N.prefix && !N.uri && (n(K,"Unbound namespace prefix: " + JSON.stringify(K.tagName)),N.uri=R.prefix);R=K.zi[K.zi.length - 1] || K;N.Cj && R.Cj !== N.Cj && Object.keys(N.Cj).forEach(function(Ka){k(K,"onopennamespace",{prefix:Ka,uri:N.Cj[Ka]});});R=0;for(var Y=K.vA.length;R < Y;R++){ma=K.vA[R];ia=ma[0];ja=ma[1];Ca=p(ia,!0);ma=Ca.prefix;Ba="" == ma?"":N.Cj[ma] || "";ja={name:ia,value:ja,prefix:ma,local:Ca.local,uri:Ba};ma && "xmlns" != ma && !Ba && (n(K,"Unbound namespace prefix: " + JSON.stringify(ma)),ja.uri=ma);K.tag.attributes[ia]=ja;k(K,"onattribute",ja);}K.vA.length=0;}K.tag.fec=!!H;K.tN=!0;K.zi.push(K.tag);k(K,"onopentag",K.tag);H || (K.state=K.K5a || "script" !== K.tagName.toLowerCase()?P.Ya:P.XI,K.tag=null,K.tagName="");K.Ji=K.Ki="";K.vA.length=0;}function t(K){var H,N,Y;if(K.tagName){if(K.Mj){if("script" !== K.tagName){K.Mj+="</" + K.tagName + ">";K.tagName="";K.state=P.XI;return;}k(K,"onscript",K.Mj);K.Mj="";}H=K.zi.length;N=K.tagName;K.fm || (N=N[K.Qpa]());for(var R=N;H--;){if(K.zi[H].name !== R)n(K,"Unexpected close tag");else break;}if(0 > H)(n(K,"Unmatched closing tag: " + K.tagName),K.textNode+="</" + K.tagName + ">");else {K.tagName=N;for(N=K.zi.length;N-- > H;){Y=K.tag=K.zi.pop();K.tagName=K.tag.name;k(K,"onclosetag",K.tagName);for(var ma in Y.Cj){;}R=K.zi[K.zi.length - 1] || K;K.bn.ZX && Y.Cj !== R.Cj && Object.keys(Y.Cj).forEach(function(ia){k(K,"onclosenamespace",{prefix:ia,uri:Y.Cj[ia]});});}0 === H && (K.SR=!0);K.tagName=K.Ki=K.Ji="";K.vA.length=0;}}else (n(K,"Weird empty close tag."),K.textNode+="</>");K.state=P.Ya;}w={qf:function(K,H){return new a(K,H);}};w.aac=a;w.bac=c;w.HUa=function(K){return new c(K,void 0);};w.zca=65536;v=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");w.Bk=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(K){function H(){this.__proto__=K;}H.prototype=K;return new H();});Object.getPrototypeOf || (Object.getPrototypeOf=function(K){return K.__proto__;});Object.keys || (Object.keys=function(K){var H,N;H=[];for(N in K){K.hasOwnProperty(N) && H.push(N);}return H;});a.prototype={end:function(){h(this);},write:function(K){var Y,ma,ia,ja,Ca,Ba;if(this.closed)return m(this,"Cannot write after close. Assign an onready handler.");if(null === K)return h(this);if(this.error)throw this.error;for(var H=0,N;this.c=N=K.charAt(H++);){switch((this.B$ && (this.position++,"\n" === N?(this.line++,this.TR=0):this.TR++),this.state)){case P.Naa:if((this.state=P.Oaa,"\ufeff" === N))continue;case P.Oaa:"<" === N?(this.state=P.Uca,this.hwa=this.position):f(x,N) || (n(this,"Non-whitespace before first tag."),this.textNode=N,this.state=P.Ya);continue;case P.Ya:if(this.tN && !this.SR){for(var R=H - 1;N && "<" !== N && "&" !== N;){(N=K.charAt(H++)) && this.B$ && (this.position++,"\n" === N?(this.line++,this.TR=0):this.TR++);}this.textNode+=K.substring(R,H - 1);}"<" !== N || this.tN && this.SR && !this.fm?(f(x,N) || this.tN && !this.SR || n(this,"Text data outside of root node."),"&" === N?this.state=P.oea:this.textNode+=N):(this.state=P.Uca,this.hwa=this.position);continue;case P.XI:"<" === N?this.state=P.eLa:this.Mj+=N;continue;case P.eLa:"/" === N?this.state=P.Xaa:(this.Mj+="<" + N,this.state=P.XI);continue;case P.Uca:"!" === N?(this.state=P.Yda,this.pr=""):f(x,N) || (f(L,N)?(this.state=P.JHa,this.tagName=N):"/" === N?(this.state=P.Xaa,this.tagName=""):"?" === N?(this.state=P.jIa,this.K8=this.eH=""):(n(this,"Unencoded <"),this.hwa + 1 < this.position && (N=Array(this.position - this.hwa).join(" ") + N),this.textNode+="<" + N,this.state=P.Ya));continue;case P.Yda:(this.pr + N).toUpperCase() === F?(k(this,"onopencdata"),this.state=P.qY,this.Il=this.pr=""):"--" === this.pr + N?(this.state=P.xY,this.pr=this.Kl=""):(this.pr + N).toUpperCase() === G?(this.state=P.CY,(this.doctype || this.tN) && n(this,"Inappropriately located doctype declaration"),this.pr=this.doctype=""):">" === N?(k(this,"onsgmldeclaration",this.pr),this.pr="",this.state=P.Ya):(f(B,N) && (this.state=P.hLa),this.pr+=N);continue;case P.hLa:N === this.q && (this.state=P.Yda,this.q="");this.pr+=N;continue;case P.CY:">" === N?(this.state=P.Ya,k(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=N,"[" === N?this.state=P.fba:f(B,N) && (this.state=P.qBa,this.q=N));continue;case P.qBa:this.doctype+=N;N === this.q && (this.q="",this.state=P.CY);continue;case P.fba:this.doctype+=N;"]" === N?this.state=P.CY:f(B,N) && (this.state=P.pBa,this.q=N);continue;case P.pBa:this.doctype+=N;N === this.q && (this.state=P.fba,this.q="");continue;case P.xY:"-" === N?this.state=P.tAa:this.Kl+=N;continue;case P.tAa:"-" === N?(this.state=P.sAa,(this.Kl=g(this.bn,this.Kl)) && k(this,"oncomment",this.Kl),this.Kl=""):(this.Kl+="-" + N,this.state=P.xY);continue;case P.sAa:">" !== N?(n(this,"Malformed comment"),this.Kl+="--" + N,this.state=P.xY):this.state=P.Ya;continue;case P.qY:"]" === N?this.state=P.iAa:this.Il+=N;continue;case P.iAa:"]" === N?this.state=P.jAa:(this.Il+="]" + N,this.state=P.qY);continue;case P.jAa:">" === N?(this.Il && k(this,"oncdata",this.Il),k(this,"onclosecdata"),this.Il="",this.state=P.Ya):"]" === N?this.Il+="]":(this.Il+="]]" + N,this.state=P.qY);continue;case P.jIa:"?" === N?this.state=P.gda:f(x,N)?this.state=P.fda:this.K8+=N;continue;case P.fda:if(!this.eH && f(x,N))continue;else "?" === N?this.state=P.gda:this.eH+=N;continue;case P.gda:">" === N?(k(this,"onprocessinginstruction",{name:this.K8,body:this.eH}),this.K8=this.eH="",this.state=P.Ya):(this.eH+="?" + N,this.state=P.fda);continue;case P.JHa:if(f(I,N))this.tagName+=N;else {this.fm || (this.tagName=this.tagName[this.Qpa]());R=this.zi[this.zi.length - 1] || this;Y=this.tag={name:this.tagName,attributes:{}};this.bn.ZX && (Y.Cj=R.Cj);this.vA.length=0;">" === N?u(this):"/" === N?this.state=P.q_:(!f(x,N) && n(this,"Invalid character in tag name"),this.state=P.mI);}continue;case P.q_:">" === N?(u(this,!0),t(this)):(n(this,"Forward-slash in opening tag not followed by >"),this.state=P.mI);continue;case P.mI:if(f(x,N))continue;else ">" === N?u(this):"/" === N?this.state=P.q_:f(L,N)?(this.Ji=N,this.Ki="",this.state=P.eY):n(this,"Invalid attribute name");continue;case P.eY:"=" === N?this.state=P.oaa:">" === N?(n(this,"Attribute without value"),this.Ki=this.Ji,q(this),u(this)):f(x,N)?this.state=P.cya:f(I,N)?this.Ji+=N:n(this,"Invalid attribute name");continue;case P.cya:if("=" === N)this.state=P.oaa;else if(f(x,N))continue;else (n(this,"Attribute without value"),this.Ki=this.tag.attributes[this.Ji]="",k(this,"onattribute",{name:this.Ji,value:""}),this.Ji="",">" === N?u(this):f(L,N)?(this.Ji=N,this.state=P.eY):(n(this,"Invalid attribute name"),this.state=P.mI));continue;case P.oaa:if(f(x,N))continue;else f(B,N)?(this.q=N,this.state=P.raa):(n(this,"Unquoted attribute value"),this.state=P.saa,this.Ki=N);continue;case P.raa:if(N !== this.q){"&" === N?this.state=P.paa:this.Ki+=N;continue;}q(this);this.q="";this.state=P.dya;continue;case P.dya:f(x,N)?this.state=P.mI:">" === N?u(this):"/" === N?this.state=P.q_:f(L,N)?(n(this,"No whitespace between attributes"),this.Ji=N,this.Ki="",this.state=P.eY):n(this,"Invalid attribute name");continue;case P.saa:if(!f(C,N)){"&" === N?this.state=P.qaa:this.Ki+=N;continue;}q(this);">" === N?u(this):this.state=P.mI;continue;case P.Xaa:if(this.tagName)">" === N?t(this):f(I,N)?this.tagName+=N:this.Mj?(this.Mj+="</" + this.tagName,this.tagName="",this.state=P.XI):(!f(x,N) && n(this,"Invalid tagname in closing tag"),this.state=P.pAa);else if(f(x,N))continue;else f(L,N)?this.tagName=N:this.Mj?(this.Mj+="</" + N,this.state=P.XI):n(this,"Invalid tagname in closing tag.");continue;case P.pAa:if(f(x,N))continue;">" === N?t(this):n(this,"Invalid characters in closing tag");continue;case P.oea:case P.paa:case P.qaa:switch(this.state){case P.oea:(ma=P.Ya,ia="textNode");break;case P.paa:ma=P.raa;ia="attribValue";break;case P.qaa:(ma=P.saa,ia="attribValue");}if(";" === N){N=ia;R=this[N];Y=this.Pm;ja=Y.toLowerCase();Ca="";if(this.ww[Y])Y=this.ww[Y];else if(this.ww[ja])Y=this.ww[ja];else {Y=ja;if("#" === Y.charAt(0))if("x" === Y.charAt(1)){Y=Y.slice(2);Ba=parseInt(Y,16);Ca=Ba.toString(16);}else (Y=Y.slice(1),Ba=parseInt(Y,10),Ca=Ba.toString(10));Y=Y.replace(/^0+/,"");Y=Ca.toLowerCase() !== Y?(n(this,"Invalid character entity"),"&" + this.Pm + ";"):String.fromCodePoint(Ba);}this[N]=R + Y;this.Pm="";this.state=ma;}else f(D,N)?this.Pm+=N:(n(this,"Invalid character entity"),this[ia]+="&" + this.Pm + N,this.Pm="",this.state=ma);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.gSa){K=Math.max(w.zca,10);N=H=0;for(ma=v.length;N < ma;N++){ia=this[v[N]].length;if(ia > K)switch(v[N]){case "textNode":d(this);break;case "cdata":k(this,"oncdata",this.Il);this.Il="";break;case "script":k(this,"onscript",this.Mj);this.Mj="";break;default:m(this,"Max buffer length exceeded: " + v[N]);}H=Math.max(H,ia);}this.gSa=w.zca - H + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.Il && (k(this,"oncdata",this.Il),this.Il="");"" !== this.Mj && (k(this,"onscript",this.Mj),this.Mj="");}};y=w.Bk.filter(function(K){return "error" !== K && "end" !== K;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(K){this.bx.write(K.toString());this.emit("data",K);return !0;};c.prototype.end=function(K){K && K.length && this.write(K);this.bx.end();return !0;};c.prototype.on=function(K,H){var N;N=this;N.bx["on" + K] || -1 === y.indexOf(K) || (N.bx["on" + K]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,K);N.emit.apply(N,R);});return b.prototype.on.call(N,K,H);};x="\r\n\t ";z="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";D=z + A + "#";C=x + ">";F="[CDATA[";G="DOCTYPE";E="http://www.w3.org/XML/1998/namespace";J="http://www.w3.org/2000/xmlns/";M={xml:E,ZX:J};x=l(x);z=l(z);A=l(A);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=l(B);D=l(D);C=l(C);P=0;w.Lz={Naa:P++,Oaa:P++,Ya:P++,oea:P++,Uca:P++,Yda:P++,hLa:P++,CY:P++,qBa:P++,fba:P++,pBa:P++,Z7b:P++,xY:P++,tAa:P++,sAa:P++,qY:P++,iAa:P++,jAa:P++,jIa:P++,fda:P++,gda:P++,JHa:P++,q_:P++,mI:P++,eY:P++,cya:P++,oaa:P++,raa:P++,dya:P++,saa:P++,paa:P++,qaa:P++,Xaa:P++,pAa:P++,XI:P++,eLa:P++};w.xmb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};w.ww={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(w.ww).forEach(function(K){var H;H=w.ww[K];H="number" === typeof H?String.fromCharCode(H):H;w.ww[K]=H;});for(P in w.Lz){w.Lz[w.Lz[P]]=P;}P=w.Lz;String.fromCodePoint || (function(){var H,N;function K(){var R,Y,ma,ja,Ca;R=[];Y=-1;ma=arguments.length;if(!ma)return "";for(var ia="";++Y < ma;){ja=Number(arguments[Y]);if(!isFinite(ja) || 0 > ja || 1114111 < ja || N(ja) != ja)throw RangeError("Invalid code point: " + ja);if(65535 >= ja)R.push(ja);else {ja-=65536;Ca=(ja >> 10) + 55296;ja=ja % 1024 + 56320;R.push(Ca,ja);}if(Y + 1 == ma || 16384 < R.length)(ia+=H.apply(null,R),R.length=0);}return ia;}H=String.fromCharCode;N=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K;})();r.exports=w;},97464:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},62594:function(r,b,a){var k,d,g,m,h,n,p;function c(q){return "string" !== typeof q?null:d[q];}function l(q){return "string" !== typeof q?null:h[q];}function f(q,u){var t;t=q.split(" ");q=t[0];t=t[1];-1 < q.indexOf("px")?(q=parseFloat(q) / u.width,t=parseFloat(t) / u.height):(q=.01 * parseFloat(q),t=.01 * parseFloat(t));return [q,t];}k=a(97464);r.exports={yzb:function(q,u){var t,w,v,y,x,z,G;t=u.textNodes[0] || ({});w=q.regions;v=q.styles;y=q.aspectRatio;x=q.initialStyle || ({});w=w && w[u.region]?w[u.region]:{};v=v && v[t.style]?v[t.style]:{};t=t.lang;z=f(k(u.extent,w.extent,"80% 80%"),q);if(w.position){for(var A=w.position.split(" "),B=[.5,.5],D=["left","top"],C=0,F=0;F < A.length;F++){G=A[F];(G in p)?(D[C]=G,F + 1 >= A.length && (B[C++]=0)):"center" === G?B[C++]=.5:B[C++]=.01 * parseFloat(G);}-1 < ["top","bottom"].indexOf(D[0]) || -1 < ["left","right"].indexOf(D[1])?(C="bottom" === D[0]?1 - B[0]:B[0],A="right" === D[1]?1 - B[1]:B[1]):(A="right" === D[0]?1 - B[0]:B[0],C="bottom" === D[1]?1 - B[1]:B[1]);B=[(1 - z[0]) * A,(1 - z[1]) * C];}else B=null;u=B?B:f(k(B,u.origin,w.origin,"10% 10%"),q);q=Object;y/=1280 / 720;B=(1 - y) / 2;D=u[0];u=u[1];z=q.create.call(q,{marginLeft:D * y + B,marginTop:u,marginRight:(1 - (D + z[0])) * y + B,marginBottom:1 - (u + z[1])});y=w.writingMode?w.writingMode:"lrtb";z.writingMode="string" !== typeof y?null:n[y];1 < Object.keys(w).length?(y=k(v.displayAlign,w.displayAlign,"before"),"tblr" === w.writingMode || "tbrl" === w.writingMode?(z.horizontalAlignment="string" !== typeof y?null:"tblr" === w.writingMode?g[y]:m[y],z.verticalAlignment=c(k(v.textAlign,w.textAlign,"start"))):z.verticalAlignment=c(y)):z.verticalAlignment=c(k(v.displayAlign,"after"));"horizontal-tb" === z.writingMode && (z.horizontalAlignment=l(k(v.textAlign,w.textAlign,"center")));z.multiRowAlignment=l(k(v.multiRowAlign,w.multiRowAlign,v.textAlign,w.textAlign,x.textAlign,"ja" === t?"start":"center"));return z;}};d={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};g={before:"left",center:"center",after:"right"};m={before:"right",center:"center",after:"left"};h={left:"left",start:"start",center:"center",right:"right",end:"end"};n={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};p={top:"top",bottom:"bottom",left:"left",right:"right"};},83032:function(r,b,a){var m,h,n,p,q,u,t,w,v,y,x,z,A,B,D;function c(C){return "string" !== typeof C || "#" === C[0] && 7 === C.length?C:"#" === C[0] && 4 === C.length?"#" + C[1] + C[1] + C[2] + C[2] + C[3] + C[3]:n[C.toLowerCase()];}function l(C){var F,G,E;F=(C || "").split(" ");G=(/^[0-9]/).test(F);C=G?"#000000":c(F[0]);E=G?0:1;G=parseInt(F[E]);F=parseInt(F[E + 1]);return {color:C,width:0 < G?G:0,blur:0 < F?F:0};}function f(C,F){if(-1 < F.indexOf(C))return C;}function k(C){var F,G;if(!C)return null;C=C.split(" ");if(0 === C.length)return null;F=d(C,D);F=F.length?F[0]:"outside";G=d(C,B);if(G.length)return g(G[0],"",F);G=d(C,z);C=d(C,A);return C.length || G.length?g(C.length?C[0]:"circle",G.length?G[0]:"filled",F):g("auto","",F);}function d(C,F){return C.filter(function(G){return -1 !== F.indexOf(G);});}function g(C,F,G){return {textEmphasisShape:C,textEmphasisFill:F,textEmphasisPosition:G};}m=a(97464);r.exports={Czb:function(C,F,G){var E,J,M,L,I,P,K,H,N,R,Y,ma,ia,ja,Ca,Ba;E=m(G.characterSize,F.characterSize,"MEDIUM");J=C.fontFamily;J=m(G.characterStyle,"string" !== typeof J?null:p[J],F.characterStyle,"PROPORTIONAL_SANS_SERIF");M=(C.fontSize || "").split(" ")[0] || "";L=-1 < M.indexOf("%")?parseInt(M,10) / 100:-1 < M.indexOf("em")?parseFloat(M):1;M="underline" === C.textDecoration;I="italic" === C.fontStyle;P=h[m(G.C6b,F.C6b,"OPAQUE")];K=h[m(G.characterOpacity,F.characterOpacity,"OPAQUE")];H=h[m(G.backgroundOpacity,C.opacity,F.backgroundOpacity,"OPAQUE")];N=c(m(G.characterColor,C.color,F.characterColor,"#ffffff"));R=c(m(G.backgroundColor,C.backgroundColor,F.backgroundColor,null));Y=c(m(G.Beb,C.Beb,F.Beb,null));ma=m(G.characterEdgeAttributes,F.characterEdgeAttributes,null);L*=q[E] || 1;ia=1;u[E] && (ia=u[E][J] || 1);L*=1 / 19 * ia;ia=0;t[E] && (ia=t[E][J] || 0);E=ia;ia=C.textOutline;ia="string" !== typeof ia?null:l(ia).width;ia=m(ia,0);ja=C.textOutline;ja="string" !== typeof ja?null:l(ja).blur;ja=m(ja,0);Ca=G.characterEdgeColor;Ba=C.textOutline;Ba="string" !== typeof Ba?null:l(Ba).color;return {characterUnderline:M,characterItalic:I,characterStyle:J,windowOpacity:P,characterOpacity:K,backgroundOpacity:H,characterColor:N,backgroundColor:R,windowColor:Y,characterEdgeAttributes:ma,characterSize:L,characterTracking:E,characterEdgeWidth:ia,characterEdgeBlur:ja,characterEdgeColor:c(m(Ca,Ba,F.characterEdgeColor,"#000000")),direction:m(G.direction,C.direction,F.direction,"ltr"),ruby:m(f(C.Rfc,w),null),rubyAlign:m(f(C.Sfc,v),null),rubyPosition:m(f(C.Tfc,x),null),rubyReserve:m(f(C.Ufc,y),null),textEmphasis:k(C.Mgc),shear:C.E0b?.01 * parseFloat(C.E0b):null,textCombine:C.b3b?C.b3b:null};}};h={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};u={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};w=("container base baseContainer text textContainer delimiter").split(" ");v=("start center end spaceAround spaceBetween withBase").split(" ");y=["before","after","both","outside"];x=["before","after","outside"];z=["filled","open"];A=["circle","dot","sesame"];B=["none","auto"];D=["before","after","outside"];},98310:function(r){function b(a,c){var l,f,k,d,g,m;l=[];f=a.indexOf("<p");k=-1;do {d={};d.s1b=f;g=a.indexOf("begin=",f) + 7;m=a.indexOf("end=",f) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);m=Math.floor(parseInt(a.substr(m,25),10) / c * 1E3);k=m > k?m:k;d.startTime=g;d.endTime=m;d.latestEndSoFar=k;d.UWa=a.indexOf("/p>",f) + 3;f=d.UWa;l.push(d);f=a.indexOf("<p",f);}while(-1 !== f);this.Mo=l;this.qE=a;}b.prototype.uXa=function(){return this.Mo[this.Mo.length - 1].endTime;};b.prototype.Rl=function(a,c){return this.Mo.filter(function(l){return l.startTime <= c && l.endTime >= a;}).length;};b.prototype.yIb=function(a){for(var c="",l=this.Mo.filter(function(k){return k.startTime <= a && a < k.endTime || k.startTime >= a;}),f=4;f + 1 < l.length && l[f + 1].startTime === l[4].startTime;){f++;}l=l.slice(0,f + 1);0 < l.length && (c=this.qE.slice(l[0].s1b,l[l.length - 1].UWa));return c;};r.exports=b;},27923:function(r,b){var c;function a(l,f){for(var k=0;k < l.length;k++){if(f(l[k],k,l))return l[k];}}Object.defineProperty(b,"__esModule",{value:!0});b.Hc=b.d_=b.BFa=b.yP=void 0;b.yP=1E4;r=(function(){function l(f){this.xf=[];this.HQ=0;this.ja=f;}Object.defineProperty(l.prototype,"endOfStreamSegment",{get:function(){return this.onb;},enumerable:!1,configurable:!0});l.prototype.NF=function(f){var k;k=a(this.xf,function(d){return f >= d.bb && f < d.lf;});"undefined" === typeof k && this.ja.warn("Get Segment at pts " + f + " is undefined");return k;};l.prototype.Jga=function(f,k){var g;for(var d=this.xf;0 < d.length && 300 <= f.I - d[0].I;){this.yW();}for(;0 < d.length && 300 <= d[d.length - 1].I - f.I;){this.ava();}g=new c(f,k);f=d.length;if(0 === f || d[f - 1].I < g.I)this.bva(g);else {f=a(d,function(m){return m.I >= g.I;});if((null === f || void 0 === f?void 0:f.I) === g.I)return;this.cva(d.indexOf(f),g);}g.endOfStream && (this.ja.trace("EOS segment added to segment manager"),this.onb=g);this.HQ=d[d.length - 1].I;};l.prototype.DX=function(f){var k;if("undefined" === typeof f)this.ja.warn("Current segment is undefined.");else for((this.Al=f,this.ja.trace(("Current segment id is ").concat(f.I)));(null === (k=this.xf[0]) || void 0 === k?void 0:k.lf) < f.lf - b.yP;){this.yW();}};l.prototype.Nma=function(){if(this.No){if(this.HQ !== this.No.I)return this.xf[this.xf.indexOf(this.No) + 1];}else return this.xf[0];};l.prototype.Qt=function(f){this.No=this.gv(f);};l.prototype.gv=function(f){var k;k=a(this.xf,function(d){return d.I === f;});"undefined" === typeof k && this.ja.error("Segment with segmentId " + f + " is not in segmentArray");return k;};l.prototype.jT=function(){var f;return (null === (f=this.No) || void 0 === f?void 0:f.I) || -1;};l.prototype.uxa=function(f,k){f=this.gv(f);"undefined" !== typeof f && (this.xf[this.xf.indexOf(f)].header=k);};l.prototype.s_a=function(f){return this.gv(f);};l.prototype.vma=function(f){f=this.gv(f);return (null === f || void 0 === f?void 0:f.header) || ({});};l.prototype.yW=function(){this.xf.shift();};l.prototype.bva=function(f){this.xf.push(f);};l.prototype.cva=function(f,k){this.xf.splice(f,0,k);};l.prototype.ava=function(){this.xf.pop();};return l;})();b.BFa=r;c=(function(){return function(l,f){this.I=l.I;this.xml=l.xml;this.bb=l.bb;this.lf=l.lf;this.UF=f;this.size=l.size;this.gr=l.gr;this.endOfStream=l.endOfStream;};})();b.d_=c;b.Hc=a;},42456:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.DFa=void 0;c=a(70655);r=(function(l){function f(k,d){d=l.call(this,k,d) || this;d.xml=k.xml;d.size=k.size;return d;}c.__extends(f,l);return f;})(a(27923).d_);b.DFa=r;},98704:function(r,b,a){var c,l,f,k,d,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;c=a(70655);r=a(17187);l=a(14505);f=a(93419);k=a(27923);d=a(62441);g=a(62441);m=r.EventEmitter;a=(function(h){function n(p){var q,u,t,w,v;q=h.call(this) || this;u=p.preferences;t=p.Kf;w=p.xe;v=p.la;m.call(q);q.jx=new d.nca(v);q.dx="object" === typeof u?p.preferences:{};q.Uw="object" === typeof t?p.Kf:{};q.Hk="number" === typeof w?p.xe:0;q.ja="object" === typeof v?p.la:console;q.wf=[];q.Xh=0;q.Xj=q.Hk;q.nd=null;q.zn=!1;q.sm=!1;q.LD=p.XV || 0;q.md=new k.BFa(q.ja);q.ja.trace("LiveTextStream created with options",p);return q;}c.__extends(n,h);n.prototype.start=function(){this.ja.info(("Incremental live text stream created, starting at pts ").concat(this.Hk));"undefined" !== typeof this.md.NF(this.Hk) && this.PG.call(this,this.Hk);};n.prototype.yta=function(p){var q,u,t,w;q=this;u=p.xml;t=u.indexOf("<p");this.ja.trace("pushNextSegment",p);this.md.Jga(p,-1 !== t?t:0);if(!this.zn){w=this.md.xf[0];this.md.DX(w);this.Hk=w.bb;}-1 < t?(this.jx.BQa(u,p.I,p.gr),this.ja.trace(("Live segment ").concat(p.I," is pushed to segment manager"),{bb:p.bb,lf:p.lf,EBb:p.gr}),!this.zn && 4 > this.Xh && (u=0 < this.wf.length?this.wf[this.wf.length - 1].startTime + 1:this.Hk,this.ja.trace("parseNextSegment is called from push new live Segment at " + u),this.PG.call(this,u))):(this.ja.trace(("Live segment ").concat(p.I," is pushed to segment manager, it is an empty segment")),this.zn || setTimeout(function(){q.Qt(p.I);},10));};n.prototype.fB=function(p){var q,u,t,w,v,y;q=this;w=this;w.ja.trace(("LiveTextStream:get subtitles at pts ").concat(p));v=w.md.NF(p);if("undefined" === typeof v)return (w.ja.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);w.md.DX(v);p < w.Xj - w.LD?(w.ja.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(w.Xj,", _backupTolerance: ").concat(w.LD)),w.wf=[],w.Xh=0):(w.Xh=0 < w.wf.length?Math.max(w.md.jT() - v.I + 1,0):0,0 === w.Xh && (w.wf=[]));v=w.wf;w.ja.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(v.length,", result: ").concat(0 < v.length?null === (u=v[v.length - 1]) || void 0 === u?void 0:u.startTime:p));u=this.md.No;y=0 < v.length && void 0 !== u?u.bb:p;w.Xj=p;w.ja.info("LiveTextStream: timer is " + w.nd + " bufffered segment number is " + w.Xh + " is parsing entry : " + this.sm + " maxBufferedStartPts " + (null === (t=this.md.No) || void 0 === t?void 0:t.bb));for(!w.nd && 4 > w.Xh && !w.sm && (w.ja.info("LiveTextStream: buffer size: " + w.Xh + "; minimum: 4"),w.sm=!0,w.nd=setTimeout(function(){w.nd=null;q.ja.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (y + 1));q.PG.call(w,y + 1);},10));0 < v.length && v[0].endTime < p;){v.shift();}return (0,l.I4)(v,p).map(function(x){var z;z=w.md.vma(x.segId);return l.q3.call(w,z,x);});};n.prototype.Rl=function(p,q){return this.jx?this.jx.Rl(p,q):0;};n.prototype.QC=function(p){return l.QC.call(this,p);};n.prototype.close=function(){};n.prototype.PG=function(p){var q;q=this.Lma.call(this,p);"undefined" !== typeof q?(this.ja.trace("Next segment to parse at pts " + p + " is segment " + q.I),0 === q.UF?(this.ja.trace("This is an empty segment"),this.Qt(q.I)):(this.ksa.call(this,q),this.ja.trace("parseNextSegEntries buffer length: " + this.wf.length))):(this.ja.debug("Next segment is undefined at pts " + p),this.sm=!1);};n.prototype.Lma=function(p){var q,u;u=this.jx.PZa(p);this.ja.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(u));-1 === u && (u=(null === (q=this.md.NF(p)) || void 0 === q?void 0:q.I) || -1);return u === this.md.jT()?this.md.Nma():this.md.gv(u);};n.prototype.ksa=function(p){var q,u,t,w,v;q=this;u=this;t=p.xml.slice(0,p.UF);w=p.xml.slice(p.UF,p.xml.lastIndexOf("/p>") + 3);(0,l.S6a)(t,function(y,x){null !== y?(y.n0a=t,y.I=p.I,u.emit("error",y)):(v=x,u.md.uxa(p.I,v),q.hsa.call(u,w,v,p));});};n.prototype.hsa=function(p,q,u){var t,w,v,y,x,z,A;t=this;w=this;v=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];w.ja.debug(p);A=f.qf(!0);A.onerror=function(B){B.xml=p;w.emit("error",B);};A.onend=function(){var B;B=w.wf.reduce(function(D,C){C=C.blocks.reduce(function(F,G){return F.concat([G.id]);},[]);return D.concat(C);},[]);y.forEach(function(D){var C;if(-1 === B.indexOf(D.id)){C=D && D.blocks && D.blocks.filter(function(F){return 0 < F.textNodes.length;});C && 0 < C.length && (D.blocks=C,w.wf.push(D));}});t.Qt(u.I);};A.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Qd)((0,l.Qd)(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Qd)(x),lang:(0,l.Qd)(z),lineBreaks:v});v=0;};A.onclosetag=function(){var B;B=A.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && z.pop();};A.onopentag=function(B){var D,C;D=B.attributes;B=B.name;if("p" === B){v=0;B=u.I.toString() + "_" + D["xml:id"];D.style && x.push(D.style);D["xml:lang"] && z.push(D["xml:lang"]);C=(0,g.WE)(D.begin);0 === y.length || (0,l.Qd)(y).displayTime !== C?(D=t.wja(B,0,D,u.gr),D.segId=u.I,y.push(D)):(0,l.Qd)(y).blocks.push({textNodes:[],region:D.region,id:B,extent:D["tts:extent"] || null,origin:D["tts:origin"] || null});}else "span" === B?(x.push(D.style),D["xml:lang"] && z.push(D["xml:lang"]),B=q.styles[D.style],D.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Qd)((0,l.Qd)(y).blocks).textNodes.push({text:"",style:(0,l.Qd)(x),lang:(0,l.Qd)(z),lineBreaks:0})):"br" === B && v++;};A.write("<entries>").write(p).write("</entries>").close();};n.prototype.wja=function(p,q,u,t){var w;w={};w.id=p;w.startTime=(0,g.WE)(u.begin || "") - t;w.endTime=(0,g.WE)(u.end || "") - t;w.style=u.style;w.region=u.region;w.displayTime=w.startTime;w.duration=w.endTime - w.startTime;w.extent=u["tts:extent"] || null;w.origin=u["tts:origin"] || null;w.latestEndSoFar=q > w.endTime?q:w.endTime;w.blocks=[{textNodes:[],region:w.region,id:p,extent:w.extent || null,origin:w.origin || null}];return w;};n.prototype.Qt=function(p){this.md.Qt(p);this.Xh+=1;this.sm=!1;this.ja.trace("updateMaxParsedSegment " + p);if(!this.zn && 4 <= this.Xh || this.md.Jka && this.md.s_a(p) === this.md.Jka)(this.md.Jka && this.md.s_a(p) === this.md.Jka && this.ja.trace("Marking stream ready due to EOS"),this.zn=!0,this.emit("ready"));};return n;})(m);b.EFa=a;},62441:function(r,b,a){var l;function c(f){var k;f=f.split(".");k=f[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * k[0] + 60 * k[1] + k[2]) + parseInt(f[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.WE=b.nca=void 0;l=a(27923);r=(function(){function f(k){this.Mo=[];this.ja=k;}f.prototype.BQa=function(k,d,g){var m,h,n,p,q,u;void 0 === g && (g=0);m=this.Mo;h=k.indexOf("<p");n=-1;do {p={};p.I=d;p.Mab=h;q=k.indexOf("begin=",h) + 7;u=k.indexOf("end=",h) + 5;q=c(k.substring(q,q + 12)) - g;u=c(k.substring(u,u + 12)) - g;n=u > n?u:n;p.startTime=q;p.endTime=u;p.latestEndSoFar=n;p.zDb=k.indexOf("/p>",h) + 3;h=p.zDb;if(0 === m.length || p.startTime > m[m.length - 1].startTime)(m.push(p),this.ja.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,pDb:p.endTime}));else if((u=(0,l.Hc)(m,function(t){return t.startTime >= p.startTime;}),u.startTime !== p.startTime || u.Mab !== p.Mab))(u=m.indexOf(u),m.splice(u,0,p),this.ja.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(u),{startTime:p.startTime,pDb:p.endTime}));h=k.indexOf("<p",h);}while(-1 !== h);};f.prototype.Rl=function(k,d){return this.Mo.filter(function(g){return g.startTime <= d && g.endTime >= k;}).length;};f.prototype.sta=function(k){this.Mo=this.Mo.filter(function(d){return d.startTime >= k;});};f.prototype.PZa=function(k){var d;d=(0,l.Hc)(this.Mo,function(g){return g.startTime <= k && k < g.endTime || g.startTime >= k;});return (null === d || void 0 === d?void 0:d.I) || -1;};f.prototype.uXa=function(){return 0 < this.Mo.length?this.Mo[this.Mo.length - 1].endTime:0;};return f;})();b.nca=r;b.WE=c;},66229:function(r,b){function a(c,l){for(var f=0;f < c.length;f++){if(l(c[f],f,c))return c[f];}}Object.defineProperty(b,"__esModule",{value:!0});b.d_=b.Hc=b.yHa=b.yP=void 0;b.yP=1E4;r=(function(){function c(l){this.xf=[];this.HQ=0;this.ja=l;}c.prototype.NF=function(l){var f;f=a(this.xf,function(k){return l >= k.bb && l < k.lf;});"undefined" === typeof f && this.ja.warn("Get Segment at pts " + l + " is undefined");return f;};c.prototype.Jga=function(l){var k;for(var f=this.xf;0 < f.length && 300 <= l.I - f[0].I;){this.yW();}for(;0 < f.length && 300 <= f[f.length - 1].I - l.I;){this.ava();}k=f.length;if(0 === k || f[k - 1].I < l.I)this.bva(l);else {k=a(f,function(d){return d.I >= l.I;});if((null === k || void 0 === k?void 0:k.I) === l.I)return;this.cva(f.indexOf(k),l);}this.HQ=f[f.length - 1].I;};c.prototype.DX=function(l){var f;if("undefined" === typeof l)this.ja.warn("Current segment is undefined.");else for((this.Al=l,this.ja.trace(("Current segment id is ").concat(l.I)));(null === (f=this.xf[0]) || void 0 === f?void 0:f.lf) < l.lf - b.yP;){this.yW();}};c.prototype.Nma=function(){if(this.No){if(this.HQ !== this.No.I)return this.xf[this.xf.indexOf(this.No) + 1];}else return this.xf[0];};c.prototype.Qt=function(l){this.No=this.gv(l);};c.prototype.gv=function(l){var f;f=a(this.xf,function(k){return k.I === l;});"undefined" === typeof f && this.ja.error("Segment with segmentId " + l + " is not in segmentArray");return f;};c.prototype.jT=function(){var l;return (null === (l=this.No) || void 0 === l?void 0:l.I) || -1;};c.prototype.uxa=function(l,f){l=this.gv(l);"undefined" !== typeof l && (this.xf[this.xf.indexOf(l)].header=f);};c.prototype.vma=function(l){l=this.gv(l);return (null === l || void 0 === l?void 0:l.header) || ({});};c.prototype.yW=function(){this.xf.shift();};c.prototype.bva=function(l){this.xf.push(l);};c.prototype.cva=function(l,f){this.xf.splice(l,0,f);};c.prototype.ava=function(){this.xf.pop();};return c;})();b.yHa=r;b.Hc=a;b.d_=(function(){return function(c,l){this.I=c.I;this.xml=c.xml;this.bb=c.bb;this.lf=c.lf;this.UF=l;this.gr=c.gr;};})();},67974:function(r,b,a){var c,l,f,k,d,g,m,h;Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;c=a(70655);r=a(17187);l=a(14505);f=a(71558);k=a(42456);d=a(62441);g=a(66229);m=a(80404);h=r.EventEmitter;a=(function(n){function p(q,u){var t,w,v,y,x;void 0 === u && (u=f.oD.Ya);t=n.call(this) || this;w=q.preferences;v=q.Kf;y=q.xe;x=q.la;h.call(t);t.jx=new d.nca(x);t.dx="object" === typeof w?q.preferences:{};t.Uw="object" === typeof v?q.Kf:{};t.Hk="number" === typeof y?q.xe:0;t.ja="object" === typeof x?q.la:console;t.wf=[];t.Xh=0;t.Xj=t.Hk;t.nd=null;t.zn=!1;t.sm=!1;t.LD=q.XV || 0;t.md=new g.yHa(t.ja);t.FPa=u;if(u === f.oD.Ya)t.d1=new m.ELa(t.ja,t.dx,t.Uw);else throw Error("Not implemented yet");t.ja.trace("LiveTextStream created with options",q);return t;}c.__extends(p,n);p.prototype.start=function(){this.ja.info(("Incremental live text stream created, starting at pts ").concat(this.Hk));"undefined" !== typeof this.md.NF(this.Hk) && this.PG.call(this,this.Hk);};p.prototype.yta=function(q){var u,t,w,v;u=this;t=q.xml;w=t.indexOf("<p");if(this.FPa === f.oD.Ya)v=new k.DFa(q,-1 !== w?w:0);else throw Error("Not yet implemented");this.md.Jga(v);this.zn || (q=this.md.xf[0],this.md.DX(q),this.Hk=q.bb);-1 < w?(this.jx.BQa(t,v.I,v.gr),this.ja.trace(("Live segment ").concat(v.I," is pushed to segment manager"),{bb:v.bb,lf:v.lf,EBb:v.gr}),!this.zn && 4 > this.Xh && (t=0 < this.wf.length?this.wf[this.wf.length - 1].startTime + 1:this.Hk,this.ja.trace("parseNextSegment is called from push new live Segment at " + t),this.PG.call(this,t))):(this.ja.trace(("Live segment ").concat(v.I," is pushed to segment manager, it is an empty segment")),this.zn || setTimeout(function(){u.Qt(v.I);},10));};p.prototype.fB=function(q){var u,t,w,v,y,x;u=this;v=this;v.ja.trace(("LiveTextStream:get subtitles at pts ").concat(q));y=v.md.NF(q);if("undefined" === typeof y)return (v.ja.debug(("LiveTextStream: get subtitle at pts ").concat(q," returns empty result with segment not available at this pts")),[]);v.md.DX(y);q < v.Xj - v.LD?(v.ja.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(q),(", _lastPts: ").concat(v.Xj,", _backupTolerance: ").concat(v.LD)),v.wf=[],v.Xh=0):(v.Xh=0 < v.wf.length?Math.max(v.md.jT() - y.I + 1,0):0,0 === v.Xh && (v.wf=[]));y=v.wf;v.ja.trace(("LiveTextStream: lastBufferedPts calculation ").concat(q),(", buffer.length: ").concat(y.length,", result: ").concat(0 < y.length?null === (t=y[y.length - 1]) || void 0 === t?void 0:t.startTime:q));t=this.md.No;x=0 < y.length && void 0 !== t?t.bb:q;v.Xj=q;v.ja.info("LiveTextStream: timer is " + v.nd + " bufffered segment number is " + v.Xh + " is parsing entry : " + this.sm + " maxBufferedStartPts " + (null === (w=this.md.No) || void 0 === w?void 0:w.bb));for(!v.nd && 4 > v.Xh && !v.sm && (v.ja.info("LiveTextStream: buffer size: " + v.Xh + "; minimum: 4"),v.sm=!0,v.nd=setTimeout(function(){v.nd=null;u.ja.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));u.PG.call(v,x + 1);},10));0 < y.length && y[0].endTime < q;){y.shift();}return this.d1.I4(y,q).map(function(z){var A;A=v.md.vma(z.segId);return u.d1.q3(A,z);});};p.prototype.Rl=function(q,u){return this.jx?this.jx.Rl(q,u):0;};p.prototype.QC=function(q){return this.d1.QC(q);};p.prototype.close=function(){};p.prototype.PG=function(q){c.__awaiter(this,void 0,void 0,function(){var u,t;return c.__generator(this,function(w){switch(w.label){case 0:u=this;t=this.Lma.call(u,q);if("undefined" === typeof t)return [3,4];u.ja.trace("Next segment to parse at pts " + q + " is segment " + t.I);if(0 !== t.UF)return [3,1];u.ja.trace("This is an empty segment");this.Qt(t.I);return [3,3];case 1:return [4,this.ksa.call(u,t)];case 2:(w.Qa(),u.ja.trace("parseNextSegEntries buffer length: " + u.wf.length),w.label=3);case 3:return [3,5];case 4:return (u.ja.debug("Next segment is undefined at pts " + q),this.sm=!1,[2]);case 5:return [2];}});});};p.prototype.Lma=function(q){var u,t;t=this.jx.PZa(q);this.ja.trace(("Most recent entry at current pts ").concat(q," is segment id  ").concat(t));-1 === t && (t=(null === (u=this.md.NF(q)) || void 0 === u?void 0:u.I) || -1);return t === this.md.jT()?this.md.Nma():this.md.gv(t);};p.prototype.ksa=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,w,v,y,x,z,A,B;return c.__generator(this,function(D){switch(D.label){case 0:(u=this,t=q.xml.slice(0,q.UF),D.label=1);case 1:return (D.Qj.push([1,3,,4]),[4,this.nUb(t)]);case 2:return (w=D.Qa(),[3,4]);case 3:return (v=D.Qa(),this.Aka(v),[3,4]);case 4:if(!w)return (y=Error("Parsing header text returned undefined"),this.Aka(y),[2]);if(w.error)return (x=w.error,x.n0a=t,x.I=q.I,this.Aka(x),[2]);A=w.head;this.md.uxa(q.I,A);return this.FPa !== f.oD.Ya?[3,6]:[4,this.d1.hsa(q,A)];case 5:return (z=D.Qa(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=u.wf.reduce(function(C,F){F=F.blocks.reduce(function(G,E){return G.concat([E.id]);},[]);return C.concat(F);},[]),z && (z.forEach(function(C){var F;if(-1 === B.indexOf(C.id)){F=C && C.blocks && C.blocks.filter(function(G){return 0 < G.textNodes.length;});F && 0 < F.length && (C.blocks=F,u.wf.push(C));}}),this.Qt(q.I)),[2]);}});});};p.prototype.Aka=function(q){this.ja.error(q);this.emit("error",q);};p.prototype.Qt=function(q){this.md.Qt(q);this.Xh+=1;this.sm=!1;!this.zn && 4 <= this.Xh && (this.zn=!0,this.emit("ready"));};p.prototype.nUb=function(q){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(u){(0,l.S6a)(q,function(t,w){t?u({error:t}):u({head:w});});})];});});};return p;})(h);b.zHa=a;},80404:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.ELa=void 0;c=a(70655);l=a(14505);f=a(14505);k=a(93419);d=a(62441);r=(function(){function g(m,h,n){this.ja=m;this.dx=n;this.Uw=h;}g.prototype.hsa=function(m,h){return c.__awaiter(this,void 0,void 0,function(){var n,p,q,u,t,w,v,y,x;x=this;return c.__generator(this,function(){n=this;p=0;q=[];u=h.defaultStyle?[h.defaultStyle]:[];t=h.lang?[h.lang]:[];w=m.xml.lastIndexOf("/p>") + 3;v=m.xml.slice(m.UF,w);n.ja.debug(v);y=k.qf(!0);return [2,new Promise(function(z,A){y.onerror=function(B){B.xml=v;A(B);};y.onend=function(){z(q);};y.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Qd)((0,l.Qd)(q).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Qd)(u),lang:(0,l.Qd)(t),lineBreaks:p});p=0;};y.onclosetag=function(){var B;B=y.tag;"undefined" !== typeof B.attributes.style && u.pop();"undefined" !== typeof B.attributes["xml:lang"] && t.pop();};y.onopentag=function(B){var D,C;D=B.attributes;B=B.name;if("p" === B){p=0;B=m.I.toString() + "_" + D["xml:id"];D.style && u.push(D.style);D["xml:lang"] && t.push(D["xml:lang"]);C=(0,d.WE)(D.begin);0 === q.length || (0,l.Qd)(q).displayTime !== C?(D=x.wja(B,0,D,m.gr),D.segId=m.I,q.push(D)):(0,l.Qd)(q).blocks.push({textNodes:[],region:D.region,id:B,extent:D["tts:extent"] || null,origin:D["tts:origin"] || null});}else "span" === B?(u.push(D.style),D["xml:lang"] && t.push(D["xml:lang"]),B=h.styles[D.style],D.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Qd)((0,l.Qd)(q).blocks).textNodes.push({text:"",style:(0,l.Qd)(u),lang:(0,l.Qd)(t),lineBreaks:0})):"br" === B && p++;};y.write("<entries>").write(v).write("</entries>").close();})];});});};g.prototype.I4=function(m,h){return l.I4.call(this,m,h);};g.prototype.q3=function(m,h){return l.q3.call(this,m,h);};g.prototype.QC=function(m){return f.QC.call(this,m);};g.prototype.wja=function(m,h,n,p){var q;q={};q.id=m;q.startTime=(0,d.WE)(n.begin || "") - p;q.endTime=(0,d.WE)(n.end || "") - p;q.style=n.style;q.region=n.region;q.displayTime=q.startTime;q.duration=q.endTime - q.startTime;q.extent=n["tts:extent"] || null;q.origin=n["tts:origin"] || null;q.latestEndSoFar=h > q.endTime?h:q.endTime;q.blocks=[{textNodes:[],region:q.region,id:m,extent:q.extent || null,origin:q.origin || null}];return q;};return g;})();b.ELa=r;},55134:function(r,b,a){var l,f,k,d,g,m,h;function c(n){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(n);}Object.defineProperty(b,"__esModule",{value:!0});b.jmb=void 0;l=a(70655);r=a(17187);f=a(14505);k=a(98704);d=a(67974);g=a(71558);m=a(94631);h=a(16272);r=(function(n){function p(q,u){var t,w,v,y,x;t=this;t=n.call(this) || this;t.Eu=!0;t.CQ=[];t.Xj=0;t.pPa=!0;y=t;x=q.mf || !1;t.ja=q.la || console;t.iE=q.request;t.cs=q.ZIb;t.F0=null !== (w=q.Cdc) && void 0 !== w?w:function(z,A){return z - (null !== A && void 0 !== A?A:t.cs());};t.nd=null;t.Eu=!0;t.CQ=[];t.FJ=u.profile;t.Xf=u.url;t.hE=u.xe;t.dx=u.preferences;t.Uw=u.Kf;t.Xj=t.hE || 0;t.pPa=null !== (v=u.Hfc) && void 0 !== v?v:!0;w={url:t.Xf,request:t.iE,xe:t.hE,xml:u.xml,preferences:t.dx,Kf:t.Uw,la:t.ja,mf:x,bufferSize:u.bufferSize,ht:u.ht,XV:u.XV || 0,jSa:u.jSa};if("nflx-cmisc" === t.FJ)(w.offset=u.Fqa,w.size=u.N4a,w.E9=u.E9,w.sWa=u.sWa,t.Dd=new m(w));else if(u.ia && c(t.FJ))t.Dd=u.ghc?new d.zHa(w,g.oD.Ya):new k.EFa(w);else if(c(t.FJ) && "function" === typeof f.bca)t.Dd=new f.bca(w);else throw Error("SubtitleManager: " + t.FJ + " is an unsupported profile");t.Dd.on("ready",function(){var A,B,D;function z(){return y.Eu;}A=!!u.NRa;y.ja.info("ready event fired by subtitle stream");y.emit("ready");B=y.Dd.fB.bind(y.Dd);if(q.Tma && q.p8){D=a(5130).pza;y.nd=new D(y.cs,B,t.F0,y.ja,z,q.Tma,q.p8,u);}else y.nd=new h(y.cs,B,t.F0,z,y.ja,u);if("dfxp-ls-sdh" === y.FJ && "function" === typeof f.bca)y.nd.on("stagesubtitle",y.awa.bind(y));y.nd.on("showsubtitle",y.Pva.bind(y));y.nd.on("removesubtitle",y.Wta.bind(y));y.nd.on("underflow",y.km.bind(y));y.nd.on("bufferingComplete",y.Dm.bind(y));A && (y.ja.info("autostarting subtitles"),setTimeout(function(){y.hz(y.cs());},10));});t.Dd.on("error",t.emit.bind(t,"error"));return t;}l.__extends(p,n);p.prototype.start=function(){this.Dd.start();};p.prototype.n8a=function(){this.Eu || (this.Eu=!0,this.MWa(this.Xj));};p.prototype.hz=function(q){this.pPa && !this.Eu && 1E4 < Math.abs(q - this.Xj) && (this.ja.warn("Detected an unexpected pts jump larger than",1E4,"at",q,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.n8a());this.Xj=q;this.Eu && (this.Eu=!1,this.G1b(q));null !== this.nd && (this.T4b(q),this.nd.hz(q));};p.prototype.stop=function(){var q;this.ja.info("stop called");this.Eu || this.pause();this.Dd.removeAllListeners(["ready"]);null !== this.nd && this.nd.stop();q=this.CQ.reduce(function(u,t){u.zab+=t.LW;u.Y3+=t.Z3 || 0;u.wMb.push(t);return u;},{zab:0,Y3:0,wMb:[]});"object" === typeof this.Dd && this.Dd.close();this.ja.debug("metrics: " + JSON.stringify(q));return q;};p.prototype.pause=function(){var q;q=this.cs();this.Eu?this.ja.warn("pause called on subtitle manager, but it was already paused!"):(this.ja.info("pause called at " + q),this.Eu=!0,this.MWa(q));null !== this.nd && this.nd.pause();};p.prototype.Y4=function(q,u){return "function" === typeof this.Dd.Y4?this.Dd.Y4(q,u):[];};p.prototype.Rl=function(q,u){return this.Dd.Rl(q,u);};p.prototype.fB=function(q){return this.Dd.fB(q);};p.prototype.CC=function(q){var t;function u(){t.ja.info("bufferingComplete from setStreamStartPosition");t.emit("bufferingComplete");}t=this;"function" === typeof this.Dd.CC?this.Dd.CC(q,u):u();};p.prototype.Nj=function(q,u){"function" === typeof this.Dd.Nj && this.Dd.Nj(q,u);};p.prototype.cj=function(q,u){"function" === typeof this.Dd.cj && this.Dd.cj(q,u);};p.prototype.xta=function(q){"function" === typeof this.Dd.yta && this.Dd.yta(q);};p.prototype.C4=function(){return this.CQ[this.CQ.length - 1];};p.prototype.Pva=function(q){var u,t,w,x;t=0;this.ja.info("show subtitle called at " + this.cs() + " for displayTime " + q.displayTime);this.emit("showsubtitle",q);w=this.C4();w.Ht || (w.Ht={});if(c(this.FJ))try{for(var v=l.__values(q.blocks),y=v.next();!y.done;y=v.next()){x=y.value;w.Ht.hasOwnProperty(x.id) || t++;w.Ht[x.id]=q.endTime;}}catch(A){var z;z={error:A};}finally{try{y && !y.done && (u=v.return) && u.call(v);}finally{if(z)throw z.error;}}else (w.Ht.hasOwnProperty(q.id) || t++,w.Ht[q.id]=q.endTime);this.swb();w.LW+=t;};p.prototype.swb=function(){var q,u,t;q=this.C4();if(null === q || void 0 === q?0:q.Ht){u=q.Ht;t=Object.keys(q.Ht);30 < t.length && (t=t.sort(function(w,v){return u[v] - u[w];}),t.splice(19,Math.max(t.length - 20,0)),q.Ht={},t.forEach(function(w){q.Ht[w]=u[w];}));}};p.prototype.Wta=function(q){this.ja.info("remove subtitle called at " + this.cs() + " for remove time " + (q.displayTime + q.duration));this.emit("removesubtitle",q);};p.prototype.awa=function(q){this.ja.info("stage subtitle called at " + this.cs() + " for displayTime " + q.displayTime);this.emit("stagesubtitle",q);};p.prototype.km=function(){this.ja.info("underflow fired by the subtitle timer");this.emit("underflow");};p.prototype.Dm=function(){this.ja.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};p.prototype.G1b=function(q){this.ja.debug("creating a new subtitle interval at " + q);this.CQ.push({bb:q,LW:0});};p.prototype.T4b=function(q){var u;u=this.C4();u && (u.opa=q);};p.prototype.MWa=function(q){var u;this.ja.debug("ending subtitle interval at " + q);u=this.C4();u && (u.lf=q,u.lf < u.bb && (this.ja.warn("correcting for interval where endPts is smaller than startPts"),u.bb=0 < u.lf?u.lf - 1:0),u.Z3=this.Dd.Rl(u.bb,u.lf),delete u.Ht,u.Z3 > u.LW && u.opa && 500 > u.lf - u.opa && (u.Z3=this.Dd.Rl(u.bb,u.opa)),this.ja.debug("showed " + u.LW + " during this interval"),this.ja.debug("expected " + u.Z3 + " for this interval"));};return p;})(r.EventEmitter);b.jmb=r;b["default"]=r;},71558:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oD=void 0;r=b.oD || (b.oD={});r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},83809:function(r,b,a){var m,h;function c(n,p,q){var u;u=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || u;}function l(n,p,q){return p && (!p.entries.length && n > p.Ov || n > p.endTime) && q.entries.length && n < q.endTime;}function f(n,p,q){this.jE=this.Au=0;this.hob=n.bufferSize || 4194304;this.Lo=new g();this.gE;this.YD=n.mf;this.ja=n.la;this.nq=p;this.Yh=q;this.qq=new m(n);this.rE=new d(this.Yh.length,n.sWa);this.QQ=new k(n.jSa);}function k(n){this.uQ=0 !== n;this.on=!1;this.lj=n || 3E3;this.nd;}function d(n,p){if(this.enabled=p)this.hn=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,p){this.tk=n;this.index=p;}m=a(47120);h=a(11971);g.prototype.reset=function(){this.index=this.tk=void 0;};d.prototype.ba=function(n){this.enabled && n < this.hn.length && (this.hn[n]="x");};d.prototype.w6a=function(n){this.enabled && n < this.hn.length && (this.hn[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.hn.join("") + "|";};k.prototype.start=function(){var n;if(this.uQ){n=this;this.on=!0;this.nd=setTimeout(function(){n.on=!1;n.nd=void 0;},this.lj);}};k.prototype.stop=function(){this.on=!1;clearTimeout(this.nd);this.nd=void 0;};Object.defineProperties(f.prototype,{Jja:{get:function(){return this.Lo;}},Tub:{get:function(){return !this.QQ.on;}}});f.prototype.GQ=function(){this.rE.enabled && this.ja.debug("Buffer: " + this.rE.toString());};f.prototype.ypb=function(n){this.jE+=n;this.ja.debug("Reserved buffer size is",this.Au + this.jE,"after reserving",n);};f.prototype.Xpb=function(n){this.jE-=n;this.ja.debug("Reserved buffer size is",this.Au + this.jE,"after unreserving",n);};f.prototype.Smb=function(n){this.Au+=n;this.ja.debug("Buffer size is",this.Au,"after claiming",n);};f.prototype.uPa=function(n){this.Au-=n;this.ja.debug("Buffer size is",this.Au,"after clearing",n);};f.prototype.lYb=function(n,p){var q;this.uPa(n);q=this;p && this.rE.enabled && (p.forEach(function(u){q.rE.w6a(u.index);}),this.GQ());};f.prototype.Lva=function(n){var p;p=this.ynb(n);return h.I0a(p) && h.u2b(n,p);};f.prototype.K_b=function(n){var p;p=this.mOa(n);(!p || p.index) !== (!this.Lo || this.Lo.index) && (this.gE=this.Lo.tk,p?(this.YD && this.ja.debug("Current sidx is index",p.index),this.Lo=p):(this.YD && this.ja.debug("Current sidx is out of range"),this.Lo.reset()));this.gE && "number" === typeof this.gE.index && (n < this.gE.Ov - 35E3 || n > this.gE.Lp + 35E3) && (this.Qea(this.gE.index),this.gE=void 0,this.GQ());};f.prototype.CC=function(n,p){var q,u;q=this.Yh && this.Yh.length;for(p;p < q;p++){(u=this.Yh[p]) && ((u.endTime || u.Lp) >= n - 1E4 && (u.endTime || u.Lp) < n + 3E5 || this.Qea(p));}this.QQ.stop();this.GQ();};f.prototype.Brb=function(){var n,p;this.ja.debug("executing aggressive cleanup");n=this.Yh && this.Yh.length;for(p=0;p < n;p++){p === this.Lo.index && (p+=2);this.Qea(p);}this.QQ.stop();this.GQ();};f.prototype.sJb=function(n){var p,q,u,t;p=[];q=this.mOa(n);if(!q)return (this.Lo.reset(),p);this.Lo=q;u=n + 1E4;q=q.index;t=this.Yh[q];q;for(t;q < this.Yh.length && u > t.Ov;(q++,t=this.Yh[q])){h.I0a(t) && h.v2b(n,u,t) && p.push(t);}return p;};f.prototype.YVa=function(n,p){var q,u,t,w,v,y;if(!n || !n.length)return (p && p(null),!0);this.qq.LQ && 2 <= Object.keys(this.qq.LQ).length && !this.QQ.on && (this.ja.debug("Enabling buffering quiet period"),this.QQ.start());q=this;u=n[0];t=n[n.length - 1];if(0 < u.entries.length)(w=u.entries[0].WF,v=u.entries[u.entries.length - 1]);0 < t.entries.length && (h.Uc(w) || (w=t.entries[0].WF),v=t.entries[t.entries.length - 1]);if(w)y=v.WF + v.$na - w;else return (p && p(null),!0);u=h.oma(w,y);if(this.qq.LQ[u])(this.ja.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.Mnb(h.hna(n)))(this.ja.debug("Reserving",y,"bytes for subtitle request",n[0].Ov,n[n.length - 1].Lp),this.ypb(y),this.qq.RBb(n,w,y,function(x,z){q.ja.debug("Claiming reserved space.  Expected",y,"received",z);q.rE.enabled && (n.forEach(function(A){q.rE.ba(A.index);}),q.GQ());q.Xpb(y);q.Smb(z);p && p(x);}));else return (this.ja.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};f.prototype.lna=function(n,p){var q,u,t;q=this.nq;u=this.lOa(n,p,this.Yh);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,n,p);for(var w=0;w < u.length;w++){n=u[w];t=t.concat(n.entries.filter(p));}t=t.map(function(v){return h.Bja(v,null,q);});return h.XTa(t);};f.prototype.tJb=function(n,p,q){return this.lOa(n,p.endTime,p.hn,q,!0);};f.prototype.lOa=function(n,p,q,u,t){var w,v,y,x;if(p && n > p || 0 > n)this.ja.error("invalid range startPts: " + n + ", endPts: " + p);else {w=q && q.length || 0;v=[];if(q && 0 !== w){y=q[0].duration;x=q[0].Ov;if(h.Uc(y) && 0 < y)y=Math.floor((n - x) / y);else for((this.YD && this.ja.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < w && (x=q[y],!h.MBb(x,n));y++){;}for(;y < w && (!u || v.length < u);){x=q[y];if(!t || !x.images.length && x.endTime > n)v.push(x);else if(v.length)break;if(p && p <= x.Lp)break;y++;}return v;}}};f.prototype.ynb=function(n){var p,q,t;p=this.Yh;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.Ov > n || n > q.Lp))a:{this.qnb || (this.qnb=!0,q=h.XHb(this.nq.language),this.ja.error("bruteforce search for ",{movieId:this.nq.O,packageId:this.nq.en,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.Ov <= n && n <= t.Lp){q=t;break a;}}q=void 0;}return q;}};f.prototype.mOa=function(n){var p,q,u,t,w,v,y,x;p=this.Lo;q=p.tk;u=p.index;t=this.Yh;this.Xea(h.Uc(n));if(q)if(q.entries.length){if(0 === u && n <= q.startTime || n >= q.startTime && n <= q.endTime)(w=!0,v=p);else {if(0 < u){y=t[u - 1];l(n,y,q) && (w=!0,v=p);}}}else {y=t[u - 1];x=t[u + 1];l(n,y,q)?(w=!0,v=p):x && x.endTime && n <= x.endTime && (n >= q.endTime || n >= q.Lp) && (w=!0,v=new g(x,u + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((u=t[q],u.entries.length && n <= u.endTime)){v=new g(u,q);break;}}return v;};f.prototype.Mnb=function(n){return this.Au + this.jE + n <= this.hob;};f.prototype.Qea=function(n){var p,q,u;p=this.Yh[n];q=p && p.images && p.images.length || 0;if(0 < q){u=h.hna([p]);p.images=[];this.rE.w6a(n);this.uPa(u);this.YD && this.ja.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:u,images:q,hfc:this.Au});}};f.prototype.Xea=function(n){this.YD && h.assert(n,this.ja);};r.exports=f;},94631:function(r,b,a){var l,f,k,d,g,m;function c(h){l.call(this);this.Xf=h.url;this.iE=h.request;this.hE=h.xe || 0;this.ja=h.la;this.Yh=this.nq=null;h.ht?this.nq=h.ht:(this.Jb=h.offset,this.HJ=h.size);this.Bl;this.Ufa=h;}l=a(17187).EventEmitter;f=a(46445);k=a(36872);d=a(87370);g=a(11971);m=c.events={ujb:"midxready",Mlb:"sidxready",xlb:"ready",Sj:"error"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Lo:{get:function(){return this.Bl && this.Bl.Jja;}}});c.prototype.start=function(){this.nq?(this.ja.warn("midx was prefectched and provided"),this.$Na(this.nq)):this.knb(this.Jb,this.HJ,this.mpb.bind(this));};c.prototype.close=function(){};c.prototype.Y4=function(h,n){return this.Bl && this.Bl.lna(h,n);};c.prototype.Rl=function(h,n){return (h=this.Y4(h,n))?h.length:h;};c.prototype.CC=function(h,n){this.ja.debug("setStreamStartPosition: buffering subtitles at pts " + h);this.hE=h;this.Bl?this.Bl.CC(h,n):n && n();};c.prototype.fB=function(h){var n,p,q;if(!this.Bl || h > g.AHb(this.nq))return [];this.Bl && this.Bl.pka(h);n=this.Lo.tk;p=this.Lo.index;q=[];p=g.Uc(p) && this.Yh[p + 1];if(!(p && p.entries.length || n && !(h > n.endTime)))return [];n && n.images.length && (q=this.iOa(n,h,[]));2 > q.length && p && p.images.length && (n=this.iOa(p,h,q),q.push.apply(q,n));return this.Bl.Lva(h)?null:g.XTa(q);};c.prototype.cj=function(h,n){this.Bl && this.Bl.cj(h,n);};c.prototype.Nj=function(h,n){this.Bl && this.Bl.Nj(h,n);};c.prototype.knb=function(h,n,p){this.ja.debug("downloading midx...");this.tOa(h,n,"binary",p);};c.prototype.lnb=function(h,n,p){this.ja.debug("downloading sidx...");this.tOa(h,n,void 0,p);};c.prototype.tOa=function(h,n,p,q){this.iE({url:this.Xf,offset:h,size:n,responseType:p},q);};c.prototype.mpb=function(h,n){if(h)this.emit(m.Sj,g.hT(h,"midxdownloaderror"));else try{this.nq=new f(n);this.$Na(this.nq);}catch(p){this.emit(m.Sj,g.hT(p,"midxparseerror"));}};c.prototype.$Na=function(h){var n;n=h.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(m.ujb,h),this.lnb(h.startOffset,n,this.opb.bind(this,h))):this.emit(m.Sj,g.hT({},"nosidxfoundinmidx"));};c.prototype.opb=function(h,n,p){var q,u,t,w;q=this;if(n)q.emit(m.Sj,g.hT(n,"sidxdownloaderror"));else {u=0;t=0;q.Yh=[];try{w=0;h.entries.forEach(function(v){var y;y=new k(p,u,h.poa,q.ja,t,t + v.duration,w);q.Yh.push(y);v.b1b=y;t=y.Lp;u+=v.size;w++;});}catch(v){q.emit(m.Sj,g.hT(v,"sidxparseerror"));return;}q.emit(m.Mlb,q.Yh);this.Bl=new d(q.Ufa,h,q.Yh);n=q.hE;q.Ufa && q.Ufa.E9 || (n=Math.max(q.hE - 1E4,0));this.Bl.pka(n,function(v){v && q.ja.error("initial sidx download failed");q.emit(m.xlb);});}};c.prototype.iOa=function(h,n,p){var x;for(var q=h.entries,u=0,t=q.length,w=[],v,y=this.nq;u < t;){v=q[u];if(v.displayTime <= n)v.displayTime + v.duration >= n && w.push(g.Bja(v,h.images[u].data,y));else {x=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > n && x.displayTime !== v.displayTime)break;x.WF !== v.WF && w.push(g.Bja(v,h.images[u].data,y));}u++;}return w;};r.exports=c;},46445:function(r,b,a){var l,f;function c(k,d){this.duration=k;this.size=d;this.b1b=void 0;}l=a(57966);f=a(11971);r.exports=function(k){var h;k=new l(k);this.identifier=k.Fta(4);f.assert("midx" === this.identifier);this.version=k.Mp(4);f.assert(0 === this.version);this.poa=k.Dj(36);this.creationTime=k.aN();this.en=k.aN();this.O=k.aN();this.uZb=k.Zg();this.vZb=k.Zg();this.language=k.Dj(16);k.Dj(16);this.startOffset=k.aN();this.PK=k.Zg();for(var d=[],g=0,m=0;m < this.PK;m++){h=new c(k.Mp(4),k.Zg());d.push(h);g+=h.duration;}this.entries=d;this.endTime=g;};},47120:function(r,b,a){var l,f;function c(k){this.Xf=k.url;this.iE=k.request;this.hE=k.xe || 0;this.YD=k.mf;this.ja=k.la;this.LQ={};}l=a(57966);f=a(11971);c.prototype.RBb=function(k,d,g,m){this.LQ[f.oma(d,g)]=!0;k && k.forEach(function(h){h.kW=!0;});this.iE({url:this.Xf,offset:d,size:g},this.Oob.bind(this,k,d,g,m));};c.prototype.Oob=function(k,d,g,m,h,n){var p,q,u,t;p=this;q=f.oma(d,g);setTimeout(function(){delete p.LQ[q];},1E3);if(h)(m && m(h,0),k && k.forEach(function(w){delete w.kW;}));else {u=new l(n);t=0;k && k.forEach(function(w){delete w.kW;w.entries.forEach(function(v,y){u.position=v.WF - d;v={data:u.Dj(v.$na)};w.images[y]=v;f.S5b(w.images[y].data,p.Xea.bind(p));t+=w.images[y].data.length;});});m && m(null,t);}};c.prototype.Xea=function(k){this.YD && f.assert(k,this.ja);};r.exports=c;},90840:function(r){function b(a,c,l,f){this.ja=f;this.id=a;this.startTime=c && c.sa || 0;this.endTime=c && c.ta;this.y5a=c && c.next || [];this.u$a;this.gV=[];this.JL=!1;a=this.startTime;c=this.endTime;for(var k=[],d=0;d < l.length;d++){(f=l[d]) && (!c || c > f.Ov) && a < f.Lp && (f.PLb(),k.push(f));}this.hn=k;}b.prototype.hTa=function(){this.ja.debug("Cleaning up segment",this.id);for(var a,c=0,l,f=[],k=0;k < this.hn.length;k++){a=this.hn[k];(l=a.yAb()) && f.push(a);a && (c+=l);}this.hn=[];return {size:c,hn:f};};r.exports=b;},87370:function(r,b,a){var k,d;function c(g,m){var n;g=g || 0;if(m)for(var h in m.M){n=m.M[h];if(g >= (n.sa || 0) && (!n.ta || g < n.ta))return h;}}function l(g,m){return g && m && m.M[g];}function f(g,m,h){var n;this.ja=g.la;this.Yh=h;this.hA=this.Umb(g.E9);this.Gu=[];n=h && h[h.length - 1];this.Xj=n && (n.endTime || n.Lp);this.kg=new k(g,m,h);g=c(g.xe || 0,this.hA);this.Al=this.rQ(g);}k=a(83809);d=a(90840);Object.defineProperties(f.prototype,{Jja:{get:function(){return this.kg.Jja;}}});f.prototype.lna=function(g,m){return this.kg && this.kg.lna(g,m);};f.prototype.pka=function(g,m){this.kg.K_b(g);this.XPa(g);if(!this.hA && this.Xj && g > this.Xj)m && m();else if((g=this.XNa(g,this.Al,2,m),this.hA && 0 < this.Al.y5a.length))m && m();else if(this.hA && this.Al.JL && g){2 > this.Gu.length && this.$mb(this.Al);m=Math.ceil(2 / (this.Gu.length - 1));for(var h=0;h < this.Gu.length && g && 3 > h;h++){g=this.Gu[h];g=this.XNa(g.startTime,g,m);}}};f.prototype.Lva=function(g){return this.kg.Lva(g)?(this.kg.Brb(),this.pka(g),this.Al.JL=!1,!0):!1;};f.prototype.CC=function(g,m){var h;this.XPa(g);this.Gu.forEach(function(n){n.JL=!1;});h=this.Al.hn && this.Al.hn[0];this.kg.CC(g,h && h.index);(g=this.kg.sJb(g)) && g.length?this.kg.YVa(g,m):m && m();};f.prototype.Nj=function(g,m){var h;this.ja.debug("Set next segment to",m,"for segment",g);g=this.cOa(g) || this.rQ(g);g.u$a=m;h=this;g.gV=g.gV.filter(function(n){if(n.id === m)return !0;h.$ea(n);return !1;});};f.prototype.cj=function(g,m){var h;h=l(g,this.hA);Object.keys(h.next).forEach(function(n){h.next[n].weight=m[n] || 0;});};f.prototype.Umb=function(g){var m,n;m={};if(g=(g || ({})).M){m.M={};for(var h in g){n=g[h] || ({});m.M[h]={sa:n.sa,ta:n.ta,Db:n.Db,next:this.Tmb(n.next)};}}return m;};f.prototype.Tmb=function(g){var m,h;m={};for(h in g){m[h]={weight:(g[h] || ({})).weight};}return m;};f.prototype.XPa=function(g){var m,h;if(this.hA && this.Al.startTime > g || this.Al.endTime && this.Al.endTime < g){m=this.Al;h=c(g,this.hA);h?(this.ja.debug("Switching segments from",this.Al.id,"to",h,"at pts",g),this.Al=this.cOa(h) || this.rQ(h),this.$ea(m)):this.ja.debug("The pts is outside of the current segment but not in a new one yet");}};f.prototype.rQ=function(g){this.ja.debug("SegmentManager: creating segment",g);g=new d(g,l(g,this.hA),this.Yh,this.ja);this.Gu.push(g);this.ja.debug("SegmentManager: segment contains",g.hn.length,"sidxes");return g;};f.prototype.$ea=function(g){var m;if(g && g !== this.Al){this.ja.debug("SegmentManager: deleting segment",g.id);g.gV.forEach(this.$ea.bind(this));this.Gu=this.Gu.filter(function(h){return h !== g;});m=g.hTa();this.kg.lYb(m && m.size || 0,m && m.hn);}};f.prototype.cOa=function(g){var h;for(var m=0;g && m < this.Gu.length;m++){h=this.Gu[m];if(g === h.id)return h;}};f.prototype.$mb=function(g){var m,n;m=g.u$a;if(m && "" !== m)g.gV.push(this.rQ(m));else {m=g.y5a;for(var h in m){n=m[h];if(!n || !n.weight)break;g.gV.push(this.rQ(h));}}};f.prototype.XNa=function(g,m,h,n){if(!m || m.JL)return (this.ja.debug("Done driving segment",m && m.id),!0);if(!this.kg.Tub)return (this.ja.debug("Throttling buffering in quiet period"),!1);this.ja.debug("Drive streaming of segment",m.id,"from pts",g);h=(g=this.kg.tJb(g,m,h)) && g.length || 0;if(0 === h)return (this.ja.debug("Segment is fully downloaded",m && m.id),m.JL=!0,n && n(),!0);this.ja.debug("Downloading",h,"sidxes in segment",m.id);return this.kg.YVa(g,function(p,q){p && (m.JL=!1);n && n(p,q);});};r.exports=f;},36872:function(r,b,a){var f,k;function c(d,g,m,h,n,p,q,u){this.displayTime=d;this.duration=g;this.JTb=m;this.KTb=h;this.i1b=n;this.j1b=p;this.WF=q;this.$na=u;}function l(d,g,m,h,n,p,q){var u;d=new f(d);u=0;d.position=g;this.ja=h;this.identifier=d.Fta(4);k.assert("sidx" === this.identifier,h);this.poa=d.Dj(36);k.uwb(this.poa,m,h);this.duration=d.Mp(4);this.PK=d.Zg();this.Ov=n;this.Lp=p;this.index=q || 0;this.entries=[];this.images=[];for(this.fga=0;u < this.PK;){g=new c(d.Mp(4),d.Mp(4),d.Zg(),d.Zg(),d.Zg(),d.Zg(),d.aN(),d.Mp(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}f=a(57966);k=a(11971);l.prototype.PLb=function(){this.fga++;};l.prototype.yAb=function(){var d;d=0;this.fga--;1 > this.fga?this.images && 0 < this.images.length && (d+=k.hna([this]),this.images=[]):this.ja.debug("Not cleaning up shared sidx with range",this.Ov,"-",this.Lp);return d;};r.exports=l;},11971:function(r){function b(k,d){return k.some(function(g){return g.id === d;});}function a(k,d){return k.filter(c.bind(null,d)).map(l).reduce(f,0);}function c(k,d){return k.id === d.id && k.displayTime + k.duration === d.displayTime;}function l(k){return k.duration;}function f(k,d){return k + d;}r.exports={uwb:function(k,d,g){for(var m=0;m < k.length;m++){if(k[m] !== d[m])return (g.error("indexId mismatch in sidx",{sIndexId:k,mIndexId:d}),!1);}return !0;},Bja:function(k,d,g){var m;m={};m.displayTime=k.displayTime;m.duration=k.duration;m.originX=k.JTb;m.originY=k.KTb;m.sizeX=k.i1b;m.sizeY=k.j1b;m.imageData=d;m.id=k.WF;m.rootContainerExtentX=g.uZb;m.rootContainerExtentY=g.vZb;return m;},oma:function(k,d){return "o_" + k + "s_" + d;},S5b:function(k,d){d("P" === String.fromCharCode(k[1]));d("N" === String.fromCharCode(k[2]));d("G" === String.fromCharCode(k[3]));},Uc:function(k){return "undefined" !== typeof k;},egc:b,Rcc:a,hT:function(k,d){var g,m;g=Object.create({});for(m in k){g[m]=k[m];}k instanceof Error && (g.message=k.message,g.stack=k.stack);g.errorString=d;return g;},assert:function(k,d){if(!k)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},I0a:function(k){return k && 0 < k.entries.length && 0 === k.images.length;},u2b:function(k,d){for(var g=d.entries.length,m,h=0;h < g;h++){if((m=d.entries[h],m.displayTime <= k && m.displayTime + m.duration >= k))return !0;}return !1;},v2b:function(k,d,g){for(var m=g.entries.length,h,n,p=0;p < m;p++){h=g.entries[p];n=h.displayTime;h=n + h.duration;if(d < n)break;if(n <= k && h >= k || n > k && n <= d)return !0;}return !1;},XTa:function(k){return k.map(function(d,g){d.duration+=a(k.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},hna:function(k){return k.reduce(function(d,g){return d + g.entries.reduce(function(m,h){return h.$na + m;},0);},0);},MBb:function(k,d){return k && k.Ov <= d && k.Lp >= d;},AHb:function(k){if(k)return k.endTime;},XHb:function(k){try{return String.fromCharCode.apply(String,k);}catch(d){}return "";}};},16272:function(r,b,a){var c;c=a(17187).EventEmitter;a(57159)({});b=function n(f,k,d,g,m,h){if(!(this instanceof n))return new n(f,k,d,g,m,h);c.call(this);this.cs=f;this.zQ=k;this.F0=d;this.Ynb=g;this.Ii={};this.oj={};this.ja=m || console;this.xn=!1;this.Cfa=h.ia;this.qpb=h && h.XV || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.nd);this.nd=void 0;this.b9();};b.prototype.b9=function(){var f;f=this;Object.keys(f.Ii).forEach(function(k){f.emit("removesubtitle",f.Ii[k]);});f.Ii={};f.oj={};};b.prototype.pause=function(){this.xn || (clearTimeout(this.nd),this.nd=void 0);};b.prototype.hz=function(f,k){var d,g;d=this;g=d.cs();f=d.zQ(g);null !== f && d.xn && (d.xn=!1,this.ja.debug("bufferingComplete"),d.emit("bufferingComplete"),this.Ynb())?this.ja.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(k="number" === typeof k?k:0,Object.keys(d.Ii).forEach(function(m){m=d.Ii[m];m.displayTime - d.qpb <= g && g < m.displayTime + m.duration || (delete d.Ii[m.id],d.emit("removesubtitle",m));}),Object.keys(d.oj).forEach(function(m){m=d.oj[m];g >= m.displayTime + m.duration && delete d.oj[m.id];}),null !== f && 0 < f.length?(k=f.length,d.ja.debug("found " + k + " entries for pts " + g),f.forEach(function(m){m.displayTime - 0 <= g && g < m.displayTime + m.duration && !d.Ii[m.id] && (d.emit("showsubtitle",m),d.Ii[m.id]=m,delete d.oj[m.id]);}),k=f[f.length - 1],d.Ii[k.id] || d.oj[k.id] || (d.emit("stagesubtitle",k),d.oj[k.id]=k),k=d.Rpb(g,f),"number" === typeof k && Infinity > k?d.XQ(k):d.XQ(2E4)):null === f?(f=250 * Math.pow(2,k),2E3 < f && (f=2E3),d.ja.warn("checking buffer again in " + f + "ms"),d.xn || (d.xn=!0,d.emit("underflow")),d.XQ(f,k + 1)):d.Cfa?(f=500,d.ja.trace("Live : No entries for " + g + "checking buffer again in " + f + "ms"),d.XQ(f)):d.XQ(2E4));};b.prototype.XQ=function(f,k){var d;d=this;d.ja.debug("Scheduling pts check.",{timeout:f,bO:d.nd});clearTimeout(d.nd);d.nd=setTimeout(function(){d.hz(d.cs(),k);},f);};b.prototype.Rpb=function(f,k){k=k.reduce(this.zob.bind(this,f),Infinity);return Infinity > k?this.F0(k,f):k;};b.prototype.zob=function(f,k,d){var g;g=d.displayTime;d=d.displayTime + d.duration;this.ja.debug("next events: start",g,"end",d,"now",f);return g < k && f < g?g:d < k && f < d?d:k;};r.exports=b;},57966:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},$ma:function(){return this.buffer.length - this.position;},Ky:function(){return this.buffer[this.position++];},Dj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Mp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Fta:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Zg:function(){return this.Mp(2);},Np:function(){return this.Mp(4);},aN:function(){return this.Mp(8);},Pv:function(a){for(var c,l="";a--;){c=this.Ky();l+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return l;},Gta:function(a){for(var c=0,l=0;l < a;l++){c+=this.Ky() << (l << 3);}return c;},$M:function(){return this.Gta(4);},WX:function(a){this.wO(a,2);},lz:function(a){this.wO(a,4);},faa:function(a){this.buffer[this.position++]=a;},wO:function(a,c){this.position+=c;for(var l=1;l <= c;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},kz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},VX:function(a){for(var c=a.length,l=0;l < c;l++){this.buffer[this.position++]=a[l];}},vO:function(a,c){this.VX(a.Dj(c));}};r.exports=b;},57159:function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var k,d,g;function c(m,h,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + m + "' but found '" + h + "'"));}function l(m,h,n){var p;p=d[m];"undefined" !== typeof p?p(h) || c(m,h,n):m !== typeof h && c(m,h,n);}function f(m,h){var n;n=m.filter(function(p){return "object" !== typeof p && -1 === g.indexOf(p);});n=n.concat(m.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== m.length)throw new TypeError("Types: unexpected number of arguments");m.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)l(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(w){l(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return h.apply(this,p);};}k=("number boolean string object function symbol").split(" ");d={array:function(m){return Array.isArray(m);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(m){if("undefined" !== typeof d[m] || -1 < k.indexOf(m))throw new TypeError("Types: attempting to override a built in type with " + m);d[m]=a[m];});}g=Object.keys(d).concat(k);return f(["array","function"],f);};},67841:function(r){var b;b={tb:function(a){return "number" === typeof a;},$s:function(a){return "object" === typeof a;},yg:function(a){return "string" === typeof a;},ii:function(a){return "undefined" === typeof a;},$dc:function(a){return "boolean" === typeof a;},wp:function(a){return "function" === typeof a;},Zb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},jUb:function(a){var c,l;l=[];if(!b.$s(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.Fs=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var f=0,k=a.length;f < k;f++){c.call(l,a[f],f,a);}else for(f in a){b.has(a,f) && c.call(l,a[f],f,a);}return a;};r.exports=b;},18987:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;l=Object.prototype.toString;f=a(21414);b=Object.prototype.propertyIsEnumerable;k=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");g=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");m=function(q){var u;u=q.constructor;return u && u.prototype === q;};h={R6b:!0,S6b:!0,T6b:!0,U6b:!0,V6b:!0,W6b:!0,X6b:!0,Y6b:!0,Z6b:!0,$6b:!0,a7b:!0,b7b:!0,c7b:!0,d7b:!0,e7b:!0,f7b:!0,g7b:!0,h7b:!0,i7b:!0,j7b:!0,k7b:!0,l7b:!0,m7b:!0};n=(function(){if("undefined" === typeof qb)return !1;for(var q in qb){try{if(!h["$" + q] && c.call(qb,q) && null !== qb[q] && "object" === typeof qb[q])try{m(qb[q]);}catch(u){return !0;}}catch(u){return !0;}}return !1;})();p=function(q){var u,t,w,v,y,z;u=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);w=f(q);v=u && "[object String]" === l.call(q);y=[];if(!u && !t && !w)throw new TypeError("Object.keys called on a non-object");u=d && t;if(v && 0 < q.length && !c.call(q,0))for(v=0;v < q.length;++v){y.push(String(v));}if(w && 0 < q.length)for(w=0;w < q.length;++w){y.push(String(w));}else for(var x in q){u && "prototype" === x || !c.call(q,x) || y.push(String(x));}if(k){if("undefined" !== typeof qb && n)try{z=m(q);}catch(A){z=!1;}else z=m(q);for(w=0;w < g.length;++w){z && "constructor" === g[w] || !c.call(q,g[w]) || y.push(g[w]);}}return y;};}r.exports=p;},82215:function(r,b,a){var c,l,f,k,d;c=Array.prototype.slice;l=a(21414);f=Object.keys;k=f?function(g){return f(g);}:a(18987);d=Object.keys;k.pgc=function(){Object.keys?(function(){var g;g=Object.keys(arguments);return g && g.length === arguments.length;})(1,2) || (Object.keys=function(g){return l(g)?d(c.call(g)):d(g);}):Object.keys=k;return Object.keys || k;};r.exports=k;},21414:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,l;c=b.call(a);l="[object Arguments]" === c;l || (l="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},33530:function(r,b,a){var l,f,k;function c(d,g,m){var h;if(!m)return !1;m=m[g];return "boolean" === typeof m?!0 === m:(null === m || void 0 === m?void 0:m.length) === (null === (h=d[g].Ze) || void 0 === h?void 0:h.length);}Object.defineProperty(b,"__esModule",{value:!0});b.kUa=b.sn=void 0;l=a(70655);f=a(85392);b.sn=-1;b.kUa=function(d,g,m,h,n){function p(w){var v,y,x,z,A,B;v=g.ce[w];y=c(g.ce,w,m);x=!!v.Ze;z=!!h && !y && x;A=0 === v.jk;v.jk > u && q.gf(("").concat(d,"-").concat(w),{J:d,sa:u,ta:v.jk,type:"content"});x || q.mrb();!z || A && !n || q.gf(("padstart-").concat(w),{J:b.sn,sa:0,ta:h,type:"padding"});u=v.jk;if(v.Ze && !y){B=null === m || void 0 === m?void 0:m[w];v.Ze.forEach(function(D,C){var F;F=!1;Array.isArray(B) && (F=-1 < B.indexOf(C));F || q.gf(("ad-").concat(w,"-").concat(C),{J:D.id,sa:D.sa,ta:D.ta,type:"ad"});});z && q.gf(("padend-").concat(w),{J:b.sn,sa:0,ta:h,type:"padding"});}}void 0 === h && (h=0);void 0 === n && (n=!1);for(var q=new k(),u=0,t=0;t < g.ce.length;++t){p(t);}q.gf(("").concat(d,"-").concat(g.ce.length),{J:d,sa:u,ta:null,type:"content"});return q.ph();};k=(function(){function d(){this.eb=new f.Rr();}d.prototype.gf=function(g,m){var h,n,p;this.sF || (this.sF=g);if(this.oC){n=l.__read(this.oC,2);p=n[0];n=n[1];n.Db=g;n.next=(h={},h[g]={},h);"content" === n.type && -1 < ["ad","padding"].indexOf(m.type) && (n.Nn=!0);"content" === m.type && (-1 < ["ad","padding"].indexOf(n.type) || n.Nn) && (m.Gs=!0);this.eb.gf(p,n);}this.oC=[g,m];};d.prototype.mrb=function(){var g,m;if(this.oC){g=l.__read(this.oC,2);m=g[0];g=g[1];"content" === g.type && (g.Nn=!0);this.eb.gf(m,g);this.oC=[m,g];}};d.prototype.ph=function(){var g;if(this.oC){g=l.__read(this.oC,2);this.eb.gf(g[0],g[1]);}this.oC=void 0;this.sF && this.eb.BC(this.sF);return this.eb.ph();};return d;})();},78917:function(r,b,a){var g;function c(m){return Object.keys(m.segments).some(function(h){return void 0 !== d(m.segments[h]);});}function l(m){return "delayedSeamless" === m?"lazy":m;}function f(m){return Object.keys(m).reduce(function(h,n){var p,q;p=m[n];q=p.weight;p=p.transitionType || p.transitionHint;n=h[n]={};void 0 !== q && (n.weight=q);p && (n.Xd=l(p));return h;},{});}function k(m){var h,n;h=Object.keys(m);n=h.length;return n?h.reduce(function(p,q){return p + (m[q].weight || 0);},0) / n:void 0;}function d(m){var h;if(m.ui){h=m.ui.interactionZones;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0] - m.startTimeMs;m=m.ui.interactionZonesV2;if((null === m || void 0 === m?0:m.length) && m[0].length)return m[0][0];}else if(void 0 !== m.earliestSkipRequestOffset)return m.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.C2=void 0;g=a(85392);b.C2=function(m,h){var n,p,q,u,t,w;n=void 0 === h?{}:h;h=n.bg;p=n.we;q=n.M;n=n.config;u=!(!n || -1 === n.Nla.indexOf(m.viewableId));t=c(m)?0:(null === n || void 0 === n?void 0:n.Mla) || 0;n=new g.Rr();w=q || m.segments;n.BC(null !== p && void 0 !== p?p:m.initialSegment).X$a(null !== h && void 0 !== h?h:m.mediaTypes).Iva(u?"immediate":l(m.transitionType)).Bva(Object.keys(w).reduce(function(v,y){var x,z,A,B,D,C;x=w[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (u || (null === (B=x.exitZones) || void 0 === B?0:B.length))?k(x.next):void 0;}B=z;if(z=x.exitZones)D=void 0;else a:{if(u && x.endTimeMs){D=x.endTimeMs - x.startTimeMs;C=d(x);if(C && C < D){D=[[C,D]];break a;}if(t && D > t){D=[[D - t,D]];break a;}}D=void 0;}C=u?D?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:m.viewableId,sa:x.startTimeMs,ta:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,Xd:l(C),Fq:z || D,weight:B};x.defaultNext && (B.Db=x.defaultNext);x.next && (B.next=f(x.next));v[y]=B;return v;},{}));return n.ph();};},10225:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Oyb=void 0;c=a(85392);b.Oyb=function(l){var f,k,d,g,m,h;f=l.yfc;k=l.phc;l=l.tgc;d=new c.Rr();g=l.split(" ");m=/\d+/;h=new Map();k.forEach(function(n){h.set(n,0);});g.forEach(function(n,p){var q,u,t,w,v,y,x,z;y=Number(n.split(".")[0].match(m)[0]);x=Number(n.split(".")[1].match(m)[0]);y=k[y];n=h.get(y);z=("").concat(y,"-").concat(n);h.set(y,n + 1);x={J:y,sa:null !== (t=null === (u=f.get(y)) || void 0 === u?void 0:u[x]) && void 0 !== t?t:0,ta:null !== (v=null === (w=f.get(y)) || void 0 === w?void 0:w[x + 1]) && void 0 !== v?v:void 0};g.length > p + 1 && (u=Number(g[p + 1].split(".")[0].match(m)[0]),u=k[u],t=h.get(u),u=("").concat(u,"-").concat(t),x.Db=u,x.next=(q={},q[u]={},q),h.set(y,n + 1));0 === p && d.BC(z);d.gf(z,x);});return d.ph();};},41427:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(70655);r.__exportStar(a(3491),b);r.__exportStar(a(85392),b);r.__exportStar(a(238),b);r.__exportStar(a(78917),b);r.__exportStar(a(47164),b);r.__exportStar(a(65463),b);r.__exportStar(a(51079),b);r.__exportStar(a(25561),b);r.__exportStar(a(33530),b);r.__exportStar(a(10225),b);},65463:function(r,b,a){var g,m,h;function c(n){for(var p=n.we,q=[];p;){q.push(p);p=n.M[p].next;if(!p)break;p=Object.keys(p);if(p.length)((0,m.assert)(1 === p.length,"Expected linear playgraph"),p=p[0]);else break;}return q;}function l(n){return (0,m.pha)(Object.keys(n.M).map(function(p){return n.M[p].J;}));}function f(n,p){return Object.keys(p.M).some(function(q){q=p.M[q];return n.J === q.J && n.sa > q.sa && (!q.ta || !!n.ta && (Infinity === n.ta || n.ta < q.ta));});}function k(n){return null === n || void 0 === n?Infinity:n;}function d(n,p){return null === n || void 0 === n?Infinity === k(p.ta):n >= p.sa && n <= k(p.ta);}Object.defineProperty(b,"__esModule",{value:!0});b.Aqa=void 0;g=a(70655);m=a(94160);h=a(85392);b.Aqa=function(n,p){var q,u,t,w,v;q=c(p);u=l(n);t=l(p);u=(0,m.sRa)(u,t);(0,m.assert)(1 === u.length,"Source and content playgraphs should share one viewable");w=u[0];t=Object.keys(n.M).filter(function(y){return n.M[y].J === w;}).map(function(y){var G,E,J,M,L,I;for(var x,z=n.M[y],A=z.sa,B=k(z.ta),D=0 === A,C=[],F=0;F < q.length;++F){G=q[F];E=p.M[G];J=f(n.M[y],p);if(E.J !== w)D && C.push({id:("").concat(y,":").concat(G),u:g.__assign(g.__assign({},E),{Rb:y})});else if(D){L=Math.max(z.sa,E.sa);M=(I=!Number.isFinite(B) && F === q.length - 1)?B:Math.min(B,k(E.ta));M > L && (J=Infinity !== B || !J && !I?Infinity === M?null:M:z.ta,C.push({id:("").concat(y,":").concat(G),u:g.__assign(g.__assign({},E),{sa:L,ta:J,Rb:y})}));if(d(B,E)){if(B === k(E.ta))for(F+=1;F < q.length;++F){A=q[F];B=p.M[A];if(B.J === w)break;C.push({id:("").concat(y,":").concat(A),u:g.__assign(g.__assign({},B),{Rb:y})});}break;}}else if(d(A,E))if((D=!0,B <= k(E.ta)))C.push({id:y,u:z});else {L=z.sa;I=!Number.isFinite(B) && F === q.length - 1;J=I && J?z.ta:Math.min(B,k(E.ta));C.push({id:("").concat(y,":").concat(G),u:g.__assign(g.__assign({},E),{sa:L,ta:J,Rb:y})});}}C.length || C.push({id:y,u:g.__assign(g.__assign({},z),{Rb:y})});for(F=0;F < C.length - 1;++F){A=C[F + 1].id;C[F].u=g.__assign(g.__assign({},C[F].u),{Db:A,next:(x={},x[A]={},x)});}x=C[C.length - 1];x.u=g.__assign(g.__assign({},x.u),{Db:z.Db,next:z.next});return {id:y,u:z,Abb:C};});v=t.reduce(function(y,x){return (y[x.id]=x.Abb[0].id,y);},{});u=new h.Rr();t=t.reduce(function(y,x){x.Abb.forEach(function(z){return y[z.id]=z.u;});return y;},{});return u.Bva(t,function(){return !0;},v).GQa(n.M,function(y,x){return !v[x];},v,function(y,x){return g.__assign(g.__assign({},y),{Rb:x});}).BC(v[n.we] || n.we).ph();};},51079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.f4=b.REb=b.sla=void 0;c=a(94160);b.sla=function(l,f){var k;return Object.keys(l.M).some(function(d){var g;return null === (g=(k=l.M[d]).next) || void 0 === g?void 0:g[f];})?k:void 0;};b.REb=function(l,f){return (0,c.Hc)(Object.keys(l.M),function(k){var d;return null === (d=l.M[k].next) || void 0 === d?void 0:d[f];});};b.f4=function(l,f){return Object.keys(l.M).filter(function(k){var d;return null === (d=l.M[k].next) || void 0 === d?void 0:d[f];});};},3491:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},85392:function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(f,k){f[k]=a(l[k]);return f;},{}):l;}function c(l,f){return Object.keys(l).reduce(function(k,d){return (k[f[d] || d]=l[d],k);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.Rr=void 0;r=(function(){function l(f){f && (this.BC(f.we),this.Iva(f.Xd),this.Bva(f.M));}l.prototype.BC=function(f){this.we=f;return this;};l.prototype.Iva=function(f){this.Xd=f;return this;};l.prototype.X$a=function(f){this.bg=f;return this;};l.prototype.gf=function(f,k,d){this.M || (this.M={});this.M[f]=a(k);if(d){f=this.M[f];if(k=f.next)f.next=c(k,d);f.Db && d[f.Db] && (f.Db=d[f.Db]);}return this;};l.prototype.Bva=function(f,k,d){void 0 === k && (k=function(){return !0;});this.M={};return this.GQa(f,k,d);};l.prototype.GQa=function(f,k,d,g){var m;m=this;void 0 === k && (k=function(){return !0;});Object.keys(f).filter(function(h){return k(f[h],h);}).forEach(function(h){var n;n=f[h];g && (n=g(n,h));m.gf(h,n,d);});return this;};l.prototype.e0a=function(f){var k;return !(null === (k=this.M) || void 0 === k || !k[f]);};l.prototype.ph=function(){var f;if(!this.M)throw Error("Invalid playgraph - `segments` is not defined");if(!this.we)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.M[this.we])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={we:this.we,M:this.M};this.Xd && (f.Xd=this.Xd);this.bg && (f.bg=this.bg);return f;};return l;})();b.Rr=r;},238:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fda=void 0;b.Fda=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.we,segments:a.uAb(c.M)},void 0 !== c.Xd?{transitionType:c.Xd}:{});};a.encode=function(c){return Object.assign({we:c.initialSegment,M:a.jDb(c.segments)},void 0 !== c.transitionType?{Xd:c.transitionType}:{});};a.jDb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.iDb(c[f]);return l;},{});};a.iDb=function(c){return Object.assign({J:c.viewableId,sa:c.startTimeMs},c.endTimeMs?{ta:c.endTimeMs}:{},c.defaultNext?{Db:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Xd:c.transitionType}:{},c.next?{next:a.gDb(c.next)}:{},c.exitZones?{Fq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{Rb:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Gs:c.fadeIn}:{},void 0 !== c.fadeOut?{Nn:c.fadeOut}:{});};a.gDb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.hDb(c[f]);return l;},{});};a.hDb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Xd:c.transitionType}:{});};a.uAb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.tAb(c[f]);return l;},{});};a.tAb=function(c){return Object.assign({viewableId:c.J,startTimeMs:c.sa},c.ta?{endTimeMs:c.ta}:{},c.Db?{defaultNext:c.Db}:{},c.weight?{weight:c.weight}:{},c.Xd?{transitionType:c.Xd}:{},c.next?{next:a.rAb(c.next)}:{},c.Fq?{exitZones:c.Fq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.Rb?{uxSegment:c.Rb}:{},c.type?{type:c.type}:{},void 0 !== c.Gs?{fadeIn:c.Gs}:{},void 0 !== c.Nn?{fadeOut:c.Nn}:{});};a.rAb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.sAb(c[f]);return l;},{});};a.sAb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Xd?{transitionType:c.Xd}:{});};return a;})();},25561:function(r,b,a){var q,u,t,w;function c(v,y,x,z,A){var B,D,C;B=v.M[y];D=x.M[B.Rb];z=z.Rb;C=g(B.ta) - B.sa;C=void 0 === A?A=0:A + C;return B.J === (null === D || void 0 === D?void 0:D.J)?{HX:g(B.ta),UR:A}:B.Rb === z && (y=q.__read(l(v,y),1)[0]) && v.M[y].Rb === B.Rb?c(v,y,x,B,C):{HX:D.sa,UR:C};}function l(v,y){return Object.keys(v.M).filter(function(x){return v.M[x].Db === y;});}function f(v,y,x,z,A){var B,D,C;void 0 === A && (A=0);y=v.M[y];B=x.M[y.Rb];z=z.Rb;D=x.M[z];C=g(y.ta) - y.sa;return y.J === (null === B || void 0 === B?void 0:B.J)?{HX:y.sa,UR:A}:y.Rb === z && y.Db?f(v,y.Db,x,y,A + C):{HX:g(D.ta),UR:A};}function k(v,y,x){var z,A,B,D,C,F,G,E,J,M,L,I,P;z=n(v,y,x);if(z)return z;z=v.M[x.u];A=x.offset;B=Object.keys(y.M).filter(function(K){return y.M[K].Rb === x.u;});D=[];B.forEach(function(K){var N,R,Y;function H(ma){ma=(0,w.f4)(y,ma);null === ma || void 0 === ma?void 0:ma.forEach(function(ia){var ja,Ca;if(y.M[ia].Rb !== x.u){ja=y.M[ia];Ca=ja.ta;Y={u:ia,offset:Ca - ja.sa};(ja=Ca?p(v,y,Y):void 0) && D.push({Ax:Y,Wp:ja});ja || (Y={u:ia,offset:0},(ja=p(v,y,{u:ia,offset:0})) && D.push({Ax:Y,Wp:ja}));H(ia);}});}N=y.M[K];R=N.ta;Y={u:K,offset:R - N.sa};(N=R?p(v,y,Y):void 0) && D.push({Ax:Y,Wp:N});Y={u:K,offset:0};(R=p(v,y,Y)) && D.push({Ax:Y,Wp:R});R || N || H(K);});(0,u.assert)(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");C=z.sa + A;G=Infinity;D.forEach(function(K){var H;H=K.Wp;H=C - (v.M[H.u].sa + H.offset);0 <= H && H < G && (G=H,F=K);});E=[];B.forEach(function(K){var N,R,Y,ma;function H(ia){Object.keys(y.M[ia].next || ({})).forEach(function(ja){var Ca,Ba,Ka;if(y.M[ja].Rb !== x.u){Ca=y.M[ja];Ba=Ca.sa;Ca=Ca.ta;ma={u:ja,offset:0};Ka=p(v,y,ma);Ka && E.push({Ax:ma,Wp:Ka});Ka || (ma={u:ja,offset:Ca - Ba},(Ba=Ca?p(v,y,ma):void 0) && E.push({Ax:ma,Wp:Ba}));}H(ja);});}N=y.M[K];R=N.sa;Y=N.ta;ma={u:K,offset:0};(N=p(v,y,ma)) && E.push({Ax:ma,Wp:N});ma={u:K,offset:Y - R};(R=Y?p(v,y,ma):void 0) && E.push({Ax:ma,Wp:R});N || R || H(K);});(0,u.assert)(0 < E.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");M=Infinity;E.forEach(function(K){var H;H=K.Wp;H=v.M[H.u].sa + H.offset - C;if(0 <= H && H < M || H > M && 0 > M || Infinity === M)(M=H,J=K);});(0,u.assert)(F);(0,u.assert)(J);A=F.Ax;(0,u.assert)(A,"Segment not found in the combined playgraph");z=J.Ax;(0,u.assert)(z,"Segment not found in the combined playgraph");L=y.M[A.u];B=y.M[z.u];A.offset === g(L.ta) - L.sa && y.M[L.Db].Rb === L.Rb && (A.u === z.u && A.offset === z.offset && (z={u:B.Db,offset:0},B=y.M[z.u]),A={u:L.Db,offset:0},L=y.M[A.u]);I=v.M[F.Wp.u].sa + F.Wp.offset;P=v.M[J.Wp.u].sa + J.Wp.offset - I;I=0 === P?0:(C - I) / P;if(A.u === z.u)return (L=L.sa + A.offset,A=A.u,{u:A,offset:L + I * (B.sa + z.offset - L) - y.M[A].sa});P=d(y,A,z);L=P.path;P=P.fF;B=0 === z.offset?0:g(B.ta) - B.sa;return h(y,L,A.offset + I * (P - A.offset - (B - z.offset)));}function d(v,y,x){var z,A;if(y.u !== x.u){for(y=[y.u];y[y.length - 1] !== x.u;){z=v.M[y[y.length - 1]];(0,u.assert)(z.next,"Cannot find path between points in combined playgraph");if(z.next[x.u])break;A=Object.keys(z.next);1 === A.length?y.push(A[0]):((0,u.assert)(z.Db,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(z.Db));}0 !== x.offset && y.push(x.u);return {path:y,fF:m(v,y)};}return {path:[],fF:x.offset - y.offset};}function g(v){return null === v || void 0 === v?Infinity:v;}function m(v,y){return y.reduce(function(x,z){var A;z=v.M[z];A=z.sa;return x + g(z.ta) - A;},0);}function h(v,y,x){var A,B,D;for(var z=0;z < y.length;++z){A=y[z];B=v.M[A];D=B.sa;B=g(B.ta) - D;if(B > x)return {u:A,offset:x};x-=B;}(0,u.assert)(!1,"Invalid offset given for path");}function n(v,y,x){var z,A,B,D,C,F,G,E,J,M,L;A=v.M[x.u];(0,u.assert)(A,("Graph position ").concat(x.u," does not exist in UX playgraph"));B=x.offset;(0,u.assert)(0 <= B,("Graph position offset ").concat(B," cannot be negative"));(0,u.assert)(!A.ta || B <= A.ta - A.sa,("Graph position ").concat(B," offset outside segment"));if(y.M[x.u])return x;D=Object.keys(y.M).filter(function(I){return y.M[I].Rb === x.u;});(0,u.assert)(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");C={};F=0;D.forEach(function(I){if(void 0 === C[I]){for(var P=0;I;){C[I]=[F,P++];I=y.M[I].Db;}++F;}});D.sort(function(I,P){return C[I][0] !== C[P][0]?1:C[I][1] - C[P][1];});G=A.sa + B;E=D.filter(function(I){return y.M[I].J === A.J;});J=q.__read(D,1)[0];E=E.map(function(I){return [I,y.M[I]];}).filter(function(I){var P;I=q.__read(I,2);P=I[0];return G >= I[1].sa || P === J;});if(E=(0,u.Hc)(E,function(I){var P;I=q.__read(I,2)[1];P=I.Db?y.M[I.Db]:void 0;return !I.ta || !!I.ta && G < I.ta || (null === P || void 0 === P?void 0:P.Rb) !== x.u && G >= I.sa;})){M=q.__read(E,2);E=M[0];M=M[1];L=(isFinite(G)?G:null !== (z=M.ta) && void 0 !== z?z:Infinity) - M.sa;(0,u.assert)(0 <= L,"Content playgrah graph position offset cannot be negative");z=!0;0 === L && (z=(0,t.sla)(y,E),z=!z || z.Rb !== M.Rb);if(z)return {u:E,offset:L};}D=D.filter(function(I){return y.M[I].J !== A.J;});if(0 === B && (B=(0,t.sla)(v,x.u),!B || B.Rb !== x.u) && (B=(0,u.Hc)(D,function(I){return 0 === (0,w.f4)(y,I).length;}),void 0 !== B))return {u:B,offset:0};if(A.ta && Infinity !== A.ta && !(A.ta - A.sa !== x.offset || A.Db && v.M[A.Db]) && (B=(0,u.Hc)(D,function(I){return !y.M[I].next || 0 === Object.keys(y.M[I].next).length;}),void 0 !== B))return (D=y.M[B],v=D.sa,D=D.ta,(0,u.assert)(D,"Content playgraph segments from other viewables must have end time"),{u:B,offset:D - v});}function p(v,y,x){var z,A;z=y.M[x.u];(0,u.assert)(z,"Graph position does not exist in combined playgraph");A=x.offset;(0,u.assert)(0 <= A,"Graph position offset cannot be negative");(0,u.assert)(!z.ta || A <= z.ta - z.sa,"Graph position offset outside segment");if(void 0 === z.Rb)return x;v=v.M[z.Rb];(0,u.assert)(v,"Referenced ux playgraph segment must exist");if(z.J === v.J)return (A=z.sa + A - v.sa,v=g(v.ta) - v.sa,A=Math.max(Math.min(A,v),0),{u:z.Rb,offset:A});if(0 === A && (x=(0,w.f4)(y,x.u).filter(function(B){return y.M[B].Rb === z.Rb;}),0 === A && 0 === x.length))return {u:z.Rb,offset:0};A=z.Db?y.M[z.Db]:void 0;if((null === A || void 0 === A?void 0:A.Rb) !== z.Rb)return {u:z.Rb,offset:v.ta?v.ta - v.sa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.PYa=b.Zdb=b.ETa=void 0;q=a(70655);u=a(94160);t=a(51079);w=a(41427);b.ETa=function(v,y,x){var z,A,B,D;z=y.M[x.u];A=p(v,y,x);if(A)return A;(0,u.assert)(z.Rb,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");B=v.M[z.Rb];(0,u.assert)(B,"Referenced ux playgraph segment must exist");(0,u.assert)(z.ta,"Content playgraph segments from other viewables must have end time");if(!z.Db || !y.M[z.Db])return ((0,u.assert)(B.ta,"Must have definite end time to add terminal content playgraph segment"),{u:z.Rb,offset:B.ta - B.sa});D=c(y,x.u,v,z);A=D.HX;D=D.UR;if(null === A || void 0 === A)return ((0,u.assert)(B.ta,"Experience playgraph segment must have end time"),{u:z.Rb,offset:B.ta - B.sa});y=f(y,x.u,v,z);v=y.HX;y=y.UR;null !== v && void 0 !== v && isFinite(v) || (0,u.assert)(v,"Experience playgraph segment must have end time");return {u:z.Rb,offset:A + (D + x.offset) / (D + y) * (v - A)};};b.Zdb=k;b.PYa=function(v,y,x){var z,A,B;return q.__generator(this,function(D){switch(D.label){case 0:(z=k(v,y,x),A=y.M[z.u],B=z.u,D.label=1);case 1:return [4,B];case 2:(D.Qa(),B=A.Db,A=y.M[B],D.label=3);case 3:if((null === A || void 0 === A?void 0:A.Rb) === x.u && B !== z.u)return [3,1];D.label=4;case 4:return [2];}});};},47164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Y9=void 0;c=a(85392);b.Y9=function(l,f,k){var d;d=new c.Rr();d.BC(f).Iva("lazy").X$a(k).gf(f,{J:l,sa:0,ta:Infinity});return d.ph();};},88385:function(r,b,a){var d,g,m,h;function c(n){var p,q,u;if("Object" !== m(this))throw new TypeError("receiver is not an Object");p=g(this,h);q=n;u=n;d(n) && (q=f(p,n),u=l(p,n));return this.then(q,u);}function l(n,p){return function(q){var u;u=p();return k(n,u).then(function(){throw q;});};}function f(n,p){return function(q){var u;u=p();return k(n,u).then(function(){return q;});};}function k(n,p){return new n(function(q){q(p);});}a(77971)();d=a(61787);g=a(39655);m=a(53633);h=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},18076:function(r,b,a){var c,l;c=a(77971);l=a(88385);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},77971:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},13547:function(r,b,a){var c,l,f;c=a(77971);l=a(18076);f=a(4289);r.exports=function(){var k;c();k=l();f(Promise.prototype,{"finally":k},{"finally":function(){return Promise.prototype["finally"] !== k;}});return k;};},63195:function(r,b,a){var c;c=a(7455);b=a(79002)(function(l,f){return c(l.length,function(){return l.apply(f,arguments);});});r.exports=b;},38907:function(r,b,a){var c,l,f,k,d;b=a(79002);c=a(36692);l=a(2220);f=a(21186);k=a(84585);d=a(20793);a=b(function(g,m){return l(d(f,0,k("length",m)),function(){var h,n;h=arguments;n=this;return g.apply(n,c(function(p){return p.apply(n,h);},m));});});r.exports=a;},2220:function(r,b,a){var c,l,f;c=a(7455);l=a(76224);b=a(79002);f=a(32738);a=b(function(k,d){return 1 === k?l(d):c(k,f(k,[],d));});r.exports=a;},22013:function(r,b,a){var c;c=a(28247);b=a(16370)(function(l,f,k){for(var d=[],g=0,m=f.length;g < m;){c(l,f[g],k) || c(l,f[g],d) || d.push(f[g]);g+=1;}return d;});r.exports=b;},51383:function(r,b,a){var c,l,f,k,d,g;b=a(79002);c=a(34793);l=a(34877);f=a(8291);k=a(39488);d=a(11383);g=a(90368);a=b(c(["filter"],d,function(m,h){return f(h)?k(function(n,p){m(h[p]) && (n[p]=h[p]);return n;},{},g(h)):l(m,h);}));r.exports=a;},17233:function(r,b,a){b=a(79002)(function(c,l){for(var f=[],k=0,d=l.length;k < d;){for(var g=k + 1;g < d && c(l[g - 1],l[g]);){g+=1;}f.push(l.slice(k,g));k=g;}return f;});r.exports=b;},7455:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,l){return a.apply(this,arguments);};case 3:return function(c,l,f){return a.apply(this,arguments);};case 4:return function(c,l,f,k){return a.apply(this,arguments);};case 5:return function(c,l,f,k,d){return a.apply(this,arguments);};case 6:return function(c,l,f,k,d,g){return a.apply(this,arguments);};case 7:return function(c,l,f,k,d,g,m){return a.apply(this,arguments);};case 8:return function(c,l,f,k,d,g,m,h){return a.apply(this,arguments);};case 9:return function(c,l,f,k,d,g,m,h,n){return a.apply(this,arguments);};case 10:return function(c,l,f,k,d,g,m,h,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48770:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},14011:function(r){r.exports=function(b,a){var c,l,f,k;b=b || [];a=a || [];l=b.length;f=a.length;k=[];for(c=0;c < l;){k[k.length]=b[c];c+=1;}for(c=0;c < f;){k[k.length]=a[c];c+=1;}return k;};},28247:function(r){r.exports=function(b,a,c){for(var l=0,f=c.length;l < f;){if(b(a,c[l]))return !0;l+=1;}return !1;};},76224:function(r,b,a){var c;c=a(36464);r.exports=function(l){return function d(k){return 0 === arguments.length || c(k)?d:l.apply(this,arguments);};};},79002:function(r,b,a){var c,l;c=a(76224);l=a(36464);r.exports=function(f){return function m(d,g){switch(arguments.length){case 0:return m;case 1:return l(d)?m:c(function(h){return f(d,h);});default:return l(d) && l(g)?m:l(d)?c(function(h){return f(h,g);}):l(g)?c(function(h){return f(d,h);}):f(d,g);}};};},16370:function(r,b,a){var c,l,f;c=a(76224);l=a(79002);f=a(36464);r.exports=function(k){return function n(g,m,h){switch(arguments.length){case 0:return n;case 1:return f(g)?n:l(function(p,q){return k(g,p,q);});case 2:return f(g) && f(m)?n:f(g)?l(function(p,q){return k(p,m,q);}):f(m)?l(function(p,q){return k(g,p,q);}):c(function(p){return k(g,m,p);});default:return f(g) && f(m) && f(h)?n:f(g) && f(m)?l(function(p,q){return k(p,q,h);}):f(g) && f(h)?l(function(p,q){return k(p,m,q);}):f(m) && f(h)?l(function(p,q){return k(g,p,q);}):f(g)?c(function(p){return k(p,m,h);}):f(m)?c(function(p){return k(g,p,h);}):f(h)?c(function(p){return k(g,m,p);}):k(g,m,h);}};};},32738:function(r,b,a){var l,f;function c(k,d,g){return function(){var q;for(var m=[],h=0,n=k,p=0;p < d.length || h < arguments.length;){if(p < d.length && (!f(d[p]) || h >= arguments.length))q=d[p];else (q=arguments[h],h+=1);m[p]=q;f(q) || --n;p+=1;}return 0 >= n?g.apply(this,m):l(n,c(k,m,g));};}l=a(7455);f=a(36464);r.exports=c;},34793:function(r,b,a){var c,l;c=a(20219);l=a(69082);r.exports=function(f,k,d){return function(){var g,m;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);m=g.pop();if(!c(m)){for(var h=0;h < f.length;){if("function" === typeof m[f[h]])return m[f[h]].apply(m,g);h+=1;}if(l(m))return k.apply(null,g)(m);}return d.apply(this,arguments);};};},34877:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=[];c < l;){b(a[c]) && (f[f.length]=a[c]);c+=1;}return f;};},87684:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},97587:function(r,b,a){var c,l;c=a(87684);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(f){return "[object Arguments]" === l.call(f);}:function(f){return c("callee",f);};};},20219:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},3219:function(r,b,a){var c,l;b=a(76224);c=a(20219);l=a(20190);a=b(function(f){return c(f)?!0:!f || "object" !== typeof f || l(f)?!1:1 === f.nodeType?!!f.length:0 === f.length?!0:0 < f.length?f.hasOwnProperty(0) && f.hasOwnProperty(f.length - 1):!1;});r.exports=a;},8291:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},36464:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},20190:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},69082:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},36692:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=Array(l);c < l;){f[c]=b(a[c]);c+=1;}return f;};},39488:function(r,b,a){var f,k,d,g;function c(m,h,n){for(var p=n.next();!p.done;){if((h=m["@@transducer/step"](h,p.value)) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p=n.next();}return m["@@transducer/result"](h);}function l(m,h,n,p){return m["@@transducer/result"](n[p](d(m["@@transducer/step"],m),h));}f=a(3219);k=a(39874);d=a(63195);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(m,h,n){"function" === typeof m && (m=k(m));if(f(n)){for(var p=0,q=n.length;p < q;){if((h=m["@@transducer/step"](h,n[p])) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p+=1;}return m["@@transducer/result"](h);}if("function" === typeof n["fantasy-land/reduce"])return l(m,h,n,"fantasy-land/reduce");if(null != n[g])return c(m,h,n[g]());if("function" === typeof n.next)return c(m,h,n);if("function" === typeof n.reduce)return l(m,h,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},93714:function(r){r.exports={va:function(){return this.XX["@@transducer/init"]();},result:function(b){return this.XX["@@transducer/result"](b);}};},11383:function(r,b,a){var c,l;b=a(79002);c=a(93714);l=(function(){function f(k,d){this.XX=d;this.f=k;}f.prototype["@@transducer/init"]=c.va;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(k,d){return this.f(d)?this.XX["@@transducer/step"](k,d):k;};return f;})();a=b(function(f,k){return new l(f,k);});r.exports=a;},72894:function(r,b,a){var c,l;b=a(79002);c=a(93714);l=(function(){function f(k,d){this.XX=d;this.f=k;}f.prototype["@@transducer/init"]=c.va;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(k,d){return this.XX["@@transducer/step"](k,this.f(d));};return f;})();a=b(function(f,k){return new l(f,k);});r.exports=a;},39874:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,l){return this.f(c,l);};return a;})();r.exports=function(a){return new b(a);};},55389:function(r,b,a){var c;b=a(76224);c=a(38907);a=b(function(l){return c(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},90368:function(r,b,a){var c,l,f,k,d;b=a(76224);c=a(87684);l=a(97587);f=!({toString:null}).propertyIsEnumerable("toString");k=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var m,h,n,p;if(Object(g) !== g)return [];m=[];h=d && l(g);for(n in g){!c(n,g) || h && "length" === n || (m[m.length]=n);}if(f)for(h=k.length - 1;0 <= h;){n=k[h];if(p=c(n,g)){a:{for(p=0;p < m.length;){if(m[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (m[m.length]=n);--h;}return m;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},61894:function(r,b,a){var c,l,f,k,d,g;b=a(79002);c=a(34793);l=a(36692);f=a(39488);k=a(72894);d=a(2220);g=a(90368);a=b(c(["fantasy-land/map","map"],k,function(m,h){switch(Object.prototype.toString.call(h)){case "[object Function]":return d(h.length,function(){return m.call(this,h.apply(this,arguments));});case "[object Object]":return f(function(n,p){n[p]=m(h[p]);return n;},{},g(h));default:return l(m,h);}}));r.exports=a;},21186:function(r,b,a){b=a(79002)(function(c,l){return l > c?l:c;});r.exports=b;},71334:function(r,b,a){var c;b=a(16370);c=a(39036);a=b(function(l,f,k){return c(function(d,g,m){return l(g,m);},f,k);});r.exports=a;},39036:function(r,b,a){var c,l;b=a(16370);c=a(8291);l=a(56027);a=b(function m(k,d,g){return l(function(h,n,p){return c(n) && c(p)?m(k,n,p):k(h,n,p);},d,g);});r.exports=a;},56027:function(r,b,a){var c;b=a(16370);c=a(87684);a=b(function(l,f,k){var d,g;d={};for(g in f){c(g,f) && (d[g]=c(g,k)?l(g,f[g],k[g]):f[g]);}for(g in k){c(g,k) && !c(g,d) && (d[g]=k[g]);}return d;});r.exports=a;},38135:function(r,b,a){var c;b=a(51383);c=a(55389);a=a(63266);a=c([b,a]);r.exports=a;},87430:function(r,b,a){b=a(79002)(function(c,l){for(var f=0;f < c.length;){if(null == l)return;l=l[c[f]];f+=1;}return l;});r.exports=b;},84585:function(r,b,a){var c,l;b=a(79002);c=a(61894);l=a(52478);a=b(function(f,k){return c(l(f),k);});r.exports=a;},52478:function(r,b,a){var c;b=a(79002);c=a(87430);a=b(function(l,f){return c([l],f);});r.exports=a;},20793:function(r,b,a){b=a(16370);a=a(39488);a=b(a);r.exports=a;},63266:function(r,b,a){var c,l;c=a(48770);b=a(79002);l=a(51383);a=b(function(f,k){return l(c(f),k);});r.exports=a;},90014:function(r,b,a){var c,l;c=a(14011);b=a(16370);l=a(77263);a=b(function(f,k,d){return l(f,c(k,d));});r.exports=a;},77263:function(r,b,a){var c;c=a(28247);b=a(79002)(function(l,f){for(var k=0,d=f.length,g=[],m;k < d;){m=f[k];c(l,m,g) || (g[g.length]=m);k+=1;}return g;});r.exports=b;},28660:function(r,b,a){var c;(function(l){var F,G,E,J,M,L,I,P,K;function f(H,N,R){var Y;Y=K.get(H);if(!Y){if(!R)return;Y=new I();K.set(H,Y);}H=Y.get(N);if(!H){if(!R)return;H=new I();Y.set(N,H);}return H;}function k(H,N,R){if(d(H,N,R))return !0;N=w(N);return null !== N?k(H,N,R):!1;}function d(H,N,R){N=f(N,R,!1);return void 0 !== N && !!N.has(H);}function g(H,N,R){if(d(H,N,R))return m(H,N,R);N=w(N);return null !== N?g(H,N,R):void 0;}function m(H,N,R){N=f(N,R,!1);return void 0 === N?void 0:N.get(H);}function h(H,N){var R,ma;R=n(H,N);H=w(H);if(null === H)return R;N=h(H,N);if(0 >= N.length)return R;if(0 >= R.length)return N;H=new P();for(var Y=0;Y < R.length;Y++){ma=R[Y];H.add(ma);}for(R=0;R < N.length;R++){ma=N[R];H.add(ma);}return x(H);}function n(H,N){var R;H=f(H,N,!1);R=[];H && y(H,function(Y,ma){return R.push(ma);});return R;}function p(H){return void 0 === H;}function q(H){return Array.isArray?Array.isArray(H):H instanceof Array || "[object Array]" === Object.prototype.toString.call(H);}function u(H){return "object" === typeof H?null !== H:"function" === typeof H;}function t(H){return "symbol" === typeof H?H:String(H);}function w(H){var N,R;N=Object.getPrototypeOf(H);if("function" !== typeof H || H === L || N !== L)return N;R=H.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return N;R=R.constructor;return "function" !== typeof R || R === H?N:R;}function v(H){H=H.next();return H.done?void 0:H;}function y(H,N,R){var Y,ma,ia;Y=H.entries;if("function" === typeof Y){Y=Y.call(H);try{for(;ma=v(Y);){ia=ma.value;N.call(R,ia[1],ia[0],H);}}finally{ma && (H=Y["return"]) && H.call(Y);}}else (Y=H.forEach,"function" === typeof Y && Y.call(H,N,R));}function x(H){var N;N=[];y(H,function(R,Y){N.push(Y);});return N;}function z(H,N,R){var Y;Y=0;return {next:function(){var ma;if((H || N) && Y < (H || N).length){ma=Y++;switch(R){case "key":return {value:H[ma],done:!1};case "value":return {value:N[ma],done:!1};case "key+value":return {value:[H[ma],N[ma]],done:!1};}}N=H=void 0;return {value:void 0,done:!0};},"throw":function(ma){if(H || N)N=H=void 0;throw ma;},"return":function(ma){if(H || N)N=H=void 0;return {value:ma,done:!0};}};}function A(){var H;H={};return (function(){function N(){this.Ue=[];this.yf=[];this.xu=H;this.Wr=-2;}Object.defineProperty(N.prototype,"size",{get:function(){return this.Ue.length;},enumerable:!0,configurable:!0});N.prototype.has=function(R){return 0 <= this.Vw(R,!1);};N.prototype.get=function(R){R=this.Vw(R,!1);return 0 <= R?this.yf[R]:void 0;};N.prototype.set=function(R,Y){R=this.Vw(R,!0);this.yf[R]=Y;return this;};N.prototype.delete=function(R){var Y;Y=this.Vw(R,!1);if(0 <= Y){R=this.Ue.length;for(Y+=1;Y < R;Y++){this.Ue[Y - 1]=this.Ue[Y];this.yf[Y - 1]=this.yf[Y];}this.Ue.length--;this.yf.length--;this.xu=H;this.Wr=-2;return !0;}return !1;};N.prototype.clear=function(){this.Ue.length=0;this.yf.length=0;this.xu=H;this.Wr=-2;};N.prototype.keys=function(){return z(this.Ue,void 0,"key");};N.prototype.values=function(){return z(void 0,this.yf,"value");};N.prototype.entries=function(){return z(this.Ue,this.yf,"key+value");};N.prototype.Vw=function(R,Y){var ma;if(this.xu === R)return this.Wr;ma=this.Ue.indexOf(R);0 > ma && Y && (ma=this.Ue.length,this.Ue.push(R),this.yf.push(void 0));return (this.xu=R,this.Wr=ma);};return N;})();}function B(){return (function(){function H(){this.Ff=new I();}Object.defineProperty(H.prototype,"size",{get:function(){return this.Ff.size;},enumerable:!0,configurable:!0});H.prototype.has=function(N){return this.Ff.has(N);};H.prototype.add=function(N){return (this.Ff.set(N,N),this);};H.prototype.delete=function(N){return this.Ff.delete(N);};H.prototype.clear=function(){this.Ff.clear();};H.prototype.keys=function(){return this.Ff.keys();};H.prototype.values=function(){return this.Ff.values();};H.prototype.entries=function(){return this.Ff.entries();};return H;})();}function D(){var Y,ma;function H(ia,ja){for(var Ca=0;Ca < ja;++Ca){ia[Ca]=255 * Math.random() | 0;}return ia;}function N(){var ia,Ba;do {ia="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):H(new Uint8Array(16),16):H(Array(16),16);ia[6]=ia[6] & 79 | 64;ia[8]=ia[8] & 191 | 128;for(var ja="",Ca=0;16 > Ca;++Ca){Ba=ia[Ca];if(4 === Ca || 6 === Ca || 8 === Ca)ja+="-";16 > Ba && (ja+="0");ja+=Ba.toString(16).toLowerCase();}ia="@@WeakMap@@" + ja;}while(M.has(Y,ia));Y[ia]=!0;return ia;}function R(ia,ja){if(!F.call(ia,ma)){if(!ja)return;Object.defineProperty(ia,ma,{value:J()});}return ia[ma];}Y=J();ma=N();return (function(){function ia(){this.gs=N();}ia.prototype.has=function(ja){ja=R(ja,!1);return void 0 !== ja?M.has(ja,this.gs):!1;};ia.prototype.get=function(ja){ja=R(ja,!1);return void 0 !== ja?M.get(ja,this.gs):void 0;};ia.prototype.set=function(ja,Ca){R(ja,!0)[this.gs]=Ca;return this;};ia.prototype.delete=function(ja){ja=R(ja,!1);return void 0 !== ja?delete ja[this.gs]:!1;};ia.prototype.clear=function(){this.gs=N();};return ia;})();}function C(H){H.abc=1;delete H.bbc;return H;}F=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;E=(function(){var N;function H(){}N={};H.prototype=N;return new H().__proto__ === N;})();J=G?function(){return C(Object.create(null));}:E?function(){return C({__proto__:null});}:function(){return C({});};(function(H){var N;N=!G && !E;H.has=N?function(R,Y){return F.call(R,Y);}:function(R,Y){return (Y in R);};H.get=N?function(R,Y){return F.call(R,Y)?R[Y]:void 0;}:function(R,Y){return R[Y];};})(M || (M={}));L=Object.getPrototypeOf(Function);I="function" === typeof Map?Map:A();P="function" === typeof Set?Set:B();K=new ("function" === typeof WeakMap?WeakMap:D())();l.MA=function(H,N,R,Y){var ia;if(p(Y)){if(p(R)){if(!q(H))throw new TypeError();if("function" !== typeof N)throw new TypeError();for(R=H.length - 1;0 <= R;--R){if((Y=(0,H[R])(N),!p(Y))){if("function" !== typeof Y)throw new TypeError();N=Y;}}return N;}if(!q(H))throw new TypeError();if(!u(N))throw new TypeError();R=t(R);for(Y=H.length - 1;0 <= Y;--Y){(0,H[Y])(N,R);}}else {if(!q(H))throw new TypeError();if(!u(N))throw new TypeError();if(p(R))throw new TypeError();if(!u(Y))throw new TypeError();R=t(R);for(var ma=H.length - 1;0 <= ma;--ma){ia=(0,H[ma])(N,R,Y);if(!p(ia)){if(!u(ia))throw new TypeError();Y=ia;}}return Y;}};l.Rd=function(H,N){return function(R,Y){if(p(Y)){if("function" !== typeof R)throw new TypeError();f(R,void 0,!0).set(H,N);}else {if(!u(R))throw new TypeError();Y=t(Y);f(R,Y,!0).set(H,N);}};};l.p3=function(H,N,R,Y){if(!u(R))throw new TypeError();p(Y) || (Y=t(Y));f(R,Y,!0).set(H,N);};l.MKb=function(H,N){var R;if(!u(N))throw new TypeError();p(R) || (R=t(R));return k(H,N,R);};l.Kna=function(H,N){var R;if(!u(N))throw new TypeError();p(R) || (R=t(R));return d(H,N,R);};l.getMetadata=function(H,N,R){if(!u(N))throw new TypeError();p(R) || (R=t(R));return g(H,N,R);};l.WZa=function(H,N,R){if(!u(N))throw new TypeError();p(R) || (R=t(R));return m(H,N,R);};l.ydc=function(H,N){if(!u(H))throw new TypeError();p(N) || (N=t(N));return h(H,N);};l.Adc=function(H,N){if(!u(H))throw new TypeError();p(N) || (N=t(N));return n(H,N);};l.Ecc=function(H,N,R){var Y;if(!u(N))throw new TypeError();p(R) || (R=t(R));Y=f(N,R,!1);if(p(Y) || !Y.delete(H))return !1;if(0 < Y.size)return !0;H=K.get(N);H.delete(R);if(0 < H.size)return !0;K.delete(N);return !0;};(function(H){if("undefined" !== typeof H.Reflect){if(H.Reflect !== l)for(var N in l){F.call(l,N) && (H.Reflect[N]=l[N]);}}else H.Reflect=l;})("undefined" !== typeof qb?qb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.s4?a.s4:Function("return this;")());})(c || (c={}));},79246:function(r,b,a){var c,l,f,k;b=a(21924);c=a(40210);l=a(98420);f=b("RegExp.prototype.exec");k=c("%TypeError%");r.exports=function(d){if(!l(d))throw new k("`regex` must be a RegExp");return function(g){return null !== f(d,g);};};},14378:function(r,b,a){var d;function c(g,m,h){this.zK=!1 === g;this.Jn=g || .01;this.eca=void 0 === m?25:m;this.zAa=void 0 === h?1.1:h;this.sj=new d(l);this.reset();}function l(g,m){return g.Pf > m.Pf?1:g.Pf < m.Pf?-1:0;}function f(g,m){return g.zv - m.zv;}function k(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.Jn:!1);this.tBb=this.config.ratio || .9;this.uBb=this.config.Ogc || 1E3;this.y7=0;}d=a(77424).wlb;c.prototype.reset=function(){this.sj.clear();this.tpa=this.n=0;};c.prototype.size=function(){return this.sj.size;};c.prototype.yr=function(g){var m;m=[];g?(this.t0(!0),this.sj.Fs(function(h){m.push(h);})):this.sj.Fs(function(h){m.push({Pf:h.Pf,n:h.n});});return m;};c.prototype.summary=function(){return [(this.zK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.ri(0),"Q1  = " + this.ri(.25),"Q2  = " + this.ri(.5),"Q3  = " + this.ri(.75),"max = " + this.ri(1)].join("\n");};c.prototype.push=function(g,m){m=m || 1;g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.WNa(g[h],m);}};c.prototype.zta=function(g){g=Array.isArray(g)?g:[g];for(var m=0;m < g.length;m++){this.WNa(g[m].Pf,g[m].n);}};c.prototype.t0=function(g){var m;if(!(this.n === this.tpa || !g && this.zAa && this.zAa > this.n / this.tpa)){m=0;this.sj.Fs(function(h){h.zv=m + h.n / 2;m=h.sK=m + h.n;});this.n=this.tpa=m;}};c.prototype.XEb=function(g){var m,h;if(0 === this.size())return null;m=this.sj.lowerBound({Pf:g});h=null === m.data()?m.cH():m.data();return h.Pf === g || this.zK?h:(m=m.cH()) && Math.abs(m.Pf - g) < Math.abs(h.Pf - g)?m:h;};c.prototype.BJ=function(g,m,h){this.sj.Ws({Pf:g,n:m,sK:h});this.n+=m;};c.prototype.i0=function(g,m,h){m !== g.Pf && (g.Pf+=h * (m - g.Pf) / (g.n + h));g.sK+=h;g.zv+=h / 2;g.n+=h;this.n+=h;};c.prototype.WNa=function(g,m){var h,n,p;h=this.sj.min();n=this.sj.max();p=this.XEb(g);p && p.Pf === g?this.i0(p,g,m):p === h?this.BJ(g,m,0):p === n?this.BJ(g,m,this.n):this.zK?this.BJ(g,m,p.sK):(h=p.zv / this.n,Math.floor(4 * this.n * this.Jn * h * (1 - h)) - p.n >= m?this.i0(p,g,m):this.BJ(g,m,p.sK));this.t0(!1);!this.zK && this.eca && this.size() > this.eca / this.Jn && this.Cx();};c.prototype.Gtb=function(g){var m,h;this.sj.Yr=f;m=this.sj.upperBound({zv:g});this.sj.Yr=l;h=m.cH();g=h && h.zv === g?h:m.next();return [h,g];};c.prototype.ri=function(g){var m;m=(Array.isArray(g)?g:[g]).map(this.bpb,this);return Array.isArray(g)?m:m[0];};c.prototype.bpb=function(g){var m,h;if(0 !== this.size()){this.t0(!0);this.sj.min();this.sj.max();g*=this.n;m=this.Gtb(g);h=m[0];m=m[1];return m === h || null === h || null === m?(h || m).Pf:this.zK?g <= h.sK?h.Pf:m.Pf:h.Pf + (g - h.zv) * (m.Pf - h.Pf) / (m.zv - h.zv);}};c.prototype.Cx=function(){var g;if(!this.OTa){g=this.yr();this.reset();for(this.OTa=!0;0 < g.length;){this.zta(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.t0(!0);this.OTa=!1;}};k.prototype=Object.create(c.prototype);k.prototype.constructor=k;k.prototype.push=function(g){c.prototype.push.call(this,g);this.Gvb();};k.prototype.BJ=function(g,m,h){this.y7+=1;c.prototype.BJ.call(this,g,m,h);};k.prototype.i0=function(g,m,h){1 === g.n && --this.y7;c.prototype.i0.call(this,g,m,h);};k.prototype.Gvb=function(){!("auto" !== this.mode || this.size() < this.uBb) && this.y7 / this.size() > this.tBb && (this.mode="cont",this.zK=!1,this.Jn=this.config.Jn || .01,this.Cx());};r.exports={TDigest:c,Digest:k};},70655:function(r,b,a){var J,M;function c(){c=Object.assign || (function(L){for(var I,P=1,K=arguments.length;P < K;P++){I=arguments[P];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (L[H]=I[H]);}}return L;});return c.apply(this,arguments);}function l(L,I){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(P,K){P.__proto__=K;}) || (function(P,K){for(var H in K){Object.prototype.hasOwnProperty.call(K,H) && (P[H]=K[H]);}});return l(L,I);}function f(L,I){function P(){this.constructor=L;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");l(L,I);L.prototype=null === I?Object.create(I):(P.prototype=I.prototype,new P());}function k(L,I){var P,K,H;P={};for(K in L){Object.prototype.hasOwnProperty.call(L,K) && 0 > I.indexOf(K) && (P[K]=L[K]);}if(null != L && "function" === typeof Object.getOwnPropertySymbols){H=0;for(K=Object.getOwnPropertySymbols(L);H < K.length;H++){0 > I.indexOf(K[H]) && Object.prototype.propertyIsEnumerable.call(L,K[H]) && (P[K[H]]=L[K[H]]);}}return P;}function d(L,I,P,K){var H,N,R;H=arguments.length;N=3 > H?I:null === K?K=Object.getOwnPropertyDescriptor(I,P):K;if("object" === typeof Reflect && "function" === typeof Reflect.MA)N=Reflect.MA(L,I,P,K);else for(var Y=L.length - 1;0 <= Y;Y--){if(R=L[Y])N=(3 > H?R(N):3 < H?R(I,P,N):R(I,P)) || N;}return (3 < H && N && Object.defineProperty(I,P,N),N);}function g(L,I){return function(P,K){I(P,K,L);};}function m(L,I){if("object" === typeof Reflect && "function" === typeof Reflect.Rd)return Reflect.Rd(L,I);}function h(L,I,P,K){function H(N){return N instanceof P?N:new P(function(R){R(N);});}return new (P || (P=Promise))(function(N,R){function Y(ja){try{ia(K.next(ja));}catch(Ca){R(Ca);}}function ma(ja){try{ia(K["throw"](ja));}catch(Ca){R(Ca);}}function ia(ja){ja.done?N(ja.value):H(ja.value).then(Y,ma);}ia((K=K.apply(L,I || [])).next());});}function n(L,I){var H,N,R,Y,ma;function P(ia){return function(ja){return K([ia,ja]);};}function K(ia){if(N)throw new TypeError("Generator is already executing.");for(;(ma && (ma=0,ia[0] && (H=0)),H);){try{if((N=1,R && (Y=ia[0] & 2?R["return"]:ia[0]?R["throw"] || ((Y=R["return"]) && Y.call(R),0):R.next) && !(Y=Y.call(R,ia[1])).done))return Y;if((R=0,Y))ia=[ia[0] & 2,Y.value];switch(ia[0]){case 0:case 1:Y=ia;break;case 4:return (H.label++,{value:ia[1],done:!1});case 5:H.label++;R=ia[1];ia=[0];continue;case 7:ia=H.NG.pop();H.Qj.pop();continue;default:if(!(Y=H.Qj,Y=0 < Y.length && Y[Y.length - 1]) && (6 === ia[0] || 2 === ia[0])){H=0;continue;}if(3 === ia[0] && (!Y || ia[1] > Y[0] && ia[1] < Y[3]))H.label=ia[1];else if(6 === ia[0] && H.label < Y[1])(H.label=Y[1],Y=ia);else if(Y && H.label < Y[2])(H.label=Y[2],H.NG.push(ia));else {Y[2] && H.NG.pop();H.Qj.pop();continue;}}ia=I.call(L,H);}catch(ja){ia=[6,ja];R=0;}finally{N=Y=0;}}if(ia[0] & 5)throw ia[1];return {value:ia[0]?ia[1]:void 0,done:!0};}H={label:0,Qa:function(){if(Y[0] & 1)throw Y[1];return Y[1];},Qj:[],NG:[]};return (ma={next:P(0),"throw":P(1),"return":P(2)},"function" === typeof Symbol && (ma[Symbol.iterator]=function(){return this;}),ma);}function p(L,I){for(var P in L){"default" === P || Object.prototype.hasOwnProperty.call(I,P) || J(I,L,P);}}function q(L){var I,P,K;I="function" === typeof Symbol && Symbol.iterator;P=I && L[I];K=0;if(P)return P.call(L);if(L && "number" === typeof L.length)return {next:function(){L && K >= L.length && (L=void 0);return {value:L && L[K++],done:!L};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(L,I){var P,K,H;P="function" === typeof Symbol && L[Symbol.iterator];if(!P)return L;L=P.call(L);H=[];try{for(;(void 0 === I || 0 < I--) && !(K=L.next()).done;){H.push(K.value);}}catch(R){var N;N={error:R};}finally{try{K && !K.done && (P=L["return"]) && P.call(L);}finally{if(N)throw N.error;}}return H;}function t(){for(var L=[],I=0;I < arguments.length;I++){L=L.concat(u(arguments[I]));}return L;}function w(){var K;for(var L=0,I=0,P=arguments.length;I < P;I++){L+=arguments[I].length;}L=Array(L);K=0;for(I=0;I < P;I++){for(var H=arguments[I],N=0,R=H.length;N < R;(N++,K++)){L[K]=H[N];}}return L;}function v(L,I,P){if(P || 2 === arguments.length)for(var K=0,H=I.length,N;K < H;K++){!N && (K in I) || (N || (N=Array.prototype.slice.call(I,0,K)),N[K]=I[K]);}return L.concat(N || Array.prototype.slice.call(I));}function y(L){return this instanceof y?(this.Q$=L,this):new y(L);}function x(L,I,P){var ma,ia,ja;function K(Ca){ma[Ca] && (ia[Ca]=function(Ba){return new Promise(function(Ka,Va){1 < ja.push([Ca,Ba,Ka,Va]) || H(Ca,Ba);});});}function H(Ca,Ba){var Ka;try{Ka=ma[Ca](Ba);Ka.value instanceof y?Promise.resolve(Ka.value.Q$).then(N,R):Y(ja[0][2],Ka);}catch(Va){Y(ja[0][3],Va);}}function N(Ca){H("next",Ca);}function R(Ca){H("throw",Ca);}function Y(Ca,Ba){(Ca(Ba),ja.shift(),ja.length) && H(ja[0][0],ja[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");ma=P.apply(L,I || []);ja=[];return (ia={},K("next"),K("throw"),K("return"),ia[Symbol.asyncIterator]=function(){return this;},ia);}function z(L){var P,K;function I(H,N){P[H]=L[H]?function(R){return (K=!K)?{value:y(L[H](R)),done:"return" === H}:N?N(R):R;}:N;}return (P={},I("next"),I("throw",function(H){throw H;}),I("return"),P[Symbol.iterator]=function(){return this;},P);}function A(L){var K,H;function I(N){H[N]=L[N] && (function(R){return new Promise(function(Y,ma){R=L[N](R);P(Y,ma,R.done,R.value);});});}function P(N,R,Y,ma){Promise.resolve(ma).then(function(ia){N({value:ia,done:Y});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");K=L[Symbol.asyncIterator];return K?K.call(L):(L="function" === typeof q?q(L):L[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(L,I){Object.defineProperty?Object.defineProperty(L,"raw",{value:I}):L.raw=I;return L;}function D(L){var I;if(L && L.__esModule)return L;I={};if(null != L)for(var P in L){"default" !== P && Object.prototype.hasOwnProperty.call(L,P) && J(I,L,P);}M(I,L);return I;}function C(L){return L && L.__esModule?L:{default:L};}function F(L,I,P,K){if("a" === P && !K)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?L !== I || !K:!I.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === P?K:"a" === P?K.call(L):K?K.value:I.get(L);}function G(L,I,P,K,H){if("m" === K)throw new TypeError("Private method is not writable");if("a" === K && !H)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?L !== I || !H:!I.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === K?H.call(L,P):H?H.value=P:I.set(L,P),P);}function E(L,I){if(null === I || "object" !== typeof I && "function" !== typeof I)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof L?I === L:L.has(I);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return z;},__asyncGenerator:function(){return x;},__asyncValues:function(){return A;},__await:function(){return y;},__awaiter:function(){return h;},__classPrivateFieldGet:function(){return F;},__classPrivateFieldIn:function(){return E;},__classPrivateFieldSet:function(){return G;},__createBinding:function(){return J;},__decorate:function(){return d;},__exportStar:function(){return p;},__extends:function(){return f;},__generator:function(){return n;},__importDefault:function(){return C;},__importStar:function(){return D;},__makeTemplateObject:function(){return B;},__metadata:function(){return m;},__param:function(){return g;},__read:function(){return u;},__rest:function(){return k;},__spread:function(){return t;},__spreadArray:function(){return v;},__spreadArrays:function(){return w;},__values:function(){return q;}});J=Object.create?function(L,I,P,K){var H;void 0 === K && (K=P);H=Object.getOwnPropertyDescriptor(I,P);if(!H || (("get" in H)?!I.__esModule:H.writable || H.configurable))H={enumerable:!0,get:function(){return I[P];}};Object.defineProperty(L,K,H);}:function(L,I,P,K){void 0 === K && (K=P);L[K]=I[P];};M=Object.create?function(L,I){Object.defineProperty(L,"default",{enumerable:!0,value:I});}:function(L,I){L["default"]=I;};},43950:function(r,b,a){var c,l,f,k,d,g,m,h,n,p;c=a(40210)("%TypeError%");l=a(2435);f=a(63682);k=a(18334);d=a(52435);g=a(13746);m=a(14305);h=a(40484);n=a(69916);p=a(53633);r.exports=function(q,u,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!m(u))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=l({TMa:p,ZEa:g,YEa:d},t)?t:n(t);if(!l({TMa:p,ZEa:g,YEa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return f(g,h,k,q,u,t);};},18334:function(r,b,a){var c,l,f;c=a(62188);l=a(17141);f=a(53633);r.exports=function(k){"undefined" !== typeof k && c(f,"Property Descriptor","Desc",k);return l(k);};},52435:function(r,b,a){var c,l,f;c=a(17642);l=a(62188);f=a(53633);r.exports=function(k){if("undefined" === typeof k)return !1;l(f,"Property Descriptor","Desc",k);return c(k,"[[Get]]") || c(k,"[[Set]]")?!0:!1;};},61787:function(r,b,a){r.exports=a(95320);},41974:function(r,b,a){var c,l,f;c=a(14445)("%Reflect.construct%",!0);b=a(43950);try{b({},"",{"[[Get]]":function(){}});}catch(k){b=null;}if(b && c){l={};f={};b(f,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(k){try{c(k,f);}catch(d){return d === l;}};}else r.exports=function(k){return "function" === typeof k && !!k.prototype;};},13746:function(r,b,a){var c,l,f;c=a(17642);l=a(62188);f=a(53633);r.exports=function(k){if("undefined" === typeof k)return !1;l(f,"Property Descriptor","Desc",k);return c(k,"[[Value]]") || c(k,"[[Writable]]")?!0:!1;};},14305:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},39619:function(r,b,a){r.exports=a(4559);},40484:function(r,b,a){var c;c=a(29086);r.exports=function(l,f){return l === f?0 === l?1 / l === 1 / f:!0:c(l) && c(f);};},95912:function(r,b,a){var c;c=a(29086);r.exports=function(l,f){return l === f || c(l) && c(f);};},39655:function(r,b,a){var c,l,f,k;b=a(40210);c=b("%Symbol.species%",!0);l=b("%TypeError%");f=a(41974);k=a(53633);r.exports=function(d,g){if("Object" !== k(d))throw new l("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return g;if("Object" !== k(d))throw new l("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return g;if(f(d))return d;throw new l("no constructor found");};},39731:function(r){r.exports=function(b){return !!b;};},751:function(r,b,a){var c,l,f,k,d,g;c=a(54908);l=a(375);f=a(55631);k=a(29086);d=a(22633);g=a(38111);r.exports=function(m){var h;m=f(m);if(k(m) || 0 === m)return 0;if(!d(m))return m;h=l(c(m));return 0 === h?0:g(m) * h;};},88305:function(r,b,a){var c,l;c=a(11645);l=a(751);r.exports=function(f){f=l(f);return 0 >= f?0:f > c?c:f;};},55631:function(r,b,a){var c,l,f,k,d,g,m,h,n,p,q,u,t,w;c=a(40210);l=c("%TypeError%");f=c("%Number%");b=c("%RegExp%");k=c("%parseInt%");c=a(21924);d=a(79246);g=a(64790);m=c("String.prototype.slice");h=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);u=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");w=a(54607);r.exports=function x(y){var z;y=g(y)?y:w(y,f);if("symbol" === typeof y)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(h(y))return x(k(m(y,2),2));if(n(y))return x(k(m(y,2),8));if(q(y) || p(y))return NaN;z=t(y,u,"");if(z !== y)return x(z);}return f(y);};},30821:function(r,b,a){var c,l;c=a(40210)("%Object%");l=a(39619);r.exports=function(f){l(f);return c(f);};},54607:function(r,b,a){var c;c=a(41503);r.exports=function(l){return 1 < arguments.length?c(l,arguments[1]):c(l);};},69916:function(r,b,a){var c,l,f,k,d;c=a(17642);l=a(40210)("%TypeError%");f=a(53633);k=a(39731);d=a(61787);r.exports=function(g){var m,h;if("Object" !== f(g))throw new l("ToPropertyDescriptor requires an object");m={};c(g,"enumerable") && (m["[[Enumerable]]"]=k(g.enumerable));c(g,"configurable") && (m["[[Configurable]]"]=k(g.configurable));c(g,"value") && (m["[[Value]]"]=g.value);c(g,"writable") && (m["[[Writable]]"]=k(g.writable));if(c(g,"get")){h=g.get;if("undefined" !== typeof h && !d(h))throw new l("getter must be a function");m["[[Get]]"]=h;}if(c(g,"set")){g=g.set;if("undefined" !== typeof g && !d(g))throw new l("setter must be a function");m["[[Set]]"]=g;}if((c(m,"[[Get]]") || c(m,"[[Set]]")) && (c(m,"[[Value]]") || c(m,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return m;};},53633:function(r,b,a){var c;c=a(23951);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":c(l);};},54908:function(r,b,a){var c;c=a(40210)("%Math.abs%");r.exports=function(l){return c(l);};},375:function(r,b,a){var c,l;c=a(53633);l=Math.floor;r.exports=function(f){return "BigInt" === c(f)?f:l(f);};},4559:function(r,b,a){var c;c=a(40210)("%TypeError%");r.exports=function(l,f){if(null == l)throw new c(f || "Cannot call method on " + l);return l;};},23951:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},14445:function(r,b,a){r.exports=a(40210);},63682:function(r,b,a){var c,l,f,k,d;b=a(31044);c=a(40210);l=b() && c("%Object.defineProperty%",!0);f=b.EKb();k=f && a(675);d=a(21924)("Object.prototype.propertyIsEnumerable");r.exports=function(g,m,h,n,p,q){if(!l){if(!g(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== !!q["[[Enumerable]]"])return !1;g=q["[[Value]]"];n[p]=g;return m(n[p],g);}if(f && "length" === p && ("[[Value]]" in q) && k(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);l(n,p,h(q));return !0;};},675:function(r,b,a){var c;b=a(40210)("%Array%");c=!b.isArray && a(21924)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === c(l);});},62188:function(r,b,a){var c,l,f,k;b=a(40210);c=b("%TypeError%");l=b("%SyntaxError%");f=a(17642);k={"Property Descriptor":function(d){var g,m;g={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(m in d){if(f(d,m) && !g[m])return !1;}g=f(d,"[[Value]]");d=f(d,"[[Get]]") || f(d,"[[Set]]");if(g && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(64377),"Iterator Record":function(d){return f(d,"[[Iterator]]") && f(d,"[[NextMethod]]") && f(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && f(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && f(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && f(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && f(d,"[[Completion]]") && f(d,"[[Capability]]") && k["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,g,m,h){var n;n=k[g];if("function" !== typeof n)throw new l("unknown record type: " + g);if("Object" !== d(h) || !n(h))throw new c(m + " must be a " + g);};},17141:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},22633:function(r,b,a){var c;c=a(29086);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !c(l) && Infinity !== l && -Infinity !== l;};},64377:function(r,b,a){var c;c=a(17642);r.exports=function(l){return c(l,"[[StartIndex]]") && c(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},29086:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},64790:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},2435:function(r,b,a){var c,l;b=a(40210);c=a(17642);l=b("%TypeError%");r.exports=function(f,k){var d,g;if("Object" !== f.TMa(k))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(g in k){if(c(k,g) && !d[g])return !1;}if(f.ZEa(k) && f.YEa(k))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},11645:function(r,b,a){a=a(40210);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},38111:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};Oa={};(function(){ra.d=function(r,b){for(var a in b){ra.Z5a(b,a) && !ra.Z5a(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});}};})();(function(){ra.s4=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof qb)return qb;}})();})();(function(){ra.Z5a=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){ra.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();ra(28660);ra(26860)();ra(13547)();qb._cad_global={};qb.DEBUG=!1;ra(7942);ra(50876);ra(95919);ra(30818);ra(24133);ra(19591);ra(32660);ra(5845);ra(66052);ra(61831);ra(70633);ra(59883);ra(25892);ra(47545);ra(25420);ra(20916);ra(54615);ra(50995);ra(76813);ra(2108);ra(43038);ra(15789);ra(797);ra(54779);ra(83637);ra(66652);ra(84853);ra(88625);ra(43382);ra(37986);ra(83795);ra(16232);ra(89034);ra(89927);ra(93230);ra(30732);ra(38624);ra(24504);ra(50791);ra(17200);ra(13472);ra(43662);ra(9911);ra(49976);ra(49007);ra(61087);ra(15883);ra(61581);ra(53073);ra(31978);ra(37021);ra(49090);ra(31119);ra(82134);ra(54415);ra(5917);ra(19911);ra(91145);ra(22507);ra(22);ra(16512);ra(58680);ra(22528);ra(94181);ra(45108);ra(89136);ra(75412);ra(90399);ra(40142);ra(38686);ra(86977);ra(37853);ra(89525);ra(6538);ra(25097);})();}).call(qb);})(window);}).call(window);